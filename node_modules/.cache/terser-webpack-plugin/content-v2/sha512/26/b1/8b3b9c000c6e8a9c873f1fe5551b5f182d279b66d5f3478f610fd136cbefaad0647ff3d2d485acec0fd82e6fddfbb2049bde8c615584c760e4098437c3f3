{"code":"(this[\"webpackJsonp@minimal/minimal-kit-react\"]=this[\"webpackJsonp@minimal/minimal-kit-react\"]||[]).push([[5],{1864:function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],l=0,a=i.length;l<a;l++,o++)r[o]=i[l];return r},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},a=l(n(1)),s=l(n(44)),u=l(n(2309)),c=l(n(2310)),f=function(t){function e(e){var n=t.call(this,e)||this;n.dirtyProps=[\"modules\",\"formats\",\"bounds\",\"theme\",\"children\"],n.cleanProps=[\"id\",\"className\",\"style\",\"placeholder\",\"tabIndex\",\"onChange\",\"onChangeSelection\",\"onFocus\",\"onBlur\",\"onKeyPress\",\"onKeyDown\",\"onKeyUp\"],n.state={generation:0},n.selection=null,n.onEditorChange=function(t,e,r,o){var i,l,a,s;\"text-change\"===t?null===(l=(i=n).onEditorChangeText)||void 0===l||l.call(i,n.editor.root.innerHTML,e,o,n.unprivilegedEditor):\"selection-change\"===t&&(null===(s=(a=n).onEditorChangeSelection)||void 0===s||s.call(a,e,o,n.unprivilegedEditor))};var r=n.isControlled()?e.value:e.defaultValue;return n.value=null!==r&&void 0!==r?r:\"\",n}return r(e,t),e.prototype.validateProps=function(t){var e;if(a.default.Children.count(t.children)>1)throw new Error(\"The Quill editing area can only be composed of a single React element.\");if(a.default.Children.count(t.children)&&\"textarea\"===(null===(e=a.default.Children.only(t.children))||void 0===e?void 0:e.type))throw new Error(\"Quill does not support editing on a <textarea>. Use a <div> instead.\");if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error(\"You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas\")},e.prototype.shouldComponentUpdate=function(t,e){var n,r=this;if(this.validateProps(t),!this.editor||this.state.generation!==e.generation)return!0;if(\"value\"in t){var o=this.getEditorContents(),l=null!==(n=t.value)&&void 0!==n?n:\"\";this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),i(this.cleanProps,this.dirtyProps).some((function(e){return!u.default(t[e],r.props[e])}))},e.prototype.shouldComponentRegenerate=function(t){var e=this;return this.dirtyProps.some((function(n){return!u.default(t[n],e.props[n])}))},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(t,e){var n=this;if(this.editor&&this.shouldComponentRegenerate(t)){var r=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==e.generation){var i=this.regenerationSnapshot,l=(r=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var a=this.editor;a.setContents(r),h((function(){return n.setEditorSelection(a,l)}))}},e.prototype.instantiateEditor=function(){this.editor||(this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig()))},e.prototype.destroyEditor=function(){this.editor&&(this.unhookEditor(this.editor),delete this.editor)},e.prototype.isControlled=function(){return\"value\"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error(\"Accessing non-instantiated editor\");return this.editor},e.prototype.createEditor=function(t,e){var n=new c.default(t,e);return null!=e.tabIndex&&this.setEditorTabIndex(n,e.tabIndex),this.hookEditor(n),n},e.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on(\"editor-change\",this.onEditorChange)},e.prototype.unhookEditor=function(t){t.off(\"editor-change\",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(t){return t&&t.ops},e.prototype.isEqualValue=function(t,e){return this.isDelta(t)&&this.isDelta(e)?u.default(t.ops,e.ops):u.default(t,e)},e.prototype.setEditorContents=function(t,e){var n=this;this.value=e;var r=this.getEditorSelection();\"string\"===typeof e?t.setContents(t.clipboard.convert(e)):t.setContents(e),h((function(){return n.setEditorSelection(t,r)}))},e.prototype.setEditorSelection=function(t,e){if(this.selection=e,e){var n=t.getLength();e.index=Math.max(0,Math.min(e.index,n-1)),e.length=Math.max(0,Math.min(e.length,n-1-e.index)),t.setSelection(e)}},e.prototype.setEditorTabIndex=function(t,e){var n,r;(null===(r=null===(n=t)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(t.scroll.domNode.tabIndex=e)},e.prototype.setEditorReadOnly=function(t,e){e?t.disable():t.enable()},e.prototype.makeUnprivilegedEditor=function(t){var e=t;return{getHTML:function(){return e.root.innerHTML},getLength:e.getLength.bind(e),getText:e.getText.bind(e),getContents:e.getContents.bind(e),getSelection:e.getSelection.bind(e),getBounds:e.getBounds.bind(e)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error(\"Instantiating on missing editing area\");var t=s.default.findDOMNode(this.editingArea);if(!t)throw new Error(\"Cannot find element for editing area\");if(3===t.nodeType)throw new Error(\"Editing area cannot be a text node\");return t},e.prototype.renderEditingArea=function(){var t=this,e=this.props,n=e.children,r=e.preserveWhitespace,i={key:this.state.generation,ref:function(e){t.editingArea=e}};return a.default.Children.count(n)?a.default.cloneElement(a.default.Children.only(n),i):r?a.default.createElement(\"pre\",o({},i)):a.default.createElement(\"div\",o({},i))},e.prototype.render=function(){var t;return a.default.createElement(\"div\",{id:this.props.id,style:this.props.style,key:this.state.generation,className:\"quill \"+(t=this.props.className,null!==t&&void 0!==t?t:\"\"),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(t,e,n,r){var o,i;if(this.editor){var l=this.isDelta(this.value)?r.getContents():r.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=e,this.value=l,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,t,e,n,r))}},e.prototype.onEditorChangeSelection=function(t,e,n){var r,o,i,l,a,s;if(this.editor){var c=this.getEditorSelection(),f=!c&&t,h=c&&!t;u.default(t,c)||(this.selection=t,null===(o=(r=this.props).onChangeSelection)||void 0===o||o.call(r,t,e,n),f?null===(l=(i=this.props).onFocus)||void 0===l||l.call(i,t,e,n):h&&(null===(s=(a=this.props).onBlur)||void 0===s||s.call(a,c,e,n)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName=\"React Quill\",e.Quill=c.default,e.defaultProps={theme:\"snow\",modules:{},readOnly:!1},e}(a.default.Component);function h(t){Promise.resolve().then(t)}t.exports=f},2309:function(t,e,n){var r=n(723);t.exports=function(t,e){return r(t,e)}},2310:function(t,e,n){(function(e){var n;\"undefined\"!==typeof self&&self,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=109)}([function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(17),o=n(18),i=n(19),l=n(45),a=n(46),s=n(47),u=n(48),c=n(49),f=n(12),h=n(32),p=n(33),d=n(31),y=n(1),v={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:l.default,Block:s.default,Inline:a.default,Text:c.default,Attributor:{Attribute:f.default,Class:h.default,Style:p.default,Store:d.default}};e.default=v},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=function(t){function e(e){var n=this;return e=\"[Parchment] \"+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return r(e,t),e}(Error);e.ParchmentError=o;var i,l={},a={},s={},u={};function c(t,e){var n;if(void 0===e&&(e=i.ANY),\"string\"===typeof t)n=u[t]||l[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=u.text;else if(\"number\"===typeof t)t&i.LEVEL&i.BLOCK?n=u.block:t&i.LEVEL&i.INLINE&&(n=u.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute(\"class\")||\"\").split(/\\s+/);for(var o in r)if(n=a[r[o]])break;n=n||s[t.tagName]}return null==n?null:e&i.LEVEL&n.scope&&e&i.TYPE&n.scope?n:null}e.DATA_KEY=\"__blot\",function(t){t[t.TYPE=3]=\"TYPE\",t[t.LEVEL=12]=\"LEVEL\",t[t.ATTRIBUTE=13]=\"ATTRIBUTE\",t[t.BLOT=14]=\"BLOT\",t[t.INLINE=7]=\"INLINE\",t[t.BLOCK=11]=\"BLOCK\",t[t.BLOCK_BLOT=10]=\"BLOCK_BLOT\",t[t.INLINE_BLOT=6]=\"INLINE_BLOT\",t[t.BLOCK_ATTRIBUTE=9]=\"BLOCK_ATTRIBUTE\",t[t.INLINE_ATTRIBUTE=5]=\"INLINE_ATTRIBUTE\",t[t.ANY=15]=\"ANY\"}(i=e.Scope||(e.Scope={})),e.create=function(t,e){var n=c(t);if(null==n)throw new o(\"Unable to create \"+t+\" blot\");var r=n,i=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e);return new r(i,e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=c,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var r=e[0];if(\"string\"!==typeof r.blotName&&\"string\"!==typeof r.attrName)throw new o(\"Invalid definition\");if(\"abstract\"===r.blotName)throw new o(\"Cannot register abstract class\");if(u[r.blotName||r.attrName]=r,\"string\"===typeof r.keyName)l[r.keyName]=r;else if(null!=r.className&&(a[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var i=Array.isArray(r.tagName)?r.tagName:[r.tagName];i.forEach((function(t){null!=s[t]&&null!=r.className||(s[t]=r)}))}return r}},function(t,e,n){var r=n(51),o=n(11),i=n(3),l=n(20),a=String.fromCharCode(0),s=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};s.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&\"object\"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},s.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},s.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&\"object\"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},s.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),\"object\"===typeof n){if(\"number\"===typeof t.delete&&\"number\"===typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if(\"number\"===typeof n.delete&&null!=t.insert&&(e-=1,\"object\"!==typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if(\"string\"===typeof t.insert&&\"string\"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},\"object\"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if(\"number\"===typeof t.retain&&\"number\"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},\"object\"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},s.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},s.prototype.filter=function(t){return this.ops.filter(t)},s.prototype.forEach=function(t){this.ops.forEach(t)},s.prototype.map=function(t){return this.ops.map(t)},s.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},s.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},s.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+l.length(e):e.delete?t-e.delete:t}),0)},s.prototype.length=function(){return this.reduce((function(t,e){return t+l.length(e)}),0)},s.prototype.slice=function(t,e){t=t||0,\"number\"!==typeof e&&(e=1/0);for(var n=[],r=l.iterator(this.ops),o=0;o<e&&r.hasNext();){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=l.length(i)}return new s(n)},s.prototype.compose=function(t){var e=l.iterator(this.ops),n=l.iterator(t.ops),r=[],i=n.peek();if(null!=i&&\"number\"===typeof i.retain&&null==i.attributes){for(var a=i.retain;\"insert\"===e.peekType()&&e.peekLength()<=a;)a-=e.peekLength(),r.push(e.next());i.retain-a>0&&n.next(i.retain-a)}for(var u=new s(r);e.hasNext()||n.hasNext();)if(\"insert\"===n.peekType())u.push(n.next());else if(\"delete\"===e.peekType())u.push(e.next());else{var c=Math.min(e.peekLength(),n.peekLength()),f=e.next(c),h=n.next(c);if(\"number\"===typeof h.retain){var p={};\"number\"===typeof f.retain?p.retain=c:p.insert=f.insert;var d=l.attributes.compose(f.attributes,h.attributes,\"number\"===typeof f.retain);if(d&&(p.attributes=d),u.push(p),!n.hasNext()&&o(u.ops[u.ops.length-1],p)){var y=new s(e.rest());return u.concat(y).chop()}}else\"number\"===typeof h.delete&&\"number\"===typeof f.retain&&u.push(h)}return u.chop()},s.prototype.concat=function(t){var e=new s(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},s.prototype.diff=function(t,e){if(this.ops===t.ops)return new s;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return\"string\"===typeof n.insert?n.insert:a;throw new Error(\"diff() called \"+(e===t?\"on\":\"with\")+\" non-document\")})).join(\"\")})),i=new s,u=r(n[0],n[1],e),c=l.iterator(this.ops),f=l.iterator(t.ops);return u.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),e);var a=c.next(n),s=f.next(n);o(a.insert,s.insert)?i.retain(n,l.attributes.diff(a.attributes,s.attributes)):i.push(s).delete(n)}e-=n}})),i.chop()},s.prototype.eachLine=function(t,e){e=e||\"\\n\";for(var n=l.iterator(this.ops),r=new s,o=0;n.hasNext();){if(\"insert\"!==n.peekType())return;var i=n.peek(),a=l.length(i)-n.peekLength(),u=\"string\"===typeof i.insert?i.insert.indexOf(e,a)-a:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new s}}r.length()>0&&t(r,{},o)},s.prototype.transform=function(t,e){if(e=!!e,\"number\"===typeof t)return this.transformPosition(t,e);for(var n=l.iterator(this.ops),r=l.iterator(t.ops),o=new s;n.hasNext()||r.hasNext();)if(\"insert\"!==n.peekType()||!e&&\"insert\"===r.peekType())if(\"insert\"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),a=n.next(i),u=r.next(i);if(a.delete)continue;u.delete?o.push(u):o.retain(i,l.attributes.transform(a.attributes,u.attributes,e))}else o.retain(l.length(n.next()));return o.chop()},s.prototype.transformPosition=function(t,e){e=!!e;for(var n=l.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),\"delete\"!==i?(\"insert\"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t},t.exports=s},function(t,e){\"use strict\";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=function(t){return\"function\"===typeof Array.isArray?Array.isArray(t):\"[object Array]\"===r.call(t)},a=function(t){if(!t||\"[object Object]\"!==r.call(t))return!1;var e,o=n.call(t,\"constructor\"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,\"isPrototypeOf\");if(t.constructor&&!o&&!i)return!1;for(e in t);return\"undefined\"===typeof e||n.call(t,e)},s=function(t,e){o&&\"__proto__\"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if(\"__proto__\"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,c,f=arguments[0],h=1,p=arguments.length,d=!1;for(\"boolean\"===typeof f&&(d=f,f=arguments[1]||{},h=2),(null==f||\"object\"!==typeof f&&\"function\"!==typeof f)&&(f={});h<p;++h)if(null!=(e=arguments[h]))for(n in e)r=u(f,n),f!==(o=u(e,n))&&(d&&o&&(a(o)||(i=l(o)))?(i?(i=!1,c=r&&l(r)?r:[]):c=r&&a(r)?r:{},s(f,{name:n,newValue:t(d,c,o)})):\"undefined\"!==typeof o&&s(f,{name:n,newValue:o}));return f}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=f(n(3)),l=f(n(2)),a=f(n(0)),s=f(n(16)),u=f(n(6)),c=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function p(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function d(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),r(e,[{key:\"attach\",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"attach\",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:\"delta\",value:function(){return(new l.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:\"format\",value:function(t,e){var n=a.default.query(t,a.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:\"formatAt\",value:function(t,e,n,r){this.format(n,r)}},{key:\"insertAt\",value:function(t,n,r){if(\"string\"===typeof n&&n.endsWith(\"\\n\")){var i=a.default.create(v.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertAt\",this).call(this,t,n,r)}}]),e}(a.default.Embed);y.scope=a.default.Scope.BLOCK_BLOT;var v=function(t){function e(t){h(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return d(e,t),r(e,[{key:\"delta\",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),b(e))}),new l.default).insert(\"\\n\",b(this))),this.cache.delta}},{key:\"deleteAt\",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"deleteAt\",this).call(this,t,n),this.cache={}}},{key:\"formatAt\",value:function(t,n,r,i){n<=0||(a.default.query(r,a.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,i):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"formatAt\",this).call(this,t,Math.min(n,this.length()-t-1),r,i),this.cache={})}},{key:\"insertAt\",value:function(t,n,r){if(null!=r)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertAt\",this).call(this,t,n,r);if(0!==n.length){var i=n.split(\"\\n\"),l=i.shift();l.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertAt\",this).call(this,Math.min(t,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});var a=this;i.reduce((function(t,e){return(a=a.split(t,!0)).insertAt(0,e),e.length}),t+l.length)}}},{key:\"insertBefore\",value:function(t,n){var r=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertBefore\",this).call(this,t,n),r instanceof s.default&&r.remove(),this.cache={}}},{key:\"length\",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"length\",this).call(this)+1),this.cache.length}},{key:\"moveChildren\",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"moveChildren\",this).call(this,t,n),this.cache={}}},{key:\"optimize\",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"optimize\",this).call(this,t),this.cache={}}},{key:\"path\",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"path\",this).call(this,t,!0)}},{key:\"removeChild\",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"removeChild\",this).call(this,t),this.cache={}}},{key:\"split\",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"split\",this).call(this,t,n);return this.cache={},i}}]),e}(a.default.Block);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:(\"function\"===typeof t.formats&&(e=(0,i.default)(e,t.formats())),null==t.parent||\"scroll\"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:b(t.parent,e))}v.blotName=\"block\",v.tagName=\"P\",v.defaultChild=\"break\",v.allowedChildren=[u.default,a.default.Embed,c.default],e.bubbleFormats=b,e.BlockEmbed=y,e.default=v},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var l=v(n(2)),a=v(n(14)),s=v(n(8)),u=v(n(9)),c=v(n(0)),f=n(15),h=v(f),p=v(n(3)),d=v(n(10)),y=v(n(34));function v(t){return t&&t.__esModule?t:{default:t}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var m=(0,d.default)(\"quill\"),_=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(this,t),this.options=O(e,r),this.container=this.options.container,null==this.container)return m.error(\"Invalid Quill container\",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add(\"ql-container\"),this.container.innerHTML=\"\",this.container.__quill=this,this.root=this.addContainer(\"ql-editor\"),this.root.classList.add(\"ql-blank\"),this.root.setAttribute(\"data-gramm\",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule(\"keyboard\"),this.clipboard=this.theme.addModule(\"clipboard\"),this.history=this.theme.addModule(\"history\"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(t){t===s.default.events.TEXT_CHANGE&&n.root.classList.toggle(\"ql-blank\",n.editor.isBlank())})),this.emitter.on(s.default.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;w.call(n,(function(){return n.editor.update(null,e,o)}),t)}));var i=this.clipboard.convert(\"<div class='ql-editor' style=\\\"white-space: normal;\\\">\"+o+\"<p><br></p></div>\");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute(\"data-placeholder\",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:\"debug\",value:function(t){!0===t&&(t=\"log\"),d.default.level(t)}},{key:\"find\",value:function(t){return t.__quill||c.default.find(t)}},{key:\"import\",value:function(t){return null==this.imports[t]&&m.error(\"Cannot import \"+t+\". Are you sure it was registered?\"),this.imports[t]}},{key:\"register\",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(\"string\"!==typeof t){var o=t.attrName||t.blotName;\"string\"===typeof o?this.register(\"formats/\"+o,t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||m.warn(\"Overwriting \"+t+\" with\",e),this.imports[t]=e,(t.startsWith(\"blots/\")||t.startsWith(\"formats/\"))&&\"abstract\"!==e.blotName?c.default.register(e):t.startsWith(\"modules\")&&\"function\"===typeof e.register&&e.register()}}]),i(t,[{key:\"addContainer\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(\"string\"===typeof t){var n=t;(t=document.createElement(\"div\")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:\"blur\",value:function(){this.selection.setRange(null)}},{key:\"deleteText\",value:function(t,e,n){var r=this,i=x(t,e,n),l=o(i,4);return t=l[0],e=l[1],n=l[3],w.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:\"disable\",value:function(){this.enable(!1)}},{key:\"enable\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle(\"ql-disabled\",!t)}},{key:\"focus\",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:\"format\",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;return w.call(this,(function(){var r=n.getSelection(!0),o=new l.default;if(null==r)return o;if(c.default.query(t,c.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,b({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,b({},t,e))}return n.setSelection(r,s.default.sources.SILENT),o}),r)}},{key:\"formatLine\",value:function(t,e,n,r,i){var l,a=this,s=x(t,e,n,r,i),u=o(s,4);return t=u[0],e=u[1],l=u[2],i=u[3],w.call(this,(function(){return a.editor.formatLine(t,e,l)}),i,t,0)}},{key:\"formatText\",value:function(t,e,n,r,i){var l,a=this,s=x(t,e,n,r,i),u=o(s,4);return t=u[0],e=u[1],l=u[2],i=u[3],w.call(this,(function(){return a.editor.formatText(t,e,l)}),i,t,0)}},{key:\"getBounds\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n=\"number\"===typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:\"getContents\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:\"getFormat\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return\"number\"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:\"getIndex\",value:function(t){return t.offset(this.scroll)}},{key:\"getLength\",value:function(){return this.scroll.length()}},{key:\"getLeaf\",value:function(t){return this.scroll.leaf(t)}},{key:\"getLine\",value:function(t){return this.scroll.line(t)}},{key:\"getLines\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return\"number\"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:\"getModule\",value:function(t){return this.theme.modules[t]}},{key:\"getSelection\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:\"getText\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=x(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:\"hasFocus\",value:function(){return this.selection.hasFocus()}},{key:\"insertEmbed\",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return w.call(this,(function(){return o.editor.insertEmbed(e,n,r)}),i,e)}},{key:\"insertText\",value:function(t,e,n,r,i){var l,a=this,s=x(t,0,n,r,i),u=o(s,4);return t=u[0],l=u[2],i=u[3],w.call(this,(function(){return a.editor.insertText(t,e,l)}),i,t,e.length)}},{key:\"isEnabled\",value:function(){return!this.container.classList.contains(\"ql-disabled\")}},{key:\"off\",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:\"on\",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:\"once\",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:\"pasteHTML\",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:\"removeFormat\",value:function(t,e,n){var r=this,i=x(t,e,n),l=o(i,4);return t=l[0],e=l[1],n=l[3],w.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:\"scrollIntoView\",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:\"setContents\",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return w.call(this,(function(){t=new l.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];return null!=i&&\"string\"===typeof i.insert&&\"\\n\"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),r.compose(o)}),n)}},{key:\"setSelection\",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=x(e,n,r),l=o(i,4);e=l[0],n=l[1],r=l[3],this.selection.setRange(new f.Range(e,n),r),r!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:\"setText\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,n=(new l.default).insert(t);return this.setContents(n,e)}},{key:\"update\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:\"updateContents\",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return w.call(this,(function(){return t=new l.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function O(t,e){if((e=(0,p.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==_.DEFAULTS.theme){if(e.theme=_.import(\"themes/\"+e.theme),null==e.theme)throw new Error(\"Invalid theme \"+e.theme+\". Did you register it?\")}else e.theme=y.default;var n=(0,p.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=_.import(\"modules/\"+e);return null==n?m.error(\"Cannot load \"+e+\" module. Are you sure you registered it?\"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,p.default)(!0,{},_.DEFAULTS,{modules:r},n,e),[\"bounds\",\"container\",\"scrollingContainer\"].forEach((function(t){\"string\"===typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function w(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===s.default.sources.USER)return new l.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,a=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=E(o,a,e):0!==r&&(o=E(o,n,r,e)),this.setSelection(o,s.default.sources.SILENT)),a.length()>0){var u,c,f=[s.default.events.TEXT_CHANGE,a,i,e];(u=this.emitter).emit.apply(u,[s.default.events.EDITOR_CHANGE].concat(f)),e!==s.default.sources.SILENT&&(c=this.emitter).emit.apply(c,f)}return a}function x(t,e,n,o,i){var l={};return\"number\"===typeof t.index&&\"number\"===typeof t.length?\"number\"!==typeof e?(i=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):\"number\"!==typeof e&&(i=o,o=n,n=e,e=0),\"object\"===(\"undefined\"===typeof n?\"undefined\":r(n))?(l=n,i=o):\"string\"===typeof n&&(null!=o?l[n]=o:i=n),[t,e,l,i=i||s.default.sources.API]}function E(t,e,n,r){if(null==t)return null;var i=void 0,a=void 0;if(e instanceof l.default){var u=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==s.default.sources.USER)})),c=o(u,2);i=c[0],a=c[1]}else{var h=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===s.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),p=o(h,2);i=p[0],a=p[1]}return new f.Range(i,a-i)}_.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:\"\",readOnly:!1,scrollingContainer:null,strict:!0,theme:\"default\"},_.events=s.default.events,_.sources=s.default.sources,_.version=\"1.3.7\",_.imports={delta:l.default,parchment:c.default,\"core/module\":u.default,\"core/theme\":y.default},e.expandConfig=O,e.overload=x,e.default=_},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=a(n(7)),l=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var c=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"formatAt\",value:function(t,n,r,i){if(e.compare(this.statics.blotName,r)<0&&l.default.query(r,l.default.Scope.BLOT)){var a=this.isolate(t,n);i&&a.wrap(r,i)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"formatAt\",this).call(this,t,n,r,i)}},{key:\"optimize\",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"optimize\",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:\"compare\",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}(l.default.Inline);c.allowedChildren=[c,l.default.Embed,i.default],c.order=[\"cursor\",\"inline\",\"underline\",\"strike\",\"italic\",\"bold\",\"script\",\"link\",\"code\"],e.default=c},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var a=function(t){function e(){return i(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default.Text);e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=l(n(54));function l(t){return t&&t.__esModule?t:{default:t}}var a=(0,l(n(10)).default)(\"quill:events\");[\"selectionchange\",\"mousedown\",\"mouseup\",\"click\"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(\".ql-container\")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on(\"error\",a.error),t}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"emit\",value:function(){a.log.apply(a,arguments),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"emit\",this).apply(this,arguments)}},{key:\"handleDOM\",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:\"listenDOM\",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(i.default);s.events={EDITOR_CHANGE:\"editor-change\",SCROLL_BEFORE_UPDATE:\"scroll-before-update\",SCROLL_OPTIMIZE:\"scroll-optimize\",SCROLL_UPDATE:\"scroll-update\",SELECTION_CHANGE:\"selection-change\",TEXT_CHANGE:\"text-change\"},s.sources={API:\"api\",SILENT:\"silent\",USER:\"user\"},e.default=s},function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.quill=e,this.options=n};o.DEFAULTS={},e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=[\"error\",\"warn\",\"log\",\"info\"],o=\"warn\";function i(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];(e=console)[t].apply(e,i)}}function l(t){return r.reduce((function(e,n){return e[n]=i.bind(console,n,t),e}),{})}i.level=l.level=function(t){o=t},e.default=l},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),l=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||\"object\"!=typeof t&&\"object\"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,c;if(a(t)||a(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),l(t,e,n));if(s(t)){if(!s(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var f=o(t),h=o(e)}catch(p){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),u=f.length-1;u>=0;u--)if(f[u]!=h[u])return!1;for(u=f.length-1;u>=0;u--)if(c=f[u],!l(t[c],e[c],n))return!1;return typeof t===typeof e}(t,e,n))};function a(t){return null===t||void 0===t}function s(t){return!(!t||\"object\"!==typeof t||\"number\"!==typeof t.length)&&\"function\"===typeof t.copy&&\"function\"===typeof t.slice&&!(t.length>0&&\"number\"!==typeof t[0])}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||(\"string\"===typeof e?this.whitelist.indexOf(e.replace(/[\"']/g,\"\"))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:\"\"},t}();e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.Code=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=f(n(2)),a=f(n(0)),s=f(n(4)),u=f(n(6)),c=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function p(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function d(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),e}(u.default);y.blotName=\"code\",y.tagName=\"CODE\";var v=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),o(e,[{key:\"delta\",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith(\"\\n\")&&(e=e.slice(0,-1)),e.split(\"\\n\").reduce((function(e,n){return e.insert(n).insert(\"\\n\",t.formats())}),new l.default)}},{key:\"format\",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(c.default,this.length()-1),l=r(o,1)[0];null!=l&&l.deleteAt(l.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"format\",this).call(this,t,n)}}},{key:\"formatAt\",value:function(t,n,r,o){if(0!==n&&null!=a.default.query(r,a.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var l=this.newlineIndex(t,!0)+1,s=i-l+1,u=this.isolate(l,s),c=u.next;u.format(r,o),c instanceof e&&c.formatAt(0,t-l+n-s,r,o)}}}},{key:\"insertAt\",value:function(t,e,n){if(null==n){var o=this.descendant(c.default,t),i=r(o,2),l=i[0],a=i[1];l.insertAt(a,e)}}},{key:\"length\",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith(\"\\n\")?t:t+1}},{key:\"newlineIndex\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf(\"\\n\");var n=this.domNode.textContent.slice(t).indexOf(\"\\n\");return n>-1?t+n:-1}},{key:\"optimize\",value:function(t){this.domNode.textContent.endsWith(\"\\n\")||this.appendChild(a.default.create(\"text\",\"\\n\")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"optimize\",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:\"replace\",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"replace\",this).call(this,t),[].slice.call(this.domNode.querySelectorAll(\"*\")).forEach((function(t){var e=a.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof a.default.Embed?e.remove():e.unwrap()}))}}],[{key:\"create\",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,t);return n.setAttribute(\"spellcheck\",!1),n}},{key:\"formats\",value:function(){return!0}}]),e}(s.default);v.blotName=\"code-block\",v.tagName=\"PRE\",v.TAB=\"  \",e.Code=y,e.default=v},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=b(n(2)),a=b(n(20)),s=b(n(0)),u=b(n(13)),c=b(n(24)),f=n(4),h=b(f),p=b(n(16)),d=b(n(21)),y=b(n(11)),v=b(n(3));function b(t){return t&&t.__esModule?t:{default:t}}var g=/^[ -~]*$/,m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:\"applyDelta\",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,d.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,d.default)(e)).attributes.list?e.attributes.list=\"ordered\":(e.attributes.list=\"bullet\",delete e.attributes.bullet)),\"string\"===typeof e.insert){var r=e.insert.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");return t.insert(r,e.attributes)}return t.push(e)}),new l.default)}(t)).reduce((function(t,l){var u=l.retain||l.delete||l.insert.length||1,c=l.attributes||{};if(null!=l.insert){if(\"string\"===typeof l.insert){var p=l.insert;p.endsWith(\"\\n\")&&n&&(n=!1,p=p.slice(0,-1)),t>=i&&!p.endsWith(\"\\n\")&&(n=!0),e.scroll.insertAt(t,p);var d=e.scroll.line(t),y=o(d,2),b=y[0],g=y[1],m=(0,v.default)({},(0,f.bubbleFormats)(b));if(b instanceof h.default){var _=b.descendant(s.default.Leaf,g),O=o(_,1)[0];m=(0,v.default)(m,(0,f.bubbleFormats)(O))}c=a.default.attributes.diff(m,c)||{}}else if(\"object\"===r(l.insert)){var w=Object.keys(l.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,l.insert[w])}i+=u}return Object.keys(c).forEach((function(n){e.scroll.formatAt(t,u,n,c[n])})),t+u}),0),t.reduce((function(t,n){return\"number\"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:\"deleteText\",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new l.default).retain(t).delete(e))}},{key:\"formatLine\",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),l=e;i.forEach((function(e){var i=e.length();if(e instanceof u.default){var a=t-e.offset(n.scroll),s=e.newlineIndex(a+l)-a+1;e.formatAt(a,s,o,r[o])}else e.format(o,r[o]);l-=i}))}})),this.scroll.optimize(),this.update((new l.default).retain(t).retain(e,(0,d.default)(r)))}},{key:\"formatText\",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e,o,r[o])})),this.update((new l.default).retain(t).retain(e,(0,d.default)(r)))}},{key:\"getContents\",value:function(t,e){return this.delta.slice(t,t+e)}},{key:\"getDelta\",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new l.default)}},{key:\"getFormat\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=o(t,1)[0];e instanceof h.default?n.push(e):e instanceof s.default.Leaf&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(s.default.Leaf,t,e));var i=[n,r].map((function(t){if(0===t.length)return{};for(var e=(0,f.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,f.bubbleFormats)(n),e)}return e}));return v.default.apply(v.default,i)}},{key:\"getText\",value:function(t,e){return this.getContents(t,e).filter((function(t){return\"string\"===typeof t.insert})).map((function(t){return t.insert})).join(\"\")}},{key:\"insertEmbed\",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new l.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:\"insertText\",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e.length,o,r[o])})),this.update((new l.default).retain(t).insert(e,(0,d.default)(r)))}},{key:\"isBlank\",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===h.default.blotName&&!(t.children.length>1)&&t.children.head instanceof p.default}},{key:\"removeFormat\",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),i=o(r,2),a=i[0],s=i[1],c=0,f=new l.default;null!=a&&(c=a instanceof u.default?a.newlineIndex(s)-s+1:a.length()-s,f=a.delta().slice(s,s+c-1).insert(\"\\n\"));var h=this.getContents(t,e+c).diff((new l.default).insert(n).concat(f)),p=(new l.default).retain(t).concat(h);return this.applyDelta(p)}},{key:\"update\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&\"characterData\"===e[0].type&&e[0].target.data.match(g)&&s.default.find(e[0].target)){var o=s.default.find(e[0].target),i=(0,f.bubbleFormats)(o),a=o.offset(this.scroll),u=e[0].oldValue.replace(c.default.CONTENTS,\"\"),h=(new l.default).insert(u),p=(new l.default).insert(o.value()),d=(new l.default).retain(a).concat(h.diff(p,n));t=d.reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new l.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,y.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.Range=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(0)),l=u(n(21)),a=u(n(11)),s=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var h=(0,u(n(10)).default)(\"quill:selection\"),p=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.index=e,this.length=n},d=function(){function t(e,n){var r=this;f(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create(\"cursor\",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM(\"selectionchange\",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,s.default.sources.USER),1)})),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(t,e){t===s.default.events.TEXT_CHANGE&&e.length()>0&&r.update(s.default.sources.SILENT)})),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(s.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}}))}})),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,l=n.endNode,a=n.endOffset;r.setNativeRange(o,i,l,a)}})),this.update(s.default.sources.SILENT)}return o(t,[{key:\"handleComposition\",value:function(){var t=this;this.root.addEventListener(\"compositionstart\",(function(){t.composing=!0})),this.root.addEventListener(\"compositionend\",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:\"handleDragging\",value:function(){var t=this;this.emitter.listenDOM(\"mousedown\",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM(\"mouseup\",document.body,(function(){t.mouseDown=!1,t.update(s.default.sources.USER)}))}},{key:\"focus\",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:\"format\",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(t,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:\"getBounds\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,i=this.scroll.leaf(t),l=r(i,2),a=l[0],s=l[1];if(null==a)return null;var u=a.position(s,!0),c=r(u,2);o=c[0],s=c[1];var f=document.createRange();if(e>0){f.setStart(o,s);var h=this.scroll.leaf(t+e),p=r(h,2);if(a=p[0],s=p[1],null==a)return null;var d=a.position(s,!0),y=r(d,2);return o=y[0],s=y[1],f.setEnd(o,s),f.getBoundingClientRect()}var v=\"left\",b=void 0;return o instanceof Text?(s<o.data.length?(f.setStart(o,s),f.setEnd(o,s+1)):(f.setStart(o,s-1),f.setEnd(o,s),v=\"right\"),b=f.getBoundingClientRect()):(b=a.domNode.getBoundingClientRect(),s>0&&(v=\"right\")),{bottom:b.top+b.height,height:b.height,left:b[v],right:b[v],top:b.top,width:0}}},{key:\"getNativeRange\",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return h.info(\"getNativeRange\",n),n}},{key:\"getRange\",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:\"hasFocus\",value:function(){return document.activeElement===this.root}},{key:\"normalizedToRange\",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map((function(t){var n=r(t,2),o=n[0],l=n[1],a=i.default.find(o,!0),s=a.offset(e.scroll);return 0===l?s:a instanceof i.default.Container?s+a.length():s+a.index(o,l)})),l=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),a=Math.min.apply(Math,[l].concat(c(o)));return new p(a,l-a)}},{key:\"normalizeNative\",value:function(t){if(!y(this.root,t.startContainer)||!t.collapsed&&!y(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:\"rangeToNative\",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var l,a=e.scroll.leaf(t),s=r(a,2),u=s[0],c=s[1],f=u.position(c,0!==n),h=r(f,2);l=h[0],c=h[1],o.push(l,c)})),o.length<2&&(o=o.concat(o)),o}},{key:\"scrollIntoView\",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,o)),l=r(i,1)[0],a=l;if(e.length>0){var s=this.scroll.line(Math.min(e.index+e.length,o));a=r(s,1)[0]}if(null!=l&&null!=a){var u=t.getBoundingClientRect();n.top<u.top?t.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(t.scrollTop+=n.bottom-u.bottom)}}}}},{key:\"setNativeRange\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info(\"setNativeRange\",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var l=(this.getNativeRange()||{}).native;if(null==l||o||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||r!==l.endOffset){\"BR\"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),\"BR\"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,r),i.removeAllRanges(),i.addRange(a)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:\"setRange\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if(\"string\"===typeof e&&(n=e,e=!1),h.info(\"setRange\",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,c(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:\"update\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,e=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(e,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var f,h=[s.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(e),t];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(h)),t!==s.default.sources.SILENT&&(f=this.emitter).emit.apply(f,h)}}}]),t}();function y(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=p,e.default=d},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(0);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"insertInto\",value:function(t,n){0===t.children.length?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertInto\",this).call(this,t,n):this.remove()}},{key:\"length\",value:function(){return 0}},{key:\"value\",value:function(){return\"\"}}],[{key:\"value\",value:function(){}}]),e}(((r=l)&&r.__esModule?r:{default:r}).default.Embed);u.blotName=\"break\",u.tagName=\"BR\",e.default=u},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(44),i=n(30),l=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=s(e);t.insertBefore(n,t.children.head||void 0)}catch(r){if(r instanceof l.ParchmentError)return;throw r}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,(function(n,r,l){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=l})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var a=null==n?l.create(\"text\",e):l.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new l.ParchmentError(\"Cannot insert \"+t.statics.blotName+\" into \"+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=l.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],l=[[this,t]];return o instanceof e?l.concat(o.path(i,n)):(null!=o&&l.push([o,i]),l)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,o){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],o=[];t.forEach((function(t){t.target===n.domNode&&\"childList\"===t.type&&(r.push.apply(r,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&\"IFRAME\"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=l.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=l.find(t.nextSibling));var r=s(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(i.default);function s(t){var e=l.find(t);if(null==e)try{e=l.create(t)}catch(n){e=l.create(l.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=a},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(12),i=n(31),l=n(17),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new i.default(n.domNode),n}return r(e,t),e.formats=function(t){return\"string\"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=a.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&\"attributes\"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(l.default);e.default=s},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(30),i=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=i.Scope.INLINE_BLOT,e}(o.default);e.default=l},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(t,e,n){\"object\"!==typeof t&&(t={}),\"object\"!==typeof e&&(e={});var r=o(!0,{},e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){\"object\"!==typeof t&&(t={}),\"object\"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,o){return r(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if(\"object\"!==typeof t)return e;if(\"object\"===typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new l(t)},length:function(t){return\"number\"===typeof t.delete?t.delete:\"number\"===typeof t.retain?t.retain:\"string\"===typeof t.insert?t.insert.length:1}};function l(t){this.ops=t,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,\"number\"===typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),\"number\"===typeof e.retain?o.retain=t:\"string\"===typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?\"number\"===typeof this.ops[this.index].delete?\"delete\":\"number\"===typeof this.ops[this.index].retain?\"retain\":\"insert\":\"retain\"},l.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=i},function(t,n){var r=function(){\"use strict\";function t(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(s){n=function(){}}try{r=Set}catch(s){r=function(){}}try{o=Promise}catch(s){o=function(){}}function i(l,s,u,c,f){\"object\"===typeof s&&(u=s.depth,c=s.prototype,f=s.includeNonEnumerable,s=s.circular);var h=[],p=[],d=\"undefined\"!=typeof e;return\"undefined\"==typeof s&&(s=!0),\"undefined\"==typeof u&&(u=1/0),function l(u,y){if(null===u)return null;if(0===y)return u;var v,b;if(\"object\"!=typeof u)return u;if(t(u,n))v=new n;else if(t(u,r))v=new r;else if(t(u,o))v=new o((function(t,e){u.then((function(e){t(l(e,y-1))}),(function(t){e(l(t,y-1))}))}));else if(i.__isArray(u))v=[];else if(i.__isRegExp(u))v=new RegExp(u.source,a(u)),u.lastIndex&&(v.lastIndex=u.lastIndex);else if(i.__isDate(u))v=new Date(u.getTime());else{if(d&&e.isBuffer(u))return v=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(v),v;t(u,Error)?v=Object.create(u):\"undefined\"==typeof c?(b=Object.getPrototypeOf(u),v=Object.create(b)):(v=Object.create(c),b=c)}if(s){var g=h.indexOf(u);if(-1!=g)return p[g];h.push(u),p.push(v)}for(var m in t(u,n)&&u.forEach((function(t,e){var n=l(e,y-1),r=l(t,y-1);v.set(n,r)})),t(u,r)&&u.forEach((function(t){var e=l(t,y-1);v.add(e)})),u){var _;b&&(_=Object.getOwnPropertyDescriptor(b,m)),_&&null==_.set||(v[m]=l(u[m],y-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(u);for(m=0;m<O.length;m++){var w=O[m];(!(E=Object.getOwnPropertyDescriptor(u,w))||E.enumerable||f)&&(v[w]=l(u[w],y-1),E.enumerable||Object.defineProperty(v,w,{enumerable:!1}))}}if(f){var x=Object.getOwnPropertyNames(u);for(m=0;m<x.length;m++){var E,k=x[m];(E=Object.getOwnPropertyDescriptor(u,k))&&E.enumerable||(v[k]=l(u[k],y-1),Object.defineProperty(v,k,{enumerable:!1}))}}return v}(l,u)}function l(t){return Object.prototype.toString.call(t)}function a(t){var e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=l,i.__isDate=function(t){return\"object\"===typeof t&&\"[object Date]\"===l(t)},i.__isArray=function(t){return\"object\"===typeof t&&\"[object Array]\"===l(t)},i.__isRegExp=function(t){return\"object\"===typeof t&&\"[object RegExp]\"===l(t)},i.__getRegExpFlags=a,i}();\"object\"===typeof t&&t.exports&&(t.exports=r)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=p(n(0)),a=p(n(8)),s=n(4),u=p(s),c=p(n(16)),f=p(n(13)),h=p(n(25));function p(t){return t&&t.__esModule?t:{default:t}}function d(t){return t instanceof u.default||t instanceof s.BlockEmbed}var y=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),r.domNode.addEventListener(\"DOMNodeInserted\",(function(){})),r.optimize(),r.enable(),r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"batchStart\",value:function(){this.batch=!0}},{key:\"batchEnd\",value:function(){this.batch=!1,this.optimize()}},{key:\"deleteAt\",value:function(t,n){var o=this.line(t),l=r(o,2),a=l[0],u=l[1],h=this.line(t+n),p=r(h,1)[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"deleteAt\",this).call(this,t,n),null!=p&&a!==p&&u>0){if(a instanceof s.BlockEmbed||p instanceof s.BlockEmbed)return void this.optimize();if(a instanceof f.default){var d=a.newlineIndex(a.length(),!0);if(d>-1&&(a=a.split(d+1))===p)return void this.optimize()}else if(p instanceof f.default){var y=p.newlineIndex(0);y>-1&&p.split(y+1)}var v=p.children.head instanceof c.default?null:p.children.head;a.moveChildren(p,v),a.remove()}this.optimize()}},{key:\"enable\",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute(\"contenteditable\",t)}},{key:\"formatAt\",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"formatAt\",this).call(this,t,n,r,o),this.optimize())}},{key:\"insertAt\",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==l.default.query(n,l.default.Scope.BLOCK)){var o=l.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith(\"\\n\")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var a=l.default.create(n,r);this.appendChild(a)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertAt\",this).call(this,t,n,r);this.optimize()}}},{key:\"insertBefore\",value:function(t,n){if(t.statics.scope===l.default.Scope.INLINE_BLOT){var r=l.default.create(this.statics.defaultChild);r.appendChild(t),t=r}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertBefore\",this).call(this,t,n)}},{key:\"leaf\",value:function(t){return this.path(t).pop()||[null,-1]}},{key:\"line\",value:function(t){return t===this.length()?this.line(t-1):this.descendant(d,t)}},{key:\"lines\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,(function(e,n,r){d(e)?o.push(e):e instanceof l.default.Container&&(o=o.concat(t(e,n,i))),i-=r})),o};return n(this,t,e)}},{key:\"optimize\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"optimize\",this).call(this,t,n),t.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,t,n))}},{key:\"path\",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"path\",this).call(this,t).slice(1)}},{key:\"update\",value:function(t){if(!0!==this.batch){var n=a.default.sources.USER;\"string\"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"update\",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,n,t)}}}]),e}(l.default.Scroll);y.blotName=\"scroll\",y.className=\"ql-editor\",y.tagName=\"DIV\",y.defaultChild=\"block\",y.allowedChildren=[u.default,s.BlockEmbed,h.default],e.default=y},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SHORTKEY=e.default=void 0;var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=y(n(21)),a=y(n(11)),s=y(n(3)),u=y(n(2)),c=y(n(20)),f=y(n(0)),h=y(n(5)),p=y(n(10)),d=y(n(9));function y(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=(0,p.default)(\"quill:keyboard\"),g=/Mac/i.test(navigator.platform)?\"metaKey\":\"ctrlKey\",m=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(e){(\"list autofill\"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:e.keys.ENTER,shiftKey:null},E),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},O),r.addBinding({key:e.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},O),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},x),r.addBinding({key:e.keys.DELETE},{collapsed:!1},x),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},O),r.listen(),r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:\"match\",value:function(t,e){return e=A(e),![\"altKey\",\"ctrlKey\",\"metaKey\",\"shiftKey\"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:\"addBinding\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=A(t);if(null==r||null==r.key)return b.warn(\"Attempted to add invalid keyboard binding\",r);\"function\"===typeof e&&(e={handler:e}),\"function\"===typeof n&&(n={handler:n}),r=(0,s.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:\"listen\",value:function(){var t=this;this.quill.root.addEventListener(\"keydown\",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,l=(t.bindings[i]||[]).filter((function(t){return e.match(n,t)}));if(0!==l.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var u=t.quill.getLine(s.index),c=o(u,2),h=c[0],p=c[1],d=t.quill.getLeaf(s.index),y=o(d,2),v=y[0],b=y[1],g=0===s.length?[v,b]:t.quill.getLeaf(s.index+s.length),m=o(g,2),_=m[0],O=m[1],w=v instanceof f.default.Text?v.value().slice(0,b):\"\",x=_ instanceof f.default.Text?_.value().slice(O):\"\",E={collapsed:0===s.length,empty:0===s.length&&h.length()<=1,format:t.quill.getFormat(s),offset:p,prefix:w,suffix:x};l.some((function(e){if(null!=e.collapsed&&e.collapsed!==E.collapsed)return!1;if(null!=e.empty&&e.empty!==E.empty)return!1;if(null!=e.offset&&e.offset!==E.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==E.format[t]})))return!1}else if(\"object\"===r(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=E.format[t]:!1===e.format[t]?null==E.format[t]:(0,a.default)(e.format[t],E.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(E.prefix))&&!(null!=e.suffix&&!e.suffix.test(E.suffix))&&!0!==e.handler.call(t,s,E)}))&&n.preventDefault()}}}}))}}]),e}(d.default);function _(t,e){var n,r=t===m.keys.LEFT?\"prefix\":\"suffix\";return v(n={key:t,shiftKey:e,altKey:null},r,/^$/),v(n,\"handler\",(function(n){var r=n.index;t===m.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof f.default.Embed)||(t===m.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),!1)})),n}function O(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=o(n,1)[0],i={};if(0===e.offset){var l=this.quill.getLine(t.index-1),a=o(l,1)[0];if(null!=a&&a.length()>1){var s=r.formats(),u=this.quill.getFormat(t.index-1,1);i=c.default.attributes.diff(s,u)||{}}}var f=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-f,f,i,h.default.sources.USER),this.quill.focus()}}function w(t,e){var n=/^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,l=this.quill.getLine(t.index),a=o(l,1)[0];if(e.offset>=a.length()-1){var s=this.quill.getLine(t.index+1),u=o(s,1)[0];if(u){var f=a.formats(),p=this.quill.getFormat(t.index,1);r=c.default.attributes.diff(f,p)||{},i=u.length()}}this.quill.deleteText(t.index,n,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,h.default.sources.USER)}}function x(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=c.default.attributes.diff(o,r)||{}}this.quill.deleteText(t,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,h.default.sources.USER),this.quill.setSelection(t.index,h.default.sources.SILENT),this.quill.focus()}function E(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce((function(t,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,\"\\n\",r,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||\"link\"!==t&&n.quill.format(t,e.format[t],h.default.sources.USER))}))}function k(t){return{key:m.keys.TAB,shiftKey:!t,format:{\"code-block\":!0},handler:function(e){var n=f.default.query(\"code-block\"),r=e.index,i=e.length,l=this.quill.scroll.descendant(n,r),a=o(l,2),s=a[0],u=a[1];if(null!=s){var c=this.quill.getIndex(s),p=s.newlineIndex(u,!0)+1,d=s.newlineIndex(c+u+i),y=s.domNode.textContent.slice(p,d).split(\"\\n\");u=0,y.forEach((function(e,o){t?(s.insertAt(p+u,n.TAB),u+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(s.deleteAt(p+u,n.TAB.length),u-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),u+=e.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(r,i,h.default.sources.SILENT)}}}}function N(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],h.default.sources.USER)}}}function A(t){if(\"string\"===typeof t||\"number\"===typeof t)return A({key:t});if(\"object\"===(\"undefined\"===typeof t?\"undefined\":r(t))&&(t=(0,l.default)(t,!1)),\"string\"===typeof t.key)if(null!=m.keys[t.key.toUpperCase()])t.key=m.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[g]=t.shortKey,delete t.shortKey),t}m.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},m.DEFAULTS={bindings:{bold:N(\"bold\"),italic:N(\"italic\"),underline:N(\"underline\"),indent:{key:m.keys.TAB,format:[\"blockquote\",\"indent\",\"list\"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format(\"indent\",\"+1\",h.default.sources.USER)}},outdent:{key:m.keys.TAB,shiftKey:!0,format:[\"blockquote\",\"indent\",\"list\"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format(\"indent\",\"-1\",h.default.sources.USER)}},\"outdent backspace\":{key:m.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:[\"indent\",\"list\"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format(\"indent\",\"-1\",h.default.sources.USER):null!=e.format.list&&this.quill.format(\"list\",!1,h.default.sources.USER)}},\"indent code-block\":k(!0),\"outdent code-block\":k(!1),\"remove tab\":{key:m.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,h.default.sources.USER)}},tab:{key:m.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert(\"\\t\");this.quill.updateContents(e,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,h.default.sources.SILENT)}},\"list empty enter\":{key:m.keys.ENTER,collapsed:!0,format:[\"list\"],empty:!0,handler:function(t,e){this.quill.format(\"list\",!1,h.default.sources.USER),e.format.indent&&this.quill.format(\"indent\",!1,h.default.sources.USER)}},\"checklist enter\":{key:m.keys.ENTER,collapsed:!0,format:{list:\"checked\"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],l=(0,s.default)({},r.formats(),{list:\"checked\"}),a=(new u.default).retain(t.index).insert(\"\\n\",l).retain(r.length()-i-1).retain(1,{list:\"unchecked\"});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},\"header enter\":{key:m.keys.ENTER,collapsed:!0,format:[\"header\"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=o(n,2),i=r[0],l=r[1],a=(new u.default).retain(t.index).insert(\"\\n\",e.format).retain(i.length()-l-1).retain(1,{header:null});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(t.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},\"list autofill\":{key:\" \",collapsed:!0,format:{list:!1},prefix:/^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),i=o(r,2),l=i[0],a=i[1];if(a>n)return!0;var s=void 0;switch(e.prefix.trim()){case\"[]\":case\"[ ]\":s=\"unchecked\";break;case\"[x]\":s=\"checked\";break;case\"-\":case\"*\":s=\"bullet\";break;default:s=\"ordered\"}this.quill.insertText(t.index,\" \",h.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(t.index-a).delete(n+1).retain(l.length()-2-a).retain(1,{list:s});this.quill.updateContents(c,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,h.default.sources.SILENT)}},\"code exit\":{key:m.keys.ENTER,collapsed:!0,format:[\"code-block\"],prefix:/\\n\\n$/,suffix:/^\\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],l=(new u.default).retain(t.index+r.length()-i-2).retain(1,{\"code-block\":null}).delete(1);this.quill.updateContents(l,h.default.sources.USER)}},\"embed left\":_(m.keys.LEFT,!1),\"embed left shift\":_(m.keys.LEFT,!0),\"embed right\":_(m.keys.RIGHT,!1),\"embed right shift\":_(m.keys.RIGHT,!0)}},e.default=m,e.SHORTKEY=g},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=s(n(0)),a=s(n(7));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:\"value\",value:function(){}}]),i(e,[{key:\"detach\",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:\"format\",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"format\",this).call(this,t,n);for(var r=this,i=0;null!=r&&r.statics.scope!==l.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:\"index\",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"index\",this).call(this,t,n)}},{key:\"length\",value:function(){return this._length}},{key:\"position\",value:function(){return[this.textNode,this.textNode.data.length]}},{key:\"remove\",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"remove\",this).call(this),this.parent=null}},{key:\"restore\",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,s=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var u=[t,n.start.offset,n.end.offset];o=u[0],i=u[1],s=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join(\"\");this.next instanceof a.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(l.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var f=[i,s].map((function(t){return Math.max(0,Math.min(o.data.length,t-1))})),h=r(f,2);return i=h[0],s=h[1],{startNode:o,startOffset:i,endNode:o,endOffset:s}}}}},{key:\"update\",value:function(t,e){var n=this;if(t.some((function(t){return\"characterData\"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:\"value\",value:function(){return\"\"}}]),e}(l.default.Embed);u.blotName=\"cursor\",u.className=\"ql-cursor\",u.tagName=\"span\",u.CONTENTS=\"\\ufeff\",e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=l(n(0)),o=n(4),i=l(o);function l(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default.Container);u.allowedChildren=[i.default,o.BlockEmbed,u],e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(0),a=(r=l)&&r.__esModule?r:{default:r};function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var c=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"value\",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"value\",this).call(this,t);return n.startsWith(\"rgb(\")?(n=n.replace(/^[^\\d]+/,\"\").replace(/[^\\d]+$/,\"\"),\"#\"+n.split(\",\").map((function(t){return(\"00\"+parseInt(t).toString(16)).slice(-2)})).join(\"\")):n}}]),e}(a.default.Attributor.Style),f=new a.default.Attributor.Class(\"color\",\"ql-color\",{scope:a.default.Scope.INLINE}),h=new c(\"color\",\"color\",{scope:a.default.Scope.INLINE});e.ColorAttributor=c,e.ColorClass=f,e.ColorStyle=h},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.sanitize=e.default=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"format\",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"format\",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute(\"href\",n)}}],[{key:\"create\",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,t);return t=this.sanitize(t),n.setAttribute(\"href\",t),n.setAttribute(\"rel\",\"noopener noreferrer\"),n.setAttribute(\"target\",\"_blank\"),n}},{key:\"formats\",value:function(t){return t.getAttribute(\"href\")}},{key:\"sanitize\",value:function(t){return c(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((r=l)&&r.__esModule?r:{default:r}).default);function c(t,e){var n=document.createElement(\"a\");n.href=t;var r=n.href.slice(0,n.href.indexOf(\":\"));return e.indexOf(r)>-1}u.blotName=\"link\",u.tagName=\"A\",u.SANITIZED_URL=\"about:blank\",u.PROTOCOL_WHITELIST=[\"http\",\"https\",\"mailto\",\"tel\"],e.default=u,e.sanitize=c},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(23)),l=a(n(107));function a(t){return t&&t.__esModule?t:{default:t}}var s=0;function u(t,e){t.setAttribute(e,!(\"true\"===t.getAttribute(e)))}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.select=e,this.container=document.createElement(\"span\"),this.buildPicker(),this.select.style.display=\"none\",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener(\"mousedown\",(function(){n.togglePicker()})),this.label.addEventListener(\"keydown\",(function(t){switch(t.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),t.preventDefault()}})),this.select.addEventListener(\"change\",this.update.bind(this))}return o(t,[{key:\"togglePicker\",value:function(){this.container.classList.toggle(\"ql-expanded\"),u(this.label,\"aria-expanded\"),u(this.options,\"aria-hidden\")}},{key:\"buildItem\",value:function(t){var e=this,n=document.createElement(\"span\");return n.tabIndex=\"0\",n.setAttribute(\"role\",\"button\"),n.classList.add(\"ql-picker-item\"),t.hasAttribute(\"value\")&&n.setAttribute(\"data-value\",t.getAttribute(\"value\")),t.textContent&&n.setAttribute(\"data-label\",t.textContent),n.addEventListener(\"click\",(function(){e.selectItem(n,!0)})),n.addEventListener(\"keydown\",(function(t){switch(t.keyCode){case i.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case i.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),n}},{key:\"buildLabel\",value:function(){var t=document.createElement(\"span\");return t.classList.add(\"ql-picker-label\"),t.innerHTML=l.default,t.tabIndex=\"0\",t.setAttribute(\"role\",\"button\"),t.setAttribute(\"aria-expanded\",\"false\"),this.container.appendChild(t),t}},{key:\"buildOptions\",value:function(){var t=this,e=document.createElement(\"span\");e.classList.add(\"ql-picker-options\"),e.setAttribute(\"aria-hidden\",\"true\"),e.tabIndex=\"-1\",e.id=\"ql-picker-options-\"+s,s+=1,this.label.setAttribute(\"aria-controls\",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:\"buildPicker\",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add(\"ql-picker\"),this.label=this.buildLabel(),this.buildOptions()}},{key:\"escape\",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:\"close\",value:function(){this.container.classList.remove(\"ql-expanded\"),this.label.setAttribute(\"aria-expanded\",\"false\"),this.options.setAttribute(\"aria-hidden\",\"true\")}},{key:\"selectItem\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(\".ql-selected\");if(t!==n&&(null!=n&&n.classList.remove(\"ql-selected\"),null!=t&&(t.classList.add(\"ql-selected\"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute(\"data-value\")?this.label.setAttribute(\"data-value\",t.getAttribute(\"data-value\")):this.label.removeAttribute(\"data-value\"),t.hasAttribute(\"data-label\")?this.label.setAttribute(\"data-label\",t.getAttribute(\"data-label\")):this.label.removeAttribute(\"data-label\"),e))){if(\"function\"===typeof Event)this.select.dispatchEvent(new Event(\"change\"));else if(\"object\"===(\"undefined\"===typeof Event?\"undefined\":r(Event))){var o=document.createEvent(\"Event\");o.initEvent(\"change\",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:\"update\",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(\".ql-picker-options\").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector(\"option[selected]\");this.label.classList.toggle(\"ql-active\",n)}}]),t}();e.default=c},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=b(n(0)),o=b(n(5)),i=n(4),l=b(i),a=b(n(16)),s=b(n(25)),u=b(n(24)),c=b(n(35)),f=b(n(6)),h=b(n(22)),p=b(n(7)),d=b(n(55)),y=b(n(42)),v=b(n(23));function b(t){return t&&t.__esModule?t:{default:t}}o.default.register({\"blots/block\":l.default,\"blots/block/embed\":i.BlockEmbed,\"blots/break\":a.default,\"blots/container\":s.default,\"blots/cursor\":u.default,\"blots/embed\":c.default,\"blots/inline\":f.default,\"blots/scroll\":h.default,\"blots/text\":p.default,\"modules/clipboard\":d.default,\"modules/history\":y.default,\"modules/keyboard\":v.default}),r.default.register(l.default,a.default,u.default,f.default,h.default,p.default),e.default=o.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,\"statics\",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError(\"Blot definition missing tagName\");var e;return Array.isArray(this.tagName)?(\"string\"===typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e=\"number\"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var l=r.create(this.statics.scope);i.wrap(l),l.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create(\"text\",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n=\"string\"===typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n=\"string\"===typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName=\"abstract\",t}();e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(12),o=n(32),i=n(33),l=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),a=i.default.keys(this.domNode);e.concat(n).concat(a).forEach((function(e){var n=l.query(e,l.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=a},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function o(t,e){return(t.getAttribute(\"class\")||\"\").split(/\\s+/).filter((function(t){return 0===t.indexOf(e+\"-\")}))}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute(\"class\")||\"\").split(/\\s+/).map((function(t){return t.split(\"-\").slice(0,-1).join(\"-\")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+\"-\"+e),!0)},e.prototype.remove=function(t){o(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute(\"class\")},e.prototype.value=function(t){var e=(o(t,this.keyName)[0]||\"\").slice(this.keyName.length+1);return this.canAdd(t,e)?e:\"\"},e}(n(12).default);e.default=i},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function o(t){var e=t.split(\"-\"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join(\"\");return e[0]+n}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute(\"style\")||\"\").split(\";\").map((function(t){return t.split(\":\")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]=\"\",t.getAttribute(\"style\")||t.removeAttribute(\"style\")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:\"\"},e}(n(12).default);e.default=i},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:\"init\",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:\"addModule\",value:function(t){var e=this.quill.constructor.import(\"modules/\"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=a(n(0)),l=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var s=\"\\ufeff\",u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement(\"span\"),n.contentNode.setAttribute(\"contenteditable\",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"index\",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"index\",this).call(this,t,n)}},{key:\"restore\",value:function(t){var e=void 0,n=void 0,r=t.data.split(s).join(\"\");if(t===this.leftGuard)if(this.prev instanceof l.default){var o=this.prev.length();this.prev.insertAt(o,r),e={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(i.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=s,e}},{key:\"update\",value:function(t,e){var n=this;t.forEach((function(t){if(\"characterData\"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}]),e}(i.default.Embed);e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l={scope:i.default.Scope.BLOCK,whitelist:[\"right\",\"center\",\"justify\"]},a=new i.default.Attributor.Attribute(\"align\",\"align\",l),s=new i.default.Attributor.Class(\"align\",\"ql-align\",l),u=new i.default.Attributor.Style(\"align\",\"text-align\",l);e.AlignAttribute=a,e.AlignClass=s,e.AlignStyle=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=n(26),a=new i.default.Attributor.Class(\"background\",\"ql-bg\",{scope:i.default.Scope.INLINE}),s=new l.ColorAttributor(\"background\",\"background-color\",{scope:i.default.Scope.INLINE});e.BackgroundClass=a,e.BackgroundStyle=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l={scope:i.default.Scope.BLOCK,whitelist:[\"rtl\"]},a=new i.default.Attributor.Attribute(\"direction\",\"dir\",l),s=new i.default.Attributor.Class(\"direction\",\"ql-direction\",l),u=new i.default.Attributor.Style(\"direction\",\"direction\",l);e.DirectionAttribute=a,e.DirectionClass=s,e.DirectionStyle=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(0),a=(r=l)&&r.__esModule?r:{default:r};function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var c={scope:a.default.Scope.INLINE,whitelist:[\"serif\",\"monospace\"]},f=new a.default.Attributor.Class(\"font\",\"ql-font\",c),h=new(function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"value\",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"value\",this).call(this,t).replace(/[\"']/g,\"\")}}]),e}(a.default.Attributor.Style))(\"font\",\"font-family\",c);e.FontStyle=h,e.FontClass=f},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},l=new i.default.Attributor.Class(\"size\",\"ql-size\",{scope:i.default.Scope.INLINE,whitelist:[\"small\",\"large\",\"huge\"]}),a=new i.default.Attributor.Style(\"size\",\"font-size\",{scope:i.default.Scope.INLINE,whitelist:[\"10px\",\"18px\",\"32px\"]});e.SizeClass=l,e.SizeStyle=a},function(t,e,n){\"use strict\";t.exports={align:{\"\":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),\"code-block\":n(58),color:n(84),direction:{\"\":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{\"+1\":n(96),\"-1\":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(0)),i=l(n(5));function l(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,(function(t,e,n,o){t!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(e):r.record(e,n))})),r.quill.keyboard.addBinding({key:\"Z\",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:\"Z\",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:\"Y\",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:\"change\",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],i.default.sources.USER),this.ignoreChange=!1;var r=s(n[t]);this.quill.setSelection(r)}}},{key:\"clear\",value:function(){this.stack={undo:[],redo:[]}}},{key:\"cutoff\",value:function(){this.lastRecorded=0}},{key:\"record\",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:\"redo\",value:function(){this.change(\"redo\",\"undo\")}},{key:\"transform\",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:\"undo\",value:function(){this.change(\"undo\",\"redo\")}}]),e}(l(n(9)).default);function s(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?\"string\"===typeof e.insert&&e.insert.endsWith(\"\\n\"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)})))}(t)&&(n-=1),n}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=a,e.getLastChangeIndex=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=d(n(3)),l=d(n(2)),a=d(n(8)),s=d(n(23)),u=d(n(34)),c=d(n(59)),f=d(n(60)),h=d(n(28)),p=d(n(61));function d(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function v(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function b(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[!1,\"center\",\"right\",\"justify\"],m=[\"#000000\",\"#e60000\",\"#ff9900\",\"#ffff00\",\"#008a00\",\"#0066cc\",\"#9933ff\",\"#ffffff\",\"#facccc\",\"#ffebcc\",\"#ffffcc\",\"#cce8cc\",\"#cce0f5\",\"#ebd6ff\",\"#bbbbbb\",\"#f06666\",\"#ffc266\",\"#ffff66\",\"#66b966\",\"#66a3e0\",\"#c285ff\",\"#888888\",\"#a10000\",\"#b26b00\",\"#b2b200\",\"#006100\",\"#0047b2\",\"#6b24b2\",\"#444444\",\"#5c0000\",\"#663d00\",\"#666600\",\"#003700\",\"#002966\",\"#3d1466\"],_=[!1,\"serif\",\"monospace\"],O=[\"1\",\"2\",\"3\",!1],w=[\"small\",!1,\"large\",\"huge\"],x=function(t){function e(t,n){y(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM(\"click\",document.body,(function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener(\"click\",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))})),r}return b(e,t),r(e,[{key:\"addModule\",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"addModule\",this).call(this,t);return\"toolbar\"===t&&this.extendToolbar(n),n}},{key:\"buildButtons\",value:function(t,e){t.forEach((function(t){(t.getAttribute(\"class\")||\"\").split(/\\s+/).forEach((function(n){if(n.startsWith(\"ql-\")&&(n=n.slice(\"ql-\".length),null!=e[n]))if(\"direction\"===n)t.innerHTML=e[n][\"\"]+e[n].rtl;else if(\"string\"===typeof e[n])t.innerHTML=e[n];else{var r=t.value||\"\";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:\"buildPickers\",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains(\"ql-align\"))return null==t.querySelector(\"option\")&&k(t,g),new f.default(t,e.align);if(t.classList.contains(\"ql-background\")||t.classList.contains(\"ql-color\")){var n=t.classList.contains(\"ql-background\")?\"background\":\"color\";return null==t.querySelector(\"option\")&&k(t,m,\"background\"===n?\"#ffffff\":\"#000000\"),new c.default(t,e[n])}return null==t.querySelector(\"option\")&&(t.classList.contains(\"ql-font\")?k(t,_):t.classList.contains(\"ql-header\")?k(t,O):t.classList.contains(\"ql-size\")&&k(t,w)),new h.default(t)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),e}(u.default);x.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit(\"formula\")},image:function(){var t=this,e=this.container.querySelector(\"input.ql-image[type=file]\");null==e&&((e=document.createElement(\"input\")).setAttribute(\"type\",\"file\"),e.setAttribute(\"accept\",\"image/png, image/gif, image/jpeg, image/bmp, image/x-icon\"),e.classList.add(\"ql-image\"),e.addEventListener(\"change\",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new l.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(r.index+1,a.default.sources.SILENT),e.value=\"\"},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit(\"video\")}}}}});var E=function(t){function e(t,n){y(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type=\"text\"]'),r.listen(),r}return b(e,t),r(e,[{key:\"listen\",value:function(){var t=this;this.textbox.addEventListener(\"keydown\",(function(e){s.default.match(e,\"enter\")?(t.save(),e.preventDefault()):s.default.match(e,\"escape\")&&(t.cancel(),e.preventDefault())}))}},{key:\"cancel\",value:function(){this.hide()}},{key:\"edit\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"link\",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove(\"ql-hidden\"),this.root.classList.add(\"ql-editing\"),null!=e?this.textbox.value=e:t!==this.root.getAttribute(\"data-mode\")&&(this.textbox.value=\"\"),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute(\"placeholder\",this.textbox.getAttribute(\"data-\"+t)||\"\"),this.root.setAttribute(\"data-mode\",t)}},{key:\"restoreFocus\",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:\"save\",value:function(){var t=this.textbox.value;switch(this.root.getAttribute(\"data-mode\")){case\"link\":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,\"link\",t,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format(\"link\",t,a.default.sources.USER)),this.quill.root.scrollTop=e;break;case\"video\":t=function(t){var e=t.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);return e?(e[1]||\"https\")+\"://www.youtube.com/embed/\"+e[2]+\"?showinfo=0\":(e=t.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/))?(e[1]||\"https\")+\"://player.vimeo.com/video/\"+e[2]+\"/\":t}(t);case\"formula\":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute(\"data-mode\"),t,a.default.sources.USER),\"formula\"===this.root.getAttribute(\"data-mode\")&&this.quill.insertText(r+1,\" \",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value=\"\",this.hide()}}]),e}(p.default);function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement(\"option\");e===n?r.setAttribute(\"selected\",\"selected\"):r.setAttribute(\"value\",e),t.appendChild(r)}))}e.BaseTooltip=E,e.default=x},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,o=this.find(t),i=o[0],l=t-o[1],a=this.iterator(i);(r=a())&&l<t+e;){var s=r.length();t>l?n(r,t-l,Math.min(e,l+s-t)):n(r,0,Math.min(s,t+e-l)),l+=s}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(17),i=n(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,l),n.attach(),n}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)e.push(l.pop());for(var a=function t(e,n){void 0===n&&(n=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[i.DATA_KEY].mutations&&(e.domNode[i.DATA_KEY].mutations=[]),n&&t(e.parent))},s=function t(e){null!=e.domNode[i.DATA_KEY]&&null!=e.domNode[i.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(t),e.optimize(n))},u=e,c=0;u.length>0;c+=1){if(c>=100)throw new Error(\"[Parchment] Maximum optimize iterations reached\");for(u.forEach((function(t){var e=i.find(t.target,!0);null!=e&&(e.domNode===t.target&&(\"childList\"===t.type?(a(i.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=i.find(t,!1);a(e,!1),e instanceof o.default&&e.children.forEach((function(t){a(t,!1)}))}))):\"attributes\"===t.type&&a(e.prev)),a(e))})),this.children.forEach(s),l=(u=[].slice.call(this.observer.takeRecords())).slice();l.length>0;)e.push(l.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=i.find(t.target,!0);return null==e?null:null==e.domNode[i.DATA_KEY].mutations?(e.domNode[i.DATA_KEY].mutations=[t],e):(e.domNode[i.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[i.DATA_KEY]&&t.update(t.domNode[i.DATA_KEY].mutations||[],n)})),null!=this.domNode[i.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName=\"scroll\",e.defaultChild=\"block\",e.scope=i.Scope.BLOCK_BLOT,e.tagName=\"DIV\",e}(o.default);e.default=a},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(18),i=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,o){null!=this.formats()[r]||i.query(r,i.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName=\"inline\",e.scope=i.Scope.INLINE_BLOT,e.tagName=\"SPAN\",e}(o.default);e.default=l},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(18),i=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){var r=i.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=i.query(n,i.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,o){null!=i.query(r,i.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=i.query(n,i.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var o=this.split(e),l=i.create(n,r);o.parent.insertBefore(l,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName=\"block\",e.scope=i.Scope.BLOCK_BLOT,e.tagName=\"P\",e}(o.default);e.default=l},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=o},function(t,e,n){\"use strict\";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(19),i=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=i.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return\"characterData\"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName=\"text\",e.scope=i.Scope.INLINE_BLOT,e}(o.default);e.default=l},function(t,e,n){\"use strict\";var r=document.createElement(\"div\");if(r.classList.toggle(\"test-class\",!1),r.classList.contains(\"test-class\")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)===!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();(\"number\"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,\"find\",{value:function(t){if(null===this)throw new TypeError(\"Array.prototype.find called on null or undefined\");if(\"function\"!==typeof t)throw new TypeError(\"predicate must be a function\");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),document.addEventListener(\"DOMContentLoaded\",(function(){document.execCommand(\"enableObjectResizing\",!1,!1),document.execCommand(\"autoUrlDetect\",!1,!1)}))},function(t,e){var n=-1;function r(t,e,s){if(t==e)return t?[[0,t]]:[];(s<0||t.length<s)&&(s=null);var c=i(t,e),f=t.substring(0,c);c=l(t=t.substring(c),e=e.substring(c));var h=t.substring(t.length-c),p=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[n,t]];var s=t.length>e.length?t:e,u=t.length>e.length?e:t,c=s.indexOf(u);if(-1!=c)return a=[[1,s.substring(0,c)],[0,u],[1,s.substring(c+u.length)]],t.length>e.length&&(a[0][0]=a[2][0]=n),a;if(1==u.length)return[[n,t],[1,e]];var f=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,a,s,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,f=\"\";-1!=(c=e.indexOf(u,c+1));){var h=i(t.substring(n),e.substring(c)),p=l(t.substring(0,n),e.substring(0,c));f.length<p+h&&(f=e.substring(c-p,c)+e.substring(c,c+h),r=t.substring(0,n-p),o=t.substring(n+h),a=e.substring(0,c-p),s=e.substring(c+h))}return 2*f.length>=t.length?[r,o,a,s,f]:null}var a,s,u,c,f,h=o(n,r,Math.ceil(n.length/4)),p=o(n,r,Math.ceil(n.length/2));if(!h&&!p)return null;a=p?h&&h[4].length>p[4].length?h:p:h,t.length>e.length?(s=a[0],u=a[1],c=a[2],f=a[3]):(c=a[0],f=a[1],s=a[2],u=a[3]);var d=a[4];return[s,u,c,f,d]}(t,e);if(f){var h=f[0],p=f[1],d=f[2],y=f[3],v=f[4],b=r(h,d),g=r(p,y);return b.concat([[0,v]],g)}return function(t,e){for(var r=t.length,i=e.length,l=Math.ceil((r+i)/2),a=l,s=2*l,u=new Array(s),c=new Array(s),f=0;f<s;f++)u[f]=-1,c[f]=-1;u[a+1]=0,c[a+1]=0;for(var h=r-i,p=h%2!=0,d=0,y=0,v=0,b=0,g=0;g<l;g++){for(var m=-g+d;m<=g-y;m+=2){for(var _=a+m,O=(N=m==-g||m!=g&&u[_-1]<u[_+1]?u[_+1]:u[_-1]+1)-m;N<r&&O<i&&t.charAt(N)==e.charAt(O);)N++,O++;if(u[_]=N,N>r)y+=2;else if(O>i)d+=2;else if(p&&(E=a+h-m)>=0&&E<s&&-1!=c[E]&&N>=(x=r-c[E]))return o(t,e,N,O)}for(var w=-g+v;w<=g-b;w+=2){for(var x,E=a+w,k=(x=w==-g||w!=g&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-w;x<r&&k<i&&t.charAt(r-x-1)==e.charAt(i-k-1);)x++,k++;if(c[E]=x,x>r)b+=2;else if(k>i)v+=2;else if(!p){var N;if((_=a+h-w)>=0&&_<s&&-1!=u[_])if(O=a+(N=u[_])-_,N>=(x=r-x))return o(t,e,N,O)}}}return[[n,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-c),e=e.substring(0,e.length-c));return f&&p.unshift([0,f]),h&&p.push([0,h]),a(p),null!=s&&(p=function(t,e){var r=function(t,e){if(0===e)return[0,t];for(var r=0,o=0;o<t.length;o++){var i=t[o];if(i[0]===n||0===i[0]){var l=r+i[1].length;if(e===l)return[o+1,t];if(e<l){t=t.slice();var a=e-r,s=[i[0],i[1].slice(0,a)],u=[i[0],i[1].slice(a)];return t.splice(o,1,s,u),[o+1,t]}r=l}}throw new Error(\"cursor_pos is out of bounds!\")}(t,e),o=r[1],i=r[0],l=o[i],a=o[i+1];if(null==l)return t;if(0!==l[0])return t;if(null!=a&&l[1]+a[1]===a[1]+l[1])return o.splice(i,2,a,l),u(o,i,2);if(null!=a&&0===a[1].indexOf(l[1])){o.splice(i,2,[a[0],l[1]],[0,l[1]]);var s=a[1].slice(l[1].length);return s.length>0&&o.splice(i+2,0,[a[0],s]),u(o,i,3)}return t}(p,s)),p=function(t){for(var e=!1,r=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},o=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},i=2;i<t.length;i+=1)0===t[i-2][0]&&o(t[i-2][1])&&t[i-1][0]===n&&r(t[i-1][1])&&1===t[i][0]&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;var l=[];for(i=0;i<t.length;i+=1)t[i][1].length>0&&l.push(t[i]);return l}(p)}function o(t,e,n,o){var i=t.substring(0,n),l=e.substring(0,o),a=t.substring(n),s=e.substring(o),u=r(i,l),c=r(a,s);return u.concat(c)}function i(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function a(t){t.push([0,\"\"]);for(var e,r=0,o=0,s=0,u=\"\",c=\"\";r<t.length;)switch(t[r][0]){case 1:s++,c+=t[r][1],r++;break;case n:o++,u+=t[r][1],r++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(e=i(c,u))&&(r-o-s>0&&0==t[r-o-s-1][0]?t[r-o-s-1][1]+=c.substring(0,e):(t.splice(0,0,[0,c.substring(0,e)]),r++),c=c.substring(e),u=u.substring(e)),0!==(e=l(c,u))&&(t[r][1]=c.substring(c.length-e)+t[r][1],c=c.substring(0,c.length-e),u=u.substring(0,u.length-e))),0===o?t.splice(r-s,o+s,[1,c]):0===s?t.splice(r-o,o+s,[n,u]):t.splice(r-o-s,o+s,[n,u],[1,c]),r=r-o-s+(o?1:0)+(s?1:0)+1):0!==r&&0==t[r-1][0]?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,s=0,o=0,u=\"\",c=\"\"}\"\"===t[t.length-1][1]&&t.pop();var f=!1;for(r=1;r<t.length-1;)0==t[r-1][0]&&0==t[r+1][0]&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),f=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),f=!0)),r++;f&&a(t)}var s=r;function u(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]])}return t}s.INSERT=1,s.DELETE=n,s.EQUAL=0,t.exports=s},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports=\"function\"===typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n=\"[object Arguments]\"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return\"[object Arguments]\"==Object.prototype.toString.call(t)}function o(t){return t&&\"object\"==typeof t&&\"number\"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,\"callee\")&&!Object.prototype.propertyIsEnumerable.call(t,\"callee\")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e){\"use strict\";var n=Object.prototype.hasOwnProperty,r=\"~\";function o(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},l.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,l=o.length,a=new Array(l);i<l;i++)a[i]=o[i].fn;return a},l.prototype.emit=function(t,e,n,o,i,l){var a=r?r+t:t;if(!this._events[a])return!1;var s,u,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,o),!0;case 5:return c.fn.call(c.context,e,n,o,i),!0;case 6:return c.fn.call(c.context,e,n,o,i,l),!0}for(u=1,s=new Array(f-1);u<f;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var h,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,o);break;default:if(!s)for(h=1,s=new Array(f-1);h<f;h++)s[h-1]=arguments[h];c[u].fn.apply(c[u].context,s)}}return!0},l.prototype.on=function(t,e,n){var o=new i(e,n||this),l=r?r+t:t;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],o]:this._events[l].push(o):(this._events[l]=o,this._eventsCount++),this},l.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),l=r?r+t:t;return this._events[l]?this._events[l].fn?this._events[l]=[this._events[l],o]:this._events[l].push(o):(this._events[l]=o,this._eventsCount++),this},l.prototype.removeListener=function(t,e,n,i){var l=r?r+t:t;if(!this._events[l])return this;if(!e)return 0===--this._eventsCount?this._events=new o:delete this._events[l],this;var a=this._events[l];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new o:delete this._events[l]);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==e||i&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[l]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new o:delete this._events[l]}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=r,l.EventEmitter=l,\"undefined\"!==typeof t&&(t.exports=l)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=m(n(3)),a=m(n(2)),s=m(n(0)),u=m(n(5)),c=m(n(10)),f=m(n(9)),h=n(36),p=n(37),d=m(n(13)),y=n(26),v=n(38),b=n(39),g=n(40);function m(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=(0,c.default)(\"quill:clipboard\"),w=\"__ql-matcher\",x=[[Node.TEXT_NODE,I],[Node.TEXT_NODE,M],[\"br\",function(t,e){return q(e,\"\\n\")||e.insert(\"\\n\"),e}],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,C],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};return r.fontStyle&&\"italic\"===j(t).fontStyle&&(n.italic=!0),r.fontWeight&&(j(t).fontWeight.startsWith(\"bold\")||parseInt(j(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=A(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new a.default).insert(\"\\t\").concat(e)),e}],[\"li\",function(t,e){var n=s.default.query(t);if(null==n||\"list-item\"!==n.blotName||!q(e,\"\\n\"))return e;for(var r=-1,o=t.parentNode;!o.classList.contains(\"ql-clipboard\");)\"list\"===(s.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new a.default).retain(e.length()-1).retain(1,{indent:r}))}],[\"b\",P.bind(P,\"bold\")],[\"i\",P.bind(P,\"italic\")],[\"style\",function(){return new a.default}]],E=[h.AlignAttribute,v.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),k=[h.AlignStyle,p.BackgroundStyle,y.ColorStyle,v.DirectionStyle,b.FontStyle,g.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),N=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener(\"paste\",r.onPaste.bind(r)),r.container=r.quill.addContainer(\"ql-clipboard\"),r.container.setAttribute(\"contenteditable\",!0),r.container.setAttribute(\"tabindex\",-1),r.matchers=[],x.concat(r.options.matchers).forEach((function(t){var e=o(t,2),i=e[0],l=e[1];(n.matchVisual||l!==R)&&r.addMatcher(i,l)})),r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:\"addMatcher\",value:function(t,e){this.matchers.push([t,e])}},{key:\"convert\",value:function(t){if(\"string\"===typeof t)return this.container.innerHTML=t.replace(/\\>\\r?\\n +\\</g,\"><\"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[d.default.blotName]){var n=this.container.innerText;return this.container.innerHTML=\"\",(new a.default).insert(n,_({},d.default.blotName,e[d.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),l=i[0],s=i[1],u=S(this.container,l,s);return q(u,\"\\n\")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new a.default).retain(u.length()-1).delete(1))),O.log(\"convert\",this.container.innerHTML,u),this.container.innerHTML=\"\",u}},{key:\"dangerouslyPasteHTML\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if(\"string\"===typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new a.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),u.default.sources.SILENT)}}},{key:\"onPaste\",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new a.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,u.default.sources.USER),e.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()}),1)}}},{key:\"prepareMatching\",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(r){var i=o(r,2),l=i[0],a=i[1];switch(l){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:e.push(a);break;default:[].forEach.call(t.container.querySelectorAll(l),(function(t){t[w]=t[w]||[],t[w].push(a)}))}})),[e,n]}}]),e}(f.default);function A(t,e,n){return\"object\"===(\"undefined\"===typeof e?\"undefined\":r(e))?Object.keys(e).reduce((function(t,n){return A(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,l.default)({},_({},e,n),r.attributes))}),new a.default)}function j(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e=\"__ql-computed-style\";return t[e]||(t[e]=window.getComputedStyle(t))}function q(t,e){for(var n=\"\",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if(\"string\"!==typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function T(t){if(0===t.childNodes.length)return!1;var e=j(t);return[\"block\",\"list-item\"].indexOf(e.display)>-1}function S(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new a.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,o){var i=S(o,e,n);return o.nodeType===t.ELEMENT_NODE&&(i=e.reduce((function(t,e){return e(o,t)}),i),i=(o[w]||[]).reduce((function(t,e){return e(o,t)}),i)),r.concat(i)}),new a.default):new a.default}function P(t,e,n){return A(n,t,!0)}function C(t,e){var n=s.default.Attributor.Attribute.keys(t),r=s.default.Attributor.Class.keys(t),o=s.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach((function(e){var n=s.default.query(e,s.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(null==(n=E[e])||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=k[e])||n.attrName!==e&&n.keyName!==e||(n=k[e],i[n.attrName]=n.value(t)||void 0))})),Object.keys(i).length>0&&(e=A(e,i)),e}function L(t,e){var n=s.default.query(t);if(null==n)return e;if(n.prototype instanceof s.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new a.default).insert(r,n.formats(t)))}else\"function\"===typeof n.formats&&(e=A(e,n.blotName,n.formats(t)));return e}function M(t,e){return q(e,\"\\n\")||(T(t)||e.length()>0&&t.nextSibling&&T(t.nextSibling))&&e.insert(\"\\n\"),e}function R(t,e){if(T(t)&&null!=t.nextElementSibling&&!q(e,\"\\n\\n\")){var n=t.offsetHeight+parseFloat(j(t).marginTop)+parseFloat(j(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert(\"\\n\")}return e}function I(t,e){var n=t.data;if(\"O:P\"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains(\"ql-clipboard\"))return e;if(!j(t.parentNode).whiteSpace.startsWith(\"pre\")){var r=function(t,e){return(e=e.replace(/[^\\u00a0]/g,\"\")).length<1&&t?\" \":e};n=(n=n.replace(/\\r\\n/g,\" \").replace(/\\n/g,\" \")).replace(/\\s\\s+/g,r.bind(r,!0)),(null==t.previousSibling&&T(t.parentNode)||null!=t.previousSibling&&T(t.previousSibling))&&(n=n.replace(/^\\s+/,r.bind(r,!1))),(null==t.nextSibling&&T(t.parentNode)||null!=t.nextSibling&&T(t.nextSibling))&&(n=n.replace(/\\s+$/,r.bind(r,!1)))}return e.insert(n)}N.DEFAULTS={matchers:[],matchVisual:!0},e.default=N,e.matchAttributor=C,e.matchBlot=L,e.matchNewline=M,e.matchSpacing=R,e.matchText=I},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"optimize\",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"optimize\",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:\"create\",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this)}},{key:\"formats\",value:function(){return!0}}]),e}(((r=l)&&r.__esModule?r:{default:r}).default);u.blotName=\"bold\",u.tagName=[\"STRONG\",\"B\"],e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.addControls=e.default=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(2)),l=c(n(0)),a=c(n(5)),s=c(n(10)),u=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var h=(0,s.default)(\"quill:toolbar\"),p=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o,i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var l=document.createElement(\"div\");y(l,i.options.container),t.container.parentNode.insertBefore(l,t.container),i.container=l}else\"string\"===typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add(\"ql-toolbar\"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(t){i.addHandler(t,i.options.handlers[t])})),[].forEach.call(i.container.querySelectorAll(\"button, select\"),(function(t){i.attach(t)})),i.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e){t===a.default.events.SELECTION_CHANGE&&i.update(e)})),i.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){var t=i.quill.selection.getRange(),e=r(t,1)[0];i.update(e)})),i):(o=h.error(\"Container required for toolbar\",i.options),f(i,o))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"addHandler\",value:function(t,e){this.handlers[t]=e}},{key:\"attach\",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf(\"ql-\")}));if(n){if(n=n.slice(\"ql-\".length),\"BUTTON\"===t.tagName&&t.setAttribute(\"type\",\"button\"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn(\"ignoring attaching to disabled format\",n,t);if(null==l.default.query(n))return void h.warn(\"ignoring attaching to nonexistent format\",n,t)}var o=\"SELECT\"===t.tagName?\"change\":\"click\";t.addEventListener(o,(function(o){var s=void 0;if(\"SELECT\"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];s=!u.hasAttribute(\"selected\")&&(u.value||!1)}else s=!t.classList.contains(\"ql-active\")&&(t.value||!t.hasAttribute(\"value\")),o.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),f=r(c,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,s);else if(l.default.query(n).prototype instanceof l.default.Embed){if(!(s=prompt(\"Enter \"+n)))return;e.quill.updateContents((new i.default).retain(f.index).delete(f.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,s)),a.default.sources.USER)}else e.quill.format(n,s,a.default.sources.USER);e.update(f)})),this.controls.push([n,t])}}},{key:\"update\",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var o=r(n,2),i=o[0],l=o[1];if(\"SELECT\"===l.tagName){var a=void 0;if(null==t)a=null;else if(null==e[i])a=l.querySelector(\"option[selected]\");else if(!Array.isArray(e[i])){var s=e[i];\"string\"===typeof s&&(s=s.replace(/\\\"/g,'\\\\\"')),a=l.querySelector('option[value=\"'+s+'\"]')}null==a?(l.value=\"\",l.selectedIndex=-1):a.selected=!0}else if(null==t)l.classList.remove(\"ql-active\");else if(l.hasAttribute(\"value\")){var u=e[i]===l.getAttribute(\"value\")||null!=e[i]&&e[i].toString()===l.getAttribute(\"value\")||null==e[i]&&!l.getAttribute(\"value\");l.classList.toggle(\"ql-active\",u)}else l.classList.toggle(\"ql-active\",null!=e[i])}))}}]),e}(u.default);function d(t,e,n){var r=document.createElement(\"button\");r.setAttribute(\"type\",\"button\"),r.classList.add(\"ql-\"+e),null!=n&&(r.value=n),t.appendChild(r)}function y(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement(\"span\");n.classList.add(\"ql-formats\"),e.forEach((function(t){if(\"string\"===typeof t)d(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement(\"select\");r.classList.add(\"ql-\"+e),n.forEach((function(t){var e=document.createElement(\"option\");!1!==t?e.setAttribute(\"value\",t):e.setAttribute(\"selected\",\"selected\"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):d(n,e,r)}})),t.appendChild(n)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=l.default.query(e,l.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,a.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;\"rtl\"===t&&null==e?this.quill.format(\"align\",\"right\",a.default.sources.USER):t||\"right\"!==e||this.quill.format(\"align\",!1,a.default.sources.USER),this.quill.format(\"direction\",t,a.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if(\"+1\"===t||\"-1\"===t){var o=\"+1\"===t?1:-1;\"rtl\"===n.direction&&(o*=-1),this.quill.format(\"indent\",r+o,a.default.sources.USER)}},link:function(t){!0===t&&(t=prompt(\"Enter link URL:\")),this.quill.format(\"link\",t,a.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);\"check\"===t?\"checked\"===n.list||\"unchecked\"===n.list?this.quill.format(\"list\",!1,a.default.sources.USER):this.quill.format(\"list\",\"unchecked\",a.default.sources.USER):this.quill.format(\"list\",t,a.default.sources.USER)}}},e.default=p,e.addControls=y},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <polyline class=\"ql-even ql-stroke\" points=\"5 7 3 9 5 11\"></polyline> <polyline class=\"ql-even ql-stroke\" points=\"13 7 15 9 13 11\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(28),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add(\"ql-color-picker\"),[].slice.call(r.container.querySelectorAll(\".ql-picker-item\"),0,7).forEach((function(t){t.classList.add(\"ql-primary\")})),r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"buildItem\",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"buildItem\",this).call(this,t);return n.style.backgroundColor=t.getAttribute(\"value\")||\"\",n}},{key:\"selectItem\",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"selectItem\",this).call(this,t,n);var r=this.label.querySelector(\".ql-color-label\"),o=t&&t.getAttribute(\"data-value\")||\"\";r&&(\"line\"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),e}(((r=l)&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(28),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add(\"ql-icon-picker\"),[].forEach.call(r.container.querySelectorAll(\".ql-picker-item\"),(function(t){t.innerHTML=n[t.getAttribute(\"data-value\")||\"\"]})),r.defaultItem=r.container.querySelector(\".ql-selected\"),r.selectItem(r.defaultItem),r}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"selectItem\",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"selectItem\",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((r=l)&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer(\"ql-tooltip\"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener(\"scroll\",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+\"px\"})),this.hide()}return r(t,[{key:\"hide\",value:function(){this.root.classList.add(\"ql-hidden\")}},{key:\"position\",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+\"px\",this.root.style.top=n+\"px\",this.root.classList.remove(\"ql-flip\");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+\"px\"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+\"px\"),o.bottom>r.bottom){var l=o.bottom-o.top,a=t.bottom-t.top+l;this.root.style.top=n-a+\"px\",this.root.classList.add(\"ql-flip\")}return i}},{key:\"show\",value:function(){this.root.classList.remove(\"ql-editing\"),this.root.classList.remove(\"ql-hidden\")}}]),t}();e.default=o},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=p(n(3)),a=p(n(8)),s=n(43),u=p(s),c=p(n(27)),f=n(15),h=p(n(41));function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function y(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function v(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=[[{header:[\"1\",\"2\",\"3\",!1]}],[\"bold\",\"italic\",\"underline\",\"link\"],[{list:\"ordered\"},{list:\"bullet\"}],[\"clean\"]],g=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add(\"ql-snow\"),r}return v(e,t),i(e,[{key:\"extendToolbar\",value:function(t){t.container.classList.add(\"ql-snow\"),this.buildButtons([].slice.call(t.container.querySelectorAll(\"button\")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll(\"select\")),h.default),this.tooltip=new m(this.quill,this.options.bounds),t.container.querySelector(\".ql-link\")&&this.quill.keyboard.addBinding({key:\"K\",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)}))}}]),e}(u.default);g.DEFAULTS=(0,l.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\\S+@\\S+\\.\\S+$/.test(n)&&0!==n.indexOf(\"mailto:\")&&(n=\"mailto:\"+n),this.quill.theme.tooltip.edit(\"link\",n)}else this.quill.format(\"link\",!1)}}}}});var m=function(t){function e(t,n){d(this,e);var r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector(\"a.ql-preview\"),r}return v(e,t),i(e,[{key:\"listen\",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"listen\",this).call(this),this.root.querySelector(\"a.ql-action\").addEventListener(\"click\",(function(e){t.root.classList.contains(\"ql-editing\")?t.save():t.edit(\"link\",t.preview.textContent),e.preventDefault()})),this.root.querySelector(\"a.ql-remove\").addEventListener(\"click\",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,\"link\",!1,a.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(e,n,o){if(null!=e){if(0===e.length&&o===a.default.sources.USER){var i=t.quill.scroll.descendant(c.default,e.index),l=r(i,2),s=l[0],u=l[1];if(null!=s){t.linkRange=new f.Range(e.index-u,s.length());var h=c.default.formats(s.domNode);return t.preview.textContent=h,t.preview.setAttribute(\"href\",h),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:\"show\",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"show\",this).call(this),this.root.removeAttribute(\"data-mode\")}}]),e}(s.BaseTooltip);m.TEMPLATE=['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>','<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">','<a class=\"ql-action\"></a>','<a class=\"ql-remove\"></a>'].join(\"\"),e.default=g},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=M(n(29)),o=n(36),i=n(38),l=n(64),a=M(n(65)),s=M(n(66)),u=n(67),c=M(u),f=n(37),h=n(26),p=n(39),d=n(40),y=M(n(56)),v=M(n(68)),b=M(n(27)),g=M(n(69)),m=M(n(70)),_=M(n(71)),O=M(n(72)),w=M(n(73)),x=n(13),E=M(x),k=M(n(74)),N=M(n(75)),A=M(n(57)),j=M(n(41)),q=M(n(28)),T=M(n(59)),S=M(n(60)),P=M(n(61)),C=M(n(108)),L=M(n(62));function M(t){return t&&t.__esModule?t:{default:t}}r.default.register({\"attributors/attribute/direction\":i.DirectionAttribute,\"attributors/class/align\":o.AlignClass,\"attributors/class/background\":f.BackgroundClass,\"attributors/class/color\":h.ColorClass,\"attributors/class/direction\":i.DirectionClass,\"attributors/class/font\":p.FontClass,\"attributors/class/size\":d.SizeClass,\"attributors/style/align\":o.AlignStyle,\"attributors/style/background\":f.BackgroundStyle,\"attributors/style/color\":h.ColorStyle,\"attributors/style/direction\":i.DirectionStyle,\"attributors/style/font\":p.FontStyle,\"attributors/style/size\":d.SizeStyle},!0),r.default.register({\"formats/align\":o.AlignClass,\"formats/direction\":i.DirectionClass,\"formats/indent\":l.IndentClass,\"formats/background\":f.BackgroundStyle,\"formats/color\":h.ColorStyle,\"formats/font\":p.FontClass,\"formats/size\":d.SizeClass,\"formats/blockquote\":a.default,\"formats/code-block\":E.default,\"formats/header\":s.default,\"formats/list\":c.default,\"formats/bold\":y.default,\"formats/code\":x.Code,\"formats/italic\":v.default,\"formats/link\":b.default,\"formats/script\":g.default,\"formats/strike\":m.default,\"formats/underline\":_.default,\"formats/image\":O.default,\"formats/video\":w.default,\"formats/list/item\":u.ListItem,\"modules/formula\":k.default,\"modules/syntax\":N.default,\"modules/toolbar\":A.default,\"themes/bubble\":C.default,\"themes/snow\":L.default,\"ui/icons\":j.default,\"ui/picker\":q.default,\"ui/icon-picker\":S.default,\"ui/color-picker\":T.default,\"ui/tooltip\":P.default},!0),e.default=r.default},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.IndentClass=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(0),a=(r=l)&&r.__esModule?r:{default:r};function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function u(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var c=new(function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"add\",value:function(t,n){if(\"+1\"===n||\"-1\"===n){var r=this.value(t)||0;n=\"+1\"===n?r+1:r-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"add\",this).call(this,t,n)}},{key:\"canAdd\",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"canAdd\",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"canAdd\",this).call(this,t,parseInt(n))}},{key:\"value\",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"value\",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class))(\"indent\",\"ql-indent\",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=n(4);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var a=function(t){function e(){return i(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName=\"blockquote\",a.tagName=\"blockquote\",e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4);function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function a(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var s=function(t){function e(){return l(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:\"formats\",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName=\"header\",s.tagName=[\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\"],e.default=s},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=s(n(0)),l=s(n(4)),a=s(n(25));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function f(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:\"format\",value:function(t,n){t!==p.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"format\",this).call(this,t,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:\"remove\",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"remove\",this).call(this)}},{key:\"replaceWith\",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"replaceWith\",this).call(this,t,n))}}],[{key:\"formats\",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),\"formats\",this).call(this,t)}}]),e}(l.default);h.blotName=\"list-item\",h.tagName=\"LI\";var p=function(t){function e(t){u(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=i.default.find(e.target);\"checked\"===r?o.format(\"list\",\"unchecked\"):\"unchecked\"===r&&o.format(\"list\",\"checked\")}};return t.addEventListener(\"touchstart\",r),t.addEventListener(\"mousedown\",r),n}return f(e,t),r(e,null,[{key:\"create\",value:function(t){var n=\"ordered\"===t?\"OL\":\"UL\",r=o(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,n);return\"checked\"!==t&&\"unchecked\"!==t||r.setAttribute(\"data-checked\",\"checked\"===t),r}},{key:\"formats\",value:function(t){return\"OL\"===t.tagName?\"ordered\":\"UL\"===t.tagName?t.hasAttribute(\"data-checked\")?\"true\"===t.getAttribute(\"data-checked\")?\"checked\":\"unchecked\":\"bullet\":void 0}}]),r(e,[{key:\"format\",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:\"formats\",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:\"insertBefore\",value:function(t,n){if(t instanceof h)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"insertBefore\",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(t,i)}}},{key:\"optimize\",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"optimize\",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute(\"data-checked\")===this.domNode.getAttribute(\"data-checked\")&&(n.moveChildren(this),n.remove())}},{key:\"replace\",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"replace\",this).call(this,t)}}]),e}(a.default);p.blotName=\"list\",p.scope=i.default.Scope.BLOCK_BLOT,p.tagName=[\"OL\",\"UL\"],p.defaultChild=\"list-item\",p.allowedChildren=[h],e.ListItem=h,e.default=p},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=n(56);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var a=function(t){function e(){return i(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName=\"italic\",a.tagName=[\"EM\",\"I\"],e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:\"create\",value:function(t){return\"super\"===t?document.createElement(\"sup\"):\"sub\"===t?document.createElement(\"sub\"):i(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,t)}},{key:\"formats\",value:function(t){return\"SUB\"===t.tagName?\"sub\":\"SUP\"===t.tagName?\"super\":void 0}}]),e}(((r=l)&&r.__esModule?r:{default:r}).default);u.blotName=\"script\",u.tagName=[\"SUB\",\"SUP\"],e.default=u},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var a=function(t){function e(){return i(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName=\"strike\",a.tagName=\"S\",e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var a=function(t){function e(){return i(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);a.blotName=\"underline\",a.tagName=\"U\",e.default=a},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(0),a=(r=l)&&r.__esModule?r:{default:r},s=n(27);function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var f=[\"alt\",\"height\",\"width\"],h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"format\",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"format\",this).call(this,t,n)}}],[{key:\"create\",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,t);return\"string\"===typeof t&&n.setAttribute(\"src\",this.sanitize(t)),n}},{key:\"formats\",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:\"match\",value:function(t){return/\\.(jpe?g|gif|png)$/.test(t)||/^data:image\\/.+;base64/.test(t)}},{key:\"sanitize\",value:function(t){return(0,s.sanitize)(t,[\"http\",\"https\",\"data\"])?t:\"//:0\"}},{key:\"value\",value:function(t){return t.getAttribute(\"src\")}}]),e}(a.default.Embed);h.blotName=\"image\",h.tagName=\"IMG\",e.default=h},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},l=n(4),a=n(27),s=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}var f=[\"height\",\"width\"],h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:\"format\",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"format\",this).call(this,t,n)}}],[{key:\"create\",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,t);return n.setAttribute(\"frameborder\",\"0\"),n.setAttribute(\"allowfullscreen\",!0),n.setAttribute(\"src\",this.sanitize(t)),n}},{key:\"formats\",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:\"sanitize\",value:function(t){return s.default.sanitize(t)}},{key:\"value\",value:function(t){return t.getAttribute(\"src\")}}]),e}(l.BlockEmbed);h.blotName=\"video\",h.className=\"ql-video\",h.tagName=\"IFRAME\",e.default=h},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=s(n(35)),l=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function f(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,null,[{key:\"create\",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),\"create\",this).call(this,t);return\"string\"===typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:\"#f00\"}),n.setAttribute(\"data-value\",t)),n}},{key:\"value\",value:function(t){return t.getAttribute(\"data-value\")}}]),e}(i.default);h.blotName=\"formula\",h.className=\"ql-formula\",h.tagName=\"SPAN\";var p=function(t){function e(){u(this,e);var t=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error(\"Formula module requires KaTeX.\");return t}return f(e,t),r(e,null,[{key:\"register\",value:function(){l.default.register(h,!0)}}]),e}(a.default);e.FormulaBlot=h,e.default=p},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},i=s(n(0)),l=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function c(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function f(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:\"replaceWith\",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"replaceWith\",this).call(this,t)}},{key:\"highlight\",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(s(n(13)).default);h.className=\"ql-syntax\";var p=new i.default.Attributor.Class(\"token\",\"hljs\",{scope:i.default.Scope.INLINE}),d=function(t){function e(t,n){u(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(\"function\"!==typeof r.options.highlight)throw new Error(\"Syntax module requires highlight.js. Please include the library on the page before Quill.\");var o=null;return r.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){r.highlight(),o=null}),r.options.interval)})),r.highlight(),r}return f(e,t),r(e,null,[{key:\"register\",value:function(){l.default.register(p,!0),l.default.register(h,!0)}}]),r(e,[{key:\"highlight\",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(l.default.sources.SILENT),null!=e&&this.quill.setSelection(e,l.default.sources.SILENT)}}}]),e}(a.default);d.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=h,e.CodeToken=p,e.default=d},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <g class=\"ql-fill ql-color-label\"> <polygon points=\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\"6.817 5 6 5 6 6 6.38 6 6.817 5\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\"4.63 10 4 10 4 11 4.192 11 4.63 10\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\"12 6.868 12 6 11.62 6 12 6.868\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\"12.933 9 13 9 13 8 12.495 8 12.933 9\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\"5.5 13 9 5 12.5 13\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <rect class=\"ql-fill ql-stroke\" height=3 width=3 x=4 y=5></rect> <rect class=\"ql-fill ql-stroke\" height=3 width=3 x=11 y=5></rect> <path class=\"ql-even ql-fill ql-stroke\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\"ql-even ql-fill ql-stroke\" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class=\"\" viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=\"ql-color-label ql-stroke ql-transparent\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\"5.5 11 9 3 12.5 11\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <polygon class=\"ql-stroke ql-fill\" points=\"3 11 5 9 3 7 3 11\"></polygon> <line class=\"ql-stroke ql-fill\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <polygon class=\"ql-stroke ql-fill\" points=\"15 12 13 10 15 8 15 12\"></polygon> <line class=\"ql-stroke ql-fill\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\"translate(24 18) rotate(-180)\"/> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox=\"0 0 18 18\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox=\"0 0 18 18\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\"ql-even ql-fill\" points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\"ql-fill ql-stroke\" points=\"3 7 3 11 5 9 3 7\"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\"5 7 5 11 3 9 5 7\"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\"ql-even ql-stroke\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\"ql-even ql-stroke\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\"ql-stroke ql-thin\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\"ql-stroke ql-thin\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\"ql-stroke ql-thin\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class=\"\" viewbox=\"0 0 18 18\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\"3 4 4 5 6 3\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\"3 14 4 15 6 13\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\"3 9 4 10 6 8\"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <line class=\"ql-stroke ql-thin\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox=\"0 0 18 18\"> <polygon class=ql-stroke points=\"7 11 9 13 11 11 7 11\"></polygon> <polygon class=ql-stroke points=\"7 7 9 5 11 7 7 7\"></polygon> </svg>'},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if(\"value\"in o)return o.value;var l=o.get;return void 0!==l?l.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(3)),l=f(n(8)),a=n(43),s=f(a),u=n(15),c=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function p(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==typeof e&&\"function\"!==typeof e?t:e}function d(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[[\"bold\",\"italic\",\"link\"],[{header:1},{header:2},\"blockquote\"]],v=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add(\"ql-bubble\"),r}return d(e,t),o(e,[{key:\"extendToolbar\",value:function(t){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll(\"button\")),c.default),this.buildPickers([].slice.call(t.container.querySelectorAll(\"select\")),c.default)}}]),e}(s.default);v.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format(\"link\",!1)}}}}});var b=function(t){function e(t,n){h(this,e);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(l.default.events.EDITOR_CHANGE,(function(t,e,n,o){if(t===l.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===l.default.sources.USER){r.show(),r.root.style.left=\"0px\",r.root.style.width=\"\",r.root.style.width=r.root.offsetWidth+\"px\";var i=r.quill.getLines(e.index,e.length);if(1===i.length)r.position(r.quill.getBounds(e));else{var a=i[i.length-1],s=r.quill.getIndex(a),c=Math.min(a.length()-1,e.index+e.length-s),f=r.quill.getBounds(new u.Range(s,c));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return d(e,t),o(e,[{key:\"listen\",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"listen\",this).call(this),this.root.querySelector(\".ql-close\").addEventListener(\"click\",(function(){t.root.classList.remove(\"ql-editing\")})),this.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains(\"ql-hidden\")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:\"cancel\",value:function(){this.show()}},{key:\"position\",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),\"position\",this).call(this,t),o=this.root.querySelector(\".ql-tooltip-arrow\");if(o.style.marginLeft=\"\",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+\"px\"}}]),e}(a.BaseTooltip);b.TEMPLATE=['<span class=\"ql-tooltip-arrow\"></span>','<div class=\"ql-tooltip-editor\">','<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">','<a class=\"ql-close\"></a>',\"</div>\"].join(\"\"),e.BubbleTooltip=b,e.default=v},function(t,e,n){t.exports=n(63)}]).default},t.exports=n()}).call(this,n(93).Buffer)}}]);","name":"static/js/5.3f4c38c4.chunk.js","map":{"version":3,"sources":["static/js/5.3f4c38c4.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__extends","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__spreadArrays","il","r","k","a","j","jl","__importDefault","mod","__esModule","default","react_1","react_dom_1","isEqual_1","quill_1","ReactQuill","_super","props","_this","dirtyProps","cleanProps","state","generation","selection","onEditorChange","eventName","rangeOrDelta","oldRangeOrDelta","source","_a","_b","_c","_d","onEditorChangeText","editor","root","innerHTML","unprivilegedEditor","onEditorChangeSelection","value","isControlled","defaultValue","validateProps","Children","count","children","Error","only","type","lastDeltaChangeSet","shouldComponentUpdate","nextProps","nextState","prevContents","getEditorContents","nextContents","isEqualValue","setEditorContents","readOnly","setEditorReadOnly","some","prop","shouldComponentRegenerate","componentDidMount","instantiateEditor","componentWillUnmount","destroyEditor","componentDidUpdate","prevProps","prevState","delta","getContents","getSelection","regenerationSnapshot","setState","selection_1","editor_1","setContents","postpone","setEditorSelection","createEditor","getEditingArea","getEditorConfig","unhookEditor","bounds","formats","modules","placeholder","scrollingContainer","tabIndex","theme","getEditor","element","config","setEditorTabIndex","hookEditor","makeUnprivilegedEditor","on","off","getEditorSelection","isDelta","ops","nextValue","sel","clipboard","convert","range","length_1","getLength","index","Math","max","min","setSelection","scroll","domNode","disable","enable","e","getHTML","bind","getText","getBounds","editingArea","findDOMNode","nodeType","renderEditingArea","preserveWhitespace","properties","key","ref","instance","cloneElement","createElement","render","id","style","className","onKeyPress","onKeyDown","onKeyUp","onChange","nextSelection","_e","_f","currentSelection","hasGainedFocus","hasLostFocus","onChangeSelection","onFocus","onBlur","focus","blur","displayName","Quill","defaultProps","Component","fn","Promise","resolve","then","baseIsEqual","other","Buffer","factory","self","installedModules","moduleId","l","m","c","name","getter","o","defineProperty","configurable","enumerable","get","object","property","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","find","query","register","Container","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","extendStatics","ParchmentError","message","attributes","classes","tags","types","scope","match","ANY","Node","TEXT_NODE","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","split","tagName","TYPE","DATA_KEY","input","BlotClass","node","bubble","blot","parentNode","Definitions","_i","map","Definition","blotName","attrName","keyName","isArray","toUpperCase","tagNames","forEach","tag","diff","equal","extend","op","NULL_CHARACTER","String","fromCharCode","Delta","insert","text","newOp","keys","delete","retain","lastOp","unshift","splice","chop","pop","filter","predicate","partition","passed","failed","reduce","initial","changeLength","elem","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","thisOp","otherOp","rest","concat","strings","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","transform","priority","transformPosition","offset","nextType","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","setProperty","target","options","newValue","writable","getProperty","src","copy","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","undefined","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","parent","getPrototypeOf","_extend2","_interopRequireDefault","_quillDelta2","_parchment2","_break2","_inline2","_text2","_classCallCheck","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","_Parchment$Embed","values","attribute","BLOCK_ATTRIBUTE","format","def","endsWith","block","insertBefore","insertAt","BLOCK_BLOT","_Parchment$Block","_this2","cache","descendants","leaf","lines","shift","tail","head","remove","context","child","force","statics","defaultChild","allowedChildren","overload","expandConfig","_typeof","Symbol","_slicedToArray","_arr","_n","_s","done","err","sliceIterator","_editor2","_emitter4","_module2","_selection","_selection2","_logger2","_theme2","_defineProperty","debug","container","error","html","trim","classList","add","__quill","addContainer","setAttribute","emitter","whitelist","keyboard","addModule","history","init","events","EDITOR_CHANGE","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","mutations","lastRange","modify","update","contents","clear","limit","level","imports","path","overwrite","warn","startsWith","refNode","document","setRange","_this3","_overload","_overload2","deleteText","enabled","scrollTop","scrollIntoView","_this4","sources","API","change","formatLine","formatText","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","containerBounds","getBoundingClientRect","bottom","top","height","left","right","width","_overload7","_overload8","getFormat","Number","MAX_VALUE","getRange","_overload9","_overload10","hasFocus","embed","_this7","insertEmbed","_this8","_overload11","_overload12","insertText","contains","once","dangerouslyPasteHTML","_this9","_overload13","_overload14","removeFormat","_this10","deleted","applied","applyDelta","_overload15","_overload16","Range","USER","_this11","userConfig","DEFAULTS","import","themeConfig","moduleConfig","moduleClass","toolbar","querySelector","modifier","strict","isEnabled","oldDelta","shiftRange","_emitter","_emitter2","args","emit","_map","pos","_map2","_map3","_map4","version","parchment","_Parchment$Inline","compare","BLOT","isolate","wrap","moveChildren","selfIndex","order","otherIndex","_parchment","TextBlot","_Parchment$Text","_eventemitter2","addEventListener","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","event","_len2","_key2","_ref","handler","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","opts","Date","getTime","isUndefinedOrNull","isBuffer","ka","kb","sort","objEquiv","x","attributeBit","ATTRIBUTE","item","canAdd","replace","removeAttribute","Code","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","deleteAt","nextNewline","newlineIndex","prevNewline","isolateLength","formatAt","_descendant3","_descendant4","searchIndex","reverse","lastIndexOf","appendChild","prev","optimize","removeChild","unwrap","TAB","_op2","_code2","_cursor2","_block","_clone2","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","image","list","bullet","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","data","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","listenDOM","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","body","_format","nativeRange","collapsed","after","attach","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rect","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","rangeToNative","oldRange","_getRange","_getRange2","Break","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","lengthLeft","detach","childBlot","refBlot","insertInto","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","nativeSet","nativePromise","Map","_","Set","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","_clone","proto","reject","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","allocUnsafe","keyChild","valueChild","set","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","__objToStr","re","flags","global","ignoreCase","multiline","clonePrototype","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_newlineIndex","getLines","observer","takeRecords","SHORTKEY","_quill2","test","navigator","platform","Keyboard","_Module","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","evt","binding","normalize","which","keyCode","defaultPrevented","_quill$getLine","getLine","_quill$getLine2","_quill$getLeaf","getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","every","preventDefault","makeEmbedArrowHandler","_ref3","where","LEFT","RIGHT","_quill$getLeaf3","_quill$getLine11","_quill$getLine13","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine17","nextFormats","firstFormats","lastFormats","lineFormats","makeCodeBlockHandler","indent","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","getIndex","makeFormatHandler","shortKey","charCodeAt","ESCAPE","UP","DOWN","bold","italic","underline","outdent","tab","cutoff","updateContents","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","sanitize","_inline","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard2","_dropdown2","optionsCounter","toggleAriaAttribute","Picker","select","buildPicker","display","label","togglePicker","escape","option","hasAttribute","selectItem","buildItem","selected","buildLabel","buildOptions","close","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","isActive","_embed2","_scroll2","_clipboard2","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","styles","attr","ClassAttributor","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","align","center","justify","background","blockquote","clean","code","color","direction","rtl","float","full","formula","link","ordered","check","script","sub","super","strike","video","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","deleteLength","changeIndex","endsWithNewlineChange","BaseTooltip","_colorPicker2","_iconPicker2","_picker2","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","removeEventListener","tooltip","textbox","hide","pickers","picker","extendToolbar","buttons","icons","button","selects","fillSelect","handlers","edit","fileInput","files","reader","FileReader","onload","result","readAsDataURL","click","_Tooltip","boundsContainer","save","cancel","mode","preview","linkRange","restoreFocus","extractVideoUrl","LinkedList","append","nodes","cur","curNode","ret","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","InlineBlot","obj1","obj2","isEqual","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","token","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","longtext","shorttext","hm","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","text1_a","text1_b","text2_a","text2_b","hm1","ceil","hm2","mid_common","diff_halfMatch_","diffs_a","diffs_b","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","diff_bisect_","diff_compute_","diff_cleanupMerge","norm","current_pos","next_pos","split_pos","d_left","d_right","cursor_normalize_diff","ndiffs","cursor_pointer","d_next","merge_tuples","fix_cursor","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","fix_emoji","y","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","pointer","count_delete","count_insert","text_delete","text_insert","changes","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","deltaEndsWith","ELEMENT_NODE","fontStyle","computeStyle","fontWeight","applyFormat","parseFloat","textIndent","matchAlias","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","paste","pair","_pair","window","getComputedStyle","endText","childrenDelta","nextElementSibling","nodeHeight","offsetHeight","marginTop","marginBottom","offsetTop","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_quill$selection$getR","prompt","addButton","groups","group","control","addSelect","_picker","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","_base","_base2","_link2","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","buildButtons","buildPickers","SnowTooltip","_BaseTooltip","show","_core2","_indent","_blockquote2","_header2","_list","_list2","_bold2","_italic2","_script2","_strike2","_underline2","_image2","_video2","_code","_formula2","_syntax2","_toolbar2","_bubble2","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","_bold","Italic","_Bold","Script","Strike","Underline","_link","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","_highlight","cachedText","Syntax","highlight","timer","clearTimeout","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft"],"mappings":"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"},"input":"(this[\"webpackJsonp@minimal/minimal-kit-react\"] = this[\"webpackJsonp@minimal/minimal-kit-react\"] || []).push([[5],{\n\n/***/ 1864:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\nReact-Quill\nhttps://github.com/zenoamaro/react-quill\n*/\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar react_1 = __importDefault(__webpack_require__(1));\n\nvar react_dom_1 = __importDefault(__webpack_require__(44));\n\nvar isEqual_1 = __importDefault(__webpack_require__(2309));\n\nvar quill_1 = __importDefault(__webpack_require__(2310));\n\nvar ReactQuill =\n/** @class */\nfunction (_super) {\n  __extends(ReactQuill, _super);\n\n  function ReactQuill(props) {\n    var _this = _super.call(this, props) || this;\n    /*\n    Changing one of these props should cause a full re-render and a\n    re-instantiation of the Quill editor.\n    */\n\n\n    _this.dirtyProps = ['modules', 'formats', 'bounds', 'theme', 'children'];\n    /*\n    Changing one of these props should cause a regular update. These are mostly\n    props that act on the container, rather than the quillized editing area.\n    */\n\n    _this.cleanProps = ['id', 'className', 'style', 'placeholder', 'tabIndex', 'onChange', 'onChangeSelection', 'onFocus', 'onBlur', 'onKeyPress', 'onKeyDown', 'onKeyUp'];\n    _this.state = {\n      generation: 0\n    };\n    /*\n    Tracks the internal selection of the Quill editor\n    */\n\n    _this.selection = null;\n\n    _this.onEditorChange = function (eventName, rangeOrDelta, oldRangeOrDelta, source) {\n      var _a, _b, _c, _d;\n\n      if (eventName === 'text-change') {\n        (_b = (_a = _this).onEditorChangeText) === null || _b === void 0 ? void 0 : _b.call(_a, _this.editor.root.innerHTML, rangeOrDelta, source, _this.unprivilegedEditor);\n      } else if (eventName === 'selection-change') {\n        (_d = (_c = _this).onEditorChangeSelection) === null || _d === void 0 ? void 0 : _d.call(_c, rangeOrDelta, source, _this.unprivilegedEditor);\n      }\n    };\n\n    var value = _this.isControlled() ? props.value : props.defaultValue;\n    _this.value = value !== null && value !== void 0 ? value : '';\n    return _this;\n  }\n\n  ReactQuill.prototype.validateProps = function (props) {\n    var _a;\n\n    if (react_1.default.Children.count(props.children) > 1) throw new Error('The Quill editing area can only be composed of a single React element.');\n\n    if (react_1.default.Children.count(props.children)) {\n      var child = react_1.default.Children.only(props.children);\n      if (((_a = child) === null || _a === void 0 ? void 0 : _a.type) === 'textarea') throw new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\n    }\n\n    if (this.lastDeltaChangeSet && props.value === this.lastDeltaChangeSet) throw new Error('You are passing the `delta` object from the `onChange` event back ' + 'as `value`. You most probably want `editor.getContents()` instead. ' + 'See: https://github.com/zenoamaro/react-quill#using-deltas');\n  };\n\n  ReactQuill.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    var _this = this;\n\n    var _a;\n\n    this.validateProps(nextProps); // If the editor hasn't been instantiated yet, or the component has been\n    // regenerated, we already know we should update.\n\n    if (!this.editor || this.state.generation !== nextState.generation) {\n      return true;\n    } // Handle value changes in-place\n\n\n    if ('value' in nextProps) {\n      var prevContents = this.getEditorContents();\n      var nextContents = (_a = nextProps.value, _a !== null && _a !== void 0 ? _a : ''); // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\n      //       settle for a hybrid between controlled and uncontrolled mode. We\n      //       can't prevent the change, but we'll still override content\n      //       whenever `value` differs from current state.\n      // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\n      //       change, regardless of whether they represent the same document.\n\n      if (!this.isEqualValue(nextContents, prevContents)) {\n        this.setEditorContents(this.editor, nextContents);\n      }\n    } // Handle read-only changes in-place\n\n\n    if (nextProps.readOnly !== this.props.readOnly) {\n      this.setEditorReadOnly(this.editor, nextProps.readOnly);\n    } // Clean and Dirty props require a render\n\n\n    return __spreadArrays(this.cleanProps, this.dirtyProps).some(function (prop) {\n      return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n    });\n  };\n\n  ReactQuill.prototype.shouldComponentRegenerate = function (nextProps) {\n    var _this = this; // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\n\n\n    return this.dirtyProps.some(function (prop) {\n      return !isEqual_1.default(nextProps[prop], _this.props[prop]);\n    });\n  };\n\n  ReactQuill.prototype.componentDidMount = function () {\n    this.instantiateEditor();\n    this.setEditorContents(this.editor, this.getEditorContents());\n  };\n\n  ReactQuill.prototype.componentWillUnmount = function () {\n    this.destroyEditor();\n  };\n\n  ReactQuill.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _this = this; // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\n    // to be re-instantiated. Regenerating the editor will cause the whole tree,\n    // including the container, to be cleaned up and re-rendered from scratch.\n    // Store the contents so they can be restored later.\n\n\n    if (this.editor && this.shouldComponentRegenerate(prevProps)) {\n      var delta = this.editor.getContents();\n      var selection = this.editor.getSelection();\n      this.regenerationSnapshot = {\n        delta: delta,\n        selection: selection\n      };\n      this.setState({\n        generation: this.state.generation + 1\n      });\n      this.destroyEditor();\n    } // The component has been regenerated, so it must be re-instantiated, and\n    // its content must be restored to the previous values from the snapshot.\n\n\n    if (this.state.generation !== prevState.generation) {\n      var _a = this.regenerationSnapshot,\n          delta = _a.delta,\n          selection_1 = _a.selection;\n      delete this.regenerationSnapshot;\n      this.instantiateEditor();\n      var editor_1 = this.editor;\n      editor_1.setContents(delta);\n      postpone(function () {\n        return _this.setEditorSelection(editor_1, selection_1);\n      });\n    }\n  };\n\n  ReactQuill.prototype.instantiateEditor = function () {\n    if (this.editor) return;\n    this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\n  };\n\n  ReactQuill.prototype.destroyEditor = function () {\n    if (!this.editor) return;\n    this.unhookEditor(this.editor);\n    delete this.editor;\n  };\n  /*\n  We consider the component to be controlled if `value` is being sent in props.\n  */\n\n\n  ReactQuill.prototype.isControlled = function () {\n    return 'value' in this.props;\n  };\n\n  ReactQuill.prototype.getEditorConfig = function () {\n    return {\n      bounds: this.props.bounds,\n      formats: this.props.formats,\n      modules: this.props.modules,\n      placeholder: this.props.placeholder,\n      readOnly: this.props.readOnly,\n      scrollingContainer: this.props.scrollingContainer,\n      tabIndex: this.props.tabIndex,\n      theme: this.props.theme\n    };\n  };\n\n  ReactQuill.prototype.getEditor = function () {\n    if (!this.editor) throw new Error('Accessing non-instantiated editor');\n    return this.editor;\n  };\n  /**\n  Creates an editor on the given element. The editor will be passed the\n  configuration, have its events bound,\n  */\n\n\n  ReactQuill.prototype.createEditor = function (element, config) {\n    var editor = new quill_1.default(element, config);\n\n    if (config.tabIndex != null) {\n      this.setEditorTabIndex(editor, config.tabIndex);\n    }\n\n    this.hookEditor(editor);\n    return editor;\n  };\n\n  ReactQuill.prototype.hookEditor = function (editor) {\n    // Expose the editor on change events via a weaker, unprivileged proxy\n    // object that does not allow accidentally modifying editor state.\n    this.unprivilegedEditor = this.makeUnprivilegedEditor(editor); // Using `editor-change` allows picking up silent updates, like selection\n    // changes on typing.\n\n    editor.on('editor-change', this.onEditorChange);\n  };\n\n  ReactQuill.prototype.unhookEditor = function (editor) {\n    editor.off('editor-change', this.onEditorChange);\n  };\n\n  ReactQuill.prototype.getEditorContents = function () {\n    return this.value;\n  };\n\n  ReactQuill.prototype.getEditorSelection = function () {\n    return this.selection;\n  };\n  /*\n  True if the value is a Delta instance or a Delta look-alike.\n  */\n\n\n  ReactQuill.prototype.isDelta = function (value) {\n    return value && value.ops;\n  };\n  /*\n  Special comparison function that knows how to compare Deltas.\n  */\n\n\n  ReactQuill.prototype.isEqualValue = function (value, nextValue) {\n    if (this.isDelta(value) && this.isDelta(nextValue)) {\n      return isEqual_1.default(value.ops, nextValue.ops);\n    } else {\n      return isEqual_1.default(value, nextValue);\n    }\n  };\n  /*\n  Replace the contents of the editor, but keep the previous selection hanging\n  around so that the cursor won't move.\n  */\n\n\n  ReactQuill.prototype.setEditorContents = function (editor, value) {\n    var _this = this;\n\n    this.value = value;\n    var sel = this.getEditorSelection();\n\n    if (typeof value === 'string') {\n      editor.setContents(editor.clipboard.convert(value));\n    } else {\n      editor.setContents(value);\n    }\n\n    postpone(function () {\n      return _this.setEditorSelection(editor, sel);\n    });\n  };\n\n  ReactQuill.prototype.setEditorSelection = function (editor, range) {\n    this.selection = range;\n\n    if (range) {\n      // Validate bounds before applying.\n      var length_1 = editor.getLength();\n      range.index = Math.max(0, Math.min(range.index, length_1 - 1));\n      range.length = Math.max(0, Math.min(range.length, length_1 - 1 - range.index));\n      editor.setSelection(range);\n    }\n  };\n\n  ReactQuill.prototype.setEditorTabIndex = function (editor, tabIndex) {\n    var _a, _b;\n\n    if ((_b = (_a = editor) === null || _a === void 0 ? void 0 : _a.scroll) === null || _b === void 0 ? void 0 : _b.domNode) {\n      editor.scroll.domNode.tabIndex = tabIndex;\n    }\n  };\n\n  ReactQuill.prototype.setEditorReadOnly = function (editor, value) {\n    if (value) {\n      editor.disable();\n    } else {\n      editor.enable();\n    }\n  };\n  /*\n  Returns a weaker, unprivileged proxy object that only exposes read-only\n  accessors found on the editor instance, without any state-modifying methods.\n  */\n\n\n  ReactQuill.prototype.makeUnprivilegedEditor = function (editor) {\n    var e = editor;\n    return {\n      getHTML: function getHTML() {\n        return e.root.innerHTML;\n      },\n      getLength: e.getLength.bind(e),\n      getText: e.getText.bind(e),\n      getContents: e.getContents.bind(e),\n      getSelection: e.getSelection.bind(e),\n      getBounds: e.getBounds.bind(e)\n    };\n  };\n\n  ReactQuill.prototype.getEditingArea = function () {\n    if (!this.editingArea) {\n      throw new Error('Instantiating on missing editing area');\n    }\n\n    var element = react_dom_1.default.findDOMNode(this.editingArea);\n\n    if (!element) {\n      throw new Error('Cannot find element for editing area');\n    }\n\n    if (element.nodeType === 3) {\n      throw new Error('Editing area cannot be a text node');\n    }\n\n    return element;\n  };\n  /*\n  Renders an editor area, unless it has been provided one to clone.\n  */\n\n\n  ReactQuill.prototype.renderEditingArea = function () {\n    var _this = this;\n\n    var _a = this.props,\n        children = _a.children,\n        preserveWhitespace = _a.preserveWhitespace;\n    var generation = this.state.generation;\n    var properties = {\n      key: generation,\n      ref: function ref(instance) {\n        _this.editingArea = instance;\n      }\n    };\n\n    if (react_1.default.Children.count(children)) {\n      return react_1.default.cloneElement(react_1.default.Children.only(children), properties);\n    }\n\n    return preserveWhitespace ? react_1.default.createElement(\"pre\", __assign({}, properties)) : react_1.default.createElement(\"div\", __assign({}, properties));\n  };\n\n  ReactQuill.prototype.render = function () {\n    var _a;\n\n    return react_1.default.createElement(\"div\", {\n      id: this.props.id,\n      style: this.props.style,\n      key: this.state.generation,\n      className: \"quill \" + (_a = this.props.className, _a !== null && _a !== void 0 ? _a : ''),\n      onKeyPress: this.props.onKeyPress,\n      onKeyDown: this.props.onKeyDown,\n      onKeyUp: this.props.onKeyUp\n    }, this.renderEditingArea());\n  };\n\n  ReactQuill.prototype.onEditorChangeText = function (value, delta, source, editor) {\n    var _a, _b;\n\n    if (!this.editor) return; // We keep storing the same type of value as what the user gives us,\n    // so that value comparisons will be more stable and predictable.\n\n    var nextContents = this.isDelta(this.value) ? editor.getContents() : editor.getHTML();\n\n    if (nextContents !== this.getEditorContents()) {\n      // Taint this `delta` object, so we can recognize whether the user\n      // is trying to send it back as `value`, preventing a likely loop.\n      this.lastDeltaChangeSet = delta;\n      this.value = nextContents;\n      (_b = (_a = this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value, delta, source, editor);\n    }\n  };\n\n  ReactQuill.prototype.onEditorChangeSelection = function (nextSelection, source, editor) {\n    var _a, _b, _c, _d, _e, _f;\n\n    if (!this.editor) return;\n    var currentSelection = this.getEditorSelection();\n    var hasGainedFocus = !currentSelection && nextSelection;\n    var hasLostFocus = currentSelection && !nextSelection;\n    if (isEqual_1.default(nextSelection, currentSelection)) return;\n    this.selection = nextSelection;\n    (_b = (_a = this.props).onChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_a, nextSelection, source, editor);\n\n    if (hasGainedFocus) {\n      (_d = (_c = this.props).onFocus) === null || _d === void 0 ? void 0 : _d.call(_c, nextSelection, source, editor);\n    } else if (hasLostFocus) {\n      (_f = (_e = this.props).onBlur) === null || _f === void 0 ? void 0 : _f.call(_e, currentSelection, source, editor);\n    }\n  };\n\n  ReactQuill.prototype.focus = function () {\n    if (!this.editor) return;\n    this.editor.focus();\n  };\n\n  ReactQuill.prototype.blur = function () {\n    if (!this.editor) return;\n    this.selection = null;\n    this.editor.blur();\n  };\n\n  ReactQuill.displayName = 'React Quill';\n  /*\n  Export Quill to be able to call `register`\n  */\n\n  ReactQuill.Quill = quill_1.default;\n  ReactQuill.defaultProps = {\n    theme: 'snow',\n    modules: {},\n    readOnly: false\n  };\n  return ReactQuill;\n}(react_1.default.Component);\n/*\nSmall helper to execute a function in the next micro-tick.\n*/\n\n\nfunction postpone(fn) {\n  Promise.resolve().then(fn);\n}\n\nmodule.exports = ReactQuill;\n\n/***/ }),\n\n/***/ 2309:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar baseIsEqual = __webpack_require__(723);\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\n\n\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n\n/***/ }),\n\n/***/ 2310:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (true) module.exports = factory();else {}\n})(typeof self !== 'undefined' ? self : this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 109);\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ([\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var container_1 = __webpack_require__(17);\n\n      var format_1 = __webpack_require__(18);\n\n      var leaf_1 = __webpack_require__(19);\n\n      var scroll_1 = __webpack_require__(45);\n\n      var inline_1 = __webpack_require__(46);\n\n      var block_1 = __webpack_require__(47);\n\n      var embed_1 = __webpack_require__(48);\n\n      var text_1 = __webpack_require__(49);\n\n      var attributor_1 = __webpack_require__(12);\n\n      var class_1 = __webpack_require__(32);\n\n      var style_1 = __webpack_require__(33);\n\n      var store_1 = __webpack_require__(31);\n\n      var Registry = __webpack_require__(1);\n\n      var Parchment = {\n        Scope: Registry.Scope,\n        create: Registry.create,\n        find: Registry.find,\n        query: Registry.query,\n        register: Registry.register,\n        Container: container_1.default,\n        Format: format_1.default,\n        Leaf: leaf_1.default,\n        Embed: embed_1.default,\n        Scroll: scroll_1.default,\n        Block: block_1.default,\n        Inline: inline_1.default,\n        Text: text_1.default,\n        Attributor: {\n          Attribute: attributor_1.default,\n          Class: class_1.default,\n          Style: style_1.default,\n          Store: store_1.default\n        }\n      };\n      exports.default = Parchment;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var ParchmentError =\n      /** @class */\n      function (_super) {\n        __extends(ParchmentError, _super);\n\n        function ParchmentError(message) {\n          var _this = this;\n\n          message = '[Parchment] ' + message;\n          _this = _super.call(this, message) || this;\n          _this.message = message;\n          _this.name = _this.constructor.name;\n          return _this;\n        }\n\n        return ParchmentError;\n      }(Error);\n\n      exports.ParchmentError = ParchmentError;\n      var attributes = {};\n      var classes = {};\n      var tags = {};\n      var types = {};\n      exports.DATA_KEY = '__blot';\n      var Scope;\n\n      (function (Scope) {\n        Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n        Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n        Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n        Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n        Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n        Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n        Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n        Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n        Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n        Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n        Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n      })(Scope = exports.Scope || (exports.Scope = {}));\n\n      function create(input, value) {\n        var match = query(input);\n\n        if (match == null) {\n          throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n        }\n\n        var BlotClass = match;\n        var node = // @ts-ignore\n        input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n        return new BlotClass(node, value);\n      }\n\n      exports.create = create;\n\n      function find(node, bubble) {\n        if (bubble === void 0) {\n          bubble = false;\n        }\n\n        if (node == null) return null; // @ts-ignore\n\n        if (node[exports.DATA_KEY] != null) return node[exports.DATA_KEY].blot;\n        if (bubble) return find(node.parentNode, bubble);\n        return null;\n      }\n\n      exports.find = find;\n\n      function query(query, scope) {\n        if (scope === void 0) {\n          scope = Scope.ANY;\n        }\n\n        var match;\n\n        if (typeof query === 'string') {\n          match = types[query] || attributes[query]; // @ts-ignore\n        } else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n          match = types['text'];\n        } else if (typeof query === 'number') {\n          if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n          } else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n          }\n        } else if (query instanceof HTMLElement) {\n          var names = (query.getAttribute('class') || '').split(/\\s+/);\n\n          for (var i in names) {\n            match = classes[names[i]];\n            if (match) break;\n          }\n\n          match = match || tags[query.tagName];\n        }\n\n        if (match == null) return null; // @ts-ignore\n\n        if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope) return match;\n        return null;\n      }\n\n      exports.query = query;\n\n      function register() {\n        var Definitions = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          Definitions[_i] = arguments[_i];\n        }\n\n        if (Definitions.length > 1) {\n          return Definitions.map(function (d) {\n            return register(d);\n          });\n        }\n\n        var Definition = Definitions[0];\n\n        if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n          throw new ParchmentError('Invalid definition');\n        } else if (Definition.blotName === 'abstract') {\n          throw new ParchmentError('Cannot register abstract class');\n        }\n\n        types[Definition.blotName || Definition.attrName] = Definition;\n\n        if (typeof Definition.keyName === 'string') {\n          attributes[Definition.keyName] = Definition;\n        } else {\n          if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n          }\n\n          if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n              Definition.tagName = Definition.tagName.map(function (tagName) {\n                return tagName.toUpperCase();\n              });\n            } else {\n              Definition.tagName = Definition.tagName.toUpperCase();\n            }\n\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n              if (tags[tag] == null || Definition.className == null) {\n                tags[tag] = Definition;\n              }\n            });\n          }\n        }\n\n        return Definition;\n      }\n\n      exports.register = register;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var diff = __webpack_require__(51);\n\n      var equal = __webpack_require__(11);\n\n      var extend = __webpack_require__(3);\n\n      var op = __webpack_require__(20);\n\n      var NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()\n\n      var Delta = function Delta(ops) {\n        // Assume we are given a well formed ops\n        if (Array.isArray(ops)) {\n          this.ops = ops;\n        } else if (ops != null && Array.isArray(ops.ops)) {\n          this.ops = ops.ops;\n        } else {\n          this.ops = [];\n        }\n      };\n\n      Delta.prototype.insert = function (text, attributes) {\n        var newOp = {};\n        if (text.length === 0) return this;\n        newOp.insert = text;\n\n        if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n          newOp.attributes = attributes;\n        }\n\n        return this.push(newOp);\n      };\n\n      Delta.prototype['delete'] = function (length) {\n        if (length <= 0) return this;\n        return this.push({\n          'delete': length\n        });\n      };\n\n      Delta.prototype.retain = function (length, attributes) {\n        if (length <= 0) return this;\n        var newOp = {\n          retain: length\n        };\n\n        if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n          newOp.attributes = attributes;\n        }\n\n        return this.push(newOp);\n      };\n\n      Delta.prototype.push = function (newOp) {\n        var index = this.ops.length;\n        var lastOp = this.ops[index - 1];\n        newOp = extend(true, {}, newOp);\n\n        if (typeof lastOp === 'object') {\n          if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n            this.ops[index - 1] = {\n              'delete': lastOp['delete'] + newOp['delete']\n            };\n            return this;\n          } // Since it does not matter if we insert before or after deleting at the same index,\n          // always prefer to insert first\n\n\n          if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n            index -= 1;\n            lastOp = this.ops[index - 1];\n\n            if (typeof lastOp !== 'object') {\n              this.ops.unshift(newOp);\n              return this;\n            }\n          }\n\n          if (equal(newOp.attributes, lastOp.attributes)) {\n            if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n              this.ops[index - 1] = {\n                insert: lastOp.insert + newOp.insert\n              };\n              if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;\n              return this;\n            } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n              this.ops[index - 1] = {\n                retain: lastOp.retain + newOp.retain\n              };\n              if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes;\n              return this;\n            }\n          }\n        }\n\n        if (index === this.ops.length) {\n          this.ops.push(newOp);\n        } else {\n          this.ops.splice(index, 0, newOp);\n        }\n\n        return this;\n      };\n\n      Delta.prototype.chop = function () {\n        var lastOp = this.ops[this.ops.length - 1];\n\n        if (lastOp && lastOp.retain && !lastOp.attributes) {\n          this.ops.pop();\n        }\n\n        return this;\n      };\n\n      Delta.prototype.filter = function (predicate) {\n        return this.ops.filter(predicate);\n      };\n\n      Delta.prototype.forEach = function (predicate) {\n        this.ops.forEach(predicate);\n      };\n\n      Delta.prototype.map = function (predicate) {\n        return this.ops.map(predicate);\n      };\n\n      Delta.prototype.partition = function (predicate) {\n        var passed = [],\n            failed = [];\n        this.forEach(function (op) {\n          var target = predicate(op) ? passed : failed;\n          target.push(op);\n        });\n        return [passed, failed];\n      };\n\n      Delta.prototype.reduce = function (predicate, initial) {\n        return this.ops.reduce(predicate, initial);\n      };\n\n      Delta.prototype.changeLength = function () {\n        return this.reduce(function (length, elem) {\n          if (elem.insert) {\n            return length + op.length(elem);\n          } else if (elem.delete) {\n            return length - elem.delete;\n          }\n\n          return length;\n        }, 0);\n      };\n\n      Delta.prototype.length = function () {\n        return this.reduce(function (length, elem) {\n          return length + op.length(elem);\n        }, 0);\n      };\n\n      Delta.prototype.slice = function (start, end) {\n        start = start || 0;\n        if (typeof end !== 'number') end = Infinity;\n        var ops = [];\n        var iter = op.iterator(this.ops);\n        var index = 0;\n\n        while (index < end && iter.hasNext()) {\n          var nextOp;\n\n          if (index < start) {\n            nextOp = iter.next(start - index);\n          } else {\n            nextOp = iter.next(end - index);\n            ops.push(nextOp);\n          }\n\n          index += op.length(nextOp);\n        }\n\n        return new Delta(ops);\n      };\n\n      Delta.prototype.compose = function (other) {\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        var ops = [];\n        var firstOther = otherIter.peek();\n\n        if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n          var firstLeft = firstOther.retain;\n\n          while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n            firstLeft -= thisIter.peekLength();\n            ops.push(thisIter.next());\n          }\n\n          if (firstOther.retain - firstLeft > 0) {\n            otherIter.next(firstOther.retain - firstLeft);\n          }\n        }\n\n        var delta = new Delta(ops);\n\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n          if (otherIter.peekType() === 'insert') {\n            delta.push(otherIter.next());\n          } else if (thisIter.peekType() === 'delete') {\n            delta.push(thisIter.next());\n          } else {\n            var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n            var thisOp = thisIter.next(length);\n            var otherOp = otherIter.next(length);\n\n            if (typeof otherOp.retain === 'number') {\n              var newOp = {};\n\n              if (typeof thisOp.retain === 'number') {\n                newOp.retain = length;\n              } else {\n                newOp.insert = thisOp.insert;\n              } // Preserve null when composing with a retain, otherwise remove it for inserts\n\n\n              var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n              if (attributes) newOp.attributes = attributes;\n              delta.push(newOp); // Optimization if rest of other is just retain\n\n              if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n                var rest = new Delta(thisIter.rest());\n                return delta.concat(rest).chop();\n              } // Other op should be delete, we could be an insert or retain\n              // Insert + delete cancels out\n\n            } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n              delta.push(otherOp);\n            }\n          }\n        }\n\n        return delta.chop();\n      };\n\n      Delta.prototype.concat = function (other) {\n        var delta = new Delta(this.ops.slice());\n\n        if (other.ops.length > 0) {\n          delta.push(other.ops[0]);\n          delta.ops = delta.ops.concat(other.ops.slice(1));\n        }\n\n        return delta;\n      };\n\n      Delta.prototype.diff = function (other, index) {\n        if (this.ops === other.ops) {\n          return new Delta();\n        }\n\n        var strings = [this, other].map(function (delta) {\n          return delta.map(function (op) {\n            if (op.insert != null) {\n              return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n            }\n\n            var prep = delta === other ? 'on' : 'with';\n            throw new Error('diff() called ' + prep + ' non-document');\n          }).join('');\n        });\n        var delta = new Delta();\n        var diffResult = diff(strings[0], strings[1], index);\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        diffResult.forEach(function (component) {\n          var length = component[1].length;\n\n          while (length > 0) {\n            var opLength = 0;\n\n            switch (component[0]) {\n              case diff.INSERT:\n                opLength = Math.min(otherIter.peekLength(), length);\n                delta.push(otherIter.next(opLength));\n                break;\n\n              case diff.DELETE:\n                opLength = Math.min(length, thisIter.peekLength());\n                thisIter.next(opLength);\n                delta['delete'](opLength);\n                break;\n\n              case diff.EQUAL:\n                opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n                var thisOp = thisIter.next(opLength);\n                var otherOp = otherIter.next(opLength);\n\n                if (equal(thisOp.insert, otherOp.insert)) {\n                  delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n                } else {\n                  delta.push(otherOp)['delete'](opLength);\n                }\n\n                break;\n            }\n\n            length -= opLength;\n          }\n        });\n        return delta.chop();\n      };\n\n      Delta.prototype.eachLine = function (predicate, newline) {\n        newline = newline || '\\n';\n        var iter = op.iterator(this.ops);\n        var line = new Delta();\n        var i = 0;\n\n        while (iter.hasNext()) {\n          if (iter.peekType() !== 'insert') return;\n          var thisOp = iter.peek();\n          var start = op.length(thisOp) - iter.peekLength();\n          var index = typeof thisOp.insert === 'string' ? thisOp.insert.indexOf(newline, start) - start : -1;\n\n          if (index < 0) {\n            line.push(iter.next());\n          } else if (index > 0) {\n            line.push(iter.next(index));\n          } else {\n            if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n              return;\n            }\n\n            i += 1;\n            line = new Delta();\n          }\n        }\n\n        if (line.length() > 0) {\n          predicate(line, {}, i);\n        }\n      };\n\n      Delta.prototype.transform = function (other, priority) {\n        priority = !!priority;\n\n        if (typeof other === 'number') {\n          return this.transformPosition(other, priority);\n        }\n\n        var thisIter = op.iterator(this.ops);\n        var otherIter = op.iterator(other.ops);\n        var delta = new Delta();\n\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n          if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n            delta.retain(op.length(thisIter.next()));\n          } else if (otherIter.peekType() === 'insert') {\n            delta.push(otherIter.next());\n          } else {\n            var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n            var thisOp = thisIter.next(length);\n            var otherOp = otherIter.next(length);\n\n            if (thisOp['delete']) {\n              // Our delete either makes their delete redundant or removes their retain\n              continue;\n            } else if (otherOp['delete']) {\n              delta.push(otherOp);\n            } else {\n              // We retain either their retain or insert\n              delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n            }\n          }\n        }\n\n        return delta.chop();\n      };\n\n      Delta.prototype.transformPosition = function (index, priority) {\n        priority = !!priority;\n        var thisIter = op.iterator(this.ops);\n        var offset = 0;\n\n        while (thisIter.hasNext() && offset <= index) {\n          var length = thisIter.peekLength();\n          var nextType = thisIter.peekType();\n          thisIter.next();\n\n          if (nextType === 'delete') {\n            index -= Math.min(length, index - offset);\n            continue;\n          } else if (nextType === 'insert' && (offset < index || !priority)) {\n            index += length;\n          }\n\n          offset += length;\n        }\n\n        return index;\n      };\n\n      module.exports = Delta;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      var hasOwn = Object.prototype.hasOwnProperty;\n      var toStr = Object.prototype.toString;\n      var defineProperty = Object.defineProperty;\n      var gOPD = Object.getOwnPropertyDescriptor;\n\n      var isArray = function isArray(arr) {\n        if (typeof Array.isArray === 'function') {\n          return Array.isArray(arr);\n        }\n\n        return toStr.call(arr) === '[object Array]';\n      };\n\n      var isPlainObject = function isPlainObject(obj) {\n        if (!obj || toStr.call(obj) !== '[object Object]') {\n          return false;\n        }\n\n        var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n        var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf'); // Not own constructor property must be Object\n\n        if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n          return false;\n        } // Own properties are enumerated firstly, so to speed up,\n        // if last one is own, then all properties are own.\n\n\n        var key;\n\n        for (key in obj) {\n          /**/\n        }\n\n        return typeof key === 'undefined' || hasOwn.call(obj, key);\n      }; // If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\n\n\n      var setProperty = function setProperty(target, options) {\n        if (defineProperty && options.name === '__proto__') {\n          defineProperty(target, options.name, {\n            enumerable: true,\n            configurable: true,\n            value: options.newValue,\n            writable: true\n          });\n        } else {\n          target[options.name] = options.newValue;\n        }\n      }; // Return undefined instead of __proto__ if '__proto__' is not an own property\n\n\n      var getProperty = function getProperty(obj, name) {\n        if (name === '__proto__') {\n          if (!hasOwn.call(obj, name)) {\n            return void 0;\n          } else if (gOPD) {\n            // In early versions of node, obj['__proto__'] is buggy when obj has\n            // __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n            return gOPD(obj, name).value;\n          }\n        }\n\n        return obj[name];\n      };\n\n      module.exports = function extend() {\n        var options, name, src, copy, copyIsArray, clone;\n        var target = arguments[0];\n        var i = 1;\n        var length = arguments.length;\n        var deep = false; // Handle a deep copy situation\n\n        if (typeof target === 'boolean') {\n          deep = target;\n          target = arguments[1] || {}; // skip the boolean and the target\n\n          i = 2;\n        }\n\n        if (target == null || typeof target !== 'object' && typeof target !== 'function') {\n          target = {};\n        }\n\n        for (; i < length; ++i) {\n          options = arguments[i]; // Only deal with non-null/undefined values\n\n          if (options != null) {\n            // Extend the base object\n            for (name in options) {\n              src = getProperty(target, name);\n              copy = getProperty(options, name); // Prevent never-ending loop\n\n              if (target !== copy) {\n                // Recurse if we're merging plain objects or arrays\n                if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n                  if (copyIsArray) {\n                    copyIsArray = false;\n                    clone = src && isArray(src) ? src : [];\n                  } else {\n                    clone = src && isPlainObject(src) ? src : {};\n                  } // Never move original objects, clone them\n\n\n                  setProperty(target, {\n                    name: name,\n                    newValue: extend(deep, clone, copy)\n                  }); // Don't bring in undefined values\n                } else if (typeof copy !== 'undefined') {\n                  setProperty(target, {\n                    name: name,\n                    newValue: copy\n                  });\n                }\n              }\n            }\n          }\n        } // Return the modified object\n\n\n        return target;\n      };\n      /***/\n\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var NEWLINE_LENGTH = 1;\n\n      var BlockEmbed = function (_Parchment$Embed) {\n        _inherits(BlockEmbed, _Parchment$Embed);\n\n        function BlockEmbed() {\n          _classCallCheck(this, BlockEmbed);\n\n          return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n        }\n\n        _createClass(BlockEmbed, [{\n          key: 'attach',\n          value: function attach() {\n            _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n\n            this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n          }\n        }, {\n          key: 'delta',\n          value: function delta() {\n            return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n\n            if (attribute != null) {\n              this.attributes.attribute(attribute, value);\n            }\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            this.format(name, value);\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (typeof value === 'string' && value.endsWith('\\n')) {\n              var block = _parchment2.default.create(Block.blotName);\n\n              this.parent.insertBefore(block, index === 0 ? this : this.next);\n              block.insertAt(0, value.slice(0, -1));\n            } else {\n              _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n            }\n          }\n        }]);\n\n        return BlockEmbed;\n      }(_parchment2.default.Embed);\n\n      BlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT; // It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n      var Block = function (_Parchment$Block) {\n        _inherits(Block, _Parchment$Block);\n\n        function Block(domNode) {\n          _classCallCheck(this, Block);\n\n          var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n          _this2.cache = {};\n          return _this2;\n        }\n\n        _createClass(Block, [{\n          key: 'delta',\n          value: function delta() {\n            if (this.cache.delta == null) {\n              this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n                if (leaf.length() === 0) {\n                  return delta;\n                } else {\n                  return delta.insert(leaf.value(), bubbleFormats(leaf));\n                }\n              }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n            }\n\n            return this.cache.delta;\n          }\n        }, {\n          key: 'deleteAt',\n          value: function deleteAt(index, length) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (length <= 0) return;\n\n            if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n              if (index + length === this.length()) {\n                this.format(name, value);\n              }\n            } else {\n              _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n            }\n\n            this.cache = {};\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n            if (value.length === 0) return;\n            var lines = value.split('\\n');\n            var text = lines.shift();\n\n            if (text.length > 0) {\n              if (index < this.length() - 1 || this.children.tail == null) {\n                _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n              } else {\n                this.children.tail.insertAt(this.children.tail.length(), text);\n              }\n\n              this.cache = {};\n            }\n\n            var block = this;\n            lines.reduce(function (index, line) {\n              block = block.split(index, true);\n              block.insertAt(0, line);\n              return line.length;\n            }, index + text.length);\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            var head = this.children.head;\n\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n\n            if (head instanceof _break2.default) {\n              head.remove();\n            }\n\n            this.cache = {};\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            if (this.cache.length == null) {\n              this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n            }\n\n            return this.cache.length;\n          }\n        }, {\n          key: 'moveChildren',\n          value: function moveChildren(target, ref) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'path',\n          value: function path(index) {\n            return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n          }\n        }, {\n          key: 'removeChild',\n          value: function removeChild(child) {\n            _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n\n            this.cache = {};\n          }\n        }, {\n          key: 'split',\n          value: function split(index) {\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n              var clone = this.clone();\n\n              if (index === 0) {\n                this.parent.insertBefore(clone, this);\n                return this;\n              } else {\n                this.parent.insertBefore(clone, this.next);\n                return clone;\n              }\n            } else {\n              var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n\n              this.cache = {};\n              return next;\n            }\n          }\n        }]);\n\n        return Block;\n      }(_parchment2.default.Block);\n\n      Block.blotName = 'block';\n      Block.tagName = 'P';\n      Block.defaultChild = 'break';\n      Block.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\n      function bubbleFormats(blot) {\n        var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (blot == null) return formats;\n\n        if (typeof blot.formats === 'function') {\n          formats = (0, _extend2.default)(formats, blot.formats());\n        }\n\n        if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n          return formats;\n        }\n\n        return bubbleFormats(blot.parent, formats);\n      }\n\n      exports.bubbleFormats = bubbleFormats;\n      exports.BlockEmbed = BlockEmbed;\n      exports.default = Block;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.overload = exports.expandConfig = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      __webpack_require__(50);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _editor = __webpack_require__(14);\n\n      var _editor2 = _interopRequireDefault(_editor);\n\n      var _emitter3 = __webpack_require__(8);\n\n      var _emitter4 = _interopRequireDefault(_emitter3);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _selection = __webpack_require__(15);\n\n      var _selection2 = _interopRequireDefault(_selection);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _theme = __webpack_require__(34);\n\n      var _theme2 = _interopRequireDefault(_theme);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var debug = (0, _logger2.default)('quill');\n\n      var Quill = function () {\n        _createClass(Quill, null, [{\n          key: 'debug',\n          value: function debug(limit) {\n            if (limit === true) {\n              limit = 'log';\n            }\n\n            _logger2.default.level(limit);\n          }\n        }, {\n          key: 'find',\n          value: function find(node) {\n            return node.__quill || _parchment2.default.find(node);\n          }\n        }, {\n          key: 'import',\n          value: function _import(name) {\n            if (this.imports[name] == null) {\n              debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n            }\n\n            return this.imports[name];\n          }\n        }, {\n          key: 'register',\n          value: function register(path, target) {\n            var _this = this;\n\n            var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            if (typeof path !== 'string') {\n              var name = path.attrName || path.blotName;\n\n              if (typeof name === 'string') {\n                // register(Blot | Attributor, overwrite)\n                this.register('formats/' + name, path, target);\n              } else {\n                Object.keys(path).forEach(function (key) {\n                  _this.register(key, path[key], target);\n                });\n              }\n            } else {\n              if (this.imports[path] != null && !overwrite) {\n                debug.warn('Overwriting ' + path + ' with', target);\n              }\n\n              this.imports[path] = target;\n\n              if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n                _parchment2.default.register(target);\n              } else if (path.startsWith('modules') && typeof target.register === 'function') {\n                target.register();\n              }\n            }\n          }\n        }]);\n\n        function Quill(container) {\n          var _this2 = this;\n\n          var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n          _classCallCheck(this, Quill);\n\n          this.options = expandConfig(container, options);\n          this.container = this.options.container;\n\n          if (this.container == null) {\n            return debug.error('Invalid Quill container', container);\n          }\n\n          if (this.options.debug) {\n            Quill.debug(this.options.debug);\n          }\n\n          var html = this.container.innerHTML.trim();\n          this.container.classList.add('ql-container');\n          this.container.innerHTML = '';\n          this.container.__quill = this;\n          this.root = this.addContainer('ql-editor');\n          this.root.classList.add('ql-blank');\n          this.root.setAttribute('data-gramm', false);\n          this.scrollingContainer = this.options.scrollingContainer || this.root;\n          this.emitter = new _emitter4.default();\n          this.scroll = _parchment2.default.create(this.root, {\n            emitter: this.emitter,\n            whitelist: this.options.formats\n          });\n          this.editor = new _editor2.default(this.scroll);\n          this.selection = new _selection2.default(this.scroll, this.emitter);\n          this.theme = new this.options.theme(this, this.options);\n          this.keyboard = this.theme.addModule('keyboard');\n          this.clipboard = this.theme.addModule('clipboard');\n          this.history = this.theme.addModule('history');\n          this.theme.init();\n          this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n            if (type === _emitter4.default.events.TEXT_CHANGE) {\n              _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n            }\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n            var range = _this2.selection.lastRange;\n            var index = range && range.length === 0 ? range.index : undefined;\n            modify.call(_this2, function () {\n              return _this2.editor.update(null, mutations, index);\n            }, source);\n          });\n          var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n          this.setContents(contents);\n          this.history.clear();\n\n          if (this.options.placeholder) {\n            this.root.setAttribute('data-placeholder', this.options.placeholder);\n          }\n\n          if (this.options.readOnly) {\n            this.disable();\n          }\n        }\n\n        _createClass(Quill, [{\n          key: 'addContainer',\n          value: function addContainer(container) {\n            var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n            if (typeof container === 'string') {\n              var className = container;\n              container = document.createElement('div');\n              container.classList.add(className);\n            }\n\n            this.container.insertBefore(container, refNode);\n            return container;\n          }\n        }, {\n          key: 'blur',\n          value: function blur() {\n            this.selection.setRange(null);\n          }\n        }, {\n          key: 'deleteText',\n          value: function deleteText(index, length, source) {\n            var _this3 = this;\n\n            var _overload = overload(index, length, source);\n\n            var _overload2 = _slicedToArray(_overload, 4);\n\n            index = _overload2[0];\n            length = _overload2[1];\n            source = _overload2[3];\n            return modify.call(this, function () {\n              return _this3.editor.deleteText(index, length);\n            }, source, index, -1 * length);\n          }\n        }, {\n          key: 'disable',\n          value: function disable() {\n            this.enable(false);\n          }\n        }, {\n          key: 'enable',\n          value: function enable() {\n            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            this.scroll.enable(enabled);\n            this.container.classList.toggle('ql-disabled', !enabled);\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            var scrollTop = this.scrollingContainer.scrollTop;\n            this.selection.focus();\n            this.scrollingContainer.scrollTop = scrollTop;\n            this.scrollIntoView();\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            var _this4 = this;\n\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              var range = _this4.getSelection(true);\n\n              var change = new _quillDelta2.default();\n\n              if (range == null) {\n                return change;\n              } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n                change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n              } else if (range.length === 0) {\n                _this4.selection.format(name, value);\n\n                return change;\n              } else {\n                change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n              }\n\n              _this4.setSelection(range, _emitter4.default.sources.SILENT);\n\n              return change;\n            }, source);\n          }\n        }, {\n          key: 'formatLine',\n          value: function formatLine(index, length, name, value, source) {\n            var _this5 = this;\n\n            var formats = void 0;\n\n            var _overload3 = overload(index, length, name, value, source);\n\n            var _overload4 = _slicedToArray(_overload3, 4);\n\n            index = _overload4[0];\n            length = _overload4[1];\n            formats = _overload4[2];\n            source = _overload4[3];\n            return modify.call(this, function () {\n              return _this5.editor.formatLine(index, length, formats);\n            }, source, index, 0);\n          }\n        }, {\n          key: 'formatText',\n          value: function formatText(index, length, name, value, source) {\n            var _this6 = this;\n\n            var formats = void 0;\n\n            var _overload5 = overload(index, length, name, value, source);\n\n            var _overload6 = _slicedToArray(_overload5, 4);\n\n            index = _overload6[0];\n            length = _overload6[1];\n            formats = _overload6[2];\n            source = _overload6[3];\n            return modify.call(this, function () {\n              return _this6.editor.formatText(index, length, formats);\n            }, source, index, 0);\n          }\n        }, {\n          key: 'getBounds',\n          value: function getBounds(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var bounds = void 0;\n\n            if (typeof index === 'number') {\n              bounds = this.selection.getBounds(index, length);\n            } else {\n              bounds = this.selection.getBounds(index.index, index.length);\n            }\n\n            var containerBounds = this.container.getBoundingClientRect();\n            return {\n              bottom: bounds.bottom - containerBounds.top,\n              height: bounds.height,\n              left: bounds.left - containerBounds.left,\n              right: bounds.right - containerBounds.left,\n              top: bounds.top - containerBounds.top,\n              width: bounds.width\n            };\n          }\n        }, {\n          key: 'getContents',\n          value: function getContents() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n            var _overload7 = overload(index, length);\n\n            var _overload8 = _slicedToArray(_overload7, 2);\n\n            index = _overload8[0];\n            length = _overload8[1];\n            return this.editor.getContents(index, length);\n          }\n        }, {\n          key: 'getFormat',\n          value: function getFormat() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n            if (typeof index === 'number') {\n              return this.editor.getFormat(index, length);\n            } else {\n              return this.editor.getFormat(index.index, index.length);\n            }\n          }\n        }, {\n          key: 'getIndex',\n          value: function getIndex(blot) {\n            return blot.offset(this.scroll);\n          }\n        }, {\n          key: 'getLength',\n          value: function getLength() {\n            return this.scroll.length();\n          }\n        }, {\n          key: 'getLeaf',\n          value: function getLeaf(index) {\n            return this.scroll.leaf(index);\n          }\n        }, {\n          key: 'getLine',\n          value: function getLine(index) {\n            return this.scroll.line(index);\n          }\n        }, {\n          key: 'getLines',\n          value: function getLines() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n            if (typeof index !== 'number') {\n              return this.scroll.lines(index.index, index.length);\n            } else {\n              return this.scroll.lines(index, length);\n            }\n          }\n        }, {\n          key: 'getModule',\n          value: function getModule(name) {\n            return this.theme.modules[name];\n          }\n        }, {\n          key: 'getSelection',\n          value: function getSelection() {\n            var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n            if (focus) this.focus();\n            this.update(); // Make sure we access getRange with editor in consistent state\n\n            return this.selection.getRange()[0];\n          }\n        }, {\n          key: 'getText',\n          value: function getText() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n            var _overload9 = overload(index, length);\n\n            var _overload10 = _slicedToArray(_overload9, 2);\n\n            index = _overload10[0];\n            length = _overload10[1];\n            return this.editor.getText(index, length);\n          }\n        }, {\n          key: 'hasFocus',\n          value: function hasFocus() {\n            return this.selection.hasFocus();\n          }\n        }, {\n          key: 'insertEmbed',\n          value: function insertEmbed(index, embed, value) {\n            var _this7 = this;\n\n            var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n            return modify.call(this, function () {\n              return _this7.editor.insertEmbed(index, embed, value);\n            }, source, index);\n          }\n        }, {\n          key: 'insertText',\n          value: function insertText(index, text, name, value, source) {\n            var _this8 = this;\n\n            var formats = void 0;\n\n            var _overload11 = overload(index, 0, name, value, source);\n\n            var _overload12 = _slicedToArray(_overload11, 4);\n\n            index = _overload12[0];\n            formats = _overload12[2];\n            source = _overload12[3];\n            return modify.call(this, function () {\n              return _this8.editor.insertText(index, text, formats);\n            }, source, index, text.length);\n          }\n        }, {\n          key: 'isEnabled',\n          value: function isEnabled() {\n            return !this.container.classList.contains('ql-disabled');\n          }\n        }, {\n          key: 'off',\n          value: function off() {\n            return this.emitter.off.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'on',\n          value: function on() {\n            return this.emitter.on.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'once',\n          value: function once() {\n            return this.emitter.once.apply(this.emitter, arguments);\n          }\n        }, {\n          key: 'pasteHTML',\n          value: function pasteHTML(index, html, source) {\n            this.clipboard.dangerouslyPasteHTML(index, html, source);\n          }\n        }, {\n          key: 'removeFormat',\n          value: function removeFormat(index, length, source) {\n            var _this9 = this;\n\n            var _overload13 = overload(index, length, source);\n\n            var _overload14 = _slicedToArray(_overload13, 4);\n\n            index = _overload14[0];\n            length = _overload14[1];\n            source = _overload14[3];\n            return modify.call(this, function () {\n              return _this9.editor.removeFormat(index, length);\n            }, source, index);\n          }\n        }, {\n          key: 'scrollIntoView',\n          value: function scrollIntoView() {\n            this.selection.scrollIntoView(this.scrollingContainer);\n          }\n        }, {\n          key: 'setContents',\n          value: function setContents(delta) {\n            var _this10 = this;\n\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              delta = new _quillDelta2.default(delta);\n\n              var length = _this10.getLength();\n\n              var deleted = _this10.editor.deleteText(0, length);\n\n              var applied = _this10.editor.applyDelta(delta);\n\n              var lastOp = applied.ops[applied.ops.length - 1];\n\n              if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n                _this10.editor.deleteText(_this10.getLength() - 1, 1);\n\n                applied.delete(1);\n              }\n\n              var ret = deleted.compose(applied);\n              return ret;\n            }, source);\n          }\n        }, {\n          key: 'setSelection',\n          value: function setSelection(index, length, source) {\n            if (index == null) {\n              this.selection.setRange(null, length || Quill.sources.API);\n            } else {\n              var _overload15 = overload(index, length, source);\n\n              var _overload16 = _slicedToArray(_overload15, 4);\n\n              index = _overload16[0];\n              length = _overload16[1];\n              source = _overload16[3];\n              this.selection.setRange(new _selection.Range(index, length), source);\n\n              if (source !== _emitter4.default.sources.SILENT) {\n                this.selection.scrollIntoView(this.scrollingContainer);\n              }\n            }\n          }\n        }, {\n          key: 'setText',\n          value: function setText(text) {\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            var delta = new _quillDelta2.default().insert(text);\n            return this.setContents(delta, source);\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n            var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n\n            this.selection.update(source);\n            return change;\n          }\n        }, {\n          key: 'updateContents',\n          value: function updateContents(delta) {\n            var _this11 = this;\n\n            var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n            return modify.call(this, function () {\n              delta = new _quillDelta2.default(delta);\n              return _this11.editor.applyDelta(delta, source);\n            }, source, true);\n          }\n        }]);\n\n        return Quill;\n      }();\n\n      Quill.DEFAULTS = {\n        bounds: null,\n        formats: null,\n        modules: {},\n        placeholder: '',\n        readOnly: false,\n        scrollingContainer: null,\n        strict: true,\n        theme: 'default'\n      };\n      Quill.events = _emitter4.default.events;\n      Quill.sources = _emitter4.default.sources; // eslint-disable-next-line no-undef\n\n      Quill.version = false ? undefined : \"1.3.7\";\n      Quill.imports = {\n        'delta': _quillDelta2.default,\n        'parchment': _parchment2.default,\n        'core/module': _module2.default,\n        'core/theme': _theme2.default\n      };\n\n      function expandConfig(container, userConfig) {\n        userConfig = (0, _extend2.default)(true, {\n          container: container,\n          modules: {\n            clipboard: true,\n            keyboard: true,\n            history: true\n          }\n        }, userConfig);\n\n        if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n          userConfig.theme = _theme2.default;\n        } else {\n          userConfig.theme = Quill.import('themes/' + userConfig.theme);\n\n          if (userConfig.theme == null) {\n            throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n          }\n        }\n\n        var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n        [themeConfig, userConfig].forEach(function (config) {\n          config.modules = config.modules || {};\n          Object.keys(config.modules).forEach(function (module) {\n            if (config.modules[module] === true) {\n              config.modules[module] = {};\n            }\n          });\n        });\n        var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n        var moduleConfig = moduleNames.reduce(function (config, name) {\n          var moduleClass = Quill.import('modules/' + name);\n\n          if (moduleClass == null) {\n            debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n          } else {\n            config[name] = moduleClass.DEFAULTS || {};\n          }\n\n          return config;\n        }, {}); // Special case toolbar shorthand\n\n        if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n          userConfig.modules.toolbar = {\n            container: userConfig.modules.toolbar\n          };\n        }\n\n        userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, {\n          modules: moduleConfig\n        }, themeConfig, userConfig);\n        ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n          if (typeof userConfig[key] === 'string') {\n            userConfig[key] = document.querySelector(userConfig[key]);\n          }\n        });\n        userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n          if (userConfig.modules[name]) {\n            config[name] = userConfig.modules[name];\n          }\n\n          return config;\n        }, {});\n        return userConfig;\n      } // Handle selection preservation and TEXT_CHANGE emission\n      // common to modification APIs\n\n\n      function modify(modifier, source, index, shift) {\n        if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n          return new _quillDelta2.default();\n        }\n\n        var range = index == null ? null : this.getSelection();\n        var oldDelta = this.editor.delta;\n        var change = modifier();\n\n        if (range != null) {\n          if (index === true) index = range.index;\n\n          if (shift == null) {\n            range = shiftRange(range, change, source);\n          } else if (shift !== 0) {\n            range = shiftRange(range, index, shift, source);\n          }\n\n          this.setSelection(range, _emitter4.default.sources.SILENT);\n        }\n\n        if (change.length() > 0) {\n          var _emitter;\n\n          var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n\n          (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n\n          if (source !== _emitter4.default.sources.SILENT) {\n            var _emitter2;\n\n            (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n          }\n        }\n\n        return change;\n      }\n\n      function overload(index, length, name, value, source) {\n        var formats = {};\n\n        if (typeof index.index === 'number' && typeof index.length === 'number') {\n          // Allow for throwaway end (used by insertText/insertEmbed)\n          if (typeof length !== 'number') {\n            source = value, value = name, name = length, length = index.length, index = index.index;\n          } else {\n            length = index.length, index = index.index;\n          }\n        } else if (typeof length !== 'number') {\n          source = value, value = name, name = length, length = 0;\n        } // Handle format being object, two format name/value strings or excluded\n\n\n        if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n          formats = name;\n          source = value;\n        } else if (typeof name === 'string') {\n          if (value != null) {\n            formats[name] = value;\n          } else {\n            source = name;\n          }\n        } // Handle optional source\n\n\n        source = source || _emitter4.default.sources.API;\n        return [index, length, formats, source];\n      }\n\n      function shiftRange(range, index, length, source) {\n        if (range == null) return null;\n        var start = void 0,\n            end = void 0;\n\n        if (index instanceof _quillDelta2.default) {\n          var _map = [range.index, range.index + range.length].map(function (pos) {\n            return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n          });\n\n          var _map2 = _slicedToArray(_map, 2);\n\n          start = _map2[0];\n          end = _map2[1];\n        } else {\n          var _map3 = [range.index, range.index + range.length].map(function (pos) {\n            if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n\n            if (length >= 0) {\n              return pos + length;\n            } else {\n              return Math.max(index, pos + length);\n            }\n          });\n\n          var _map4 = _slicedToArray(_map3, 2);\n\n          start = _map4[0];\n          end = _map4[1];\n        }\n\n        return new _selection.Range(start, end - start);\n      }\n\n      exports.expandConfig = expandConfig;\n      exports.overload = overload;\n      exports.default = Quill;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Inline = function (_Parchment$Inline) {\n        _inherits(Inline, _Parchment$Inline);\n\n        function Inline() {\n          _classCallCheck(this, Inline);\n\n          return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n        }\n\n        _createClass(Inline, [{\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n              var blot = this.isolate(index, length);\n\n              if (value) {\n                blot.wrap(name, value);\n              }\n            } else {\n              _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n\n            if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n              var parent = this.parent.isolate(this.offset(), this.length());\n              this.moveChildren(parent);\n              parent.wrap(this);\n            }\n          }\n        }], [{\n          key: 'compare',\n          value: function compare(self, other) {\n            var selfIndex = Inline.order.indexOf(self);\n            var otherIndex = Inline.order.indexOf(other);\n\n            if (selfIndex >= 0 || otherIndex >= 0) {\n              return selfIndex - otherIndex;\n            } else if (self === other) {\n              return 0;\n            } else if (self < other) {\n              return -1;\n            } else {\n              return 1;\n            }\n          }\n        }]);\n\n        return Inline;\n      }(_parchment2.default.Inline);\n\n      Inline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default]; // Lower index means deeper in the DOM tree, since not found (-1) is for embeds\n\n      Inline.order = ['cursor', 'inline', // Must be lower\n      'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n      ];\n      exports.default = Inline;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TextBlot = function (_Parchment$Text) {\n        _inherits(TextBlot, _Parchment$Text);\n\n        function TextBlot() {\n          _classCallCheck(this, TextBlot);\n\n          return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n        }\n\n        return TextBlot;\n      }(_parchment2.default.Text);\n\n      exports.default = TextBlot;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _eventemitter = __webpack_require__(54);\n\n      var _eventemitter2 = _interopRequireDefault(_eventemitter);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:events');\n      var EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n      EVENTS.forEach(function (eventName) {\n        document.addEventListener(eventName, function () {\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n            // TODO use WeakMap\n            if (node.__quill && node.__quill.emitter) {\n              var _node$__quill$emitter;\n\n              (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n            }\n          });\n        });\n      });\n\n      var Emitter = function (_EventEmitter) {\n        _inherits(Emitter, _EventEmitter);\n\n        function Emitter() {\n          _classCallCheck(this, Emitter);\n\n          var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n          _this.listeners = {};\n\n          _this.on('error', debug.error);\n\n          return _this;\n        }\n\n        _createClass(Emitter, [{\n          key: 'emit',\n          value: function emit() {\n            debug.log.apply(debug, arguments);\n\n            _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n          }\n        }, {\n          key: 'handleDOM',\n          value: function handleDOM(event) {\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              args[_key2 - 1] = arguments[_key2];\n            }\n\n            (this.listeners[event.type] || []).forEach(function (_ref) {\n              var node = _ref.node,\n                  handler = _ref.handler;\n\n              if (event.target === node || node.contains(event.target)) {\n                handler.apply(undefined, [event].concat(args));\n              }\n            });\n          }\n        }, {\n          key: 'listenDOM',\n          value: function listenDOM(eventName, node, handler) {\n            if (!this.listeners[eventName]) {\n              this.listeners[eventName] = [];\n            }\n\n            this.listeners[eventName].push({\n              node: node,\n              handler: handler\n            });\n          }\n        }]);\n\n        return Emitter;\n      }(_eventemitter2.default);\n\n      Emitter.events = {\n        EDITOR_CHANGE: 'editor-change',\n        SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n        SCROLL_OPTIMIZE: 'scroll-optimize',\n        SCROLL_UPDATE: 'scroll-update',\n        SELECTION_CHANGE: 'selection-change',\n        TEXT_CHANGE: 'text-change'\n      };\n      Emitter.sources = {\n        API: 'api',\n        SILENT: 'silent',\n        USER: 'user'\n      };\n      exports.default = Emitter;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Module = function Module(quill) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Module);\n\n        this.quill = quill;\n        this.options = options;\n      };\n\n      Module.DEFAULTS = {};\n      exports.default = Module;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var levels = ['error', 'warn', 'log', 'info'];\n      var level = 'warn';\n\n      function debug(method) {\n        if (levels.indexOf(method) <= levels.indexOf(level)) {\n          var _console;\n\n          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n\n        }\n      }\n\n      function namespace(ns) {\n        return levels.reduce(function (logger, method) {\n          logger[method] = debug.bind(console, method, ns);\n          return logger;\n        }, {});\n      }\n\n      debug.level = namespace.level = function (newLevel) {\n        level = newLevel;\n      };\n\n      exports.default = namespace;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var pSlice = Array.prototype.slice;\n\n      var objectKeys = __webpack_require__(52);\n\n      var isArguments = __webpack_require__(53);\n\n      var deepEqual = module.exports = function (actual, expected, opts) {\n        if (!opts) opts = {}; // 7.1. All identical values are equivalent, as determined by ===.\n\n        if (actual === expected) {\n          return true;\n        } else if (actual instanceof Date && expected instanceof Date) {\n          return actual.getTime() === expected.getTime(); // 7.3. Other pairs that do not both pass typeof value == 'object',\n          // equivalence is determined by ==.\n        } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n          return opts.strict ? actual === expected : actual == expected; // 7.4. For all other Object pairs, including Array objects, equivalence is\n          // determined by having the same number of owned properties (as verified\n          // with Object.prototype.hasOwnProperty.call), the same set of keys\n          // (although not necessarily the same order), equivalent values for every\n          // corresponding key, and an identical 'prototype' property. Note: this\n          // accounts for both named and indexed properties on Arrays.\n        } else {\n          return objEquiv(actual, expected, opts);\n        }\n      };\n\n      function isUndefinedOrNull(value) {\n        return value === null || value === undefined;\n      }\n\n      function isBuffer(x) {\n        if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n\n        if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n          return false;\n        }\n\n        if (x.length > 0 && typeof x[0] !== 'number') return false;\n        return true;\n      }\n\n      function objEquiv(a, b, opts) {\n        var i, key;\n        if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) return false; // an identical 'prototype' property.\n\n        if (a.prototype !== b.prototype) return false; //~~~I've managed to break Object.keys through screwy arguments passing.\n        //   Converting to array solves the problem.\n\n        if (isArguments(a)) {\n          if (!isArguments(b)) {\n            return false;\n          }\n\n          a = pSlice.call(a);\n          b = pSlice.call(b);\n          return deepEqual(a, b, opts);\n        }\n\n        if (isBuffer(a)) {\n          if (!isBuffer(b)) {\n            return false;\n          }\n\n          if (a.length !== b.length) return false;\n\n          for (i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) return false;\n          }\n\n          return true;\n        }\n\n        try {\n          var ka = objectKeys(a),\n              kb = objectKeys(b);\n        } catch (e) {\n          //happens when one is a string literal and the other isn't\n          return false;\n        } // having the same number of owned properties (keys incorporates\n        // hasOwnProperty)\n\n\n        if (ka.length != kb.length) return false; //the same set of keys (although not necessarily the same order),\n\n        ka.sort();\n        kb.sort(); //~~~cheap key test\n\n        for (i = ka.length - 1; i >= 0; i--) {\n          if (ka[i] != kb[i]) return false;\n        } //equivalent values for every corresponding key, and\n        //~~~possibly expensive deep test\n\n\n        for (i = ka.length - 1; i >= 0; i--) {\n          key = ka[i];\n          if (!deepEqual(a[key], b[key], opts)) return false;\n        }\n\n        return typeof a === typeof b;\n      }\n      /***/\n\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Registry = __webpack_require__(1);\n\n      var Attributor =\n      /** @class */\n      function () {\n        function Attributor(attrName, keyName, options) {\n          if (options === void 0) {\n            options = {};\n          }\n\n          this.attrName = attrName;\n          this.keyName = keyName;\n          var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n\n          if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = options.scope & Registry.Scope.LEVEL | attributeBit;\n          } else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n          }\n\n          if (options.whitelist != null) this.whitelist = options.whitelist;\n        }\n\n        Attributor.keys = function (node) {\n          return [].map.call(node.attributes, function (item) {\n            return item.name;\n          });\n        };\n\n        Attributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false;\n          node.setAttribute(this.keyName, value);\n          return true;\n        };\n\n        Attributor.prototype.canAdd = function (node, value) {\n          var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n          if (match == null) return false;\n          if (this.whitelist == null) return true;\n\n          if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n          } else {\n            return this.whitelist.indexOf(value) > -1;\n          }\n        };\n\n        Attributor.prototype.remove = function (node) {\n          node.removeAttribute(this.keyName);\n        };\n\n        Attributor.prototype.value = function (node) {\n          var value = node.getAttribute(this.keyName);\n\n          if (this.canAdd(node, value) && value) {\n            return value;\n          }\n\n          return '';\n        };\n\n        return Attributor;\n      }();\n\n      exports.default = Attributor;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.Code = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Code = function (_Inline) {\n        _inherits(Code, _Inline);\n\n        function Code() {\n          _classCallCheck(this, Code);\n\n          return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n        }\n\n        return Code;\n      }(_inline2.default);\n\n      Code.blotName = 'code';\n      Code.tagName = 'CODE';\n\n      var CodeBlock = function (_Block) {\n        _inherits(CodeBlock, _Block);\n\n        function CodeBlock() {\n          _classCallCheck(this, CodeBlock);\n\n          return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n        }\n\n        _createClass(CodeBlock, [{\n          key: 'delta',\n          value: function delta() {\n            var _this3 = this;\n\n            var text = this.domNode.textContent;\n\n            if (text.endsWith('\\n')) {\n              // Should always be true\n              text = text.slice(0, -1);\n            }\n\n            return text.split('\\n').reduce(function (delta, frag) {\n              return delta.insert(frag).insert('\\n', _this3.formats());\n            }, new _quillDelta2.default());\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            if (name === this.statics.blotName && value) return;\n\n            var _descendant = this.descendant(_text2.default, this.length() - 1),\n                _descendant2 = _slicedToArray(_descendant, 1),\n                text = _descendant2[0];\n\n            if (text != null) {\n              text.deleteAt(text.length() - 1, 1);\n            }\n\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, name, value) {\n            if (length === 0) return;\n\n            if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n              return;\n            }\n\n            var nextNewline = this.newlineIndex(index);\n            if (nextNewline < 0 || nextNewline >= index + length) return;\n            var prevNewline = this.newlineIndex(index, true) + 1;\n            var isolateLength = nextNewline - prevNewline + 1;\n            var blot = this.isolate(prevNewline, isolateLength);\n            var next = blot.next;\n            blot.format(name, value);\n\n            if (next instanceof CodeBlock) {\n              next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n            }\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null) return;\n\n            var _descendant3 = this.descendant(_text2.default, index),\n                _descendant4 = _slicedToArray(_descendant3, 2),\n                text = _descendant4[0],\n                offset = _descendant4[1];\n\n            text.insertAt(offset, value);\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            var length = this.domNode.textContent.length;\n\n            if (!this.domNode.textContent.endsWith('\\n')) {\n              return length + 1;\n            }\n\n            return length;\n          }\n        }, {\n          key: 'newlineIndex',\n          value: function newlineIndex(searchIndex) {\n            var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (!reverse) {\n              var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n              return offset > -1 ? searchIndex + offset : -1;\n            } else {\n              return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            if (!this.domNode.textContent.endsWith('\\n')) {\n              this.appendChild(_parchment2.default.create('text', '\\n'));\n            }\n\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n\n            var next = this.next;\n\n            if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n              next.optimize(context);\n              next.moveChildren(this);\n              next.remove();\n            }\n          }\n        }, {\n          key: 'replace',\n          value: function replace(target) {\n            _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n\n            [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n              var blot = _parchment2.default.find(node);\n\n              if (blot == null) {\n                node.parentNode.removeChild(node);\n              } else if (blot instanceof _parchment2.default.Embed) {\n                blot.remove();\n              } else {\n                blot.unwrap();\n              }\n            });\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n\n            domNode.setAttribute('spellcheck', false);\n            return domNode;\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            return true;\n          }\n        }]);\n\n        return CodeBlock;\n      }(_block2.default);\n\n      CodeBlock.blotName = 'code-block';\n      CodeBlock.tagName = 'PRE';\n      CodeBlock.TAB = '  ';\n      exports.Code = Code;\n      exports.default = CodeBlock;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _op = __webpack_require__(20);\n\n      var _op2 = _interopRequireDefault(_op);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _cursor = __webpack_require__(24);\n\n      var _cursor2 = _interopRequireDefault(_cursor);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var ASCII = /^[ -~]*$/;\n\n      var Editor = function () {\n        function Editor(scroll) {\n          _classCallCheck(this, Editor);\n\n          this.scroll = scroll;\n          this.delta = this.getDelta();\n        }\n\n        _createClass(Editor, [{\n          key: 'applyDelta',\n          value: function applyDelta(delta) {\n            var _this = this;\n\n            var consumeNextNewline = false;\n            this.scroll.update();\n            var scrollLength = this.scroll.length();\n            this.scroll.batchStart();\n            delta = normalizeDelta(delta);\n            delta.reduce(function (index, op) {\n              var length = op.retain || op.delete || op.insert.length || 1;\n              var attributes = op.attributes || {};\n\n              if (op.insert != null) {\n                if (typeof op.insert === 'string') {\n                  var text = op.insert;\n\n                  if (text.endsWith('\\n') && consumeNextNewline) {\n                    consumeNextNewline = false;\n                    text = text.slice(0, -1);\n                  }\n\n                  if (index >= scrollLength && !text.endsWith('\\n')) {\n                    consumeNextNewline = true;\n                  }\n\n                  _this.scroll.insertAt(index, text);\n\n                  var _scroll$line = _this.scroll.line(index),\n                      _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                      line = _scroll$line2[0],\n                      offset = _scroll$line2[1];\n\n                  var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n\n                  if (line instanceof _block2.default) {\n                    var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                        _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                        leaf = _line$descendant2[0];\n\n                    formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n                  }\n\n                  attributes = _op2.default.attributes.diff(formats, attributes) || {};\n                } else if (_typeof(op.insert) === 'object') {\n                  var key = Object.keys(op.insert)[0]; // There should only be one key\n\n                  if (key == null) return index;\n\n                  _this.scroll.insertAt(index, key, op.insert[key]);\n                }\n\n                scrollLength += length;\n              }\n\n              Object.keys(attributes).forEach(function (name) {\n                _this.scroll.formatAt(index, length, name, attributes[name]);\n              });\n              return index + length;\n            }, 0);\n            delta.reduce(function (index, op) {\n              if (typeof op.delete === 'number') {\n                _this.scroll.deleteAt(index, op.delete);\n\n                return index;\n              }\n\n              return index + (op.retain || op.insert.length || 1);\n            }, 0);\n            this.scroll.batchEnd();\n            return this.update(delta);\n          }\n        }, {\n          key: 'deleteText',\n          value: function deleteText(index, length) {\n            this.scroll.deleteAt(index, length);\n            return this.update(new _quillDelta2.default().retain(index).delete(length));\n          }\n        }, {\n          key: 'formatLine',\n          value: function formatLine(index, length) {\n            var _this2 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            this.scroll.update();\n            Object.keys(formats).forEach(function (format) {\n              if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n\n              var lines = _this2.scroll.lines(index, Math.max(length, 1));\n\n              var lengthRemaining = length;\n              lines.forEach(function (line) {\n                var lineLength = line.length();\n\n                if (!(line instanceof _code2.default)) {\n                  line.format(format, formats[format]);\n                } else {\n                  var codeIndex = index - line.offset(_this2.scroll);\n                  var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n                  line.formatAt(codeIndex, codeLength, format, formats[format]);\n                }\n\n                lengthRemaining -= lineLength;\n              });\n            });\n            this.scroll.optimize();\n            return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'formatText',\n          value: function formatText(index, length) {\n            var _this3 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            Object.keys(formats).forEach(function (format) {\n              _this3.scroll.formatAt(index, length, format, formats[format]);\n            });\n            return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'getContents',\n          value: function getContents(index, length) {\n            return this.delta.slice(index, index + length);\n          }\n        }, {\n          key: 'getDelta',\n          value: function getDelta() {\n            return this.scroll.lines().reduce(function (delta, line) {\n              return delta.concat(line.delta());\n            }, new _quillDelta2.default());\n          }\n        }, {\n          key: 'getFormat',\n          value: function getFormat(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var lines = [],\n                leaves = [];\n\n            if (length === 0) {\n              this.scroll.path(index).forEach(function (path) {\n                var _path = _slicedToArray(path, 1),\n                    blot = _path[0];\n\n                if (blot instanceof _block2.default) {\n                  lines.push(blot);\n                } else if (blot instanceof _parchment2.default.Leaf) {\n                  leaves.push(blot);\n                }\n              });\n            } else {\n              lines = this.scroll.lines(index, length);\n              leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n            }\n\n            var formatsArr = [lines, leaves].map(function (blots) {\n              if (blots.length === 0) return {};\n              var formats = (0, _block.bubbleFormats)(blots.shift());\n\n              while (Object.keys(formats).length > 0) {\n                var blot = blots.shift();\n                if (blot == null) return formats;\n                formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n              }\n\n              return formats;\n            });\n            return _extend2.default.apply(_extend2.default, formatsArr);\n          }\n        }, {\n          key: 'getText',\n          value: function getText(index, length) {\n            return this.getContents(index, length).filter(function (op) {\n              return typeof op.insert === 'string';\n            }).map(function (op) {\n              return op.insert;\n            }).join('');\n          }\n        }, {\n          key: 'insertEmbed',\n          value: function insertEmbed(index, embed, value) {\n            this.scroll.insertAt(index, embed, value);\n            return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n          }\n        }, {\n          key: 'insertText',\n          value: function insertText(index, text) {\n            var _this4 = this;\n\n            var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n            this.scroll.insertAt(index, text);\n            Object.keys(formats).forEach(function (format) {\n              _this4.scroll.formatAt(index, text.length, format, formats[format]);\n            });\n            return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n          }\n        }, {\n          key: 'isBlank',\n          value: function isBlank() {\n            if (this.scroll.children.length == 0) return true;\n            if (this.scroll.children.length > 1) return false;\n            var block = this.scroll.children.head;\n            if (block.statics.blotName !== _block2.default.blotName) return false;\n            if (block.children.length > 1) return false;\n            return block.children.head instanceof _break2.default;\n          }\n        }, {\n          key: 'removeFormat',\n          value: function removeFormat(index, length) {\n            var text = this.getText(index, length);\n\n            var _scroll$line3 = this.scroll.line(index + length),\n                _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n                line = _scroll$line4[0],\n                offset = _scroll$line4[1];\n\n            var suffixLength = 0,\n                suffix = new _quillDelta2.default();\n\n            if (line != null) {\n              if (!(line instanceof _code2.default)) {\n                suffixLength = line.length() - offset;\n              } else {\n                suffixLength = line.newlineIndex(offset) - offset + 1;\n              }\n\n              suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n            }\n\n            var contents = this.getContents(index, length + suffixLength);\n            var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n            var delta = new _quillDelta2.default().retain(index).concat(diff);\n            return this.applyDelta(delta);\n          }\n        }, {\n          key: 'update',\n          value: function update(change) {\n            var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n            var oldDelta = this.delta;\n\n            if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n              // Optimization for character changes\n              var textBlot = _parchment2.default.find(mutations[0].target);\n\n              var formats = (0, _block.bubbleFormats)(textBlot);\n              var index = textBlot.offset(this.scroll);\n              var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n              var oldText = new _quillDelta2.default().insert(oldValue);\n              var newText = new _quillDelta2.default().insert(textBlot.value());\n              var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n              change = diffDelta.reduce(function (delta, op) {\n                if (op.insert) {\n                  return delta.insert(op.insert, formats);\n                } else {\n                  return delta.push(op);\n                }\n              }, new _quillDelta2.default());\n              this.delta = oldDelta.compose(change);\n            } else {\n              this.delta = this.getDelta();\n\n              if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n                change = oldDelta.diff(this.delta, cursorIndex);\n              }\n            }\n\n            return change;\n          }\n        }]);\n\n        return Editor;\n      }();\n\n      function combineFormats(formats, combined) {\n        return Object.keys(combined).reduce(function (merged, name) {\n          if (formats[name] == null) return merged;\n\n          if (combined[name] === formats[name]) {\n            merged[name] = combined[name];\n          } else if (Array.isArray(combined[name])) {\n            if (combined[name].indexOf(formats[name]) < 0) {\n              merged[name] = combined[name].concat([formats[name]]);\n            }\n          } else {\n            merged[name] = [combined[name], formats[name]];\n          }\n\n          return merged;\n        }, {});\n      }\n\n      function normalizeDelta(delta) {\n        return delta.reduce(function (delta, op) {\n          if (op.insert === 1) {\n            var attributes = (0, _clone2.default)(op.attributes);\n            delete attributes['image'];\n            return delta.insert({\n              image: op.attributes.image\n            }, attributes);\n          }\n\n          if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n            op = (0, _clone2.default)(op);\n\n            if (op.attributes.list) {\n              op.attributes.list = 'ordered';\n            } else {\n              op.attributes.list = 'bullet';\n              delete op.attributes.bullet;\n            }\n          }\n\n          if (typeof op.insert === 'string') {\n            var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n            return delta.insert(text, op.attributes);\n          }\n\n          return delta.push(op);\n        }, new _quillDelta2.default());\n      }\n\n      exports.default = Editor;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.Range = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _emitter3 = __webpack_require__(8);\n\n      var _emitter4 = _interopRequireDefault(_emitter3);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }\n\n          return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var debug = (0, _logger2.default)('quill:selection');\n\n      var Range = function Range(index) {\n        var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _classCallCheck(this, Range);\n\n        this.index = index;\n        this.length = length;\n      };\n\n      var Selection = function () {\n        function Selection(scroll, emitter) {\n          var _this = this;\n\n          _classCallCheck(this, Selection);\n\n          this.emitter = emitter;\n          this.scroll = scroll;\n          this.composing = false;\n          this.mouseDown = false;\n          this.root = this.scroll.domNode;\n          this.cursor = _parchment2.default.create('cursor', this); // savedRange is last non-null range\n\n          this.lastRange = this.savedRange = new Range(0, 0);\n          this.handleComposition();\n          this.handleDragging();\n          this.emitter.listenDOM('selectionchange', document, function () {\n            if (!_this.mouseDown) {\n              setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n            }\n          });\n          this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n            if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n              _this.update(_emitter4.default.sources.SILENT);\n            }\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n            if (!_this.hasFocus()) return;\n\n            var native = _this.getNativeRange();\n\n            if (native == null) return;\n            if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n            // TODO unclear if this has negative side effects\n\n            _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n              try {\n                _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n              } catch (ignored) {}\n            });\n          });\n          this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n            if (context.range) {\n              var _context$range = context.range,\n                  startNode = _context$range.startNode,\n                  startOffset = _context$range.startOffset,\n                  endNode = _context$range.endNode,\n                  endOffset = _context$range.endOffset;\n\n              _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n            }\n          });\n          this.update(_emitter4.default.sources.SILENT);\n        }\n\n        _createClass(Selection, [{\n          key: 'handleComposition',\n          value: function handleComposition() {\n            var _this2 = this;\n\n            this.root.addEventListener('compositionstart', function () {\n              _this2.composing = true;\n            });\n            this.root.addEventListener('compositionend', function () {\n              _this2.composing = false;\n\n              if (_this2.cursor.parent) {\n                var range = _this2.cursor.restore();\n\n                if (!range) return;\n                setTimeout(function () {\n                  _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n                }, 1);\n              }\n            });\n          }\n        }, {\n          key: 'handleDragging',\n          value: function handleDragging() {\n            var _this3 = this;\n\n            this.emitter.listenDOM('mousedown', document.body, function () {\n              _this3.mouseDown = true;\n            });\n            this.emitter.listenDOM('mouseup', document.body, function () {\n              _this3.mouseDown = false;\n\n              _this3.update(_emitter4.default.sources.USER);\n            });\n          }\n        }, {\n          key: 'focus',\n          value: function focus() {\n            if (this.hasFocus()) return;\n            this.root.focus();\n            this.setRange(this.savedRange);\n          }\n        }, {\n          key: 'format',\n          value: function format(_format, value) {\n            if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n            this.scroll.update();\n            var nativeRange = this.getNativeRange();\n            if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n\n            if (nativeRange.start.node !== this.cursor.textNode) {\n              var blot = _parchment2.default.find(nativeRange.start.node, false);\n\n              if (blot == null) return; // TODO Give blot ability to not split\n\n              if (blot instanceof _parchment2.default.Leaf) {\n                var after = blot.split(nativeRange.start.offset);\n                blot.parent.insertBefore(this.cursor, after);\n              } else {\n                blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n              }\n\n              this.cursor.attach();\n            }\n\n            this.cursor.format(_format, value);\n            this.scroll.optimize();\n            this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n            this.update();\n          }\n        }, {\n          key: 'getBounds',\n          value: function getBounds(index) {\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            var scrollLength = this.scroll.length();\n            index = Math.min(index, scrollLength - 1);\n            length = Math.min(index + length, scrollLength - 1) - index;\n\n            var node = void 0,\n                _scroll$leaf = this.scroll.leaf(index),\n                _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n                leaf = _scroll$leaf2[0],\n                offset = _scroll$leaf2[1];\n\n            if (leaf == null) return null;\n\n            var _leaf$position = leaf.position(offset, true);\n\n            var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n            node = _leaf$position2[0];\n            offset = _leaf$position2[1];\n            var range = document.createRange();\n\n            if (length > 0) {\n              range.setStart(node, offset);\n\n              var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n              var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n              leaf = _scroll$leaf4[0];\n              offset = _scroll$leaf4[1];\n              if (leaf == null) return null;\n\n              var _leaf$position3 = leaf.position(offset, true);\n\n              var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n              node = _leaf$position4[0];\n              offset = _leaf$position4[1];\n              range.setEnd(node, offset);\n              return range.getBoundingClientRect();\n            } else {\n              var side = 'left';\n              var rect = void 0;\n\n              if (node instanceof Text) {\n                if (offset < node.data.length) {\n                  range.setStart(node, offset);\n                  range.setEnd(node, offset + 1);\n                } else {\n                  range.setStart(node, offset - 1);\n                  range.setEnd(node, offset);\n                  side = 'right';\n                }\n\n                rect = range.getBoundingClientRect();\n              } else {\n                rect = leaf.domNode.getBoundingClientRect();\n                if (offset > 0) side = 'right';\n              }\n\n              return {\n                bottom: rect.top + rect.height,\n                height: rect.height,\n                left: rect[side],\n                right: rect[side],\n                top: rect.top,\n                width: 0\n              };\n            }\n          }\n        }, {\n          key: 'getNativeRange',\n          value: function getNativeRange() {\n            var selection = document.getSelection();\n            if (selection == null || selection.rangeCount <= 0) return null;\n            var nativeRange = selection.getRangeAt(0);\n            if (nativeRange == null) return null;\n            var range = this.normalizeNative(nativeRange);\n            debug.info('getNativeRange', range);\n            return range;\n          }\n        }, {\n          key: 'getRange',\n          value: function getRange() {\n            var normalized = this.getNativeRange();\n            if (normalized == null) return [null, null];\n            var range = this.normalizedToRange(normalized);\n            return [range, normalized];\n          }\n        }, {\n          key: 'hasFocus',\n          value: function hasFocus() {\n            return document.activeElement === this.root;\n          }\n        }, {\n          key: 'normalizedToRange',\n          value: function normalizedToRange(range) {\n            var _this4 = this;\n\n            var positions = [[range.start.node, range.start.offset]];\n\n            if (!range.native.collapsed) {\n              positions.push([range.end.node, range.end.offset]);\n            }\n\n            var indexes = positions.map(function (position) {\n              var _position = _slicedToArray(position, 2),\n                  node = _position[0],\n                  offset = _position[1];\n\n              var blot = _parchment2.default.find(node, true);\n\n              var index = blot.offset(_this4.scroll);\n\n              if (offset === 0) {\n                return index;\n              } else if (blot instanceof _parchment2.default.Container) {\n                return index + blot.length();\n              } else {\n                return index + blot.index(node, offset);\n              }\n            });\n            var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n            var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n            return new Range(start, end - start);\n          }\n        }, {\n          key: 'normalizeNative',\n          value: function normalizeNative(nativeRange) {\n            if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n              return null;\n            }\n\n            var range = {\n              start: {\n                node: nativeRange.startContainer,\n                offset: nativeRange.startOffset\n              },\n              end: {\n                node: nativeRange.endContainer,\n                offset: nativeRange.endOffset\n              },\n              native: nativeRange\n            };\n            [range.start, range.end].forEach(function (position) {\n              var node = position.node,\n                  offset = position.offset;\n\n              while (!(node instanceof Text) && node.childNodes.length > 0) {\n                if (node.childNodes.length > offset) {\n                  node = node.childNodes[offset];\n                  offset = 0;\n                } else if (node.childNodes.length === offset) {\n                  node = node.lastChild;\n                  offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n                } else {\n                  break;\n                }\n              }\n\n              position.node = node, position.offset = offset;\n            });\n            return range;\n          }\n        }, {\n          key: 'rangeToNative',\n          value: function rangeToNative(range) {\n            var _this5 = this;\n\n            var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n            var args = [];\n            var scrollLength = this.scroll.length();\n            indexes.forEach(function (index, i) {\n              index = Math.min(scrollLength - 1, index);\n\n              var node = void 0,\n                  _scroll$leaf5 = _this5.scroll.leaf(index),\n                  _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n                  leaf = _scroll$leaf6[0],\n                  offset = _scroll$leaf6[1];\n\n              var _leaf$position5 = leaf.position(offset, i !== 0);\n\n              var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n              node = _leaf$position6[0];\n              offset = _leaf$position6[1];\n              args.push(node, offset);\n            });\n\n            if (args.length < 2) {\n              args = args.concat(args);\n            }\n\n            return args;\n          }\n        }, {\n          key: 'scrollIntoView',\n          value: function scrollIntoView(scrollingContainer) {\n            var range = this.lastRange;\n            if (range == null) return;\n            var bounds = this.getBounds(range.index, range.length);\n            if (bounds == null) return;\n            var limit = this.scroll.length() - 1;\n\n            var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n                _scroll$line2 = _slicedToArray(_scroll$line, 1),\n                first = _scroll$line2[0];\n\n            var last = first;\n\n            if (range.length > 0) {\n              var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n              var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n              last = _scroll$line4[0];\n            }\n\n            if (first == null || last == null) return;\n            var scrollBounds = scrollingContainer.getBoundingClientRect();\n\n            if (bounds.top < scrollBounds.top) {\n              scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n            } else if (bounds.bottom > scrollBounds.bottom) {\n              scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n            }\n          }\n        }, {\n          key: 'setNativeRange',\n          value: function setNativeRange(startNode, startOffset) {\n            var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n            var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n            var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n            debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n\n            if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n              return;\n            }\n\n            var selection = document.getSelection();\n            if (selection == null) return;\n\n            if (startNode != null) {\n              if (!this.hasFocus()) this.root.focus();\n              var native = (this.getNativeRange() || {}).native;\n\n              if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n                if (startNode.tagName == \"BR\") {\n                  startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n                  startNode = startNode.parentNode;\n                }\n\n                if (endNode.tagName == \"BR\") {\n                  endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n                  endNode = endNode.parentNode;\n                }\n\n                var range = document.createRange();\n                range.setStart(startNode, startOffset);\n                range.setEnd(endNode, endOffset);\n                selection.removeAllRanges();\n                selection.addRange(range);\n              }\n            } else {\n              selection.removeAllRanges();\n              this.root.blur();\n              document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n            }\n          }\n        }, {\n          key: 'setRange',\n          value: function setRange(range) {\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n            if (typeof force === 'string') {\n              source = force;\n              force = false;\n            }\n\n            debug.info('setRange', range);\n\n            if (range != null) {\n              var args = this.rangeToNative(range);\n              this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n            } else {\n              this.setNativeRange(null);\n            }\n\n            this.update(source);\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n            var oldRange = this.lastRange;\n\n            var _getRange = this.getRange(),\n                _getRange2 = _slicedToArray(_getRange, 2),\n                lastRange = _getRange2[0],\n                nativeRange = _getRange2[1];\n\n            this.lastRange = lastRange;\n\n            if (this.lastRange != null) {\n              this.savedRange = this.lastRange;\n            }\n\n            if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n              var _emitter;\n\n              if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n                this.cursor.restore();\n              }\n\n              var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n\n              (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n\n              if (source !== _emitter4.default.sources.SILENT) {\n                var _emitter2;\n\n                (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n              }\n            }\n          }\n        }]);\n\n        return Selection;\n      }();\n\n      function contains(parent, descendant) {\n        try {\n          // Firefox inserts inaccessible nodes around video elements\n          descendant.parentNode;\n        } catch (e) {\n          return false;\n        } // IE11 has bug with Text nodes\n        // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n\n\n        if (descendant instanceof Text) {\n          descendant = descendant.parentNode;\n        }\n\n        return parent.contains(descendant);\n      }\n\n      exports.Range = Range;\n      exports.default = Selection;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Break = function (_Parchment$Embed) {\n        _inherits(Break, _Parchment$Embed);\n\n        function Break() {\n          _classCallCheck(this, Break);\n\n          return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n        }\n\n        _createClass(Break, [{\n          key: 'insertInto',\n          value: function insertInto(parent, ref) {\n            if (parent.children.length === 0) {\n              _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n            } else {\n              this.remove();\n            }\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            return 0;\n          }\n        }, {\n          key: 'value',\n          value: function value() {\n            return '';\n          }\n        }], [{\n          key: 'value',\n          value: function value() {\n            return undefined;\n          }\n        }]);\n\n        return Break;\n      }(_parchment2.default.Embed);\n\n      Break.blotName = 'break';\n      Break.tagName = 'BR';\n      exports.default = Break;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var linked_list_1 = __webpack_require__(44);\n\n      var shadow_1 = __webpack_require__(30);\n\n      var Registry = __webpack_require__(1);\n\n      var ContainerBlot =\n      /** @class */\n      function (_super) {\n        __extends(ContainerBlot, _super);\n\n        function ContainerBlot(domNode) {\n          var _this = _super.call(this, domNode) || this;\n\n          _this.build();\n\n          return _this;\n        }\n\n        ContainerBlot.prototype.appendChild = function (other) {\n          this.insertBefore(other);\n        };\n\n        ContainerBlot.prototype.attach = function () {\n          _super.prototype.attach.call(this);\n\n          this.children.forEach(function (child) {\n            child.attach();\n          });\n        };\n\n        ContainerBlot.prototype.build = function () {\n          var _this = this;\n\n          this.children = new linked_list_1.default(); // Need to be reversed for if DOM nodes already in order\n\n          [].slice.call(this.domNode.childNodes).reverse().forEach(function (node) {\n            try {\n              var child = makeBlot(node);\n\n              _this.insertBefore(child, _this.children.head || undefined);\n            } catch (err) {\n              if (err instanceof Registry.ParchmentError) return;else throw err;\n            }\n          });\n        };\n\n        ContainerBlot.prototype.deleteAt = function (index, length) {\n          if (index === 0 && length === this.length()) {\n            return this.remove();\n          }\n\n          this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n          });\n        };\n\n        ContainerBlot.prototype.descendant = function (criteria, index) {\n          var _a = this.children.find(index),\n              child = _a[0],\n              offset = _a[1];\n\n          if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {\n            return [child, offset];\n          } else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n          } else {\n            return [null, -1];\n          }\n        };\n\n        ContainerBlot.prototype.descendants = function (criteria, index, length) {\n          if (index === void 0) {\n            index = 0;\n          }\n\n          if (length === void 0) {\n            length = Number.MAX_VALUE;\n          }\n\n          var descendants = [];\n          var lengthLeft = length;\n          this.children.forEachAt(index, length, function (child, index, length) {\n            if (criteria.blotName == null && criteria(child) || criteria.blotName != null && child instanceof criteria) {\n              descendants.push(child);\n            }\n\n            if (child instanceof ContainerBlot) {\n              descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n\n            lengthLeft -= length;\n          });\n          return descendants;\n        };\n\n        ContainerBlot.prototype.detach = function () {\n          this.children.forEach(function (child) {\n            child.detach();\n          });\n\n          _super.prototype.detach.call(this);\n        };\n\n        ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n          this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n          });\n        };\n\n        ContainerBlot.prototype.insertAt = function (index, value, def) {\n          var _a = this.children.find(index),\n              child = _a[0],\n              offset = _a[1];\n\n          if (child) {\n            child.insertAt(offset, value, def);\n          } else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n          }\n        };\n\n        ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n          if (this.statics.allowedChildren != null && !this.statics.allowedChildren.some(function (child) {\n            return childBlot instanceof child;\n          })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n          }\n\n          childBlot.insertInto(this, refBlot);\n        };\n\n        ContainerBlot.prototype.length = function () {\n          return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n          }, 0);\n        };\n\n        ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n          this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n          });\n        };\n\n        ContainerBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n              var child = Registry.create(this.statics.defaultChild);\n              this.appendChild(child);\n              child.optimize(context);\n            } else {\n              this.remove();\n            }\n          }\n        };\n\n        ContainerBlot.prototype.path = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          var _a = this.children.find(index, inclusive),\n              child = _a[0],\n              offset = _a[1];\n\n          var position = [[this, index]];\n\n          if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n          } else if (child != null) {\n            position.push([child, offset]);\n          }\n\n          return position;\n        };\n\n        ContainerBlot.prototype.removeChild = function (child) {\n          this.children.remove(child);\n        };\n\n        ContainerBlot.prototype.replace = function (target) {\n          if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n          }\n\n          _super.prototype.replace.call(this, target);\n        };\n\n        ContainerBlot.prototype.split = function (index, force) {\n          if (force === void 0) {\n            force = false;\n          }\n\n          if (!force) {\n            if (index === 0) return this;\n            if (index === this.length()) return this.next;\n          }\n\n          var after = this.clone();\n          this.parent.insertBefore(after, this.next);\n          this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n          });\n          return after;\n        };\n\n        ContainerBlot.prototype.unwrap = function () {\n          this.moveChildren(this.parent, this.next);\n          this.remove();\n        };\n\n        ContainerBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          var addedNodes = [];\n          var removedNodes = [];\n          mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n              addedNodes.push.apply(addedNodes, mutation.addedNodes);\n              removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n          });\n          removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null && // @ts-ignore\n            node.tagName !== 'IFRAME' && document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n              return;\n            }\n\n            var blot = Registry.find(node);\n            if (blot == null) return;\n\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n              blot.detach();\n            }\n          });\n          addedNodes.filter(function (node) {\n            return node.parentNode == _this.domNode;\n          }).sort(function (a, b) {\n            if (a === b) return 0;\n\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n              return 1;\n            }\n\n            return -1;\n          }).forEach(function (node) {\n            var refBlot = null;\n\n            if (node.nextSibling != null) {\n              refBlot = Registry.find(node.nextSibling);\n            }\n\n            var blot = makeBlot(node);\n\n            if (blot.next != refBlot || blot.next == null) {\n              if (blot.parent != null) {\n                blot.parent.removeChild(_this);\n              }\n\n              _this.insertBefore(blot, refBlot || undefined);\n            }\n          });\n        };\n\n        return ContainerBlot;\n      }(shadow_1.default);\n\n      function makeBlot(node) {\n        var blot = Registry.find(node);\n\n        if (blot == null) {\n          try {\n            blot = Registry.create(node);\n          } catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n              // @ts-ignore\n              blot.domNode.appendChild(child);\n            });\n\n            if (node.parentNode) {\n              node.parentNode.replaceChild(blot.domNode, node);\n            }\n\n            blot.attach();\n          }\n        }\n\n        return blot;\n      }\n\n      exports.default = ContainerBlot;\n      /***/\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      var store_1 = __webpack_require__(31);\n\n      var container_1 = __webpack_require__(17);\n\n      var Registry = __webpack_require__(1);\n\n      var FormatBlot =\n      /** @class */\n      function (_super) {\n        __extends(FormatBlot, _super);\n\n        function FormatBlot(domNode) {\n          var _this = _super.call(this, domNode) || this;\n\n          _this.attributes = new store_1.default(_this.domNode);\n          return _this;\n        }\n\n        FormatBlot.formats = function (domNode) {\n          if (typeof this.tagName === 'string') {\n            return true;\n          } else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n          }\n\n          return undefined;\n        };\n\n        FormatBlot.prototype.format = function (name, value) {\n          var format = Registry.query(name);\n\n          if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n          } else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n              this.replaceWith(name, value);\n            }\n          }\n        };\n\n        FormatBlot.prototype.formats = function () {\n          var formats = this.attributes.values();\n          var format = this.statics.formats(this.domNode);\n\n          if (format != null) {\n            formats[this.statics.blotName] = format;\n          }\n\n          return formats;\n        };\n\n        FormatBlot.prototype.replaceWith = function (name, value) {\n          var replacement = _super.prototype.replaceWith.call(this, name, value);\n\n          this.attributes.copy(replacement);\n          return replacement;\n        };\n\n        FormatBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          _super.prototype.update.call(this, mutations, context);\n\n          if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n          })) {\n            this.attributes.build();\n          }\n        };\n\n        FormatBlot.prototype.wrap = function (name, value) {\n          var wrapper = _super.prototype.wrap.call(this, name, value);\n\n          if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n          }\n\n          return wrapper;\n        };\n\n        return FormatBlot;\n      }(container_1.default);\n\n      exports.default = FormatBlot;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var shadow_1 = __webpack_require__(30);\n\n      var Registry = __webpack_require__(1);\n\n      var LeafBlot =\n      /** @class */\n      function (_super) {\n        __extends(LeafBlot, _super);\n\n        function LeafBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        LeafBlot.value = function (domNode) {\n          return true;\n        };\n\n        LeafBlot.prototype.index = function (node, offset) {\n          if (this.domNode === node || this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n          }\n\n          return -1;\n        };\n\n        LeafBlot.prototype.position = function (index, inclusive) {\n          var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n          if (index > 0) offset += 1;\n          return [this.parent.domNode, offset];\n        };\n\n        LeafBlot.prototype.value = function () {\n          var _a;\n\n          return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n        };\n\n        LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n        return LeafBlot;\n      }(shadow_1.default);\n\n      exports.default = LeafBlot;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var equal = __webpack_require__(11);\n\n      var extend = __webpack_require__(3);\n\n      var lib = {\n        attributes: {\n          compose: function compose(a, b, keepNull) {\n            if (typeof a !== 'object') a = {};\n            if (typeof b !== 'object') b = {};\n            var attributes = extend(true, {}, b);\n\n            if (!keepNull) {\n              attributes = Object.keys(attributes).reduce(function (copy, key) {\n                if (attributes[key] != null) {\n                  copy[key] = attributes[key];\n                }\n\n                return copy;\n              }, {});\n            }\n\n            for (var key in a) {\n              if (a[key] !== undefined && b[key] === undefined) {\n                attributes[key] = a[key];\n              }\n            }\n\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          },\n          diff: function diff(a, b) {\n            if (typeof a !== 'object') a = {};\n            if (typeof b !== 'object') b = {};\n            var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n              if (!equal(a[key], b[key])) {\n                attributes[key] = b[key] === undefined ? null : b[key];\n              }\n\n              return attributes;\n            }, {});\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          },\n          transform: function transform(a, b, priority) {\n            if (typeof a !== 'object') return b;\n            if (typeof b !== 'object') return undefined;\n            if (!priority) return b; // b simply overwrites us without priority\n\n            var attributes = Object.keys(b).reduce(function (attributes, key) {\n              if (a[key] === undefined) attributes[key] = b[key]; // null is a valid value\n\n              return attributes;\n            }, {});\n            return Object.keys(attributes).length > 0 ? attributes : undefined;\n          }\n        },\n        iterator: function iterator(ops) {\n          return new Iterator(ops);\n        },\n        length: function length(op) {\n          if (typeof op['delete'] === 'number') {\n            return op['delete'];\n          } else if (typeof op.retain === 'number') {\n            return op.retain;\n          } else {\n            return typeof op.insert === 'string' ? op.insert.length : 1;\n          }\n        }\n      };\n\n      function Iterator(ops) {\n        this.ops = ops;\n        this.index = 0;\n        this.offset = 0;\n      }\n\n      ;\n\n      Iterator.prototype.hasNext = function () {\n        return this.peekLength() < Infinity;\n      };\n\n      Iterator.prototype.next = function (length) {\n        if (!length) length = Infinity;\n        var nextOp = this.ops[this.index];\n\n        if (nextOp) {\n          var offset = this.offset;\n          var opLength = lib.length(nextOp);\n\n          if (length >= opLength - offset) {\n            length = opLength - offset;\n            this.index += 1;\n            this.offset = 0;\n          } else {\n            this.offset += length;\n          }\n\n          if (typeof nextOp['delete'] === 'number') {\n            return {\n              'delete': length\n            };\n          } else {\n            var retOp = {};\n\n            if (nextOp.attributes) {\n              retOp.attributes = nextOp.attributes;\n            }\n\n            if (typeof nextOp.retain === 'number') {\n              retOp.retain = length;\n            } else if (typeof nextOp.insert === 'string') {\n              retOp.insert = nextOp.insert.substr(offset, length);\n            } else {\n              // offset should === 0, length should === 1\n              retOp.insert = nextOp.insert;\n            }\n\n            return retOp;\n          }\n        } else {\n          return {\n            retain: Infinity\n          };\n        }\n      };\n\n      Iterator.prototype.peek = function () {\n        return this.ops[this.index];\n      };\n\n      Iterator.prototype.peekLength = function () {\n        if (this.ops[this.index]) {\n          // Should never return 0 if our index is being managed correctly\n          return lib.length(this.ops[this.index]) - this.offset;\n        } else {\n          return Infinity;\n        }\n      };\n\n      Iterator.prototype.peekType = function () {\n        if (this.ops[this.index]) {\n          if (typeof this.ops[this.index]['delete'] === 'number') {\n            return 'delete';\n          } else if (typeof this.ops[this.index].retain === 'number') {\n            return 'retain';\n          } else {\n            return 'insert';\n          }\n        }\n\n        return 'retain';\n      };\n\n      Iterator.prototype.rest = function () {\n        if (!this.hasNext()) {\n          return [];\n        } else if (this.offset === 0) {\n          return this.ops.slice(this.index);\n        } else {\n          var offset = this.offset;\n          var index = this.index;\n          var next = this.next();\n          var rest = this.ops.slice(this.index);\n          this.offset = offset;\n          this.index = index;\n          return [next].concat(rest);\n        }\n      };\n\n      module.exports = lib;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports) {\n      var clone = function () {\n        'use strict';\n\n        function _instanceof(obj, type) {\n          return type != null && obj instanceof type;\n        }\n\n        var nativeMap;\n\n        try {\n          nativeMap = Map;\n        } catch (_) {\n          // maybe a reference error because no `Map`. Give it a dummy value that no\n          // value will ever be an instanceof.\n          nativeMap = function nativeMap() {};\n        }\n\n        var nativeSet;\n\n        try {\n          nativeSet = Set;\n        } catch (_) {\n          nativeSet = function nativeSet() {};\n        }\n\n        var nativePromise;\n\n        try {\n          nativePromise = Promise;\n        } catch (_) {\n          nativePromise = function nativePromise() {};\n        }\n        /**\n         * Clones (copies) an Object using deep copying.\n         *\n         * This function supports circular references by default, but if you are certain\n         * there are no circular references in your object, you can save some CPU time\n         * by calling clone(obj, false).\n         *\n         * Caution: if `circular` is false and `parent` contains circular references,\n         * your program may enter an infinite loop and crash.\n         *\n         * @param `parent` - the object to be cloned\n         * @param `circular` - set to true if the object to be cloned may contain\n         *    circular references. (optional - true by default)\n         * @param `depth` - set to a number if the object is only to be cloned to\n         *    a particular depth. (optional - defaults to Infinity)\n         * @param `prototype` - sets the prototype to be used when cloning an object.\n         *    (optional - defaults to parent prototype).\n         * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n         *    should be cloned as well. Non-enumerable properties on the prototype\n         *    chain will be ignored. (optional - false by default)\n        */\n\n\n        function clone(parent, circular, depth, prototype, includeNonEnumerable) {\n          if (typeof circular === 'object') {\n            depth = circular.depth;\n            prototype = circular.prototype;\n            includeNonEnumerable = circular.includeNonEnumerable;\n            circular = circular.circular;\n          } // maintain two arrays for circular references, where corresponding parents\n          // and children have the same index\n\n\n          var allParents = [];\n          var allChildren = [];\n          var useBuffer = typeof Buffer != 'undefined';\n          if (typeof circular == 'undefined') circular = true;\n          if (typeof depth == 'undefined') depth = Infinity; // recurse this function so we don't reset allParents and allChildren\n\n          function _clone(parent, depth) {\n            // cloning null always returns null\n            if (parent === null) return null;\n            if (depth === 0) return parent;\n            var child;\n            var proto;\n\n            if (typeof parent != 'object') {\n              return parent;\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n              child = new nativeMap();\n            } else if (_instanceof(parent, nativeSet)) {\n              child = new nativeSet();\n            } else if (_instanceof(parent, nativePromise)) {\n              child = new nativePromise(function (resolve, reject) {\n                parent.then(function (value) {\n                  resolve(_clone(value, depth - 1));\n                }, function (err) {\n                  reject(_clone(err, depth - 1));\n                });\n              });\n            } else if (clone.__isArray(parent)) {\n              child = [];\n            } else if (clone.__isRegExp(parent)) {\n              child = new RegExp(parent.source, __getRegExpFlags(parent));\n              if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n            } else if (clone.__isDate(parent)) {\n              child = new Date(parent.getTime());\n            } else if (useBuffer && Buffer.isBuffer(parent)) {\n              if (Buffer.allocUnsafe) {\n                // Node.js >= 4.5.0\n                child = Buffer.allocUnsafe(parent.length);\n              } else {\n                // Older Node.js versions\n                child = new Buffer(parent.length);\n              }\n\n              parent.copy(child);\n              return child;\n            } else if (_instanceof(parent, Error)) {\n              child = Object.create(parent);\n            } else {\n              if (typeof prototype == 'undefined') {\n                proto = Object.getPrototypeOf(parent);\n                child = Object.create(proto);\n              } else {\n                child = Object.create(prototype);\n                proto = prototype;\n              }\n            }\n\n            if (circular) {\n              var index = allParents.indexOf(parent);\n\n              if (index != -1) {\n                return allChildren[index];\n              }\n\n              allParents.push(parent);\n              allChildren.push(child);\n            }\n\n            if (_instanceof(parent, nativeMap)) {\n              parent.forEach(function (value, key) {\n                var keyChild = _clone(key, depth - 1);\n\n                var valueChild = _clone(value, depth - 1);\n\n                child.set(keyChild, valueChild);\n              });\n            }\n\n            if (_instanceof(parent, nativeSet)) {\n              parent.forEach(function (value) {\n                var entryChild = _clone(value, depth - 1);\n\n                child.add(entryChild);\n              });\n            }\n\n            for (var i in parent) {\n              var attrs;\n\n              if (proto) {\n                attrs = Object.getOwnPropertyDescriptor(proto, i);\n              }\n\n              if (attrs && attrs.set == null) {\n                continue;\n              }\n\n              child[i] = _clone(parent[i], depth - 1);\n            }\n\n            if (Object.getOwnPropertySymbols) {\n              var symbols = Object.getOwnPropertySymbols(parent);\n\n              for (var i = 0; i < symbols.length; i++) {\n                // Don't need to worry about cloning a symbol because it is a primitive,\n                // like a number or string.\n                var symbol = symbols[i];\n                var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n\n                if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n                  continue;\n                }\n\n                child[symbol] = _clone(parent[symbol], depth - 1);\n\n                if (!descriptor.enumerable) {\n                  Object.defineProperty(child, symbol, {\n                    enumerable: false\n                  });\n                }\n              }\n            }\n\n            if (includeNonEnumerable) {\n              var allPropertyNames = Object.getOwnPropertyNames(parent);\n\n              for (var i = 0; i < allPropertyNames.length; i++) {\n                var propertyName = allPropertyNames[i];\n                var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n\n                if (descriptor && descriptor.enumerable) {\n                  continue;\n                }\n\n                child[propertyName] = _clone(parent[propertyName], depth - 1);\n                Object.defineProperty(child, propertyName, {\n                  enumerable: false\n                });\n              }\n            }\n\n            return child;\n          }\n\n          return _clone(parent, depth);\n        }\n        /**\n         * Simple flat clone using prototype, accepts only objects, usefull for property\n         * override on FLAT configuration object (no nested props).\n         *\n         * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n         * works.\n         */\n\n\n        clone.clonePrototype = function clonePrototype(parent) {\n          if (parent === null) return null;\n\n          var c = function c() {};\n\n          c.prototype = parent;\n          return new c();\n        }; // private utility functions\n\n\n        function __objToStr(o) {\n          return Object.prototype.toString.call(o);\n        }\n\n        clone.__objToStr = __objToStr;\n\n        function __isDate(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object Date]';\n        }\n\n        clone.__isDate = __isDate;\n\n        function __isArray(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object Array]';\n        }\n\n        clone.__isArray = __isArray;\n\n        function __isRegExp(o) {\n          return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n        }\n\n        clone.__isRegExp = __isRegExp;\n\n        function __getRegExpFlags(re) {\n          var flags = '';\n          if (re.global) flags += 'g';\n          if (re.ignoreCase) flags += 'i';\n          if (re.multiline) flags += 'm';\n          return flags;\n        }\n\n        clone.__getRegExpFlags = __getRegExpFlags;\n        return clone;\n      }();\n\n      if (typeof module === 'object' && module.exports) {\n        module.exports = clone;\n      }\n      /***/\n\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      function isLine(blot) {\n        return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n      }\n\n      var Scroll = function (_Parchment$Scroll) {\n        _inherits(Scroll, _Parchment$Scroll);\n\n        function Scroll(domNode, config) {\n          _classCallCheck(this, Scroll);\n\n          var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n          _this.emitter = config.emitter;\n\n          if (Array.isArray(config.whitelist)) {\n            _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n              whitelist[format] = true;\n              return whitelist;\n            }, {});\n          } // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n\n\n          _this.domNode.addEventListener('DOMNodeInserted', function () {});\n\n          _this.optimize();\n\n          _this.enable();\n\n          return _this;\n        }\n\n        _createClass(Scroll, [{\n          key: 'batchStart',\n          value: function batchStart() {\n            this.batch = true;\n          }\n        }, {\n          key: 'batchEnd',\n          value: function batchEnd() {\n            this.batch = false;\n            this.optimize();\n          }\n        }, {\n          key: 'deleteAt',\n          value: function deleteAt(index, length) {\n            var _line = this.line(index),\n                _line2 = _slicedToArray(_line, 2),\n                first = _line2[0],\n                offset = _line2[1];\n\n            var _line3 = this.line(index + length),\n                _line4 = _slicedToArray(_line3, 1),\n                last = _line4[0];\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n\n            if (last != null && first !== last && offset > 0) {\n              if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n                this.optimize();\n                return;\n              }\n\n              if (first instanceof _code2.default) {\n                var newlineIndex = first.newlineIndex(first.length(), true);\n\n                if (newlineIndex > -1) {\n                  first = first.split(newlineIndex + 1);\n\n                  if (first === last) {\n                    this.optimize();\n                    return;\n                  }\n                }\n              } else if (last instanceof _code2.default) {\n                var _newlineIndex = last.newlineIndex(0);\n\n                if (_newlineIndex > -1) {\n                  last.split(_newlineIndex + 1);\n                }\n              }\n\n              var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n              first.moveChildren(last, ref);\n              first.remove();\n            }\n\n            this.optimize();\n          }\n        }, {\n          key: 'enable',\n          value: function enable() {\n            var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            this.domNode.setAttribute('contenteditable', enabled);\n          }\n        }, {\n          key: 'formatAt',\n          value: function formatAt(index, length, format, value) {\n            if (this.whitelist != null && !this.whitelist[format]) return;\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n\n            this.optimize();\n          }\n        }, {\n          key: 'insertAt',\n          value: function insertAt(index, value, def) {\n            if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n\n            if (index >= this.length()) {\n              if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n                var blot = _parchment2.default.create(this.statics.defaultChild);\n\n                this.appendChild(blot);\n\n                if (def == null && value.endsWith('\\n')) {\n                  value = value.slice(0, -1);\n                }\n\n                blot.insertAt(0, value, def);\n              } else {\n                var embed = _parchment2.default.create(value, def);\n\n                this.appendChild(embed);\n              }\n            } else {\n              _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n            }\n\n            this.optimize();\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n              var wrapper = _parchment2.default.create(this.statics.defaultChild);\n\n              wrapper.appendChild(blot);\n              blot = wrapper;\n            }\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n          }\n        }, {\n          key: 'leaf',\n          value: function leaf(index) {\n            return this.path(index).pop() || [null, -1];\n          }\n        }, {\n          key: 'line',\n          value: function line(index) {\n            if (index === this.length()) {\n              return this.line(index - 1);\n            }\n\n            return this.descendant(isLine, index);\n          }\n        }, {\n          key: 'lines',\n          value: function lines() {\n            var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n            var getLines = function getLines(blot, index, length) {\n              var lines = [],\n                  lengthLeft = length;\n              blot.children.forEachAt(index, length, function (child, index, length) {\n                if (isLine(child)) {\n                  lines.push(child);\n                } else if (child instanceof _parchment2.default.Container) {\n                  lines = lines.concat(getLines(child, index, lengthLeft));\n                }\n\n                lengthLeft -= length;\n              });\n              return lines;\n            };\n\n            return getLines(this, index, length);\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize() {\n            var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n            var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            if (this.batch === true) return;\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n            }\n          }\n        }, {\n          key: 'path',\n          value: function path(index) {\n            return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations) {\n            if (this.batch === true) return;\n            var source = _emitter2.default.sources.USER;\n\n            if (typeof mutations === 'string') {\n              source = mutations;\n            }\n\n            if (!Array.isArray(mutations)) {\n              mutations = this.observer.takeRecords();\n            }\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n            }\n\n            _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n\n\n            if (mutations.length > 0) {\n              this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n            }\n          }\n        }]);\n\n        return Scroll;\n      }(_parchment2.default.Scroll);\n\n      Scroll.blotName = 'scroll';\n      Scroll.className = 'ql-editor';\n      Scroll.tagName = 'DIV';\n      Scroll.defaultChild = 'block';\n      Scroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n      exports.default = Scroll;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SHORTKEY = exports.default = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _clone = __webpack_require__(21);\n\n      var _clone2 = _interopRequireDefault(_clone);\n\n      var _deepEqual = __webpack_require__(11);\n\n      var _deepEqual2 = _interopRequireDefault(_deepEqual);\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _op = __webpack_require__(20);\n\n      var _op2 = _interopRequireDefault(_op);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:keyboard');\n      var SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\n      var Keyboard = function (_Module) {\n        _inherits(Keyboard, _Module);\n\n        _createClass(Keyboard, null, [{\n          key: 'match',\n          value: function match(evt, binding) {\n            binding = normalize(binding);\n\n            if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n              return !!binding[key] !== evt[key] && binding[key] !== null;\n            })) {\n              return false;\n            }\n\n            return binding.key === (evt.which || evt.keyCode);\n          }\n        }]);\n\n        function Keyboard(quill, options) {\n          _classCallCheck(this, Keyboard);\n\n          var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n          _this.bindings = {};\n          Object.keys(_this.options.bindings).forEach(function (name) {\n            if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n              return;\n            }\n\n            if (_this.options.bindings[name]) {\n              _this.addBinding(_this.options.bindings[name]);\n            }\n          });\n\n          _this.addBinding({\n            key: Keyboard.keys.ENTER,\n            shiftKey: null\n          }, handleEnter);\n\n          _this.addBinding({\n            key: Keyboard.keys.ENTER,\n            metaKey: null,\n            ctrlKey: null,\n            altKey: null\n          }, function () {});\n\n          if (/Firefox/i.test(navigator.userAgent)) {\n            // Need to handle delete and backspace for Firefox in the general case #1171\n            _this.addBinding({\n              key: Keyboard.keys.BACKSPACE\n            }, {\n              collapsed: true\n            }, handleBackspace);\n\n            _this.addBinding({\n              key: Keyboard.keys.DELETE\n            }, {\n              collapsed: true\n            }, handleDelete);\n          } else {\n            _this.addBinding({\n              key: Keyboard.keys.BACKSPACE\n            }, {\n              collapsed: true,\n              prefix: /^.?$/\n            }, handleBackspace);\n\n            _this.addBinding({\n              key: Keyboard.keys.DELETE\n            }, {\n              collapsed: true,\n              suffix: /^.?$/\n            }, handleDelete);\n          }\n\n          _this.addBinding({\n            key: Keyboard.keys.BACKSPACE\n          }, {\n            collapsed: false\n          }, handleDeleteRange);\n\n          _this.addBinding({\n            key: Keyboard.keys.DELETE\n          }, {\n            collapsed: false\n          }, handleDeleteRange);\n\n          _this.addBinding({\n            key: Keyboard.keys.BACKSPACE,\n            altKey: null,\n            ctrlKey: null,\n            metaKey: null,\n            shiftKey: null\n          }, {\n            collapsed: true,\n            offset: 0\n          }, handleBackspace);\n\n          _this.listen();\n\n          return _this;\n        }\n\n        _createClass(Keyboard, [{\n          key: 'addBinding',\n          value: function addBinding(key) {\n            var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var binding = normalize(key);\n\n            if (binding == null || binding.key == null) {\n              return debug.warn('Attempted to add invalid keyboard binding', binding);\n            }\n\n            if (typeof context === 'function') {\n              context = {\n                handler: context\n              };\n            }\n\n            if (typeof handler === 'function') {\n              handler = {\n                handler: handler\n              };\n            }\n\n            binding = (0, _extend2.default)(binding, context, handler);\n            this.bindings[binding.key] = this.bindings[binding.key] || [];\n            this.bindings[binding.key].push(binding);\n          }\n        }, {\n          key: 'listen',\n          value: function listen() {\n            var _this2 = this;\n\n            this.quill.root.addEventListener('keydown', function (evt) {\n              if (evt.defaultPrevented) return;\n              var which = evt.which || evt.keyCode;\n              var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n                return Keyboard.match(evt, binding);\n              });\n              if (bindings.length === 0) return;\n\n              var range = _this2.quill.getSelection();\n\n              if (range == null || !_this2.quill.hasFocus()) return;\n\n              var _quill$getLine = _this2.quill.getLine(range.index),\n                  _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n                  line = _quill$getLine2[0],\n                  offset = _quill$getLine2[1];\n\n              var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n                  _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n                  leafStart = _quill$getLeaf2[0],\n                  offsetStart = _quill$getLeaf2[1];\n\n              var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n                  _ref2 = _slicedToArray(_ref, 2),\n                  leafEnd = _ref2[0],\n                  offsetEnd = _ref2[1];\n\n              var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n              var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n              var curContext = {\n                collapsed: range.length === 0,\n                empty: range.length === 0 && line.length() <= 1,\n                format: _this2.quill.getFormat(range),\n                offset: offset,\n                prefix: prefixText,\n                suffix: suffixText\n              };\n              var prevented = bindings.some(function (binding) {\n                if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n                if (binding.empty != null && binding.empty !== curContext.empty) return false;\n                if (binding.offset != null && binding.offset !== curContext.offset) return false;\n\n                if (Array.isArray(binding.format)) {\n                  // any format is present\n                  if (binding.format.every(function (name) {\n                    return curContext.format[name] == null;\n                  })) {\n                    return false;\n                  }\n                } else if (_typeof(binding.format) === 'object') {\n                  // all formats must match\n                  if (!Object.keys(binding.format).every(function (name) {\n                    if (binding.format[name] === true) return curContext.format[name] != null;\n                    if (binding.format[name] === false) return curContext.format[name] == null;\n                    return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n                  })) {\n                    return false;\n                  }\n                }\n\n                if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n                if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n                return binding.handler.call(_this2, range, curContext) !== true;\n              });\n\n              if (prevented) {\n                evt.preventDefault();\n              }\n            });\n          }\n        }]);\n\n        return Keyboard;\n      }(_module2.default);\n\n      Keyboard.keys = {\n        BACKSPACE: 8,\n        TAB: 9,\n        ENTER: 13,\n        ESCAPE: 27,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40,\n        DELETE: 46\n      };\n      Keyboard.DEFAULTS = {\n        bindings: {\n          'bold': makeFormatHandler('bold'),\n          'italic': makeFormatHandler('italic'),\n          'underline': makeFormatHandler('underline'),\n          'indent': {\n            // highlight tab or tab at beginning of list, indent or blockquote\n            key: Keyboard.keys.TAB,\n            format: ['blockquote', 'indent', 'list'],\n            handler: function handler(range, context) {\n              if (context.collapsed && context.offset !== 0) return true;\n              this.quill.format('indent', '+1', _quill2.default.sources.USER);\n            }\n          },\n          'outdent': {\n            key: Keyboard.keys.TAB,\n            shiftKey: true,\n            format: ['blockquote', 'indent', 'list'],\n            // highlight tab or tab at beginning of list, indent or blockquote\n            handler: function handler(range, context) {\n              if (context.collapsed && context.offset !== 0) return true;\n              this.quill.format('indent', '-1', _quill2.default.sources.USER);\n            }\n          },\n          'outdent backspace': {\n            key: Keyboard.keys.BACKSPACE,\n            collapsed: true,\n            shiftKey: null,\n            metaKey: null,\n            ctrlKey: null,\n            altKey: null,\n            format: ['indent', 'list'],\n            offset: 0,\n            handler: function handler(range, context) {\n              if (context.format.indent != null) {\n                this.quill.format('indent', '-1', _quill2.default.sources.USER);\n              } else if (context.format.list != null) {\n                this.quill.format('list', false, _quill2.default.sources.USER);\n              }\n            }\n          },\n          'indent code-block': makeCodeBlockHandler(true),\n          'outdent code-block': makeCodeBlockHandler(false),\n          'remove tab': {\n            key: Keyboard.keys.TAB,\n            shiftKey: true,\n            collapsed: true,\n            prefix: /\\t$/,\n            handler: function handler(range) {\n              this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n            }\n          },\n          'tab': {\n            key: Keyboard.keys.TAB,\n            handler: function handler(range) {\n              this.quill.history.cutoff();\n              var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n            }\n          },\n          'list empty enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['list'],\n            empty: true,\n            handler: function handler(range, context) {\n              this.quill.format('list', false, _quill2.default.sources.USER);\n\n              if (context.format.indent) {\n                this.quill.format('indent', false, _quill2.default.sources.USER);\n              }\n            }\n          },\n          'checklist enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: {\n              list: 'checked'\n            },\n            handler: function handler(range) {\n              var _quill$getLine3 = this.quill.getLine(range.index),\n                  _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n                  line = _quill$getLine4[0],\n                  offset = _quill$getLine4[1];\n\n              var formats = (0, _extend2.default)({}, line.formats(), {\n                list: 'checked'\n              });\n              var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, {\n                list: 'unchecked'\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n              this.quill.scrollIntoView();\n            }\n          },\n          'header enter': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['header'],\n            suffix: /^$/,\n            handler: function handler(range, context) {\n              var _quill$getLine5 = this.quill.getLine(range.index),\n                  _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n                  line = _quill$getLine6[0],\n                  offset = _quill$getLine6[1];\n\n              var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, {\n                header: null\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n              this.quill.scrollIntoView();\n            }\n          },\n          'list autofill': {\n            key: ' ',\n            collapsed: true,\n            format: {\n              list: false\n            },\n            prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n            handler: function handler(range, context) {\n              var length = context.prefix.length;\n\n              var _quill$getLine7 = this.quill.getLine(range.index),\n                  _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n                  line = _quill$getLine8[0],\n                  offset = _quill$getLine8[1];\n\n              if (offset > length) return true;\n              var value = void 0;\n\n              switch (context.prefix.trim()) {\n                case '[]':\n                case '[ ]':\n                  value = 'unchecked';\n                  break;\n\n                case '[x]':\n                  value = 'checked';\n                  break;\n\n                case '-':\n                case '*':\n                  value = 'bullet';\n                  break;\n\n                default:\n                  value = 'ordered';\n              }\n\n              this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, {\n                list: value\n              });\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n              this.quill.history.cutoff();\n              this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n            }\n          },\n          'code exit': {\n            key: Keyboard.keys.ENTER,\n            collapsed: true,\n            format: ['code-block'],\n            prefix: /\\n\\n$/,\n            suffix: /^\\s+$/,\n            handler: function handler(range) {\n              var _quill$getLine9 = this.quill.getLine(range.index),\n                  _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n                  line = _quill$getLine10[0],\n                  offset = _quill$getLine10[1];\n\n              var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, {\n                'code-block': null\n              }).delete(1);\n              this.quill.updateContents(delta, _quill2.default.sources.USER);\n            }\n          },\n          'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n          'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n          'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n          'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n        }\n      };\n\n      function makeEmbedArrowHandler(key, shiftKey) {\n        var _ref3;\n\n        var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n        return _ref3 = {\n          key: key,\n          shiftKey: shiftKey,\n          altKey: null\n        }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n          var index = range.index;\n\n          if (key === Keyboard.keys.RIGHT) {\n            index += range.length + 1;\n          }\n\n          var _quill$getLeaf3 = this.quill.getLeaf(index),\n              _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n              leaf = _quill$getLeaf4[0];\n\n          if (!(leaf instanceof _parchment2.default.Embed)) return true;\n\n          if (key === Keyboard.keys.LEFT) {\n            if (shiftKey) {\n              this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n            } else {\n              this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n            }\n          } else {\n            if (shiftKey) {\n              this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n            } else {\n              this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n            }\n          }\n\n          return false;\n        }), _ref3;\n      }\n\n      function handleBackspace(range, context) {\n        if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n        var _quill$getLine11 = this.quill.getLine(range.index),\n            _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n            line = _quill$getLine12[0];\n\n        var formats = {};\n\n        if (context.offset === 0) {\n          var _quill$getLine13 = this.quill.getLine(range.index - 1),\n              _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n              prev = _quill$getLine14[0];\n\n          if (prev != null && prev.length() > 1) {\n            var curFormats = line.formats();\n            var prevFormats = this.quill.getFormat(range.index - 1, 1);\n            formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n          }\n        } // Check for astral symbols\n\n\n        var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n        this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n        }\n\n        this.quill.focus();\n      }\n\n      function handleDelete(range, context) {\n        // Check for astral symbols\n        var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n        if (range.index >= this.quill.getLength() - length) return;\n        var formats = {},\n            nextLength = 0;\n\n        var _quill$getLine15 = this.quill.getLine(range.index),\n            _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n            line = _quill$getLine16[0];\n\n        if (context.offset >= line.length() - 1) {\n          var _quill$getLine17 = this.quill.getLine(range.index + 1),\n              _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n              next = _quill$getLine18[0];\n\n          if (next) {\n            var curFormats = line.formats();\n            var nextFormats = this.quill.getFormat(range.index, 1);\n            formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n            nextLength = next.length();\n          }\n        }\n\n        this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n        }\n      }\n\n      function handleDeleteRange(range) {\n        var lines = this.quill.getLines(range);\n        var formats = {};\n\n        if (lines.length > 1) {\n          var firstFormats = lines[0].formats();\n          var lastFormats = lines[lines.length - 1].formats();\n          formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n        }\n\n        this.quill.deleteText(range, _quill2.default.sources.USER);\n\n        if (Object.keys(formats).length > 0) {\n          this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n        }\n\n        this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n        this.quill.focus();\n      }\n\n      function handleEnter(range, context) {\n        var _this3 = this;\n\n        if (range.length > 0) {\n          this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n        }\n\n        var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n          if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n            lineFormats[format] = context.format[format];\n          }\n\n          return lineFormats;\n        }, {});\n        this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER); // Earlier scroll.deleteAt might have messed up our selection,\n        // so insertText's built in selection preservation is not reliable\n\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.focus();\n        Object.keys(context.format).forEach(function (name) {\n          if (lineFormats[name] != null) return;\n          if (Array.isArray(context.format[name])) return;\n          if (name === 'link') return;\n\n          _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n        });\n      }\n\n      function makeCodeBlockHandler(indent) {\n        return {\n          key: Keyboard.keys.TAB,\n          shiftKey: !indent,\n          format: {\n            'code-block': true\n          },\n          handler: function handler(range) {\n            var CodeBlock = _parchment2.default.query('code-block');\n\n            var index = range.index,\n                length = range.length;\n\n            var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n                _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n                block = _quill$scroll$descend2[0],\n                offset = _quill$scroll$descend2[1];\n\n            if (block == null) return;\n            var scrollIndex = this.quill.getIndex(block);\n            var start = block.newlineIndex(offset, true) + 1;\n            var end = block.newlineIndex(scrollIndex + offset + length);\n            var lines = block.domNode.textContent.slice(start, end).split('\\n');\n            offset = 0;\n            lines.forEach(function (line, i) {\n              if (indent) {\n                block.insertAt(start + offset, CodeBlock.TAB);\n                offset += CodeBlock.TAB.length;\n\n                if (i === 0) {\n                  index += CodeBlock.TAB.length;\n                } else {\n                  length += CodeBlock.TAB.length;\n                }\n              } else if (line.startsWith(CodeBlock.TAB)) {\n                block.deleteAt(start + offset, CodeBlock.TAB.length);\n                offset -= CodeBlock.TAB.length;\n\n                if (i === 0) {\n                  index -= CodeBlock.TAB.length;\n                } else {\n                  length -= CodeBlock.TAB.length;\n                }\n              }\n\n              offset += line.length + 1;\n            });\n            this.quill.update(_quill2.default.sources.USER);\n            this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n          }\n        };\n      }\n\n      function makeFormatHandler(format) {\n        return {\n          key: format[0].toUpperCase(),\n          shortKey: true,\n          handler: function handler(range, context) {\n            this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n          }\n        };\n      }\n\n      function normalize(binding) {\n        if (typeof binding === 'string' || typeof binding === 'number') {\n          return normalize({\n            key: binding\n          });\n        }\n\n        if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n          binding = (0, _clone2.default)(binding, false);\n        }\n\n        if (typeof binding.key === 'string') {\n          if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n            binding.key = Keyboard.keys[binding.key.toUpperCase()];\n          } else if (binding.key.length === 1) {\n            binding.key = binding.key.toUpperCase().charCodeAt(0);\n          } else {\n            return null;\n          }\n        }\n\n        if (binding.shortKey) {\n          binding[SHORTKEY] = binding.shortKey;\n          delete binding.shortKey;\n        }\n\n        return binding;\n      }\n\n      exports.default = Keyboard;\n      exports.SHORTKEY = SHORTKEY;\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Cursor = function (_Parchment$Embed) {\n        _inherits(Cursor, _Parchment$Embed);\n\n        _createClass(Cursor, null, [{\n          key: 'value',\n          value: function value() {\n            return undefined;\n          }\n        }]);\n\n        function Cursor(domNode, selection) {\n          _classCallCheck(this, Cursor);\n\n          var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n          _this.selection = selection;\n          _this.textNode = document.createTextNode(Cursor.CONTENTS);\n\n          _this.domNode.appendChild(_this.textNode);\n\n          _this._length = 0;\n          return _this;\n        }\n\n        _createClass(Cursor, [{\n          key: 'detach',\n          value: function detach() {\n            // super.detach() will also clear domNode.__blot\n            if (this.parent != null) this.parent.removeChild(this);\n          }\n        }, {\n          key: 'format',\n          value: function format(name, value) {\n            if (this._length !== 0) {\n              return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n            }\n\n            var target = this,\n                index = 0;\n\n            while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n              index += target.offset(target.parent);\n              target = target.parent;\n            }\n\n            if (target != null) {\n              this._length = Cursor.CONTENTS.length;\n              target.optimize();\n              target.formatAt(index, Cursor.CONTENTS.length, name, value);\n              this._length = 0;\n            }\n          }\n        }, {\n          key: 'index',\n          value: function index(node, offset) {\n            if (node === this.textNode) return 0;\n            return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n          }\n        }, {\n          key: 'length',\n          value: function length() {\n            return this._length;\n          }\n        }, {\n          key: 'position',\n          value: function position() {\n            return [this.textNode, this.textNode.data.length];\n          }\n        }, {\n          key: 'remove',\n          value: function remove() {\n            _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n\n            this.parent = null;\n          }\n        }, {\n          key: 'restore',\n          value: function restore() {\n            if (this.selection.composing || this.parent == null) return;\n            var textNode = this.textNode;\n            var range = this.selection.getNativeRange();\n            var restoreText = void 0,\n                start = void 0,\n                end = void 0;\n\n            if (range != null && range.start.node === textNode && range.end.node === textNode) {\n              var _ref = [textNode, range.start.offset, range.end.offset];\n              restoreText = _ref[0];\n              start = _ref[1];\n              end = _ref[2];\n            } // Link format will insert text outside of anchor tag\n\n\n            while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n              this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n            }\n\n            if (this.textNode.data !== Cursor.CONTENTS) {\n              var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n\n              if (this.next instanceof _text2.default) {\n                restoreText = this.next.domNode;\n                this.next.insertAt(0, text);\n                this.textNode.data = Cursor.CONTENTS;\n              } else {\n                this.textNode.data = text;\n                this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n                this.textNode = document.createTextNode(Cursor.CONTENTS);\n                this.domNode.appendChild(this.textNode);\n              }\n            }\n\n            this.remove();\n\n            if (start != null) {\n              var _map = [start, end].map(function (offset) {\n                return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n              });\n\n              var _map2 = _slicedToArray(_map, 2);\n\n              start = _map2[0];\n              end = _map2[1];\n              return {\n                startNode: restoreText,\n                startOffset: start,\n                endNode: restoreText,\n                endOffset: end\n              };\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations, context) {\n            var _this2 = this;\n\n            if (mutations.some(function (mutation) {\n              return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n            })) {\n              var range = this.restore();\n              if (range) context.range = range;\n            }\n          }\n        }, {\n          key: 'value',\n          value: function value() {\n            return '';\n          }\n        }]);\n\n        return Cursor;\n      }(_parchment2.default.Embed);\n\n      Cursor.blotName = 'cursor';\n      Cursor.className = 'ql-cursor';\n      Cursor.tagName = 'span';\n      Cursor.CONTENTS = \"\\uFEFF\"; // Zero width no break space\n\n      exports.default = Cursor;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Container = function (_Parchment$Container) {\n        _inherits(Container, _Parchment$Container);\n\n        function Container() {\n          _classCallCheck(this, Container);\n\n          return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n        }\n\n        return Container;\n      }(_parchment2.default.Container);\n\n      Container.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n      exports.default = Container;\n      /***/\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ColorAttributor = function (_Parchment$Attributor) {\n        _inherits(ColorAttributor, _Parchment$Attributor);\n\n        function ColorAttributor() {\n          _classCallCheck(this, ColorAttributor);\n\n          return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n        }\n\n        _createClass(ColorAttributor, [{\n          key: 'value',\n          value: function value(domNode) {\n            var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n\n            if (!value.startsWith('rgb(')) return value;\n            value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n            return '#' + value.split(',').map(function (component) {\n              return ('00' + parseInt(component).toString(16)).slice(-2);\n            }).join('');\n          }\n        }]);\n\n        return ColorAttributor;\n      }(_parchment2.default.Attributor.Style);\n\n      var ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      var ColorStyle = new ColorAttributor('color', 'color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      exports.ColorAttributor = ColorAttributor;\n      exports.ColorClass = ColorClass;\n      exports.ColorStyle = ColorStyle;\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.sanitize = exports.default = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Link = function (_Inline) {\n        _inherits(Link, _Inline);\n\n        function Link() {\n          _classCallCheck(this, Link);\n\n          return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n        }\n\n        _createClass(Link, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n            value = this.constructor.sanitize(value);\n            this.domNode.setAttribute('href', value);\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n\n            value = this.sanitize(value);\n            node.setAttribute('href', value);\n            node.setAttribute('rel', 'noopener noreferrer');\n            node.setAttribute('target', '_blank');\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return domNode.getAttribute('href');\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n          }\n        }]);\n\n        return Link;\n      }(_inline2.default);\n\n      Link.blotName = 'link';\n      Link.tagName = 'A';\n      Link.SANITIZED_URL = 'about:blank';\n      Link.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\n      function _sanitize(url, protocols) {\n        var anchor = document.createElement('a');\n        anchor.href = url;\n        var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n        return protocols.indexOf(protocol) > -1;\n      }\n\n      exports.default = Link;\n      exports.sanitize = _sanitize;\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      var _dropdown = __webpack_require__(107);\n\n      var _dropdown2 = _interopRequireDefault(_dropdown);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var optionsCounter = 0;\n\n      function toggleAriaAttribute(element, attribute) {\n        element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n      }\n\n      var Picker = function () {\n        function Picker(select) {\n          var _this = this;\n\n          _classCallCheck(this, Picker);\n\n          this.select = select;\n          this.container = document.createElement('span');\n          this.buildPicker();\n          this.select.style.display = 'none';\n          this.select.parentNode.insertBefore(this.container, this.select);\n          this.label.addEventListener('mousedown', function () {\n            _this.togglePicker();\n          });\n          this.label.addEventListener('keydown', function (event) {\n            switch (event.keyCode) {\n              // Allows the \"Enter\" key to open the picker\n              case _keyboard2.default.keys.ENTER:\n                _this.togglePicker();\n\n                break;\n              // Allows the \"Escape\" key to close the picker\n\n              case _keyboard2.default.keys.ESCAPE:\n                _this.escape();\n\n                event.preventDefault();\n                break;\n\n              default:\n            }\n          });\n          this.select.addEventListener('change', this.update.bind(this));\n        }\n\n        _createClass(Picker, [{\n          key: 'togglePicker',\n          value: function togglePicker() {\n            this.container.classList.toggle('ql-expanded'); // Toggle aria-expanded and aria-hidden to make the picker accessible\n\n            toggleAriaAttribute(this.label, 'aria-expanded');\n            toggleAriaAttribute(this.options, 'aria-hidden');\n          }\n        }, {\n          key: 'buildItem',\n          value: function buildItem(option) {\n            var _this2 = this;\n\n            var item = document.createElement('span');\n            item.tabIndex = '0';\n            item.setAttribute('role', 'button');\n            item.classList.add('ql-picker-item');\n\n            if (option.hasAttribute('value')) {\n              item.setAttribute('data-value', option.getAttribute('value'));\n            }\n\n            if (option.textContent) {\n              item.setAttribute('data-label', option.textContent);\n            }\n\n            item.addEventListener('click', function () {\n              _this2.selectItem(item, true);\n            });\n            item.addEventListener('keydown', function (event) {\n              switch (event.keyCode) {\n                // Allows the \"Enter\" key to select an item\n                case _keyboard2.default.keys.ENTER:\n                  _this2.selectItem(item, true);\n\n                  event.preventDefault();\n                  break;\n                // Allows the \"Escape\" key to close the picker\n\n                case _keyboard2.default.keys.ESCAPE:\n                  _this2.escape();\n\n                  event.preventDefault();\n                  break;\n\n                default:\n              }\n            });\n            return item;\n          }\n        }, {\n          key: 'buildLabel',\n          value: function buildLabel() {\n            var label = document.createElement('span');\n            label.classList.add('ql-picker-label');\n            label.innerHTML = _dropdown2.default;\n            label.tabIndex = '0';\n            label.setAttribute('role', 'button');\n            label.setAttribute('aria-expanded', 'false');\n            this.container.appendChild(label);\n            return label;\n          }\n        }, {\n          key: 'buildOptions',\n          value: function buildOptions() {\n            var _this3 = this;\n\n            var options = document.createElement('span');\n            options.classList.add('ql-picker-options'); // Don't want screen readers to read this until options are visible\n\n            options.setAttribute('aria-hidden', 'true');\n            options.tabIndex = '-1'; // Need a unique id for aria-controls\n\n            options.id = 'ql-picker-options-' + optionsCounter;\n            optionsCounter += 1;\n            this.label.setAttribute('aria-controls', options.id);\n            this.options = options;\n            [].slice.call(this.select.options).forEach(function (option) {\n              var item = _this3.buildItem(option);\n\n              options.appendChild(item);\n\n              if (option.selected === true) {\n                _this3.selectItem(item);\n              }\n            });\n            this.container.appendChild(options);\n          }\n        }, {\n          key: 'buildPicker',\n          value: function buildPicker() {\n            var _this4 = this;\n\n            [].slice.call(this.select.attributes).forEach(function (item) {\n              _this4.container.setAttribute(item.name, item.value);\n            });\n            this.container.classList.add('ql-picker');\n            this.label = this.buildLabel();\n            this.buildOptions();\n          }\n        }, {\n          key: 'escape',\n          value: function escape() {\n            var _this5 = this; // Close menu and return focus to trigger label\n\n\n            this.close(); // Need setTimeout for accessibility to ensure that the browser executes\n            // focus on the next process thread and after any DOM content changes\n\n            setTimeout(function () {\n              return _this5.label.focus();\n            }, 1);\n          }\n        }, {\n          key: 'close',\n          value: function close() {\n            this.container.classList.remove('ql-expanded');\n            this.label.setAttribute('aria-expanded', 'false');\n            this.options.setAttribute('aria-hidden', 'true');\n          }\n        }, {\n          key: 'selectItem',\n          value: function selectItem(item) {\n            var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var selected = this.container.querySelector('.ql-selected');\n            if (item === selected) return;\n\n            if (selected != null) {\n              selected.classList.remove('ql-selected');\n            }\n\n            if (item == null) return;\n            item.classList.add('ql-selected');\n            this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n\n            if (item.hasAttribute('data-value')) {\n              this.label.setAttribute('data-value', item.getAttribute('data-value'));\n            } else {\n              this.label.removeAttribute('data-value');\n            }\n\n            if (item.hasAttribute('data-label')) {\n              this.label.setAttribute('data-label', item.getAttribute('data-label'));\n            } else {\n              this.label.removeAttribute('data-label');\n            }\n\n            if (trigger) {\n              if (typeof Event === 'function') {\n                this.select.dispatchEvent(new Event('change'));\n              } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n                // IE11\n                var event = document.createEvent('Event');\n                event.initEvent('change', true, true);\n                this.select.dispatchEvent(event);\n              }\n\n              this.close();\n            }\n          }\n        }, {\n          key: 'update',\n          value: function update() {\n            var option = void 0;\n\n            if (this.select.selectedIndex > -1) {\n              var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n              option = this.select.options[this.select.selectedIndex];\n              this.selectItem(item);\n            } else {\n              this.selectItem(null);\n            }\n\n            var isActive = option != null && option !== this.select.querySelector('option[selected]');\n            this.label.classList.toggle('ql-active', isActive);\n          }\n        }]);\n\n        return Picker;\n      }();\n\n      exports.default = Picker;\n      /***/\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _break = __webpack_require__(16);\n\n      var _break2 = _interopRequireDefault(_break);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      var _cursor = __webpack_require__(24);\n\n      var _cursor2 = _interopRequireDefault(_cursor);\n\n      var _embed = __webpack_require__(35);\n\n      var _embed2 = _interopRequireDefault(_embed);\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      var _scroll = __webpack_require__(22);\n\n      var _scroll2 = _interopRequireDefault(_scroll);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      var _clipboard = __webpack_require__(55);\n\n      var _clipboard2 = _interopRequireDefault(_clipboard);\n\n      var _history = __webpack_require__(42);\n\n      var _history2 = _interopRequireDefault(_history);\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      _quill2.default.register({\n        'blots/block': _block2.default,\n        'blots/block/embed': _block.BlockEmbed,\n        'blots/break': _break2.default,\n        'blots/container': _container2.default,\n        'blots/cursor': _cursor2.default,\n        'blots/embed': _embed2.default,\n        'blots/inline': _inline2.default,\n        'blots/scroll': _scroll2.default,\n        'blots/text': _text2.default,\n        'modules/clipboard': _clipboard2.default,\n        'modules/history': _history2.default,\n        'modules/keyboard': _keyboard2.default\n      });\n\n      _parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\n      exports.default = _quill2.default;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var Registry = __webpack_require__(1);\n\n      var ShadowBlot =\n      /** @class */\n      function () {\n        function ShadowBlot(domNode) {\n          this.domNode = domNode; // @ts-ignore\n\n          this.domNode[Registry.DATA_KEY] = {\n            blot: this\n          };\n        }\n\n        Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n          // Hack for accessing inherited static methods\n          get: function get() {\n            return this.constructor;\n          },\n          enumerable: true,\n          configurable: true\n        });\n\n        ShadowBlot.create = function (value) {\n          if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n          }\n\n          var node;\n\n          if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n              value = value.toUpperCase();\n\n              if (parseInt(value).toString() === value) {\n                value = parseInt(value);\n              }\n            }\n\n            if (typeof value === 'number') {\n              node = document.createElement(this.tagName[value - 1]);\n            } else if (this.tagName.indexOf(value) > -1) {\n              node = document.createElement(value);\n            } else {\n              node = document.createElement(this.tagName[0]);\n            }\n          } else {\n            node = document.createElement(this.tagName);\n          }\n\n          if (this.className) {\n            node.classList.add(this.className);\n          }\n\n          return node;\n        };\n\n        ShadowBlot.prototype.attach = function () {\n          if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n          }\n        };\n\n        ShadowBlot.prototype.clone = function () {\n          var domNode = this.domNode.cloneNode(false);\n          return Registry.create(domNode);\n        };\n\n        ShadowBlot.prototype.detach = function () {\n          if (this.parent != null) this.parent.removeChild(this); // @ts-ignore\n\n          delete this.domNode[Registry.DATA_KEY];\n        };\n\n        ShadowBlot.prototype.deleteAt = function (index, length) {\n          var blot = this.isolate(index, length);\n          blot.remove();\n        };\n\n        ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n          var blot = this.isolate(index, length);\n\n          if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n          } else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n          }\n        };\n\n        ShadowBlot.prototype.insertAt = function (index, value, def) {\n          var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n          var ref = this.split(index);\n          this.parent.insertBefore(blot, ref);\n        };\n\n        ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n          if (refBlot === void 0) {\n            refBlot = null;\n          }\n\n          if (this.parent != null) {\n            this.parent.children.remove(this);\n          }\n\n          var refDomNode = null;\n          parentBlot.children.insertBefore(this, refBlot);\n\n          if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n          }\n\n          if (this.domNode.parentNode != parentBlot.domNode || this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n          }\n\n          this.parent = parentBlot;\n          this.attach();\n        };\n\n        ShadowBlot.prototype.isolate = function (index, length) {\n          var target = this.split(index);\n          target.split(length);\n          return target;\n        };\n\n        ShadowBlot.prototype.length = function () {\n          return 1;\n        };\n\n        ShadowBlot.prototype.offset = function (root) {\n          if (root === void 0) {\n            root = this.parent;\n          }\n\n          if (this.parent == null || this == root) return 0;\n          return this.parent.children.offset(this) + this.parent.offset(root);\n        };\n\n        ShadowBlot.prototype.optimize = function (context) {\n          // TODO clean up once we use WeakMap\n          // @ts-ignore\n          if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n          }\n        };\n\n        ShadowBlot.prototype.remove = function () {\n          if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n          }\n\n          this.detach();\n        };\n\n        ShadowBlot.prototype.replace = function (target) {\n          if (target.parent == null) return;\n          target.parent.insertBefore(this, target.next);\n          target.remove();\n        };\n\n        ShadowBlot.prototype.replaceWith = function (name, value) {\n          var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n          replacement.replace(this);\n          return replacement;\n        };\n\n        ShadowBlot.prototype.split = function (index, force) {\n          return index === 0 ? this : this.next;\n        };\n\n        ShadowBlot.prototype.update = function (mutations, context) {// Nothing to do by default\n        };\n\n        ShadowBlot.prototype.wrap = function (name, value) {\n          var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n\n          if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n          }\n\n          wrapper.appendChild(this);\n          return wrapper;\n        };\n\n        ShadowBlot.blotName = 'abstract';\n        return ShadowBlot;\n      }();\n\n      exports.default = ShadowBlot;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      var class_1 = __webpack_require__(32);\n\n      var style_1 = __webpack_require__(33);\n\n      var Registry = __webpack_require__(1);\n\n      var AttributorStore =\n      /** @class */\n      function () {\n        function AttributorStore(domNode) {\n          this.attributes = {};\n          this.domNode = domNode;\n          this.build();\n        }\n\n        AttributorStore.prototype.attribute = function (attribute, value) {\n          // verb\n          if (value) {\n            if (attribute.add(this.domNode, value)) {\n              if (attribute.value(this.domNode) != null) {\n                this.attributes[attribute.attrName] = attribute;\n              } else {\n                delete this.attributes[attribute.attrName];\n              }\n            }\n          } else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n          }\n        };\n\n        AttributorStore.prototype.build = function () {\n          var _this = this;\n\n          this.attributes = {};\n          var attributes = attributor_1.default.keys(this.domNode);\n          var classes = class_1.default.keys(this.domNode);\n          var styles = style_1.default.keys(this.domNode);\n          attributes.concat(classes).concat(styles).forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n\n            if (attr instanceof attributor_1.default) {\n              _this.attributes[attr.attrName] = attr;\n            }\n          });\n        };\n\n        AttributorStore.prototype.copy = function (target) {\n          var _this = this;\n\n          Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n\n            target.format(key, value);\n          });\n        };\n\n        AttributorStore.prototype.move = function (target) {\n          var _this = this;\n\n          this.copy(target);\n          Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n          });\n          this.attributes = {};\n        };\n\n        AttributorStore.prototype.values = function () {\n          var _this = this;\n\n          return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n          }, {});\n        };\n\n        return AttributorStore;\n      }();\n\n      exports.default = AttributorStore;\n      /***/\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      function match(node, prefix) {\n        var className = node.getAttribute('class') || '';\n        return className.split(/\\s+/).filter(function (name) {\n          return name.indexOf(prefix + \"-\") === 0;\n        });\n      }\n\n      var ClassAttributor =\n      /** @class */\n      function (_super) {\n        __extends(ClassAttributor, _super);\n\n        function ClassAttributor() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        ClassAttributor.keys = function (node) {\n          return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name.split('-').slice(0, -1).join('-');\n          });\n        };\n\n        ClassAttributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false;\n          this.remove(node);\n          node.classList.add(this.keyName + \"-\" + value);\n          return true;\n        };\n\n        ClassAttributor.prototype.remove = function (node) {\n          var matches = match(node, this.keyName);\n          matches.forEach(function (name) {\n            node.classList.remove(name);\n          });\n\n          if (node.classList.length === 0) {\n            node.removeAttribute('class');\n          }\n        };\n\n        ClassAttributor.prototype.value = function (node) {\n          var result = match(node, this.keyName)[0] || '';\n          var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n\n          return this.canAdd(node, value) ? value : '';\n        };\n\n        return ClassAttributor;\n      }(attributor_1.default);\n\n      exports.default = ClassAttributor;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var attributor_1 = __webpack_require__(12);\n\n      function camelize(name) {\n        var parts = name.split('-');\n        var rest = parts.slice(1).map(function (part) {\n          return part[0].toUpperCase() + part.slice(1);\n        }).join('');\n        return parts[0] + rest;\n      }\n\n      var StyleAttributor =\n      /** @class */\n      function (_super) {\n        __extends(StyleAttributor, _super);\n\n        function StyleAttributor() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        StyleAttributor.keys = function (node) {\n          return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n          });\n        };\n\n        StyleAttributor.prototype.add = function (node, value) {\n          if (!this.canAdd(node, value)) return false; // @ts-ignore\n\n          node.style[camelize(this.keyName)] = value;\n          return true;\n        };\n\n        StyleAttributor.prototype.remove = function (node) {\n          // @ts-ignore\n          node.style[camelize(this.keyName)] = '';\n\n          if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n          }\n        };\n\n        StyleAttributor.prototype.value = function (node) {\n          // @ts-ignore\n          var value = node.style[camelize(this.keyName)];\n          return this.canAdd(node, value) ? value : '';\n        };\n\n        return StyleAttributor;\n      }(attributor_1.default);\n\n      exports.default = StyleAttributor;\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Theme = function () {\n        function Theme(quill, options) {\n          _classCallCheck(this, Theme);\n\n          this.quill = quill;\n          this.options = options;\n          this.modules = {};\n        }\n\n        _createClass(Theme, [{\n          key: 'init',\n          value: function init() {\n            var _this = this;\n\n            Object.keys(this.options.modules).forEach(function (name) {\n              if (_this.modules[name] == null) {\n                _this.addModule(name);\n              }\n            });\n          }\n        }, {\n          key: 'addModule',\n          value: function addModule(name) {\n            var moduleClass = this.quill.constructor.import('modules/' + name);\n            this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n            return this.modules[name];\n          }\n        }]);\n\n        return Theme;\n      }();\n\n      Theme.DEFAULTS = {\n        modules: {}\n      };\n      Theme.themes = {\n        'default': Theme\n      };\n      exports.default = Theme;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _text = __webpack_require__(7);\n\n      var _text2 = _interopRequireDefault(_text);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var GUARD_TEXT = \"\\uFEFF\";\n\n      var Embed = function (_Parchment$Embed) {\n        _inherits(Embed, _Parchment$Embed);\n\n        function Embed(node) {\n          _classCallCheck(this, Embed);\n\n          var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n          _this.contentNode = document.createElement('span');\n\n          _this.contentNode.setAttribute('contenteditable', false);\n\n          [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n            _this.contentNode.appendChild(childNode);\n          });\n          _this.leftGuard = document.createTextNode(GUARD_TEXT);\n          _this.rightGuard = document.createTextNode(GUARD_TEXT);\n\n          _this.domNode.appendChild(_this.leftGuard);\n\n          _this.domNode.appendChild(_this.contentNode);\n\n          _this.domNode.appendChild(_this.rightGuard);\n\n          return _this;\n        }\n\n        _createClass(Embed, [{\n          key: 'index',\n          value: function index(node, offset) {\n            if (node === this.leftGuard) return 0;\n            if (node === this.rightGuard) return 1;\n            return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n          }\n        }, {\n          key: 'restore',\n          value: function restore(node) {\n            var range = void 0,\n                textNode = void 0;\n            var text = node.data.split(GUARD_TEXT).join('');\n\n            if (node === this.leftGuard) {\n              if (this.prev instanceof _text2.default) {\n                var prevLength = this.prev.length();\n                this.prev.insertAt(prevLength, text);\n                range = {\n                  startNode: this.prev.domNode,\n                  startOffset: prevLength + text.length\n                };\n              } else {\n                textNode = document.createTextNode(text);\n                this.parent.insertBefore(_parchment2.default.create(textNode), this);\n                range = {\n                  startNode: textNode,\n                  startOffset: text.length\n                };\n              }\n            } else if (node === this.rightGuard) {\n              if (this.next instanceof _text2.default) {\n                this.next.insertAt(0, text);\n                range = {\n                  startNode: this.next.domNode,\n                  startOffset: text.length\n                };\n              } else {\n                textNode = document.createTextNode(text);\n                this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n                range = {\n                  startNode: textNode,\n                  startOffset: text.length\n                };\n              }\n            }\n\n            node.data = GUARD_TEXT;\n            return range;\n          }\n        }, {\n          key: 'update',\n          value: function update(mutations, context) {\n            var _this2 = this;\n\n            mutations.forEach(function (mutation) {\n              if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n                var range = _this2.restore(mutation.target);\n\n                if (range) context.range = range;\n              }\n            });\n          }\n        }]);\n\n        return Embed;\n      }(_parchment2.default.Embed);\n\n      exports.default = Embed;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: ['right', 'center', 'justify']\n      };\n      var AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\n      var AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\n      var AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n      exports.AlignAttribute = AlignAttribute;\n      exports.AlignClass = AlignClass;\n      exports.AlignStyle = AlignStyle;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.BackgroundStyle = exports.BackgroundClass = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _color = __webpack_require__(26);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      var BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n      exports.BackgroundClass = BackgroundClass;\n      exports.BackgroundStyle = BackgroundStyle;\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: ['rtl']\n      };\n      var DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\n      var DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\n      var DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n      exports.DirectionAttribute = DirectionAttribute;\n      exports.DirectionClass = DirectionClass;\n      exports.DirectionStyle = DirectionStyle;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.FontClass = exports.FontStyle = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var config = {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['serif', 'monospace']\n      };\n      var FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\n      var FontStyleAttributor = function (_Parchment$Attributor) {\n        _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n        function FontStyleAttributor() {\n          _classCallCheck(this, FontStyleAttributor);\n\n          return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n        }\n\n        _createClass(FontStyleAttributor, [{\n          key: 'value',\n          value: function value(node) {\n            return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n          }\n        }]);\n\n        return FontStyleAttributor;\n      }(_parchment2.default.Attributor.Style);\n\n      var FontStyle = new FontStyleAttributor('font', 'font-family', config);\n      exports.FontStyle = FontStyle;\n      exports.FontClass = FontClass;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.SizeStyle = exports.SizeClass = undefined;\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['small', 'large', 'huge']\n      });\n      var SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n        scope: _parchment2.default.Scope.INLINE,\n        whitelist: ['10px', '18px', '32px']\n      });\n      exports.SizeClass = SizeClass;\n      exports.SizeStyle = SizeStyle;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      module.exports = {\n        'align': {\n          '': __webpack_require__(76),\n          'center': __webpack_require__(77),\n          'right': __webpack_require__(78),\n          'justify': __webpack_require__(79)\n        },\n        'background': __webpack_require__(80),\n        'blockquote': __webpack_require__(81),\n        'bold': __webpack_require__(82),\n        'clean': __webpack_require__(83),\n        'code': __webpack_require__(58),\n        'code-block': __webpack_require__(58),\n        'color': __webpack_require__(84),\n        'direction': {\n          '': __webpack_require__(85),\n          'rtl': __webpack_require__(86)\n        },\n        'float': {\n          'center': __webpack_require__(87),\n          'full': __webpack_require__(88),\n          'left': __webpack_require__(89),\n          'right': __webpack_require__(90)\n        },\n        'formula': __webpack_require__(91),\n        'header': {\n          '1': __webpack_require__(92),\n          '2': __webpack_require__(93)\n        },\n        'italic': __webpack_require__(94),\n        'image': __webpack_require__(95),\n        'indent': {\n          '+1': __webpack_require__(96),\n          '-1': __webpack_require__(97)\n        },\n        'link': __webpack_require__(98),\n        'list': {\n          'ordered': __webpack_require__(99),\n          'bullet': __webpack_require__(100),\n          'check': __webpack_require__(101)\n        },\n        'script': {\n          'sub': __webpack_require__(102),\n          'super': __webpack_require__(103)\n        },\n        'strike': __webpack_require__(104),\n        'underline': __webpack_require__(105),\n        'video': __webpack_require__(106)\n      };\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.getLastChangeIndex = exports.default = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var History = function (_Module) {\n        _inherits(History, _Module);\n\n        function History(quill, options) {\n          _classCallCheck(this, History);\n\n          var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n          _this.lastRecorded = 0;\n          _this.ignoreChange = false;\n\n          _this.clear();\n\n          _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n            if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n\n            if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n              _this.record(delta, oldDelta);\n            } else {\n              _this.transform(delta);\n            }\n          });\n\n          _this.quill.keyboard.addBinding({\n            key: 'Z',\n            shortKey: true\n          }, _this.undo.bind(_this));\n\n          _this.quill.keyboard.addBinding({\n            key: 'Z',\n            shortKey: true,\n            shiftKey: true\n          }, _this.redo.bind(_this));\n\n          if (/Win/i.test(navigator.platform)) {\n            _this.quill.keyboard.addBinding({\n              key: 'Y',\n              shortKey: true\n            }, _this.redo.bind(_this));\n          }\n\n          return _this;\n        }\n\n        _createClass(History, [{\n          key: 'change',\n          value: function change(source, dest) {\n            if (this.stack[source].length === 0) return;\n            var delta = this.stack[source].pop();\n            this.stack[dest].push(delta);\n            this.lastRecorded = 0;\n            this.ignoreChange = true;\n            this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n            this.ignoreChange = false;\n            var index = getLastChangeIndex(delta[source]);\n            this.quill.setSelection(index);\n          }\n        }, {\n          key: 'clear',\n          value: function clear() {\n            this.stack = {\n              undo: [],\n              redo: []\n            };\n          }\n        }, {\n          key: 'cutoff',\n          value: function cutoff() {\n            this.lastRecorded = 0;\n          }\n        }, {\n          key: 'record',\n          value: function record(changeDelta, oldDelta) {\n            if (changeDelta.ops.length === 0) return;\n            this.stack.redo = [];\n            var undoDelta = this.quill.getContents().diff(oldDelta);\n            var timestamp = Date.now();\n\n            if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n              var delta = this.stack.undo.pop();\n              undoDelta = undoDelta.compose(delta.undo);\n              changeDelta = delta.redo.compose(changeDelta);\n            } else {\n              this.lastRecorded = timestamp;\n            }\n\n            this.stack.undo.push({\n              redo: changeDelta,\n              undo: undoDelta\n            });\n\n            if (this.stack.undo.length > this.options.maxStack) {\n              this.stack.undo.shift();\n            }\n          }\n        }, {\n          key: 'redo',\n          value: function redo() {\n            this.change('redo', 'undo');\n          }\n        }, {\n          key: 'transform',\n          value: function transform(delta) {\n            this.stack.undo.forEach(function (change) {\n              change.undo = delta.transform(change.undo, true);\n              change.redo = delta.transform(change.redo, true);\n            });\n            this.stack.redo.forEach(function (change) {\n              change.undo = delta.transform(change.undo, true);\n              change.redo = delta.transform(change.redo, true);\n            });\n          }\n        }, {\n          key: 'undo',\n          value: function undo() {\n            this.change('undo', 'redo');\n          }\n        }]);\n\n        return History;\n      }(_module2.default);\n\n      History.DEFAULTS = {\n        delay: 1000,\n        maxStack: 100,\n        userOnly: false\n      };\n\n      function endsWithNewlineChange(delta) {\n        var lastOp = delta.ops[delta.ops.length - 1];\n        if (lastOp == null) return false;\n\n        if (lastOp.insert != null) {\n          return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n        }\n\n        if (lastOp.attributes != null) {\n          return Object.keys(lastOp.attributes).some(function (attr) {\n            return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n          });\n        }\n\n        return false;\n      }\n\n      function getLastChangeIndex(delta) {\n        var deleteLength = delta.reduce(function (length, op) {\n          length += op.delete || 0;\n          return length;\n        }, 0);\n        var changeIndex = delta.length() - deleteLength;\n\n        if (endsWithNewlineChange(delta)) {\n          changeIndex -= 1;\n        }\n\n        return changeIndex;\n      }\n\n      exports.default = History;\n      exports.getLastChangeIndex = getLastChangeIndex;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BaseTooltip = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _keyboard = __webpack_require__(23);\n\n      var _keyboard2 = _interopRequireDefault(_keyboard);\n\n      var _theme = __webpack_require__(34);\n\n      var _theme2 = _interopRequireDefault(_theme);\n\n      var _colorPicker = __webpack_require__(59);\n\n      var _colorPicker2 = _interopRequireDefault(_colorPicker);\n\n      var _iconPicker = __webpack_require__(60);\n\n      var _iconPicker2 = _interopRequireDefault(_iconPicker);\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      var _tooltip = __webpack_require__(61);\n\n      var _tooltip2 = _interopRequireDefault(_tooltip);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ALIGNS = [false, 'center', 'right', 'justify'];\n      var COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n      var FONTS = [false, 'serif', 'monospace'];\n      var HEADERS = ['1', '2', '3', false];\n      var SIZES = ['small', false, 'large', 'huge'];\n\n      var BaseTheme = function (_Theme) {\n        _inherits(BaseTheme, _Theme);\n\n        function BaseTheme(quill, options) {\n          _classCallCheck(this, BaseTheme);\n\n          var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n          var listener = function listener(e) {\n            if (!document.body.contains(quill.root)) {\n              return document.body.removeEventListener('click', listener);\n            }\n\n            if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n              _this.tooltip.hide();\n            }\n\n            if (_this.pickers != null) {\n              _this.pickers.forEach(function (picker) {\n                if (!picker.container.contains(e.target)) {\n                  picker.close();\n                }\n              });\n            }\n          };\n\n          quill.emitter.listenDOM('click', document.body, listener);\n          return _this;\n        }\n\n        _createClass(BaseTheme, [{\n          key: 'addModule',\n          value: function addModule(name) {\n            var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n\n            if (name === 'toolbar') {\n              this.extendToolbar(module);\n            }\n\n            return module;\n          }\n        }, {\n          key: 'buildButtons',\n          value: function buildButtons(buttons, icons) {\n            buttons.forEach(function (button) {\n              var className = button.getAttribute('class') || '';\n              className.split(/\\s+/).forEach(function (name) {\n                if (!name.startsWith('ql-')) return;\n                name = name.slice('ql-'.length);\n                if (icons[name] == null) return;\n\n                if (name === 'direction') {\n                  button.innerHTML = icons[name][''] + icons[name]['rtl'];\n                } else if (typeof icons[name] === 'string') {\n                  button.innerHTML = icons[name];\n                } else {\n                  var value = button.value || '';\n\n                  if (value != null && icons[name][value]) {\n                    button.innerHTML = icons[name][value];\n                  }\n                }\n              });\n            });\n          }\n        }, {\n          key: 'buildPickers',\n          value: function buildPickers(selects, icons) {\n            var _this2 = this;\n\n            this.pickers = selects.map(function (select) {\n              if (select.classList.contains('ql-align')) {\n                if (select.querySelector('option') == null) {\n                  fillSelect(select, ALIGNS);\n                }\n\n                return new _iconPicker2.default(select, icons.align);\n              } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n                var format = select.classList.contains('ql-background') ? 'background' : 'color';\n\n                if (select.querySelector('option') == null) {\n                  fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n                }\n\n                return new _colorPicker2.default(select, icons[format]);\n              } else {\n                if (select.querySelector('option') == null) {\n                  if (select.classList.contains('ql-font')) {\n                    fillSelect(select, FONTS);\n                  } else if (select.classList.contains('ql-header')) {\n                    fillSelect(select, HEADERS);\n                  } else if (select.classList.contains('ql-size')) {\n                    fillSelect(select, SIZES);\n                  }\n                }\n\n                return new _picker2.default(select);\n              }\n            });\n\n            var update = function update() {\n              _this2.pickers.forEach(function (picker) {\n                picker.update();\n              });\n            };\n\n            this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n          }\n        }]);\n\n        return BaseTheme;\n      }(_theme2.default);\n\n      BaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              formula: function formula() {\n                this.quill.theme.tooltip.edit('formula');\n              },\n              image: function image() {\n                var _this3 = this;\n\n                var fileInput = this.container.querySelector('input.ql-image[type=file]');\n\n                if (fileInput == null) {\n                  fileInput = document.createElement('input');\n                  fileInput.setAttribute('type', 'file');\n                  fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n                  fileInput.classList.add('ql-image');\n                  fileInput.addEventListener('change', function () {\n                    if (fileInput.files != null && fileInput.files[0] != null) {\n                      var reader = new FileReader();\n\n                      reader.onload = function (e) {\n                        var range = _this3.quill.getSelection(true);\n\n                        _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({\n                          image: e.target.result\n                        }), _emitter2.default.sources.USER);\n\n                        _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n\n                        fileInput.value = \"\";\n                      };\n\n                      reader.readAsDataURL(fileInput.files[0]);\n                    }\n                  });\n                  this.container.appendChild(fileInput);\n                }\n\n                fileInput.click();\n              },\n              video: function video() {\n                this.quill.theme.tooltip.edit('video');\n              }\n            }\n          }\n        }\n      });\n\n      var BaseTooltip = function (_Tooltip) {\n        _inherits(BaseTooltip, _Tooltip);\n\n        function BaseTooltip(quill, boundsContainer) {\n          _classCallCheck(this, BaseTooltip);\n\n          var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n          _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n\n          _this4.listen();\n\n          return _this4;\n        }\n\n        _createClass(BaseTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this5 = this;\n\n            this.textbox.addEventListener('keydown', function (event) {\n              if (_keyboard2.default.match(event, 'enter')) {\n                _this5.save();\n\n                event.preventDefault();\n              } else if (_keyboard2.default.match(event, 'escape')) {\n                _this5.cancel();\n\n                event.preventDefault();\n              }\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this.hide();\n          }\n        }, {\n          key: 'edit',\n          value: function edit() {\n            var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n            var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n            this.root.classList.remove('ql-hidden');\n            this.root.classList.add('ql-editing');\n\n            if (preview != null) {\n              this.textbox.value = preview;\n            } else if (mode !== this.root.getAttribute('data-mode')) {\n              this.textbox.value = '';\n            }\n\n            this.position(this.quill.getBounds(this.quill.selection.savedRange));\n            this.textbox.select();\n            this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n            this.root.setAttribute('data-mode', mode);\n          }\n        }, {\n          key: 'restoreFocus',\n          value: function restoreFocus() {\n            var scrollTop = this.quill.scrollingContainer.scrollTop;\n            this.quill.focus();\n            this.quill.scrollingContainer.scrollTop = scrollTop;\n          }\n        }, {\n          key: 'save',\n          value: function save() {\n            var value = this.textbox.value;\n\n            switch (this.root.getAttribute('data-mode')) {\n              case 'link':\n                {\n                  var scrollTop = this.quill.root.scrollTop;\n\n                  if (this.linkRange) {\n                    this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n                    delete this.linkRange;\n                  } else {\n                    this.restoreFocus();\n                    this.quill.format('link', value, _emitter2.default.sources.USER);\n                  }\n\n                  this.quill.root.scrollTop = scrollTop;\n                  break;\n                }\n\n              case 'video':\n                {\n                  value = extractVideoUrl(value);\n                }\n              // eslint-disable-next-line no-fallthrough\n\n              case 'formula':\n                {\n                  if (!value) break;\n                  var range = this.quill.getSelection(true);\n\n                  if (range != null) {\n                    var index = range.index + range.length;\n                    this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n\n                    if (this.root.getAttribute('data-mode') === 'formula') {\n                      this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n                    }\n\n                    this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n                  }\n\n                  break;\n                }\n\n              default:\n            }\n\n            this.textbox.value = '';\n            this.hide();\n          }\n        }]);\n\n        return BaseTooltip;\n      }(_tooltip2.default);\n\n      function extractVideoUrl(url) {\n        var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n\n        if (match) {\n          return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n        }\n\n        if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n          // eslint-disable-line no-cond-assign\n          return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n        }\n\n        return url;\n      }\n\n      function fillSelect(select, values) {\n        var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        values.forEach(function (value) {\n          var option = document.createElement('option');\n\n          if (value === defaultValue) {\n            option.setAttribute('selected', 'selected');\n          } else {\n            option.setAttribute('value', value);\n          }\n\n          select.appendChild(option);\n        });\n      }\n\n      exports.BaseTooltip = BaseTooltip;\n      exports.default = BaseTheme;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var LinkedList =\n      /** @class */\n      function () {\n        function LinkedList() {\n          this.head = this.tail = null;\n          this.length = 0;\n        }\n\n        LinkedList.prototype.append = function () {\n          var nodes = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n          }\n\n          this.insertBefore(nodes[0], null);\n\n          if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n          }\n        };\n\n        LinkedList.prototype.contains = function (node) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            if (cur === node) return true;\n          }\n\n          return false;\n        };\n\n        LinkedList.prototype.insertBefore = function (node, refNode) {\n          if (!node) return;\n          node.next = refNode;\n\n          if (refNode != null) {\n            node.prev = refNode.prev;\n\n            if (refNode.prev != null) {\n              refNode.prev.next = node;\n            }\n\n            refNode.prev = node;\n\n            if (refNode === this.head) {\n              this.head = node;\n            }\n          } else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n          } else {\n            node.prev = null;\n            this.head = this.tail = node;\n          }\n\n          this.length += 1;\n        };\n\n        LinkedList.prototype.offset = function (target) {\n          var index = 0,\n              cur = this.head;\n\n          while (cur != null) {\n            if (cur === target) return index;\n            index += cur.length();\n            cur = cur.next;\n          }\n\n          return -1;\n        };\n\n        LinkedList.prototype.remove = function (node) {\n          if (!this.contains(node)) return;\n          if (node.prev != null) node.prev.next = node.next;\n          if (node.next != null) node.next.prev = node.prev;\n          if (node === this.head) this.head = node.next;\n          if (node === this.tail) this.tail = node.prev;\n          this.length -= 1;\n        };\n\n        LinkedList.prototype.iterator = function (curNode) {\n          if (curNode === void 0) {\n            curNode = this.head;\n          } // TODO use yield when we can\n\n\n          return function () {\n            var ret = curNode;\n            if (curNode != null) curNode = curNode.next;\n            return ret;\n          };\n        };\n\n        LinkedList.prototype.find = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            var length = cur.length();\n\n            if (index < length || inclusive && index === length && (cur.next == null || cur.next.length() !== 0)) {\n              return [cur, index];\n            }\n\n            index -= length;\n          }\n\n          return [null, 0];\n        };\n\n        LinkedList.prototype.forEach = function (callback) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            callback(cur);\n          }\n        };\n\n        LinkedList.prototype.forEachAt = function (index, length, callback) {\n          if (length <= 0) return;\n\n          var _a = this.find(index),\n              startNode = _a[0],\n              offset = _a[1];\n\n          var cur,\n              curIndex = index - offset,\n              next = this.iterator(startNode);\n\n          while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n\n            if (index > curIndex) {\n              callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            } else {\n              callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n\n            curIndex += curLength;\n          }\n        };\n\n        LinkedList.prototype.map = function (callback) {\n          return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n          }, []);\n        };\n\n        LinkedList.prototype.reduce = function (callback, memo) {\n          var cur,\n              next = this.iterator();\n\n          while (cur = next()) {\n            memo = callback(memo, cur);\n          }\n\n          return memo;\n        };\n\n        return LinkedList;\n      }();\n\n      exports.default = LinkedList;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var container_1 = __webpack_require__(17);\n\n      var Registry = __webpack_require__(1);\n\n      var OBSERVER_CONFIG = {\n        attributes: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true\n      };\n      var MAX_OPTIMIZE_ITERATIONS = 100;\n\n      var ScrollBlot =\n      /** @class */\n      function (_super) {\n        __extends(ScrollBlot, _super);\n\n        function ScrollBlot(node) {\n          var _this = _super.call(this, node) || this;\n\n          _this.scroll = _this;\n          _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n          });\n\n          _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n\n          _this.attach();\n\n          return _this;\n        }\n\n        ScrollBlot.prototype.detach = function () {\n          _super.prototype.detach.call(this);\n\n          this.observer.disconnect();\n        };\n\n        ScrollBlot.prototype.deleteAt = function (index, length) {\n          this.update();\n\n          if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n              child.remove();\n            });\n          } else {\n            _super.prototype.deleteAt.call(this, index, length);\n          }\n        };\n\n        ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n          this.update();\n\n          _super.prototype.formatAt.call(this, index, length, name, value);\n        };\n\n        ScrollBlot.prototype.insertAt = function (index, value, def) {\n          this.update();\n\n          _super.prototype.insertAt.call(this, index, value, def);\n        };\n\n        ScrollBlot.prototype.optimize = function (mutations, context) {\n          var _this = this;\n\n          if (mutations === void 0) {\n            mutations = [];\n          }\n\n          if (context === void 0) {\n            context = {};\n          }\n\n          _super.prototype.optimize.call(this, context); // We must modify mutations directly, cannot make copy and then modify\n\n\n          var records = [].slice.call(this.observer.takeRecords()); // Array.push currently seems to be implemented by a non-tail recursive function\n          // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n\n          while (records.length > 0) {\n            mutations.push(records.pop());\n          } // TODO use WeakMap\n\n\n          var mark = function mark(blot, markParent) {\n            if (markParent === void 0) {\n              markParent = true;\n            }\n\n            if (blot == null || blot === _this) return;\n            if (blot.domNode.parentNode == null) return; // @ts-ignore\n\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n\n            if (markParent) mark(blot.parent);\n          };\n\n          var optimize = function optimize(blot) {\n            // Post-order traversal\n            if ( // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null || // @ts-ignore\n            blot.domNode[Registry.DATA_KEY].mutations == null) {\n              return;\n            }\n\n            if (blot instanceof container_1.default) {\n              blot.children.forEach(optimize);\n            }\n\n            blot.optimize(context);\n          };\n\n          var remaining = mutations;\n\n          for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n              throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n\n            remaining.forEach(function (mutation) {\n              var blot = Registry.find(mutation.target, true);\n              if (blot == null) return;\n\n              if (blot.domNode === mutation.target) {\n                if (mutation.type === 'childList') {\n                  mark(Registry.find(mutation.previousSibling, false));\n                  [].forEach.call(mutation.addedNodes, function (node) {\n                    var child = Registry.find(node, false);\n                    mark(child, false);\n\n                    if (child instanceof container_1.default) {\n                      child.children.forEach(function (grandChild) {\n                        mark(grandChild, false);\n                      });\n                    }\n                  });\n                } else if (mutation.type === 'attributes') {\n                  mark(blot.prev);\n                }\n              }\n\n              mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n\n            while (records.length > 0) {\n              mutations.push(records.pop());\n            }\n          }\n        };\n\n        ScrollBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          if (context === void 0) {\n            context = {};\n          }\n\n          mutations = mutations || this.observer.takeRecords(); // TODO use WeakMap\n\n          mutations.map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null) return null; // @ts-ignore\n\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n              return blot;\n            } else {\n              // @ts-ignore\n              blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n              return null;\n            }\n          }).forEach(function (blot) {\n            if (blot == null || blot === _this || //@ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null) return; // @ts-ignore\n\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n          }); // @ts-ignore\n\n          if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n          }\n\n          this.optimize(mutations, context);\n        };\n\n        ScrollBlot.blotName = 'scroll';\n        ScrollBlot.defaultChild = 'block';\n        ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n        ScrollBlot.tagName = 'DIV';\n        return ScrollBlot;\n      }(container_1.default);\n\n      exports.default = ScrollBlot;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var format_1 = __webpack_require__(18);\n\n      var Registry = __webpack_require__(1); // Shallow object comparison\n\n\n      function isEqual(obj1, obj2) {\n        if (Object.keys(obj1).length !== Object.keys(obj2).length) return false; // @ts-ignore\n\n        for (var prop in obj1) {\n          // @ts-ignore\n          if (obj1[prop] !== obj2[prop]) return false;\n        }\n\n        return true;\n      }\n\n      var InlineBlot =\n      /** @class */\n      function (_super) {\n        __extends(InlineBlot, _super);\n\n        function InlineBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        InlineBlot.formats = function (domNode) {\n          if (domNode.tagName === InlineBlot.tagName) return undefined;\n          return _super.formats.call(this, domNode);\n        };\n\n        InlineBlot.prototype.format = function (name, value) {\n          var _this = this;\n\n          if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n              if (!(child instanceof format_1.default)) {\n                child = child.wrap(InlineBlot.blotName, true);\n              }\n\n              _this.attributes.copy(child);\n            });\n            this.unwrap();\n          } else {\n            _super.prototype.format.call(this, name, value);\n          }\n        };\n\n        InlineBlot.prototype.formatAt = function (index, length, name, value) {\n          if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        InlineBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          var formats = this.formats();\n\n          if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n          }\n\n          var next = this.next;\n\n          if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n          }\n        };\n\n        InlineBlot.blotName = 'inline';\n        InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n        InlineBlot.tagName = 'SPAN';\n        return InlineBlot;\n      }(format_1.default);\n\n      exports.default = InlineBlot;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var format_1 = __webpack_require__(18);\n\n      var Registry = __webpack_require__(1);\n\n      var BlockBlot =\n      /** @class */\n      function (_super) {\n        __extends(BlockBlot, _super);\n\n        function BlockBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        BlockBlot.formats = function (domNode) {\n          var tagName = Registry.query(BlockBlot.blotName).tagName;\n          if (domNode.tagName === tagName) return undefined;\n          return _super.formats.call(this, domNode);\n        };\n\n        BlockBlot.prototype.format = function (name, value) {\n          if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n          } else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n          } else {\n            _super.prototype.format.call(this, name, value);\n          }\n        };\n\n        BlockBlot.prototype.formatAt = function (index, length, name, value) {\n          if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        BlockBlot.prototype.insertAt = function (index, value, def) {\n          if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n          } else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n          }\n        };\n\n        BlockBlot.prototype.update = function (mutations, context) {\n          if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n          } else {\n            _super.prototype.update.call(this, mutations, context);\n          }\n        };\n\n        BlockBlot.blotName = 'block';\n        BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n        BlockBlot.tagName = 'P';\n        return BlockBlot;\n      }(format_1.default);\n\n      exports.default = BlockBlot;\n      /***/\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var leaf_1 = __webpack_require__(19);\n\n      var EmbedBlot =\n      /** @class */\n      function (_super) {\n        __extends(EmbedBlot, _super);\n\n        function EmbedBlot() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        EmbedBlot.formats = function (domNode) {\n          return undefined;\n        };\n\n        EmbedBlot.prototype.format = function (name, value) {\n          // super.formatAt wraps, which is what we want in general,\n          // but this allows subclasses to overwrite for formats\n          // that just apply to particular embeds\n          _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n        };\n\n        EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n          if (index === 0 && length === this.length()) {\n            this.format(name, value);\n          } else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n          }\n        };\n\n        EmbedBlot.prototype.formats = function () {\n          return this.statics.formats(this.domNode);\n        };\n\n        return EmbedBlot;\n      }(leaf_1.default);\n\n      exports.default = EmbedBlot;\n      /***/\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (d, b) {\n          d.__proto__ = b;\n        } || function (d, b) {\n          for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n          }\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var leaf_1 = __webpack_require__(19);\n\n      var Registry = __webpack_require__(1);\n\n      var TextBlot =\n      /** @class */\n      function (_super) {\n        __extends(TextBlot, _super);\n\n        function TextBlot(node) {\n          var _this = _super.call(this, node) || this;\n\n          _this.text = _this.statics.value(_this.domNode);\n          return _this;\n        }\n\n        TextBlot.create = function (value) {\n          return document.createTextNode(value);\n        };\n\n        TextBlot.value = function (domNode) {\n          var text = domNode.data; // @ts-ignore\n\n          if (text['normalize']) text = text['normalize']();\n          return text;\n        };\n\n        TextBlot.prototype.deleteAt = function (index, length) {\n          this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n        };\n\n        TextBlot.prototype.index = function (node, offset) {\n          if (this.domNode === node) {\n            return offset;\n          }\n\n          return -1;\n        };\n\n        TextBlot.prototype.insertAt = function (index, value, def) {\n          if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n          } else {\n            _super.prototype.insertAt.call(this, index, value, def);\n          }\n        };\n\n        TextBlot.prototype.length = function () {\n          return this.text.length;\n        };\n\n        TextBlot.prototype.optimize = function (context) {\n          _super.prototype.optimize.call(this, context);\n\n          this.text = this.statics.value(this.domNode);\n\n          if (this.text.length === 0) {\n            this.remove();\n          } else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n          }\n        };\n\n        TextBlot.prototype.position = function (index, inclusive) {\n          if (inclusive === void 0) {\n            inclusive = false;\n          }\n\n          return [this.domNode, index];\n        };\n\n        TextBlot.prototype.split = function (index, force) {\n          if (force === void 0) {\n            force = false;\n          }\n\n          if (!force) {\n            if (index === 0) return this;\n            if (index === this.length()) return this.next;\n          }\n\n          var after = Registry.create(this.domNode.splitText(index));\n          this.parent.insertBefore(after, this.next);\n          this.text = this.statics.value(this.domNode);\n          return after;\n        };\n\n        TextBlot.prototype.update = function (mutations, context) {\n          var _this = this;\n\n          if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n          })) {\n            this.text = this.statics.value(this.domNode);\n          }\n        };\n\n        TextBlot.prototype.value = function () {\n          return this.text;\n        };\n\n        TextBlot.blotName = 'text';\n        TextBlot.scope = Registry.Scope.INLINE_BLOT;\n        return TextBlot;\n      }(leaf_1.default);\n\n      exports.default = TextBlot;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var elem = document.createElement('div');\n      elem.classList.toggle('test-class', false);\n\n      if (elem.classList.contains('test-class')) {\n        var _toggle = DOMTokenList.prototype.toggle;\n\n        DOMTokenList.prototype.toggle = function (token, force) {\n          if (arguments.length > 1 && !this.contains(token) === !force) {\n            return force;\n          } else {\n            return _toggle.call(this, token);\n          }\n        };\n      }\n\n      if (!String.prototype.startsWith) {\n        String.prototype.startsWith = function (searchString, position) {\n          position = position || 0;\n          return this.substr(position, searchString.length) === searchString;\n        };\n      }\n\n      if (!String.prototype.endsWith) {\n        String.prototype.endsWith = function (searchString, position) {\n          var subjectString = this.toString();\n\n          if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n            position = subjectString.length;\n          }\n\n          position -= searchString.length;\n          var lastIndex = subjectString.indexOf(searchString, position);\n          return lastIndex !== -1 && lastIndex === position;\n        };\n      }\n\n      if (!Array.prototype.find) {\n        Object.defineProperty(Array.prototype, \"find\", {\n          value: function value(predicate) {\n            if (this === null) {\n              throw new TypeError('Array.prototype.find called on null or undefined');\n            }\n\n            if (typeof predicate !== 'function') {\n              throw new TypeError('predicate must be a function');\n            }\n\n            var list = Object(this);\n            var length = list.length >>> 0;\n            var thisArg = arguments[1];\n            var value;\n\n            for (var i = 0; i < length; i++) {\n              value = list[i];\n\n              if (predicate.call(thisArg, value, i, list)) {\n                return value;\n              }\n            }\n\n            return undefined;\n          }\n        });\n      }\n\n      document.addEventListener(\"DOMContentLoaded\", function () {\n        // Disable resizing in Firefox\n        document.execCommand(\"enableObjectResizing\", false, false); // Disable automatic linkifying in IE11\n\n        document.execCommand(\"autoUrlDetect\", false, false);\n      });\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * This library modifies the diff-patch-match library by Neil Fraser\n       * by removing the patch and match functionality and certain advanced\n       * options in the diff function. The original license is as follows:\n       *\n       * ===\n       *\n       * Diff Match and Patch\n       *\n       * Copyright 2006 Google Inc.\n       * http://code.google.com/p/google-diff-match-patch/\n       *\n       * Licensed under the Apache License, Version 2.0 (the \"License\");\n       * you may not use this file except in compliance with the License.\n       * You may obtain a copy of the License at\n       *\n       *   http://www.apache.org/licenses/LICENSE-2.0\n       *\n       * Unless required by applicable law or agreed to in writing, software\n       * distributed under the License is distributed on an \"AS IS\" BASIS,\n       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n       * See the License for the specific language governing permissions and\n       * limitations under the License.\n       */\n\n      /**\n       * The data structure representing a diff is an array of tuples:\n       * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n       * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n       */\n      var DIFF_DELETE = -1;\n      var DIFF_INSERT = 1;\n      var DIFF_EQUAL = 0;\n      /**\n       * Find the differences between two texts.  Simplifies the problem by stripping\n       * any common prefix or suffix off the texts before diffing.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @param {Int} cursor_pos Expected edit position in text1 (optional)\n       * @return {Array} Array of diff tuples.\n       */\n\n      function diff_main(text1, text2, cursor_pos) {\n        // Check for equality (speedup).\n        if (text1 == text2) {\n          if (text1) {\n            return [[DIFF_EQUAL, text1]];\n          }\n\n          return [];\n        } // Check cursor_pos within bounds\n\n\n        if (cursor_pos < 0 || text1.length < cursor_pos) {\n          cursor_pos = null;\n        } // Trim off common prefix (speedup).\n\n\n        var commonlength = diff_commonPrefix(text1, text2);\n        var commonprefix = text1.substring(0, commonlength);\n        text1 = text1.substring(commonlength);\n        text2 = text2.substring(commonlength); // Trim off common suffix (speedup).\n\n        commonlength = diff_commonSuffix(text1, text2);\n        var commonsuffix = text1.substring(text1.length - commonlength);\n        text1 = text1.substring(0, text1.length - commonlength);\n        text2 = text2.substring(0, text2.length - commonlength); // Compute the diff on the middle block.\n\n        var diffs = diff_compute_(text1, text2); // Restore the prefix and suffix.\n\n        if (commonprefix) {\n          diffs.unshift([DIFF_EQUAL, commonprefix]);\n        }\n\n        if (commonsuffix) {\n          diffs.push([DIFF_EQUAL, commonsuffix]);\n        }\n\n        diff_cleanupMerge(diffs);\n\n        if (cursor_pos != null) {\n          diffs = fix_cursor(diffs, cursor_pos);\n        }\n\n        diffs = fix_emoji(diffs);\n        return diffs;\n      }\n\n      ;\n      /**\n       * Find the differences between two texts.  Assumes that the texts do not\n       * have any common prefix or suffix.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @return {Array} Array of diff tuples.\n       */\n\n      function diff_compute_(text1, text2) {\n        var diffs;\n\n        if (!text1) {\n          // Just add some text (speedup).\n          return [[DIFF_INSERT, text2]];\n        }\n\n        if (!text2) {\n          // Just delete some text (speedup).\n          return [[DIFF_DELETE, text1]];\n        }\n\n        var longtext = text1.length > text2.length ? text1 : text2;\n        var shorttext = text1.length > text2.length ? text2 : text1;\n        var i = longtext.indexOf(shorttext);\n\n        if (i != -1) {\n          // Shorter text is inside the longer text (speedup).\n          diffs = [[DIFF_INSERT, longtext.substring(0, i)], [DIFF_EQUAL, shorttext], [DIFF_INSERT, longtext.substring(i + shorttext.length)]]; // Swap insertions for deletions if diff is reversed.\n\n          if (text1.length > text2.length) {\n            diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n          }\n\n          return diffs;\n        }\n\n        if (shorttext.length == 1) {\n          // Single character string.\n          // After the previous speedup, the character can't be an equality.\n          return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n        } // Check to see if the problem can be split in two.\n\n\n        var hm = diff_halfMatch_(text1, text2);\n\n        if (hm) {\n          // A half-match was found, sort out the return data.\n          var text1_a = hm[0];\n          var text1_b = hm[1];\n          var text2_a = hm[2];\n          var text2_b = hm[3];\n          var mid_common = hm[4]; // Send both pairs off for separate processing.\n\n          var diffs_a = diff_main(text1_a, text2_a);\n          var diffs_b = diff_main(text1_b, text2_b); // Merge the results.\n\n          return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n        }\n\n        return diff_bisect_(text1, text2);\n      }\n\n      ;\n      /**\n       * Find the 'middle snake' of a diff, split the problem in two\n       * and return the recursively constructed diff.\n       * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @return {Array} Array of diff tuples.\n       * @private\n       */\n\n      function diff_bisect_(text1, text2) {\n        // Cache the text lengths to prevent multiple calls.\n        var text1_length = text1.length;\n        var text2_length = text2.length;\n        var max_d = Math.ceil((text1_length + text2_length) / 2);\n        var v_offset = max_d;\n        var v_length = 2 * max_d;\n        var v1 = new Array(v_length);\n        var v2 = new Array(v_length); // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n        // integers and undefined.\n\n        for (var x = 0; x < v_length; x++) {\n          v1[x] = -1;\n          v2[x] = -1;\n        }\n\n        v1[v_offset + 1] = 0;\n        v2[v_offset + 1] = 0;\n        var delta = text1_length - text2_length; // If the total number of characters is odd, then the front path will collide\n        // with the reverse path.\n\n        var front = delta % 2 != 0; // Offsets for start and end of k loop.\n        // Prevents mapping of space beyond the grid.\n\n        var k1start = 0;\n        var k1end = 0;\n        var k2start = 0;\n        var k2end = 0;\n\n        for (var d = 0; d < max_d; d++) {\n          // Walk the front path one step.\n          for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n            var k1_offset = v_offset + k1;\n            var x1;\n\n            if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n              x1 = v1[k1_offset + 1];\n            } else {\n              x1 = v1[k1_offset - 1] + 1;\n            }\n\n            var y1 = x1 - k1;\n\n            while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n              x1++;\n              y1++;\n            }\n\n            v1[k1_offset] = x1;\n\n            if (x1 > text1_length) {\n              // Ran off the right of the graph.\n              k1end += 2;\n            } else if (y1 > text2_length) {\n              // Ran off the bottom of the graph.\n              k1start += 2;\n            } else if (front) {\n              var k2_offset = v_offset + delta - k1;\n\n              if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n                // Mirror x2 onto top-left coordinate system.\n                var x2 = text1_length - v2[k2_offset];\n\n                if (x1 >= x2) {\n                  // Overlap detected.\n                  return diff_bisectSplit_(text1, text2, x1, y1);\n                }\n              }\n            }\n          } // Walk the reverse path one step.\n\n\n          for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n            var k2_offset = v_offset + k2;\n            var x2;\n\n            if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n              x2 = v2[k2_offset + 1];\n            } else {\n              x2 = v2[k2_offset - 1] + 1;\n            }\n\n            var y2 = x2 - k2;\n\n            while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n              x2++;\n              y2++;\n            }\n\n            v2[k2_offset] = x2;\n\n            if (x2 > text1_length) {\n              // Ran off the left of the graph.\n              k2end += 2;\n            } else if (y2 > text2_length) {\n              // Ran off the top of the graph.\n              k2start += 2;\n            } else if (!front) {\n              var k1_offset = v_offset + delta - k2;\n\n              if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n                var x1 = v1[k1_offset];\n                var y1 = v_offset + x1 - k1_offset; // Mirror x2 onto top-left coordinate system.\n\n                x2 = text1_length - x2;\n\n                if (x1 >= x2) {\n                  // Overlap detected.\n                  return diff_bisectSplit_(text1, text2, x1, y1);\n                }\n              }\n            }\n          }\n        } // Diff took too long and hit the deadline or\n        // number of diffs equals number of characters, no commonality at all.\n\n\n        return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n      }\n\n      ;\n      /**\n       * Given the location of the 'middle snake', split the diff in two parts\n       * and recurse.\n       * @param {string} text1 Old string to be diffed.\n       * @param {string} text2 New string to be diffed.\n       * @param {number} x Index of split point in text1.\n       * @param {number} y Index of split point in text2.\n       * @return {Array} Array of diff tuples.\n       */\n\n      function diff_bisectSplit_(text1, text2, x, y) {\n        var text1a = text1.substring(0, x);\n        var text2a = text2.substring(0, y);\n        var text1b = text1.substring(x);\n        var text2b = text2.substring(y); // Compute both diffs serially.\n\n        var diffs = diff_main(text1a, text2a);\n        var diffsb = diff_main(text1b, text2b);\n        return diffs.concat(diffsb);\n      }\n\n      ;\n      /**\n       * Determine the common prefix of two strings.\n       * @param {string} text1 First string.\n       * @param {string} text2 Second string.\n       * @return {number} The number of characters common to the start of each\n       *     string.\n       */\n\n      function diff_commonPrefix(text1, text2) {\n        // Quick check for common null cases.\n        if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n          return 0;\n        } // Binary search.\n        // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n\n\n        var pointermin = 0;\n        var pointermax = Math.min(text1.length, text2.length);\n        var pointermid = pointermax;\n        var pointerstart = 0;\n\n        while (pointermin < pointermid) {\n          if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n            pointermin = pointermid;\n            pointerstart = pointermin;\n          } else {\n            pointermax = pointermid;\n          }\n\n          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n        }\n\n        return pointermid;\n      }\n\n      ;\n      /**\n       * Determine the common suffix of two strings.\n       * @param {string} text1 First string.\n       * @param {string} text2 Second string.\n       * @return {number} The number of characters common to the end of each string.\n       */\n\n      function diff_commonSuffix(text1, text2) {\n        // Quick check for common null cases.\n        if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n          return 0;\n        } // Binary search.\n        // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n\n\n        var pointermin = 0;\n        var pointermax = Math.min(text1.length, text2.length);\n        var pointermid = pointermax;\n        var pointerend = 0;\n\n        while (pointermin < pointermid) {\n          if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n            pointermin = pointermid;\n            pointerend = pointermin;\n          } else {\n            pointermax = pointermid;\n          }\n\n          pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n        }\n\n        return pointermid;\n      }\n\n      ;\n      /**\n       * Do the two texts share a substring which is at least half the length of the\n       * longer text?\n       * This speedup can produce non-minimal diffs.\n       * @param {string} text1 First string.\n       * @param {string} text2 Second string.\n       * @return {Array.<string>} Five element Array, containing the prefix of\n       *     text1, the suffix of text1, the prefix of text2, the suffix of\n       *     text2 and the common middle.  Or null if there was no match.\n       */\n\n      function diff_halfMatch_(text1, text2) {\n        var longtext = text1.length > text2.length ? text1 : text2;\n        var shorttext = text1.length > text2.length ? text2 : text1;\n\n        if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n          return null; // Pointless.\n        }\n        /**\n         * Does a substring of shorttext exist within longtext such that the substring\n         * is at least half the length of longtext?\n         * Closure, but does not reference any external variables.\n         * @param {string} longtext Longer string.\n         * @param {string} shorttext Shorter string.\n         * @param {number} i Start index of quarter length substring within longtext.\n         * @return {Array.<string>} Five element Array, containing the prefix of\n         *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n         *     of shorttext and the common middle.  Or null if there was no match.\n         * @private\n         */\n\n\n        function diff_halfMatchI_(longtext, shorttext, i) {\n          // Start with a 1/4 length substring at position i as a seed.\n          var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n          var j = -1;\n          var best_common = '';\n          var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n\n          while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n            var prefixLength = diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n            var suffixLength = diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n\n            if (best_common.length < suffixLength + prefixLength) {\n              best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n              best_longtext_a = longtext.substring(0, i - suffixLength);\n              best_longtext_b = longtext.substring(i + prefixLength);\n              best_shorttext_a = shorttext.substring(0, j - suffixLength);\n              best_shorttext_b = shorttext.substring(j + prefixLength);\n            }\n          }\n\n          if (best_common.length * 2 >= longtext.length) {\n            return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n          } else {\n            return null;\n          }\n        } // First check if the second quarter is the seed for a half-match.\n\n\n        var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4)); // Check again based on the third quarter.\n\n        var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n        var hm;\n\n        if (!hm1 && !hm2) {\n          return null;\n        } else if (!hm2) {\n          hm = hm1;\n        } else if (!hm1) {\n          hm = hm2;\n        } else {\n          // Both matched.  Select the longest.\n          hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n        } // A half-match was found, sort out the return data.\n\n\n        var text1_a, text1_b, text2_a, text2_b;\n\n        if (text1.length > text2.length) {\n          text1_a = hm[0];\n          text1_b = hm[1];\n          text2_a = hm[2];\n          text2_b = hm[3];\n        } else {\n          text2_a = hm[0];\n          text2_b = hm[1];\n          text1_a = hm[2];\n          text1_b = hm[3];\n        }\n\n        var mid_common = hm[4];\n        return [text1_a, text1_b, text2_a, text2_b, mid_common];\n      }\n\n      ;\n      /**\n       * Reorder and merge like edit sections.  Merge equalities.\n       * Any edit section can move as long as it doesn't cross an equality.\n       * @param {Array} diffs Array of diff tuples.\n       */\n\n      function diff_cleanupMerge(diffs) {\n        diffs.push([DIFF_EQUAL, '']); // Add a dummy entry at the end.\n\n        var pointer = 0;\n        var count_delete = 0;\n        var count_insert = 0;\n        var text_delete = '';\n        var text_insert = '';\n        var commonlength;\n\n        while (pointer < diffs.length) {\n          switch (diffs[pointer][0]) {\n            case DIFF_INSERT:\n              count_insert++;\n              text_insert += diffs[pointer][1];\n              pointer++;\n              break;\n\n            case DIFF_DELETE:\n              count_delete++;\n              text_delete += diffs[pointer][1];\n              pointer++;\n              break;\n\n            case DIFF_EQUAL:\n              // Upon reaching an equality, check for prior redundancies.\n              if (count_delete + count_insert > 1) {\n                if (count_delete !== 0 && count_insert !== 0) {\n                  // Factor out any common prefixies.\n                  commonlength = diff_commonPrefix(text_insert, text_delete);\n\n                  if (commonlength !== 0) {\n                    if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                      diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n                    } else {\n                      diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\n                      pointer++;\n                    }\n\n                    text_insert = text_insert.substring(commonlength);\n                    text_delete = text_delete.substring(commonlength);\n                  } // Factor out any common suffixies.\n\n\n                  commonlength = diff_commonSuffix(text_insert, text_delete);\n\n                  if (commonlength !== 0) {\n                    diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n                    text_insert = text_insert.substring(0, text_insert.length - commonlength);\n                    text_delete = text_delete.substring(0, text_delete.length - commonlength);\n                  }\n                } // Delete the offending records and add the merged ones.\n\n\n                if (count_delete === 0) {\n                  diffs.splice(pointer - count_insert, count_delete + count_insert, [DIFF_INSERT, text_insert]);\n                } else if (count_insert === 0) {\n                  diffs.splice(pointer - count_delete, count_delete + count_insert, [DIFF_DELETE, text_delete]);\n                } else {\n                  diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\n                }\n\n                pointer = pointer - count_delete - count_insert + (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n              } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n                // Merge this equality with the previous one.\n                diffs[pointer - 1][1] += diffs[pointer][1];\n                diffs.splice(pointer, 1);\n              } else {\n                pointer++;\n              }\n\n              count_insert = 0;\n              count_delete = 0;\n              text_delete = '';\n              text_insert = '';\n              break;\n          }\n        }\n\n        if (diffs[diffs.length - 1][1] === '') {\n          diffs.pop(); // Remove the dummy entry at the end.\n        } // Second pass: look for single edits surrounded on both sides by equalities\n        // which can be shifted sideways to eliminate an equality.\n        // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\n\n        var changes = false;\n        pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n        while (pointer < diffs.length - 1) {\n          if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n            // This is a single edit surrounded by equalities.\n            if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n              // Shift the edit over the previous equality.\n              diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n              diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n              diffs.splice(pointer - 1, 1);\n              changes = true;\n            } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n              // Shift the edit over the next equality.\n              diffs[pointer - 1][1] += diffs[pointer + 1][1];\n              diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n              diffs.splice(pointer + 1, 1);\n              changes = true;\n            }\n          }\n\n          pointer++;\n        } // If shifts were made, the diff needs reordering and another shift sweep.\n\n\n        if (changes) {\n          diff_cleanupMerge(diffs);\n        }\n      }\n\n      ;\n      var diff = diff_main;\n      diff.INSERT = DIFF_INSERT;\n      diff.DELETE = DIFF_DELETE;\n      diff.EQUAL = DIFF_EQUAL;\n      module.exports = diff;\n      /*\n       * Modify a diff such that the cursor position points to the start of a change:\n       * E.g.\n       *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n       *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n       *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n       *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n       *\n       * @param {Array} diffs Array of diff tuples\n       * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n       * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n       */\n\n      function cursor_normalize_diff(diffs, cursor_pos) {\n        if (cursor_pos === 0) {\n          return [DIFF_EQUAL, diffs];\n        }\n\n        for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n          var d = diffs[i];\n\n          if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n            var next_pos = current_pos + d[1].length;\n\n            if (cursor_pos === next_pos) {\n              return [i + 1, diffs];\n            } else if (cursor_pos < next_pos) {\n              // copy to prevent side effects\n              diffs = diffs.slice(); // split d into two diff changes\n\n              var split_pos = cursor_pos - current_pos;\n              var d_left = [d[0], d[1].slice(0, split_pos)];\n              var d_right = [d[0], d[1].slice(split_pos)];\n              diffs.splice(i, 1, d_left, d_right);\n              return [i + 1, diffs];\n            } else {\n              current_pos = next_pos;\n            }\n          }\n        }\n\n        throw new Error('cursor_pos is out of bounds!');\n      }\n      /*\n       * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n       *\n       * Case 1)\n       *   Check if a naive shift is possible:\n       *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n       *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n       * Case 2)\n       *   Check if the following shifts are possible:\n       *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n       *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n       *         ^            ^\n       *         d          d_next\n       *\n       * @param {Array} diffs Array of diff tuples\n       * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n       * @return {Array} Array of diff tuples\n       */\n\n\n      function fix_cursor(diffs, cursor_pos) {\n        var norm = cursor_normalize_diff(diffs, cursor_pos);\n        var ndiffs = norm[1];\n        var cursor_pointer = norm[0];\n        var d = ndiffs[cursor_pointer];\n        var d_next = ndiffs[cursor_pointer + 1];\n\n        if (d == null) {\n          // Text was deleted from end of original string,\n          // cursor is now out of bounds in new string\n          return diffs;\n        } else if (d[0] !== DIFF_EQUAL) {\n          // A modification happened at the cursor location.\n          // This is the expected outcome, so we can return the original diff.\n          return diffs;\n        } else {\n          if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n            // Case 1)\n            // It is possible to perform a naive shift\n            ndiffs.splice(cursor_pointer, 2, d_next, d);\n            return merge_tuples(ndiffs, cursor_pointer, 2);\n          } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n            // Case 2)\n            // d[1] is a prefix of d_next[1]\n            // We can assume that d_next[0] !== 0, since d[0] === 0\n            // Shift edit locations..\n            ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n            var suffix = d_next[1].slice(d[1].length);\n\n            if (suffix.length > 0) {\n              ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n            }\n\n            return merge_tuples(ndiffs, cursor_pointer, 3);\n          } else {\n            // Not possible to perform any modification\n            return diffs;\n          }\n        }\n      }\n      /*\n       * Check diff did not split surrogate pairs.\n       * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n       *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n       *\n       * @param {Array} diffs Array of diff tuples\n       * @return {Array} Array of diff tuples\n       */\n\n\n      function fix_emoji(diffs) {\n        var compact = false;\n\n        var starts_with_pair_end = function starts_with_pair_end(str) {\n          return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n        };\n\n        var ends_with_pair_start = function ends_with_pair_start(str) {\n          return str.charCodeAt(str.length - 1) >= 0xD800 && str.charCodeAt(str.length - 1) <= 0xDBFF;\n        };\n\n        for (var i = 2; i < diffs.length; i += 1) {\n          if (diffs[i - 2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i - 2][1]) && diffs[i - 1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i - 1][1]) && diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n            compact = true;\n            diffs[i - 1][1] = diffs[i - 2][1].slice(-1) + diffs[i - 1][1];\n            diffs[i][1] = diffs[i - 2][1].slice(-1) + diffs[i][1];\n            diffs[i - 2][1] = diffs[i - 2][1].slice(0, -1);\n          }\n        }\n\n        if (!compact) {\n          return diffs;\n        }\n\n        var fixed_diffs = [];\n\n        for (var i = 0; i < diffs.length; i += 1) {\n          if (diffs[i][1].length > 0) {\n            fixed_diffs.push(diffs[i]);\n          }\n        }\n\n        return fixed_diffs;\n      }\n      /*\n       * Try to merge tuples with their neigbors in a given range.\n       * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n       *\n       * @param {Array} diffs Array of diff tuples.\n       * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n       * @param {Int} length Number of consecutive elements to check.\n       * @return {Array} Array of merged diff tuples.\n       */\n\n\n      function merge_tuples(diffs, start, length) {\n        // Check from (start-1) to (start+length).\n        for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n          if (i + 1 < diffs.length) {\n            var left_d = diffs[i];\n            var right_d = diffs[i + 1];\n\n            if (left_d[0] === right_d[1]) {\n              diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n            }\n          }\n        }\n\n        return diffs;\n      }\n      /***/\n\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports) {\n      exports = module.exports = typeof Object.keys === 'function' ? Object.keys : shim;\n      exports.shim = shim;\n\n      function shim(obj) {\n        var keys = [];\n\n        for (var key in obj) {\n          keys.push(key);\n        }\n\n        return keys;\n      }\n      /***/\n\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports) {\n      var supportsArgumentsClass = function () {\n        return Object.prototype.toString.call(arguments);\n      }() == '[object Arguments]';\n\n      exports = module.exports = supportsArgumentsClass ? supported : unsupported;\n      exports.supported = supported;\n\n      function supported(object) {\n        return Object.prototype.toString.call(object) == '[object Arguments]';\n      }\n\n      ;\n      exports.unsupported = unsupported;\n\n      function unsupported(object) {\n        return object && typeof object == 'object' && typeof object.length == 'number' && Object.prototype.hasOwnProperty.call(object, 'callee') && !Object.prototype.propertyIsEnumerable.call(object, 'callee') || false;\n      }\n\n      ;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports) {\n      'use strict';\n\n      var has = Object.prototype.hasOwnProperty,\n          prefix = '~';\n      /**\n       * Constructor to create a storage for our `EE` objects.\n       * An `Events` instance is a plain object whose properties are event names.\n       *\n       * @constructor\n       * @api private\n       */\n\n      function Events() {} //\n      // We try to not inherit from `Object.prototype`. In some engines creating an\n      // instance in this way is faster than calling `Object.create(null)` directly.\n      // If `Object.create(null)` is not supported we prefix the event names with a\n      // character to make sure that the built-in object properties are not\n      // overridden or used as an attack vector.\n      //\n\n\n      if (Object.create) {\n        Events.prototype = Object.create(null); //\n        // This hack is needed because the `__proto__` property is still inherited in\n        // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n        //\n\n        if (!new Events().__proto__) prefix = false;\n      }\n      /**\n       * Representation of a single event listener.\n       *\n       * @param {Function} fn The listener function.\n       * @param {Mixed} context The context to invoke the listener with.\n       * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n       * @constructor\n       * @api private\n       */\n\n\n      function EE(fn, context, once) {\n        this.fn = fn;\n        this.context = context;\n        this.once = once || false;\n      }\n      /**\n       * Minimal `EventEmitter` interface that is molded against the Node.js\n       * `EventEmitter` interface.\n       *\n       * @constructor\n       * @api public\n       */\n\n\n      function EventEmitter() {\n        this._events = new Events();\n        this._eventsCount = 0;\n      }\n      /**\n       * Return an array listing the events for which the emitter has registered\n       * listeners.\n       *\n       * @returns {Array}\n       * @api public\n       */\n\n\n      EventEmitter.prototype.eventNames = function eventNames() {\n        var names = [],\n            events,\n            name;\n        if (this._eventsCount === 0) return names;\n\n        for (name in events = this._events) {\n          if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n          return names.concat(Object.getOwnPropertySymbols(events));\n        }\n\n        return names;\n      };\n      /**\n       * Return the listeners registered for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Boolean} exists Only check if there are listeners.\n       * @returns {Array|Boolean}\n       * @api public\n       */\n\n\n      EventEmitter.prototype.listeners = function listeners(event, exists) {\n        var evt = prefix ? prefix + event : event,\n            available = this._events[evt];\n        if (exists) return !!available;\n        if (!available) return [];\n        if (available.fn) return [available.fn];\n\n        for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n          ee[i] = available[i].fn;\n        }\n\n        return ee;\n      };\n      /**\n       * Calls each of the listeners registered for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @returns {Boolean} `true` if the event had listeners, else `false`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n        var evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) return false;\n        var listeners = this._events[evt],\n            len = arguments.length,\n            args,\n            i;\n\n        if (listeners.fn) {\n          if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n          switch (len) {\n            case 1:\n              return listeners.fn.call(listeners.context), true;\n\n            case 2:\n              return listeners.fn.call(listeners.context, a1), true;\n\n            case 3:\n              return listeners.fn.call(listeners.context, a1, a2), true;\n\n            case 4:\n              return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\n            case 5:\n              return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\n            case 6:\n              return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n          }\n\n          for (i = 1, args = new Array(len - 1); i < len; i++) {\n            args[i - 1] = arguments[i];\n          }\n\n          listeners.fn.apply(listeners.context, args);\n        } else {\n          var length = listeners.length,\n              j;\n\n          for (i = 0; i < length; i++) {\n            if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n            switch (len) {\n              case 1:\n                listeners[i].fn.call(listeners[i].context);\n                break;\n\n              case 2:\n                listeners[i].fn.call(listeners[i].context, a1);\n                break;\n\n              case 3:\n                listeners[i].fn.call(listeners[i].context, a1, a2);\n                break;\n\n              case 4:\n                listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n                break;\n\n              default:\n                if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {\n                  args[j - 1] = arguments[j];\n                }\n                listeners[i].fn.apply(listeners[i].context, args);\n            }\n          }\n        }\n\n        return true;\n      };\n      /**\n       * Add a listener for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Function} fn The listener function.\n       * @param {Mixed} [context=this] The context to invoke the listener with.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.on = function on(event, fn, context) {\n        var listener = new EE(fn, context || this),\n            evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;else if (!this._events[evt].fn) this._events[evt].push(listener);else this._events[evt] = [this._events[evt], listener];\n        return this;\n      };\n      /**\n       * Add a one-time listener for a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Function} fn The listener function.\n       * @param {Mixed} [context=this] The context to invoke the listener with.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.once = function once(event, fn, context) {\n        var listener = new EE(fn, context || this, true),\n            evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;else if (!this._events[evt].fn) this._events[evt].push(listener);else this._events[evt] = [this._events[evt], listener];\n        return this;\n      };\n      /**\n       * Remove the listeners of a given event.\n       *\n       * @param {String|Symbol} event The event name.\n       * @param {Function} fn Only remove the listeners that match this function.\n       * @param {Mixed} context Only remove the listeners that have this context.\n       * @param {Boolean} once Only remove one-time listeners.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n        var evt = prefix ? prefix + event : event;\n        if (!this._events[evt]) return this;\n\n        if (!fn) {\n          if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          return this;\n        }\n\n        var listeners = this._events[evt];\n\n        if (listeners.fn) {\n          if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n            if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          }\n        } else {\n          for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n            if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n              events.push(listeners[i]);\n            }\n          } //\n          // Reset the array, or remove it completely if we have no more listeners.\n          //\n\n\n          if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;else if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n        }\n\n        return this;\n      };\n      /**\n       * Remove all listeners, or those of the specified event.\n       *\n       * @param {String|Symbol} [event] The event name.\n       * @returns {EventEmitter} `this`.\n       * @api public\n       */\n\n\n      EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n        var evt;\n\n        if (event) {\n          evt = prefix ? prefix + event : event;\n\n          if (this._events[evt]) {\n            if (--this._eventsCount === 0) this._events = new Events();else delete this._events[evt];\n          }\n        } else {\n          this._events = new Events();\n          this._eventsCount = 0;\n        }\n\n        return this;\n      }; //\n      // Alias methods names because people roll like that.\n      //\n\n\n      EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n      EventEmitter.prototype.addListener = EventEmitter.prototype.on; //\n      // This function doesn't apply anymore.\n      //\n\n      EventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n        return this;\n      }; //\n      // Expose the prefix.\n      //\n\n\n      EventEmitter.prefixed = prefix; //\n      // Allow `EventEmitter` to be imported as module namespace.\n      //\n\n      EventEmitter.EventEmitter = EventEmitter; //\n      // Expose the module.\n      //\n\n      if ('undefined' !== typeof module) {\n        module.exports = EventEmitter;\n      }\n      /***/\n\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend2 = __webpack_require__(3);\n\n      var _extend3 = _interopRequireDefault(_extend2);\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _align = __webpack_require__(36);\n\n      var _background = __webpack_require__(37);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _color = __webpack_require__(26);\n\n      var _direction = __webpack_require__(38);\n\n      var _font = __webpack_require__(39);\n\n      var _size = __webpack_require__(40);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:clipboard');\n      var DOM_KEY = '__ql-matcher';\n      var CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n      var ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n        memo[attr.keyName] = attr;\n        return memo;\n      }, {});\n      var STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n        memo[attr.keyName] = attr;\n        return memo;\n      }, {});\n\n      var Clipboard = function (_Module) {\n        _inherits(Clipboard, _Module);\n\n        function Clipboard(quill, options) {\n          _classCallCheck(this, Clipboard);\n\n          var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n          _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n\n          _this.container = _this.quill.addContainer('ql-clipboard');\n\n          _this.container.setAttribute('contenteditable', true);\n\n          _this.container.setAttribute('tabindex', -1);\n\n          _this.matchers = [];\n          CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                selector = _ref2[0],\n                matcher = _ref2[1];\n\n            if (!options.matchVisual && matcher === matchSpacing) return;\n\n            _this.addMatcher(selector, matcher);\n          });\n          return _this;\n        }\n\n        _createClass(Clipboard, [{\n          key: 'addMatcher',\n          value: function addMatcher(selector, matcher) {\n            this.matchers.push([selector, matcher]);\n          }\n        }, {\n          key: 'convert',\n          value: function convert(html) {\n            if (typeof html === 'string') {\n              this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n\n              return this.convert();\n            }\n\n            var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n\n            if (formats[_code2.default.blotName]) {\n              var text = this.container.innerText;\n              this.container.innerHTML = '';\n              return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n            }\n\n            var _prepareMatching = this.prepareMatching(),\n                _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n                elementMatchers = _prepareMatching2[0],\n                textMatchers = _prepareMatching2[1];\n\n            var delta = traverse(this.container, elementMatchers, textMatchers); // Remove trailing newline\n\n            if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n              delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n            }\n\n            debug.log('convert', this.container.innerHTML, delta);\n            this.container.innerHTML = '';\n            return delta;\n          }\n        }, {\n          key: 'dangerouslyPasteHTML',\n          value: function dangerouslyPasteHTML(index, html) {\n            var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n            if (typeof index === 'string') {\n              this.quill.setContents(this.convert(index), html);\n              this.quill.setSelection(0, _quill2.default.sources.SILENT);\n            } else {\n              var paste = this.convert(html);\n              this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n              this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n            }\n          }\n        }, {\n          key: 'onPaste',\n          value: function onPaste(e) {\n            var _this2 = this;\n\n            if (e.defaultPrevented || !this.quill.isEnabled()) return;\n            var range = this.quill.getSelection();\n            var delta = new _quillDelta2.default().retain(range.index);\n            var scrollTop = this.quill.scrollingContainer.scrollTop;\n            this.container.focus();\n            this.quill.selection.update(_quill2.default.sources.SILENT);\n            setTimeout(function () {\n              delta = delta.concat(_this2.convert()).delete(range.length);\n\n              _this2.quill.updateContents(delta, _quill2.default.sources.USER); // range.length contributes to delta.length()\n\n\n              _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n\n              _this2.quill.scrollingContainer.scrollTop = scrollTop;\n\n              _this2.quill.focus();\n            }, 1);\n          }\n        }, {\n          key: 'prepareMatching',\n          value: function prepareMatching() {\n            var _this3 = this;\n\n            var elementMatchers = [],\n                textMatchers = [];\n            this.matchers.forEach(function (pair) {\n              var _pair = _slicedToArray(pair, 2),\n                  selector = _pair[0],\n                  matcher = _pair[1];\n\n              switch (selector) {\n                case Node.TEXT_NODE:\n                  textMatchers.push(matcher);\n                  break;\n\n                case Node.ELEMENT_NODE:\n                  elementMatchers.push(matcher);\n                  break;\n\n                default:\n                  [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n                    // TODO use weakmap\n                    node[DOM_KEY] = node[DOM_KEY] || [];\n                    node[DOM_KEY].push(matcher);\n                  });\n                  break;\n              }\n            });\n            return [elementMatchers, textMatchers];\n          }\n        }]);\n\n        return Clipboard;\n      }(_module2.default);\n\n      Clipboard.DEFAULTS = {\n        matchers: [],\n        matchVisual: true\n      };\n\n      function applyFormat(delta, format, value) {\n        if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n          return Object.keys(format).reduce(function (delta, key) {\n            return applyFormat(delta, key, format[key]);\n          }, delta);\n        } else {\n          return delta.reduce(function (delta, op) {\n            if (op.attributes && op.attributes[format]) {\n              return delta.push(op);\n            } else {\n              return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n            }\n          }, new _quillDelta2.default());\n        }\n      }\n\n      function computeStyle(node) {\n        if (node.nodeType !== Node.ELEMENT_NODE) return {};\n        var DOM_KEY = '__ql-computed-style';\n        return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n      }\n\n      function deltaEndsWith(delta, text) {\n        var endText = \"\";\n\n        for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n          var op = delta.ops[i];\n          if (typeof op.insert !== 'string') break;\n          endText = op.insert + endText;\n        }\n\n        return endText.slice(-1 * text.length) === text;\n      }\n\n      function isLine(node) {\n        if (node.childNodes.length === 0) return false; // Exclude embed blocks\n\n        var style = computeStyle(node);\n        return ['block', 'list-item'].indexOf(style.display) > -1;\n      }\n\n      function traverse(node, elementMatchers, textMatchers) {\n        // Post-order\n        if (node.nodeType === node.TEXT_NODE) {\n          return textMatchers.reduce(function (delta, matcher) {\n            return matcher(node, delta);\n          }, new _quillDelta2.default());\n        } else if (node.nodeType === node.ELEMENT_NODE) {\n          return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n            var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n\n            if (childNode.nodeType === node.ELEMENT_NODE) {\n              childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n                return matcher(childNode, childrenDelta);\n              }, childrenDelta);\n              childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n                return matcher(childNode, childrenDelta);\n              }, childrenDelta);\n            }\n\n            return delta.concat(childrenDelta);\n          }, new _quillDelta2.default());\n        } else {\n          return new _quillDelta2.default();\n        }\n      }\n\n      function matchAlias(format, node, delta) {\n        return applyFormat(delta, format, true);\n      }\n\n      function matchAttributor(node, delta) {\n        var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n\n        var classes = _parchment2.default.Attributor.Class.keys(node);\n\n        var styles = _parchment2.default.Attributor.Style.keys(node);\n\n        var formats = {};\n        attributes.concat(classes).concat(styles).forEach(function (name) {\n          var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n\n          if (attr != null) {\n            formats[attr.attrName] = attr.value(node);\n            if (formats[attr.attrName]) return;\n          }\n\n          attr = ATTRIBUTE_ATTRIBUTORS[name];\n\n          if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n            formats[attr.attrName] = attr.value(node) || undefined;\n          }\n\n          attr = STYLE_ATTRIBUTORS[name];\n\n          if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n            attr = STYLE_ATTRIBUTORS[name];\n            formats[attr.attrName] = attr.value(node) || undefined;\n          }\n        });\n\n        if (Object.keys(formats).length > 0) {\n          delta = applyFormat(delta, formats);\n        }\n\n        return delta;\n      }\n\n      function matchBlot(node, delta) {\n        var match = _parchment2.default.query(node);\n\n        if (match == null) return delta;\n\n        if (match.prototype instanceof _parchment2.default.Embed) {\n          var embed = {};\n          var value = match.value(node);\n\n          if (value != null) {\n            embed[match.blotName] = value;\n            delta = new _quillDelta2.default().insert(embed, match.formats(node));\n          }\n        } else if (typeof match.formats === 'function') {\n          delta = applyFormat(delta, match.blotName, match.formats(node));\n        }\n\n        return delta;\n      }\n\n      function matchBreak(node, delta) {\n        if (!deltaEndsWith(delta, '\\n')) {\n          delta.insert('\\n');\n        }\n\n        return delta;\n      }\n\n      function matchIgnore() {\n        return new _quillDelta2.default();\n      }\n\n      function matchIndent(node, delta) {\n        var match = _parchment2.default.query(node);\n\n        if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n          return delta;\n        }\n\n        var indent = -1,\n            parent = node.parentNode;\n\n        while (!parent.classList.contains('ql-clipboard')) {\n          if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n            indent += 1;\n          }\n\n          parent = parent.parentNode;\n        }\n\n        if (indent <= 0) return delta;\n        return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, {\n          indent: indent\n        }));\n      }\n\n      function matchNewline(node, delta) {\n        if (!deltaEndsWith(delta, '\\n')) {\n          if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n            delta.insert('\\n');\n          }\n        }\n\n        return delta;\n      }\n\n      function matchSpacing(node, delta) {\n        if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n          var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n\n          if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n            delta.insert('\\n');\n          }\n        }\n\n        return delta;\n      }\n\n      function matchStyles(node, delta) {\n        var formats = {};\n        var style = node.style || {};\n\n        if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n          formats.italic = true;\n        }\n\n        if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n          formats.bold = true;\n        }\n\n        if (Object.keys(formats).length > 0) {\n          delta = applyFormat(delta, formats);\n        }\n\n        if (parseFloat(style.textIndent || 0) > 0) {\n          // Could be 0.5in\n          delta = new _quillDelta2.default().insert('\\t').concat(delta);\n        }\n\n        return delta;\n      }\n\n      function matchText(node, delta) {\n        var text = node.data; // Word represents empty line with <o:p>&nbsp;</o:p>\n\n        if (node.parentNode.tagName === 'O:P') {\n          return delta.insert(text.trim());\n        }\n\n        if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n          return delta;\n        }\n\n        if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n          // eslint-disable-next-line func-style\n          var replacer = function replacer(collapse, match) {\n            match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n\n            return match.length < 1 && collapse ? ' ' : match;\n          };\n\n          text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n          text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n\n          if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n            text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n          }\n\n          if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n            text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n          }\n        }\n\n        return delta.insert(text);\n      }\n\n      exports.default = Clipboard;\n      exports.matchAttributor = matchAttributor;\n      exports.matchBlot = matchBlot;\n      exports.matchNewline = matchNewline;\n      exports.matchSpacing = matchSpacing;\n      exports.matchText = matchText;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Bold = function (_Inline) {\n        _inherits(Bold, _Inline);\n\n        function Bold() {\n          _classCallCheck(this, Bold);\n\n          return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n        }\n\n        _createClass(Bold, [{\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n\n            if (this.domNode.tagName !== this.statics.tagName[0]) {\n              this.replaceWith(this.statics.blotName);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create() {\n            return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            return true;\n          }\n        }]);\n\n        return Bold;\n      }(_inline2.default);\n\n      Bold.blotName = 'bold';\n      Bold.tagName = ['STRONG', 'B'];\n      exports.default = Bold;\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.addControls = exports.default = undefined;\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _quillDelta = __webpack_require__(2);\n\n      var _quillDelta2 = _interopRequireDefault(_quillDelta);\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _logger = __webpack_require__(10);\n\n      var _logger2 = _interopRequireDefault(_logger);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var debug = (0, _logger2.default)('quill:toolbar');\n\n      var Toolbar = function (_Module) {\n        _inherits(Toolbar, _Module);\n\n        function Toolbar(quill, options) {\n          _classCallCheck(this, Toolbar);\n\n          var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n          if (Array.isArray(_this.options.container)) {\n            var container = document.createElement('div');\n            addControls(container, _this.options.container);\n            quill.container.parentNode.insertBefore(container, quill.container);\n            _this.container = container;\n          } else if (typeof _this.options.container === 'string') {\n            _this.container = document.querySelector(_this.options.container);\n          } else {\n            _this.container = _this.options.container;\n          }\n\n          if (!(_this.container instanceof HTMLElement)) {\n            var _ret;\n\n            return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n          }\n\n          _this.container.classList.add('ql-toolbar');\n\n          _this.controls = [];\n          _this.handlers = {};\n          Object.keys(_this.options.handlers).forEach(function (format) {\n            _this.addHandler(format, _this.options.handlers[format]);\n          });\n          [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n            _this.attach(input);\n          });\n\n          _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n            if (type === _quill2.default.events.SELECTION_CHANGE) {\n              _this.update(range);\n            }\n          });\n\n          _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n            var _this$quill$selection = _this.quill.selection.getRange(),\n                _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n                range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n            _this.update(range);\n          });\n\n          return _this;\n        }\n\n        _createClass(Toolbar, [{\n          key: 'addHandler',\n          value: function addHandler(format, handler) {\n            this.handlers[format] = handler;\n          }\n        }, {\n          key: 'attach',\n          value: function attach(input) {\n            var _this2 = this;\n\n            var format = [].find.call(input.classList, function (className) {\n              return className.indexOf('ql-') === 0;\n            });\n            if (!format) return;\n            format = format.slice('ql-'.length);\n\n            if (input.tagName === 'BUTTON') {\n              input.setAttribute('type', 'button');\n            }\n\n            if (this.handlers[format] == null) {\n              if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n                debug.warn('ignoring attaching to disabled format', format, input);\n                return;\n              }\n\n              if (_parchment2.default.query(format) == null) {\n                debug.warn('ignoring attaching to nonexistent format', format, input);\n                return;\n              }\n            }\n\n            var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n            input.addEventListener(eventName, function (e) {\n              var value = void 0;\n\n              if (input.tagName === 'SELECT') {\n                if (input.selectedIndex < 0) return;\n                var selected = input.options[input.selectedIndex];\n\n                if (selected.hasAttribute('selected')) {\n                  value = false;\n                } else {\n                  value = selected.value || false;\n                }\n              } else {\n                if (input.classList.contains('ql-active')) {\n                  value = false;\n                } else {\n                  value = input.value || !input.hasAttribute('value');\n                }\n\n                e.preventDefault();\n              }\n\n              _this2.quill.focus();\n\n              var _quill$selection$getR = _this2.quill.selection.getRange(),\n                  _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n                  range = _quill$selection$getR2[0];\n\n              if (_this2.handlers[format] != null) {\n                _this2.handlers[format].call(_this2, value);\n              } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n                value = prompt('Enter ' + format);\n                if (!value) return;\n\n                _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n              } else {\n                _this2.quill.format(format, value, _quill2.default.sources.USER);\n              }\n\n              _this2.update(range);\n            }); // TODO use weakmap\n\n            this.controls.push([format, input]);\n          }\n        }, {\n          key: 'update',\n          value: function update(range) {\n            var formats = range == null ? {} : this.quill.getFormat(range);\n            this.controls.forEach(function (pair) {\n              var _pair = _slicedToArray(pair, 2),\n                  format = _pair[0],\n                  input = _pair[1];\n\n              if (input.tagName === 'SELECT') {\n                var option = void 0;\n\n                if (range == null) {\n                  option = null;\n                } else if (formats[format] == null) {\n                  option = input.querySelector('option[selected]');\n                } else if (!Array.isArray(formats[format])) {\n                  var value = formats[format];\n\n                  if (typeof value === 'string') {\n                    value = value.replace(/\\\"/g, '\\\\\"');\n                  }\n\n                  option = input.querySelector('option[value=\"' + value + '\"]');\n                }\n\n                if (option == null) {\n                  input.value = ''; // TODO make configurable?\n\n                  input.selectedIndex = -1;\n                } else {\n                  option.selected = true;\n                }\n              } else {\n                if (range == null) {\n                  input.classList.remove('ql-active');\n                } else if (input.hasAttribute('value')) {\n                  // both being null should match (default values)\n                  // '1' should match with 1 (headers)\n                  var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n                  input.classList.toggle('ql-active', isActive);\n                } else {\n                  input.classList.toggle('ql-active', formats[format] != null);\n                }\n              }\n            });\n          }\n        }]);\n\n        return Toolbar;\n      }(_module2.default);\n\n      Toolbar.DEFAULTS = {};\n\n      function addButton(container, format, value) {\n        var input = document.createElement('button');\n        input.setAttribute('type', 'button');\n        input.classList.add('ql-' + format);\n\n        if (value != null) {\n          input.value = value;\n        }\n\n        container.appendChild(input);\n      }\n\n      function addControls(container, groups) {\n        if (!Array.isArray(groups[0])) {\n          groups = [groups];\n        }\n\n        groups.forEach(function (controls) {\n          var group = document.createElement('span');\n          group.classList.add('ql-formats');\n          controls.forEach(function (control) {\n            if (typeof control === 'string') {\n              addButton(group, control);\n            } else {\n              var format = Object.keys(control)[0];\n              var value = control[format];\n\n              if (Array.isArray(value)) {\n                addSelect(group, format, value);\n              } else {\n                addButton(group, format, value);\n              }\n            }\n          });\n          container.appendChild(group);\n        });\n      }\n\n      function addSelect(container, format, values) {\n        var input = document.createElement('select');\n        input.classList.add('ql-' + format);\n        values.forEach(function (value) {\n          var option = document.createElement('option');\n\n          if (value !== false) {\n            option.setAttribute('value', value);\n          } else {\n            option.setAttribute('selected', 'selected');\n          }\n\n          input.appendChild(option);\n        });\n        container.appendChild(input);\n      }\n\n      Toolbar.DEFAULTS = {\n        container: null,\n        handlers: {\n          clean: function clean() {\n            var _this3 = this;\n\n            var range = this.quill.getSelection();\n            if (range == null) return;\n\n            if (range.length == 0) {\n              var formats = this.quill.getFormat();\n              Object.keys(formats).forEach(function (name) {\n                // Clean functionality in existing apps only clean inline formats\n                if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n                  _this3.quill.format(name, false);\n                }\n              });\n            } else {\n              this.quill.removeFormat(range, _quill2.default.sources.USER);\n            }\n          },\n          direction: function direction(value) {\n            var align = this.quill.getFormat()['align'];\n\n            if (value === 'rtl' && align == null) {\n              this.quill.format('align', 'right', _quill2.default.sources.USER);\n            } else if (!value && align === 'right') {\n              this.quill.format('align', false, _quill2.default.sources.USER);\n            }\n\n            this.quill.format('direction', value, _quill2.default.sources.USER);\n          },\n          indent: function indent(value) {\n            var range = this.quill.getSelection();\n            var formats = this.quill.getFormat(range);\n            var indent = parseInt(formats.indent || 0);\n\n            if (value === '+1' || value === '-1') {\n              var modifier = value === '+1' ? 1 : -1;\n              if (formats.direction === 'rtl') modifier *= -1;\n              this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n            }\n          },\n          link: function link(value) {\n            if (value === true) {\n              value = prompt('Enter link URL:');\n            }\n\n            this.quill.format('link', value, _quill2.default.sources.USER);\n          },\n          list: function list(value) {\n            var range = this.quill.getSelection();\n            var formats = this.quill.getFormat(range);\n\n            if (value === 'check') {\n              if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n                this.quill.format('list', false, _quill2.default.sources.USER);\n              } else {\n                this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n              }\n            } else {\n              this.quill.format('list', value, _quill2.default.sources.USER);\n            }\n          }\n        }\n      };\n      exports.default = Toolbar;\n      exports.addControls = addControls;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ColorPicker = function (_Picker) {\n        _inherits(ColorPicker, _Picker);\n\n        function ColorPicker(select, label) {\n          _classCallCheck(this, ColorPicker);\n\n          var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n          _this.label.innerHTML = label;\n\n          _this.container.classList.add('ql-color-picker');\n\n          [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n            item.classList.add('ql-primary');\n          });\n          return _this;\n        }\n\n        _createClass(ColorPicker, [{\n          key: 'buildItem',\n          value: function buildItem(option) {\n            var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n\n            item.style.backgroundColor = option.getAttribute('value') || '';\n            return item;\n          }\n        }, {\n          key: 'selectItem',\n          value: function selectItem(item, trigger) {\n            _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n\n            var colorLabel = this.label.querySelector('.ql-color-label');\n            var value = item ? item.getAttribute('data-value') || '' : '';\n\n            if (colorLabel) {\n              if (colorLabel.tagName === 'line') {\n                colorLabel.style.stroke = value;\n              } else {\n                colorLabel.style.fill = value;\n              }\n            }\n          }\n        }]);\n\n        return ColorPicker;\n      }(_picker2.default);\n\n      exports.default = ColorPicker;\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var IconPicker = function (_Picker) {\n        _inherits(IconPicker, _Picker);\n\n        function IconPicker(select, icons) {\n          _classCallCheck(this, IconPicker);\n\n          var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n          _this.container.classList.add('ql-icon-picker');\n\n          [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n            item.innerHTML = icons[item.getAttribute('data-value') || ''];\n          });\n          _this.defaultItem = _this.container.querySelector('.ql-selected');\n\n          _this.selectItem(_this.defaultItem);\n\n          return _this;\n        }\n\n        _createClass(IconPicker, [{\n          key: 'selectItem',\n          value: function selectItem(item, trigger) {\n            _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n\n            item = item || this.defaultItem;\n            this.label.innerHTML = item.innerHTML;\n          }\n        }]);\n\n        return IconPicker;\n      }(_picker2.default);\n\n      exports.default = IconPicker;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Tooltip = function () {\n        function Tooltip(quill, boundsContainer) {\n          var _this = this;\n\n          _classCallCheck(this, Tooltip);\n\n          this.quill = quill;\n          this.boundsContainer = boundsContainer || document.body;\n          this.root = quill.addContainer('ql-tooltip');\n          this.root.innerHTML = this.constructor.TEMPLATE;\n\n          if (this.quill.root === this.quill.scrollingContainer) {\n            this.quill.root.addEventListener('scroll', function () {\n              _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n            });\n          }\n\n          this.hide();\n        }\n\n        _createClass(Tooltip, [{\n          key: 'hide',\n          value: function hide() {\n            this.root.classList.add('ql-hidden');\n          }\n        }, {\n          key: 'position',\n          value: function position(reference) {\n            var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2; // root.scrollTop should be 0 if scrollContainer !== root\n\n            var top = reference.bottom + this.quill.root.scrollTop;\n            this.root.style.left = left + 'px';\n            this.root.style.top = top + 'px';\n            this.root.classList.remove('ql-flip');\n            var containerBounds = this.boundsContainer.getBoundingClientRect();\n            var rootBounds = this.root.getBoundingClientRect();\n            var shift = 0;\n\n            if (rootBounds.right > containerBounds.right) {\n              shift = containerBounds.right - rootBounds.right;\n              this.root.style.left = left + shift + 'px';\n            }\n\n            if (rootBounds.left < containerBounds.left) {\n              shift = containerBounds.left - rootBounds.left;\n              this.root.style.left = left + shift + 'px';\n            }\n\n            if (rootBounds.bottom > containerBounds.bottom) {\n              var height = rootBounds.bottom - rootBounds.top;\n              var verticalShift = reference.bottom - reference.top + height;\n              this.root.style.top = top - verticalShift + 'px';\n              this.root.classList.add('ql-flip');\n            }\n\n            return shift;\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            this.root.classList.remove('ql-editing');\n            this.root.classList.remove('ql-hidden');\n          }\n        }]);\n\n        return Tooltip;\n      }();\n\n      exports.default = Tooltip;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _slicedToArray = function () {\n        function sliceIterator(arr, i) {\n          var _arr = [];\n          var _n = true;\n          var _d = false;\n          var _e = undefined;\n\n          try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n              _arr.push(_s.value);\n\n              if (i && _arr.length === i) break;\n            }\n          } catch (err) {\n            _d = true;\n            _e = err;\n          } finally {\n            try {\n              if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n              if (_d) throw _e;\n            }\n          }\n\n          return _arr;\n        }\n\n        return function (arr, i) {\n          if (Array.isArray(arr)) {\n            return arr;\n          } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n          } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n          }\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _base = __webpack_require__(43);\n\n      var _base2 = _interopRequireDefault(_base);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      var _selection = __webpack_require__(15);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TOOLBAR_CONFIG = [[{\n        header: ['1', '2', '3', false]\n      }], ['bold', 'italic', 'underline', 'link'], [{\n        list: 'ordered'\n      }, {\n        list: 'bullet'\n      }], ['clean']];\n\n      var SnowTheme = function (_BaseTheme) {\n        _inherits(SnowTheme, _BaseTheme);\n\n        function SnowTheme(quill, options) {\n          _classCallCheck(this, SnowTheme);\n\n          if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n            options.modules.toolbar.container = TOOLBAR_CONFIG;\n          }\n\n          var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n          _this.quill.container.classList.add('ql-snow');\n\n          return _this;\n        }\n\n        _createClass(SnowTheme, [{\n          key: 'extendToolbar',\n          value: function extendToolbar(toolbar) {\n            toolbar.container.classList.add('ql-snow');\n            this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n            this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n            this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n\n            if (toolbar.container.querySelector('.ql-link')) {\n              this.quill.keyboard.addBinding({\n                key: 'K',\n                shortKey: true\n              }, function (range, context) {\n                toolbar.handlers['link'].call(toolbar, !context.format.link);\n              });\n            }\n          }\n        }]);\n\n        return SnowTheme;\n      }(_base2.default);\n\n      SnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link: function link(value) {\n                if (value) {\n                  var range = this.quill.getSelection();\n                  if (range == null || range.length == 0) return;\n                  var preview = this.quill.getText(range);\n\n                  if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n                    preview = 'mailto:' + preview;\n                  }\n\n                  var tooltip = this.quill.theme.tooltip;\n                  tooltip.edit('link', preview);\n                } else {\n                  this.quill.format('link', false);\n                }\n              }\n            }\n          }\n        }\n      });\n\n      var SnowTooltip = function (_BaseTooltip) {\n        _inherits(SnowTooltip, _BaseTooltip);\n\n        function SnowTooltip(quill, bounds) {\n          _classCallCheck(this, SnowTooltip);\n\n          var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n          _this2.preview = _this2.root.querySelector('a.ql-preview');\n          return _this2;\n        }\n\n        _createClass(SnowTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this3 = this;\n\n            _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n\n            this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n              if (_this3.root.classList.contains('ql-editing')) {\n                _this3.save();\n              } else {\n                _this3.edit('link', _this3.preview.textContent);\n              }\n\n              event.preventDefault();\n            });\n            this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n              if (_this3.linkRange != null) {\n                var range = _this3.linkRange;\n\n                _this3.restoreFocus();\n\n                _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n\n                delete _this3.linkRange;\n              }\n\n              event.preventDefault();\n\n              _this3.hide();\n            });\n            this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n              if (range == null) return;\n\n              if (range.length === 0 && source === _emitter2.default.sources.USER) {\n                var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n                    _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n                    link = _quill$scroll$descend2[0],\n                    offset = _quill$scroll$descend2[1];\n\n                if (link != null) {\n                  _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n\n                  var preview = _link2.default.formats(link.domNode);\n\n                  _this3.preview.textContent = preview;\n\n                  _this3.preview.setAttribute('href', preview);\n\n                  _this3.show();\n\n                  _this3.position(_this3.quill.getBounds(_this3.linkRange));\n\n                  return;\n                }\n              } else {\n                delete _this3.linkRange;\n              }\n\n              _this3.hide();\n            });\n          }\n        }, {\n          key: 'show',\n          value: function show() {\n            _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n\n            this.root.removeAttribute('data-mode');\n          }\n        }]);\n\n        return SnowTooltip;\n      }(_base.BaseTooltip);\n\n      SnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n      exports.default = SnowTheme;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _core = __webpack_require__(29);\n\n      var _core2 = _interopRequireDefault(_core);\n\n      var _align = __webpack_require__(36);\n\n      var _direction = __webpack_require__(38);\n\n      var _indent = __webpack_require__(64);\n\n      var _blockquote = __webpack_require__(65);\n\n      var _blockquote2 = _interopRequireDefault(_blockquote);\n\n      var _header = __webpack_require__(66);\n\n      var _header2 = _interopRequireDefault(_header);\n\n      var _list = __webpack_require__(67);\n\n      var _list2 = _interopRequireDefault(_list);\n\n      var _background = __webpack_require__(37);\n\n      var _color = __webpack_require__(26);\n\n      var _font = __webpack_require__(39);\n\n      var _size = __webpack_require__(40);\n\n      var _bold = __webpack_require__(56);\n\n      var _bold2 = _interopRequireDefault(_bold);\n\n      var _italic = __webpack_require__(68);\n\n      var _italic2 = _interopRequireDefault(_italic);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      var _script = __webpack_require__(69);\n\n      var _script2 = _interopRequireDefault(_script);\n\n      var _strike = __webpack_require__(70);\n\n      var _strike2 = _interopRequireDefault(_strike);\n\n      var _underline = __webpack_require__(71);\n\n      var _underline2 = _interopRequireDefault(_underline);\n\n      var _image = __webpack_require__(72);\n\n      var _image2 = _interopRequireDefault(_image);\n\n      var _video = __webpack_require__(73);\n\n      var _video2 = _interopRequireDefault(_video);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      var _formula = __webpack_require__(74);\n\n      var _formula2 = _interopRequireDefault(_formula);\n\n      var _syntax = __webpack_require__(75);\n\n      var _syntax2 = _interopRequireDefault(_syntax);\n\n      var _toolbar = __webpack_require__(57);\n\n      var _toolbar2 = _interopRequireDefault(_toolbar);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      var _picker = __webpack_require__(28);\n\n      var _picker2 = _interopRequireDefault(_picker);\n\n      var _colorPicker = __webpack_require__(59);\n\n      var _colorPicker2 = _interopRequireDefault(_colorPicker);\n\n      var _iconPicker = __webpack_require__(60);\n\n      var _iconPicker2 = _interopRequireDefault(_iconPicker);\n\n      var _tooltip = __webpack_require__(61);\n\n      var _tooltip2 = _interopRequireDefault(_tooltip);\n\n      var _bubble = __webpack_require__(108);\n\n      var _bubble2 = _interopRequireDefault(_bubble);\n\n      var _snow = __webpack_require__(62);\n\n      var _snow2 = _interopRequireDefault(_snow);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      _core2.default.register({\n        'attributors/attribute/direction': _direction.DirectionAttribute,\n        'attributors/class/align': _align.AlignClass,\n        'attributors/class/background': _background.BackgroundClass,\n        'attributors/class/color': _color.ColorClass,\n        'attributors/class/direction': _direction.DirectionClass,\n        'attributors/class/font': _font.FontClass,\n        'attributors/class/size': _size.SizeClass,\n        'attributors/style/align': _align.AlignStyle,\n        'attributors/style/background': _background.BackgroundStyle,\n        'attributors/style/color': _color.ColorStyle,\n        'attributors/style/direction': _direction.DirectionStyle,\n        'attributors/style/font': _font.FontStyle,\n        'attributors/style/size': _size.SizeStyle\n      }, true);\n\n      _core2.default.register({\n        'formats/align': _align.AlignClass,\n        'formats/direction': _direction.DirectionClass,\n        'formats/indent': _indent.IndentClass,\n        'formats/background': _background.BackgroundStyle,\n        'formats/color': _color.ColorStyle,\n        'formats/font': _font.FontClass,\n        'formats/size': _size.SizeClass,\n        'formats/blockquote': _blockquote2.default,\n        'formats/code-block': _code2.default,\n        'formats/header': _header2.default,\n        'formats/list': _list2.default,\n        'formats/bold': _bold2.default,\n        'formats/code': _code.Code,\n        'formats/italic': _italic2.default,\n        'formats/link': _link2.default,\n        'formats/script': _script2.default,\n        'formats/strike': _strike2.default,\n        'formats/underline': _underline2.default,\n        'formats/image': _image2.default,\n        'formats/video': _video2.default,\n        'formats/list/item': _list.ListItem,\n        'modules/formula': _formula2.default,\n        'modules/syntax': _syntax2.default,\n        'modules/toolbar': _toolbar2.default,\n        'themes/bubble': _bubble2.default,\n        'themes/snow': _snow2.default,\n        'ui/icons': _icons2.default,\n        'ui/picker': _picker2.default,\n        'ui/icon-picker': _iconPicker2.default,\n        'ui/color-picker': _colorPicker2.default,\n        'ui/tooltip': _tooltip2.default\n      }, true);\n\n      exports.default = _core2.default;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.IndentClass = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var IdentAttributor = function (_Parchment$Attributor) {\n        _inherits(IdentAttributor, _Parchment$Attributor);\n\n        function IdentAttributor() {\n          _classCallCheck(this, IdentAttributor);\n\n          return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n        }\n\n        _createClass(IdentAttributor, [{\n          key: 'add',\n          value: function add(node, value) {\n            if (value === '+1' || value === '-1') {\n              var indent = this.value(node) || 0;\n              value = value === '+1' ? indent + 1 : indent - 1;\n            }\n\n            if (value === 0) {\n              this.remove(node);\n              return true;\n            } else {\n              return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n            }\n          }\n        }, {\n          key: 'canAdd',\n          value: function canAdd(node, value) {\n            return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n          }\n        }, {\n          key: 'value',\n          value: function value(node) {\n            return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n          }\n        }]);\n\n        return IdentAttributor;\n      }(_parchment2.default.Attributor.Class);\n\n      var IndentClass = new IdentAttributor('indent', 'ql-indent', {\n        scope: _parchment2.default.Scope.BLOCK,\n        whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n      });\n      exports.IndentClass = IndentClass;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Blockquote = function (_Block) {\n        _inherits(Blockquote, _Block);\n\n        function Blockquote() {\n          _classCallCheck(this, Blockquote);\n\n          return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n        }\n\n        return Blockquote;\n      }(_block2.default);\n\n      Blockquote.blotName = 'blockquote';\n      Blockquote.tagName = 'blockquote';\n      exports.default = Blockquote;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Header = function (_Block) {\n        _inherits(Header, _Block);\n\n        function Header() {\n          _classCallCheck(this, Header);\n\n          return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n        }\n\n        _createClass(Header, null, [{\n          key: 'formats',\n          value: function formats(domNode) {\n            return this.tagName.indexOf(domNode.tagName) + 1;\n          }\n        }]);\n\n        return Header;\n      }(_block2.default);\n\n      Header.blotName = 'header';\n      Header.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n      exports.default = Header;\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.ListItem = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _block = __webpack_require__(4);\n\n      var _block2 = _interopRequireDefault(_block);\n\n      var _container = __webpack_require__(25);\n\n      var _container2 = _interopRequireDefault(_container);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n\n        return obj;\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ListItem = function (_Block) {\n        _inherits(ListItem, _Block);\n\n        function ListItem() {\n          _classCallCheck(this, ListItem);\n\n          return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n        }\n\n        _createClass(ListItem, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (name === List.blotName && !value) {\n              this.replaceWith(_parchment2.default.create(this.statics.scope));\n            } else {\n              _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }, {\n          key: 'remove',\n          value: function remove() {\n            if (this.prev == null && this.next == null) {\n              this.parent.remove();\n            } else {\n              _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n            }\n          }\n        }, {\n          key: 'replaceWith',\n          value: function replaceWith(name, value) {\n            this.parent.isolate(this.offset(this.parent), this.length());\n\n            if (name === this.parent.statics.blotName) {\n              this.parent.replaceWith(name, value);\n              return this;\n            } else {\n              this.parent.unwrap();\n              return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'formats',\n          value: function formats(domNode) {\n            return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n          }\n        }]);\n\n        return ListItem;\n      }(_block2.default);\n\n      ListItem.blotName = 'list-item';\n      ListItem.tagName = 'LI';\n\n      var List = function (_Container) {\n        _inherits(List, _Container);\n\n        _createClass(List, null, [{\n          key: 'create',\n          value: function create(value) {\n            var tagName = value === 'ordered' ? 'OL' : 'UL';\n\n            var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n\n            if (value === 'checked' || value === 'unchecked') {\n              node.setAttribute('data-checked', value === 'checked');\n            }\n\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            if (domNode.tagName === 'OL') return 'ordered';\n\n            if (domNode.tagName === 'UL') {\n              if (domNode.hasAttribute('data-checked')) {\n                return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n              } else {\n                return 'bullet';\n              }\n            }\n\n            return undefined;\n          }\n        }]);\n\n        function List(domNode) {\n          _classCallCheck(this, List);\n\n          var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n          var listEventHandler = function listEventHandler(e) {\n            if (e.target.parentNode !== domNode) return;\n\n            var format = _this2.statics.formats(domNode);\n\n            var blot = _parchment2.default.find(e.target);\n\n            if (format === 'checked') {\n              blot.format('list', 'unchecked');\n            } else if (format === 'unchecked') {\n              blot.format('list', 'checked');\n            }\n          };\n\n          domNode.addEventListener('touchstart', listEventHandler);\n          domNode.addEventListener('mousedown', listEventHandler);\n          return _this2;\n        }\n\n        _createClass(List, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (this.children.length > 0) {\n              this.children.tail.format(name, value);\n            }\n          }\n        }, {\n          key: 'formats',\n          value: function formats() {\n            // We don't inherit from FormatBlot\n            return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n          }\n        }, {\n          key: 'insertBefore',\n          value: function insertBefore(blot, ref) {\n            if (blot instanceof ListItem) {\n              _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n            } else {\n              var index = ref == null ? this.length() : ref.offset(this);\n              var after = this.split(index);\n              after.parent.insertBefore(blot, after);\n            }\n          }\n        }, {\n          key: 'optimize',\n          value: function optimize(context) {\n            _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n\n            var next = this.next;\n\n            if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n              next.moveChildren(this);\n              next.remove();\n            }\n          }\n        }, {\n          key: 'replace',\n          value: function replace(target) {\n            if (target.statics.blotName !== this.statics.blotName) {\n              var item = _parchment2.default.create(this.statics.defaultChild);\n\n              target.moveChildren(item);\n              this.appendChild(item);\n            }\n\n            _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n          }\n        }]);\n\n        return List;\n      }(_container2.default);\n\n      List.blotName = 'list';\n      List.scope = _parchment2.default.Scope.BLOCK_BLOT;\n      List.tagName = ['OL', 'UL'];\n      List.defaultChild = 'list-item';\n      List.allowedChildren = [ListItem];\n      exports.ListItem = ListItem;\n      exports.default = List;\n      /***/\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _bold = __webpack_require__(56);\n\n      var _bold2 = _interopRequireDefault(_bold);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Italic = function (_Bold) {\n        _inherits(Italic, _Bold);\n\n        function Italic() {\n          _classCallCheck(this, Italic);\n\n          return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n        }\n\n        return Italic;\n      }(_bold2.default);\n\n      Italic.blotName = 'italic';\n      Italic.tagName = ['EM', 'I'];\n      exports.default = Italic;\n      /***/\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Script = function (_Inline) {\n        _inherits(Script, _Inline);\n\n        function Script() {\n          _classCallCheck(this, Script);\n\n          return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n        }\n\n        _createClass(Script, null, [{\n          key: 'create',\n          value: function create(value) {\n            if (value === 'super') {\n              return document.createElement('sup');\n            } else if (value === 'sub') {\n              return document.createElement('sub');\n            } else {\n              return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n            }\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            if (domNode.tagName === 'SUB') return 'sub';\n            if (domNode.tagName === 'SUP') return 'super';\n            return undefined;\n          }\n        }]);\n\n        return Script;\n      }(_inline2.default);\n\n      Script.blotName = 'script';\n      Script.tagName = ['SUB', 'SUP'];\n      exports.default = Script;\n      /***/\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Strike = function (_Inline) {\n        _inherits(Strike, _Inline);\n\n        function Strike() {\n          _classCallCheck(this, Strike);\n\n          return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n        }\n\n        return Strike;\n      }(_inline2.default);\n\n      Strike.blotName = 'strike';\n      Strike.tagName = 'S';\n      exports.default = Strike;\n      /***/\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _inline = __webpack_require__(6);\n\n      var _inline2 = _interopRequireDefault(_inline);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var Underline = function (_Inline) {\n        _inherits(Underline, _Inline);\n\n        function Underline() {\n          _classCallCheck(this, Underline);\n\n          return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n        }\n\n        return Underline;\n      }(_inline2.default);\n\n      Underline.blotName = 'underline';\n      Underline.tagName = 'U';\n      exports.default = Underline;\n      /***/\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _link = __webpack_require__(27);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ATTRIBUTES = ['alt', 'height', 'width'];\n\n      var Image = function (_Parchment$Embed) {\n        _inherits(Image, _Parchment$Embed);\n\n        function Image() {\n          _classCallCheck(this, Image);\n\n          return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n        }\n\n        _createClass(Image, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (ATTRIBUTES.indexOf(name) > -1) {\n              if (value) {\n                this.domNode.setAttribute(name, value);\n              } else {\n                this.domNode.removeAttribute(name);\n              }\n            } else {\n              _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n\n            if (typeof value === 'string') {\n              node.setAttribute('src', this.sanitize(value));\n            }\n\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return ATTRIBUTES.reduce(function (formats, attribute) {\n              if (domNode.hasAttribute(attribute)) {\n                formats[attribute] = domNode.getAttribute(attribute);\n              }\n\n              return formats;\n            }, {});\n          }\n        }, {\n          key: 'match',\n          value: function match(url) {\n            return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('src');\n          }\n        }]);\n\n        return Image;\n      }(_parchment2.default.Embed);\n\n      Image.blotName = 'image';\n      Image.tagName = 'IMG';\n      exports.default = Image;\n      /***/\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _block = __webpack_require__(4);\n\n      var _link = __webpack_require__(27);\n\n      var _link2 = _interopRequireDefault(_link);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var ATTRIBUTES = ['height', 'width'];\n\n      var Video = function (_BlockEmbed) {\n        _inherits(Video, _BlockEmbed);\n\n        function Video() {\n          _classCallCheck(this, Video);\n\n          return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n        }\n\n        _createClass(Video, [{\n          key: 'format',\n          value: function format(name, value) {\n            if (ATTRIBUTES.indexOf(name) > -1) {\n              if (value) {\n                this.domNode.setAttribute(name, value);\n              } else {\n                this.domNode.removeAttribute(name);\n              }\n            } else {\n              _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n            }\n          }\n        }], [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n\n            node.setAttribute('frameborder', '0');\n            node.setAttribute('allowfullscreen', true);\n            node.setAttribute('src', this.sanitize(value));\n            return node;\n          }\n        }, {\n          key: 'formats',\n          value: function formats(domNode) {\n            return ATTRIBUTES.reduce(function (formats, attribute) {\n              if (domNode.hasAttribute(attribute)) {\n                formats[attribute] = domNode.getAttribute(attribute);\n              }\n\n              return formats;\n            }, {});\n          }\n        }, {\n          key: 'sanitize',\n          value: function sanitize(url) {\n            return _link2.default.sanitize(url);\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('src');\n          }\n        }]);\n\n        return Video;\n      }(_block.BlockEmbed);\n\n      Video.blotName = 'video';\n      Video.className = 'ql-video';\n      Video.tagName = 'IFRAME';\n      exports.default = Video;\n      /***/\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.FormulaBlot = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _embed = __webpack_require__(35);\n\n      var _embed2 = _interopRequireDefault(_embed);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var FormulaBlot = function (_Embed) {\n        _inherits(FormulaBlot, _Embed);\n\n        function FormulaBlot() {\n          _classCallCheck(this, FormulaBlot);\n\n          return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n        }\n\n        _createClass(FormulaBlot, null, [{\n          key: 'create',\n          value: function create(value) {\n            var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n\n            if (typeof value === 'string') {\n              window.katex.render(value, node, {\n                throwOnError: false,\n                errorColor: '#f00'\n              });\n              node.setAttribute('data-value', value);\n            }\n\n            return node;\n          }\n        }, {\n          key: 'value',\n          value: function value(domNode) {\n            return domNode.getAttribute('data-value');\n          }\n        }]);\n\n        return FormulaBlot;\n      }(_embed2.default);\n\n      FormulaBlot.blotName = 'formula';\n      FormulaBlot.className = 'ql-formula';\n      FormulaBlot.tagName = 'SPAN';\n\n      var Formula = function (_Module) {\n        _inherits(Formula, _Module);\n\n        _createClass(Formula, null, [{\n          key: 'register',\n          value: function register() {\n            _quill2.default.register(FormulaBlot, true);\n          }\n        }]);\n\n        function Formula() {\n          _classCallCheck(this, Formula);\n\n          var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n          if (window.katex == null) {\n            throw new Error('Formula module requires KaTeX.');\n          }\n\n          return _this2;\n        }\n\n        return Formula;\n      }(_module2.default);\n\n      exports.FormulaBlot = FormulaBlot;\n      exports.default = Formula;\n      /***/\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _parchment = __webpack_require__(0);\n\n      var _parchment2 = _interopRequireDefault(_parchment);\n\n      var _quill = __webpack_require__(5);\n\n      var _quill2 = _interopRequireDefault(_quill);\n\n      var _module = __webpack_require__(9);\n\n      var _module2 = _interopRequireDefault(_module);\n\n      var _code = __webpack_require__(13);\n\n      var _code2 = _interopRequireDefault(_code);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var SyntaxCodeBlock = function (_CodeBlock) {\n        _inherits(SyntaxCodeBlock, _CodeBlock);\n\n        function SyntaxCodeBlock() {\n          _classCallCheck(this, SyntaxCodeBlock);\n\n          return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n        }\n\n        _createClass(SyntaxCodeBlock, [{\n          key: 'replaceWith',\n          value: function replaceWith(block) {\n            this.domNode.textContent = this.domNode.textContent;\n            this.attach();\n\n            _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n          }\n        }, {\n          key: 'highlight',\n          value: function highlight(_highlight) {\n            var text = this.domNode.textContent;\n\n            if (this.cachedText !== text) {\n              if (text.trim().length > 0 || this.cachedText == null) {\n                this.domNode.innerHTML = _highlight(text);\n                this.domNode.normalize();\n                this.attach();\n              }\n\n              this.cachedText = text;\n            }\n          }\n        }]);\n\n        return SyntaxCodeBlock;\n      }(_code2.default);\n\n      SyntaxCodeBlock.className = 'ql-syntax';\n      var CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n        scope: _parchment2.default.Scope.INLINE\n      });\n\n      var Syntax = function (_Module) {\n        _inherits(Syntax, _Module);\n\n        _createClass(Syntax, null, [{\n          key: 'register',\n          value: function register() {\n            _quill2.default.register(CodeToken, true);\n\n            _quill2.default.register(SyntaxCodeBlock, true);\n          }\n        }]);\n\n        function Syntax(quill, options) {\n          _classCallCheck(this, Syntax);\n\n          var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n          if (typeof _this2.options.highlight !== 'function') {\n            throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n          }\n\n          var timer = null;\n\n          _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n              _this2.highlight();\n\n              timer = null;\n            }, _this2.options.interval);\n          });\n\n          _this2.highlight();\n\n          return _this2;\n        }\n\n        _createClass(Syntax, [{\n          key: 'highlight',\n          value: function highlight() {\n            var _this3 = this;\n\n            if (this.quill.selection.composing) return;\n            this.quill.update(_quill2.default.sources.USER);\n            var range = this.quill.getSelection();\n            this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n              code.highlight(_this3.options.highlight);\n            });\n            this.quill.update(_quill2.default.sources.SILENT);\n\n            if (range != null) {\n              this.quill.setSelection(range, _quill2.default.sources.SILENT);\n            }\n          }\n        }]);\n\n        return Syntax;\n      }(_module2.default);\n\n      Syntax.DEFAULTS = {\n        highlight: function () {\n          if (window.hljs == null) return null;\n          return function (text) {\n            var result = window.hljs.highlightAuto(text);\n            return result.value;\n          };\n        }(),\n        interval: 1000\n      };\n      exports.CodeBlock = SyntaxCodeBlock;\n      exports.CodeToken = CodeToken;\n      exports.default = Syntax;\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 79 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 80 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n      /***/\n    },\n    /* 81 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n      /***/\n    },\n    /* 82 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n      /***/\n    },\n    /* 83 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n      /***/\n    },\n    /* 84 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n      /***/\n    },\n    /* 85 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n      /***/\n    },\n    /* 86 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n      /***/\n    },\n    /* 87 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 88 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 89 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n      /***/\n    },\n    /* 90 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n      /***/\n    },\n    /* 91 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n      /***/\n    },\n    /* 92 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n      /***/\n    },\n    /* 93 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n      /***/\n    },\n    /* 94 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n      /***/\n    },\n    /* 95 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 96 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 97 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 98 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n      /***/\n    },\n    /* 99 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n      /***/\n    },\n    /* 100 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n      /***/\n    },\n    /* 101 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n      /***/\n    },\n    /* 102 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n      /***/\n    },\n    /* 103 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n      /***/\n    },\n    /* 104 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n      /***/\n    },\n    /* 105 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n      /***/\n    },\n    /* 106 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n      /***/\n    },\n    /* 107 */\n\n    /***/\n    function (module, exports) {\n      module.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n      /***/\n    },\n    /* 108 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = exports.BubbleTooltip = undefined;\n\n      var _get = function get(object, property, receiver) {\n        if (object === null) object = Function.prototype;\n        var desc = Object.getOwnPropertyDescriptor(object, property);\n\n        if (desc === undefined) {\n          var parent = Object.getPrototypeOf(object);\n\n          if (parent === null) {\n            return undefined;\n          } else {\n            return get(parent, property, receiver);\n          }\n        } else if (\"value\" in desc) {\n          return desc.value;\n        } else {\n          var getter = desc.get;\n\n          if (getter === undefined) {\n            return undefined;\n          }\n\n          return getter.call(receiver);\n        }\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _extend = __webpack_require__(3);\n\n      var _extend2 = _interopRequireDefault(_extend);\n\n      var _emitter = __webpack_require__(8);\n\n      var _emitter2 = _interopRequireDefault(_emitter);\n\n      var _base = __webpack_require__(43);\n\n      var _base2 = _interopRequireDefault(_base);\n\n      var _selection = __webpack_require__(15);\n\n      var _icons = __webpack_require__(41);\n\n      var _icons2 = _interopRequireDefault(_icons);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      }\n\n      var TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{\n        header: 1\n      }, {\n        header: 2\n      }, 'blockquote']];\n\n      var BubbleTheme = function (_BaseTheme) {\n        _inherits(BubbleTheme, _BaseTheme);\n\n        function BubbleTheme(quill, options) {\n          _classCallCheck(this, BubbleTheme);\n\n          if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n            options.modules.toolbar.container = TOOLBAR_CONFIG;\n          }\n\n          var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n          _this.quill.container.classList.add('ql-bubble');\n\n          return _this;\n        }\n\n        _createClass(BubbleTheme, [{\n          key: 'extendToolbar',\n          value: function extendToolbar(toolbar) {\n            this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n            this.tooltip.root.appendChild(toolbar.container);\n            this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n            this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n          }\n        }]);\n\n        return BubbleTheme;\n      }(_base2.default);\n\n      BubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n        modules: {\n          toolbar: {\n            handlers: {\n              link: function link(value) {\n                if (!value) {\n                  this.quill.format('link', false);\n                } else {\n                  this.quill.theme.tooltip.edit();\n                }\n              }\n            }\n          }\n        }\n      });\n\n      var BubbleTooltip = function (_BaseTooltip) {\n        _inherits(BubbleTooltip, _BaseTooltip);\n\n        function BubbleTooltip(quill, bounds) {\n          _classCallCheck(this, BubbleTooltip);\n\n          var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n          _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n            if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n\n            if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n              _this2.show(); // Lock our width so we will expand beyond our offsetParent boundaries\n\n\n              _this2.root.style.left = '0px';\n              _this2.root.style.width = '';\n              _this2.root.style.width = _this2.root.offsetWidth + 'px';\n\n              var lines = _this2.quill.getLines(range.index, range.length);\n\n              if (lines.length === 1) {\n                _this2.position(_this2.quill.getBounds(range));\n              } else {\n                var lastLine = lines[lines.length - 1];\n\n                var index = _this2.quill.getIndex(lastLine);\n\n                var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n\n                var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n\n                _this2.position(_bounds);\n              }\n            } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n              _this2.hide();\n            }\n          });\n\n          return _this2;\n        }\n\n        _createClass(BubbleTooltip, [{\n          key: 'listen',\n          value: function listen() {\n            var _this3 = this;\n\n            _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n\n            this.root.querySelector('.ql-close').addEventListener('click', function () {\n              _this3.root.classList.remove('ql-editing');\n            });\n            this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n              // Let selection be restored by toolbar handlers before repositioning\n              setTimeout(function () {\n                if (_this3.root.classList.contains('ql-hidden')) return;\n\n                var range = _this3.quill.getSelection();\n\n                if (range != null) {\n                  _this3.position(_this3.quill.getBounds(range));\n                }\n              }, 1);\n            });\n          }\n        }, {\n          key: 'cancel',\n          value: function cancel() {\n            this.show();\n          }\n        }, {\n          key: 'position',\n          value: function position(reference) {\n            var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n\n            var arrow = this.root.querySelector('.ql-tooltip-arrow');\n            arrow.style.marginLeft = '';\n            if (shift === 0) return shift;\n            arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n          }\n        }]);\n\n        return BubbleTooltip;\n      }(_base.BaseTooltip);\n\n      BubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n      exports.BubbleTooltip = BubbleTooltip;\n      exports.default = BubbleTheme;\n      /***/\n    },\n    /* 109 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(63);\n      /***/\n    }\n    /******/\n    ])[\"default\"]\n  );\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(93).Buffer))\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["../src/index.tsx","D:/Projects/Cdss apps/Final version/admin/node_modules/lodash/isEqual.js","D:/Projects/Cdss apps/Final version/admin/node_modules/quill/dist/quill.js"],"names":["baseIsEqual","require","isEqual","value","other","module","exports","webpackUniversalModuleDefinition","root","factory","self","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","find","query","register","Container","default","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","ParchmentError","_super","message","_this","Error","attributes","classes","tags","types","DATA_KEY","input","match","BlotClass","node","Node","TEXT_NODE","bubble","blot","parentNode","scope","ANY","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","split","tagName","TYPE","Definitions","_i","arguments","length","map","Definition","blotName","attrName","keyName","className","isArray","toUpperCase","tagNames","forEach","tag","diff","equal","extend","op","NULL_CHARACTER","String","fromCharCode","Delta","ops","insert","text","newOp","keys","push","retain","index","lastOp","unshift","splice","chop","pop","filter","predicate","partition","passed","failed","target","reduce","initial","changeLength","elem","delete","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","delta","Math","min","thisOp","otherOp","rest","concat","strings","prep","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","transform","priority","transformPosition","offset","nextType","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","setProperty","options","newValue","writable","getProperty","src","copy","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","undefined","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","parent","getPrototypeOf","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","NEWLINE_LENGTH","_Parchment$Embed","apply","attach","domNode","formats","values","format","attribute","BLOCK_ATTRIBUTE","formatAt","insertAt","def","endsWith","block","insertBefore","BLOCK_BLOT","_Parchment$Block","_this2","cache","descendants","leaf","deleteAt","lines","shift","children","tail","ref","head","remove","moveChildren","optimize","context","path","removeChild","child","force","defaultChild","allowedChildren","statics","overload","expandConfig","_typeof","Symbol","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","done","err","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","_defineProperty","debug","Quill","limit","level","__quill","_import","imports","error","overwrite","warn","startsWith","container","html","innerHTML","trim","classList","add","addContainer","setAttribute","scrollingContainer","emitter","scroll","whitelist","editor","selection","theme","keyboard","addModule","clipboard","history","init","on","events","EDITOR_CHANGE","type","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","source","mutations","range","lastRange","modify","update","contents","convert","setContents","clear","placeholder","readOnly","disable","refNode","document","createElement","blur","setRange","deleteText","_this3","_overload","_overload2","enable","enabled","focus","scrollTop","scrollIntoView","_this4","sources","API","getSelection","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","getBounds","bounds","containerBounds","getBoundingClientRect","bottom","top","height","left","right","width","getContents","getLength","_overload7","_overload8","getFormat","getIndex","getLeaf","getLine","getLines","Number","MAX_VALUE","getModule","getRange","getText","_overload9","_overload10","hasFocus","insertEmbed","embed","_this7","insertText","_this8","_overload11","_overload12","isEnabled","contains","off","once","pasteHTML","dangerouslyPasteHTML","removeFormat","_this9","_overload13","_overload14","_this10","deleted","applied","applyDelta","ret","_overload15","_overload16","Range","setText","USER","updateContents","_this11","DEFAULTS","strict","version","userConfig","import","themeConfig","config","moduleNames","moduleConfig","moduleClass","toolbar","querySelector","modifier","oldDelta","shiftRange","_emitter","args","emit","_emitter2","_map","pos","_map2","_map3","max","_map4","_Parchment$Inline","compare","BLOT","isolate","wrap","selfIndex","order","otherIndex","TextBlot","_Parchment$Text","_eventemitter","_eventemitter2","EVENTS","eventName","addEventListener","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","event","_len2","_key2","_ref","handler","listenDOM","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","bind","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","opts","Date","getTime","objEquiv","isUndefinedOrNull","isBuffer","x","a","ka","kb","e","sort","attributeBit","ATTRIBUTE","item","canAdd","replace","removeAttribute","Code","_block","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","_descendant2","nextNewline","newlineIndex","prevNewline","isolateLength","_descendant3","_descendant4","searchIndex","reverse","lastIndexOf","appendChild","prev","unwrap","TAB","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","data","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","image","list","bullet","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","body","_format","nativeRange","collapsed","after","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rect","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","rangeToNative","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","oldRange","_getRange","_getRange2","Break","insertInto","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","some","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","Map","_","nativeSet","Set","nativePromise","Promise","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","allocUnsafe","keyChild","valueChild","set","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","__objToStr","re","flags","global","ignoreCase","multiline","_container","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_line4","_newlineIndex","observer","takeRecords","SHORTKEY","_quill","_quill2","test","navigator","platform","Keyboard","_Module","evt","binding","normalize","which","keyCode","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","defaultPrevented","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","prevented","every","preventDefault","ESCAPE","LEFT","UP","RIGHT","DOWN","makeFormatHandler","indent","makeCodeBlockHandler","cutoff","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","makeEmbedArrowHandler","_ref3","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","charCodeAt","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","sanitize","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","toggleAriaAttribute","element","Picker","select","buildPicker","style","display","label","togglePicker","escape","buildItem","option","tabIndex","hasAttribute","selectItem","buildLabel","buildOptions","id","selected","close","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","styles","attr","ClassAttributor","matches","result","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","endsWithNewlineChange","deleteLength","changeIndex","BaseTooltip","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","removeEventListener","tooltip","textbox","hide","pickers","picker","extendToolbar","buildButtons","buttons","icons","button","buildPickers","selects","fillSelect","align","handlers","formula","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","video","_Tooltip","boundsContainer","save","cancel","mode","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","LinkedList","append","nodes","cur","curNode","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","obj1","obj2","prop","InlineBlot","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","token","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_halfMatchI_","seed","j","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","hm1","hm2","pointer","count_delete","count_insert","text_delete","text_insert","changes","cursor_normalize_diff","current_pos","next_pos","split_pos","d_left","d_right","norm","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","fn","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchBreak","ELEMENT_NODE","matchStyles","matchIndent","matchAlias","matchIgnore","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","pair","_pair","applyFormat","computeStyle","nodeType","window","getComputedStyle","endText","childrenDelta","nextElementSibling","nodeHeight","offsetHeight","parseFloat","marginTop","marginBottom","offsetTop","fontStyle","italic","fontWeight","bold","textIndent","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","addButton","groups","group","control","addSelect","clean","direction","link","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","show","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","SnowTooltip","_BaseTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","Italic","_Bold","Script","Strike","Underline","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","render","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","highlight","_highlight","cachedText","Syntax","timer","clearTimeout","interval","code","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft"],"mappings":"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","file":"x","sourcesContent":["/*\nReact-Quill\nhttps://github.com/zenoamaro/react-quill\n*/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport isEqual from 'lodash/isEqual';\n\nimport Quill, {\n  QuillOptionsStatic,\n  DeltaStatic,\n  RangeStatic,\n  BoundsStatic,\n  StringMap,\n  Sources,\n} from 'quill';\n\n// Merged namespace hack to export types along with default object\n// See: https://github.com/Microsoft/TypeScript/issues/2719\nnamespace ReactQuill {\n  export type Value = string | DeltaStatic;\n  export type Range = RangeStatic | null;\n\n  export interface QuillOptions extends QuillOptionsStatic {\n    tabIndex?: number,\n  }\n\n  export interface ReactQuillProps {\n    bounds?: string | HTMLElement,\n    children?: React.ReactElement<any>,\n    className?: string,\n    defaultValue?: Value,\n    formats?: string[],\n    id?: string,\n    modules?: StringMap,\n    onChange?(\n      value: string,\n      delta: DeltaStatic,\n      source: Sources,\n      editor: UnprivilegedEditor,\n    ): void,\n    onChangeSelection?(\n      selection: Range,\n      source: Sources,\n      editor: UnprivilegedEditor,\n    ): void,\n    onFocus?(\n      selection: Range,\n      source: Sources,\n      editor: UnprivilegedEditor,\n    ): void,\n    onBlur?(\n      previousSelection: Range,\n      source: Sources,\n      editor: UnprivilegedEditor,\n    ): void,\n    onKeyDown?: React.EventHandler<any>,\n    onKeyPress?: React.EventHandler<any>,\n    onKeyUp?: React.EventHandler<any>,\n    placeholder?: string,\n    preserveWhitespace?: boolean,\n    readOnly?: boolean,\n    scrollingContainer?: string | HTMLElement,\n    style?: React.CSSProperties,\n    tabIndex?: number,\n    theme?: string,\n    value?: Value,\n  }\n\n  export interface UnprivilegedEditor {\n    getLength(): number;\n    getText(index?: number, length?: number): string;\n    getHTML(): string;\n    getBounds(index: number, length?: number): BoundsStatic;\n    getSelection(focus?: boolean): RangeStatic;\n    getContents(index?: number, length?: number): DeltaStatic;\n  }\n}\n\n// Re-import everything from namespace into scope for comfort\nimport Value = ReactQuill.Value;\nimport Range = ReactQuill.Range;\nimport QuillOptions = ReactQuill.QuillOptions;\nimport ReactQuillProps = ReactQuill.ReactQuillProps;\nimport UnprivilegedEditor = ReactQuill.UnprivilegedEditor;\n\ninterface ReactQuillState {\n  generation: number,\n}\n\nclass ReactQuill extends React.Component<ReactQuillProps, ReactQuillState> {\n\n  static displayName = 'React Quill'\n\n  /*\n  Export Quill to be able to call `register`\n  */\n  static Quill = Quill;\n\n  /*\n  Changing one of these props should cause a full re-render and a\n  re-instantiation of the Quill editor.\n  */\n  dirtyProps: (keyof ReactQuillProps)[] = [\n    'modules',\n    'formats',\n    'bounds',\n    'theme',\n    'children',\n  ]\n\n  /*\n  Changing one of these props should cause a regular update. These are mostly\n  props that act on the container, rather than the quillized editing area.\n  */\n  cleanProps: (keyof ReactQuillProps)[] = [\n    'id',\n    'className',\n    'style',\n    'placeholder',\n    'tabIndex',\n    'onChange',\n    'onChangeSelection',\n    'onFocus',\n    'onBlur',\n    'onKeyPress',\n    'onKeyDown',\n    'onKeyUp',\n  ]\n\n  static defaultProps = {\n    theme: 'snow',\n    modules: {},\n    readOnly: false,\n  }\n\n  state: ReactQuillState = {\n    generation: 0,\n  }\n\n  /*\n  The Quill Editor instance.\n  */\n  editor?: Quill\n\n  /*\n  Reference to the element holding the Quill editing area.\n  */\n  editingArea?: React.ReactInstance | null\n\n  /*\n  Tracks the internal value of the Quill editor\n  */\n  value: Value\n\n  /*\n  Tracks the internal selection of the Quill editor\n  */\n  selection: Range = null\n\n  /*\n  Used to compare whether deltas from `onChange` are being used as `value`.\n  */\n  lastDeltaChangeSet?: DeltaStatic\n\n  /*\n  Stores the contents of the editor to be restored after regeneration.\n  */\n  regenerationSnapshot?: {\n    delta: DeltaStatic,\n    selection: Range,\n  }\n\n  /*\n  A weaker, unprivileged proxy for the editor that does not allow accidentally\n  modifying editor state.\n  */\n  unprivilegedEditor?: UnprivilegedEditor\n\n  constructor(props: ReactQuillProps) {\n    super(props);\n    const value = this.isControlled()? props.value : props.defaultValue;\n    this.value = value ?? '';\n  }\n\n  validateProps(props: ReactQuillProps): void {\n    if (React.Children.count(props.children) > 1) throw new Error(\n      'The Quill editing area can only be composed of a single React element.'\n    );\n\n    if (React.Children.count(props.children)) {\n      const child = React.Children.only(props.children);\n      if (child?.type === 'textarea') throw new Error(\n        'Quill does not support editing on a <textarea>. Use a <div> instead.'\n      );\n    }\n\n    if (\n      this.lastDeltaChangeSet &&\n      props.value === this.lastDeltaChangeSet\n    ) throw new Error(\n      'You are passing the `delta` object from the `onChange` event back ' +\n      'as `value`. You most probably want `editor.getContents()` instead. ' +\n      'See: https://github.com/zenoamaro/react-quill#using-deltas'\n    );\n  }\n\n  shouldComponentUpdate(nextProps: ReactQuillProps, nextState: ReactQuillState) {\n    this.validateProps(nextProps);\n\n    // If the editor hasn't been instantiated yet, or the component has been\n    // regenerated, we already know we should update.\n    if (!this.editor || this.state.generation !== nextState.generation) {\n      return true;\n    }\n\n    // Handle value changes in-place\n    if ('value' in nextProps) {\n      const prevContents = this.getEditorContents();\n      const nextContents = nextProps.value ?? '';\n\n      // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\n      //       settle for a hybrid between controlled and uncontrolled mode. We\n      //       can't prevent the change, but we'll still override content\n      //       whenever `value` differs from current state.\n      // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\n      //       change, regardless of whether they represent the same document.\n      if (!this.isEqualValue(nextContents, prevContents)) {\n        this.setEditorContents(this.editor, nextContents);\n      }\n    }\n\n    // Handle read-only changes in-place\n    if (nextProps.readOnly !== this.props.readOnly) {\n      this.setEditorReadOnly(this.editor, nextProps.readOnly!);\n    }\n\n    // Clean and Dirty props require a render\n    return [...this.cleanProps, ...this.dirtyProps].some((prop) => {\n      return !isEqual(nextProps[prop], this.props[prop]);\n    });\n  }\n\n  shouldComponentRegenerate(nextProps: ReactQuillProps): boolean {\n    // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\n    return this.dirtyProps.some((prop) => {\n      return !isEqual(nextProps[prop], this.props[prop]);\n    });\n  }\n\n  componentDidMount() {\n    this.instantiateEditor();\n    this.setEditorContents(this.editor!, this.getEditorContents());\n  }\n\n  componentWillUnmount() {\n    this.destroyEditor();\n  }\n\n  componentDidUpdate(prevProps: ReactQuillProps, prevState: ReactQuillState) {\n    // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\n    // to be re-instantiated. Regenerating the editor will cause the whole tree,\n    // including the container, to be cleaned up and re-rendered from scratch.\n    // Store the contents so they can be restored later.\n    if (this.editor && this.shouldComponentRegenerate(prevProps)) {\n      const delta = this.editor.getContents();\n      const selection = this.editor.getSelection();\n      this.regenerationSnapshot = {delta, selection};\n      this.setState({generation: this.state.generation + 1});\n      this.destroyEditor();\n    }\n\n    // The component has been regenerated, so it must be re-instantiated, and\n    // its content must be restored to the previous values from the snapshot.\n    if (this.state.generation !== prevState.generation) {\n      const {delta, selection} = this.regenerationSnapshot!;\n      delete this.regenerationSnapshot;\n      this.instantiateEditor();\n      const editor = this.editor!;\n      editor.setContents(delta);\n      postpone(() => this.setEditorSelection(editor, selection));\n    }\n  }\n\n  instantiateEditor(): void {\n    if (this.editor) return;\n    this.editor = this.createEditor(\n      this.getEditingArea(),\n      this.getEditorConfig()\n    );\n  }\n\n  destroyEditor(): void {\n    if (!this.editor) return;\n    this.unhookEditor(this.editor);\n    delete this.editor;\n  }\n\n  /*\n  We consider the component to be controlled if `value` is being sent in props.\n  */\n  isControlled(): boolean {\n    return 'value' in this.props;\n  }\n\n  getEditorConfig(): QuillOptions {\n    return {\n      bounds: this.props.bounds,\n      formats: this.props.formats,\n      modules: this.props.modules,\n      placeholder: this.props.placeholder,\n      readOnly: this.props.readOnly,\n      scrollingContainer: this.props.scrollingContainer,\n      tabIndex: this.props.tabIndex,\n      theme: this.props.theme,\n    };\n  }\n\n  getEditor(): Quill {\n    if (!this.editor) throw new Error('Accessing non-instantiated editor');\n    return this.editor;\n  }\n\n  /**\n  Creates an editor on the given element. The editor will be passed the\n  configuration, have its events bound,\n  */\n  createEditor(element: Element, config: QuillOptions) {\n    const editor = new Quill(element, config);\n    if (config.tabIndex != null) {\n      this.setEditorTabIndex(editor, config.tabIndex);\n    }\n    this.hookEditor(editor);\n    return editor;\n  }\n\n  hookEditor(editor: Quill) {\n    // Expose the editor on change events via a weaker, unprivileged proxy\n    // object that does not allow accidentally modifying editor state.\n    this.unprivilegedEditor = this.makeUnprivilegedEditor(editor);\n    // Using `editor-change` allows picking up silent updates, like selection\n    // changes on typing.\n    editor.on('editor-change', this.onEditorChange);\n  }\n\n  unhookEditor(editor: Quill) {\n    editor.off('editor-change', this.onEditorChange);\n  }\n\n  getEditorContents(): Value {\n    return this.value;\n  }\n\n  getEditorSelection(): Range {\n    return this.selection;\n  }\n\n  /*\n  True if the value is a Delta instance or a Delta look-alike.\n  */\n  isDelta(value: any): boolean {\n    return value && value.ops;\n  }\n\n  /*\n  Special comparison function that knows how to compare Deltas.\n  */\n  isEqualValue(value: any, nextValue: any): boolean {\n    if (this.isDelta(value) && this.isDelta(nextValue)) {\n      return isEqual(value.ops, nextValue.ops);\n    } else {\n      return isEqual(value, nextValue);\n    }\n  }\n\n  /*\n  Replace the contents of the editor, but keep the previous selection hanging\n  around so that the cursor won't move.\n  */\n  setEditorContents(editor: Quill, value: Value) {\n    this.value = value;\n    const sel = this.getEditorSelection();\n    if (typeof value === 'string') {\n      editor.setContents(editor.clipboard.convert(value));\n    } else {\n      editor.setContents(value);\n    }\n    postpone(() => this.setEditorSelection(editor, sel));\n  }\n\n  setEditorSelection(editor: Quill, range: Range) {\n    this.selection = range;\n    if (range) {\n      // Validate bounds before applying.\n      const length = editor.getLength();\n      range.index = Math.max(0, Math.min(range.index, length-1));\n      range.length = Math.max(0, Math.min(range.length, (length-1) - range.index));\n      editor.setSelection(range);\n    }\n  }\n\n  setEditorTabIndex(editor: Quill, tabIndex: number) {\n    if (editor?.scroll?.domNode) {\n      (editor.scroll.domNode as HTMLElement).tabIndex = tabIndex;\n    }\n  }\n\n  setEditorReadOnly(editor: Quill, value: boolean) {\n    if (value) {\n      editor.disable();\n    } else {\n      editor.enable();\n    }\n  }\n\n  /*\n  Returns a weaker, unprivileged proxy object that only exposes read-only\n  accessors found on the editor instance, without any state-modifying methods.\n  */\n  makeUnprivilegedEditor(editor: Quill) {\n    const e = editor;\n    return {\n      getHTML:      () => e.root.innerHTML,\n      getLength:    e.getLength.bind(e),\n      getText:      e.getText.bind(e),\n      getContents:  e.getContents.bind(e),\n      getSelection: e.getSelection.bind(e),\n      getBounds:    e.getBounds.bind(e),\n    };\n  }\n\n  getEditingArea(): Element {\n    if (!this.editingArea) {\n      throw new Error('Instantiating on missing editing area');\n    }\n    const element = ReactDOM.findDOMNode(this.editingArea);\n    if (!element) {\n      throw new Error('Cannot find element for editing area');\n    }\n    if (element.nodeType === 3) {\n      throw new Error('Editing area cannot be a text node');\n    }\n    return element as Element;\n  }\n\n  /*\n  Renders an editor area, unless it has been provided one to clone.\n  */\n  renderEditingArea(): JSX.Element {\n    const {children, preserveWhitespace} = this.props;\n    const {generation} = this.state;\n\n    const properties = {\n      key: generation,\n      ref: (instance: React.ReactInstance | null) => {\n        this.editingArea = instance\n      },\n    };\n\n    if (React.Children.count(children)) {\n      return React.cloneElement(\n        React.Children.only(children)!,\n        properties\n      );\n    }\n\n    return preserveWhitespace ?\n      <pre {...properties}/> :\n      <div {...properties}/>;\n  }\n\n  render() {\n    return (\n      <div\n        id={this.props.id}\n        style={this.props.style}\n        key={this.state.generation}\n        className={`quill ${this.props.className ?? ''}`}\n        onKeyPress={this.props.onKeyPress}\n        onKeyDown={this.props.onKeyDown}\n        onKeyUp={this.props.onKeyUp}\n      >\n        {this.renderEditingArea()}\n      </div>\n    );\n  }\n\n  onEditorChange = (\n    eventName: 'text-change' | 'selection-change',\n    rangeOrDelta: Range | DeltaStatic,\n    oldRangeOrDelta: Range | DeltaStatic,\n    source: Sources,\n  ) => {\n    if (eventName === 'text-change') {\n      this.onEditorChangeText?.(\n        this.editor!.root.innerHTML,\n        rangeOrDelta as DeltaStatic,\n        source,\n        this.unprivilegedEditor!\n      );\n    } else if (eventName === 'selection-change') {\n      this.onEditorChangeSelection?.(\n        rangeOrDelta as RangeStatic,\n        source,\n        this.unprivilegedEditor!\n      );\n    }\n  };\n\n  onEditorChangeText(\n    value: string,\n    delta: DeltaStatic,\n    source: Sources,\n    editor: UnprivilegedEditor,\n  ): void {\n    if (!this.editor) return;\n\n    // We keep storing the same type of value as what the user gives us,\n    // so that value comparisons will be more stable and predictable.\n    const nextContents = this.isDelta(this.value)\n      ? editor.getContents()\n      : editor.getHTML();\n\n    if (nextContents !== this.getEditorContents()) {\n      // Taint this `delta` object, so we can recognize whether the user\n      // is trying to send it back as `value`, preventing a likely loop.\n      this.lastDeltaChangeSet = delta;\n\n      this.value = nextContents;\n      this.props.onChange?.(value, delta, source, editor);\n    }\n  }\n\n  onEditorChangeSelection(\n    nextSelection: RangeStatic,\n    source: Sources,\n    editor: UnprivilegedEditor,\n  ): void {\n    if (!this.editor) return;\n    const currentSelection = this.getEditorSelection();\n    const hasGainedFocus = !currentSelection && nextSelection;\n    const hasLostFocus = currentSelection && !nextSelection;\n\n    if (isEqual(nextSelection, currentSelection)) return;\n\n    this.selection = nextSelection;\n    this.props.onChangeSelection?.(nextSelection, source, editor);\n\n    if (hasGainedFocus) {\n      this.props.onFocus?.(nextSelection, source, editor);\n    } else if (hasLostFocus) {\n      this.props.onBlur?.(currentSelection, source, editor);\n    }\n  }\n\n  focus(): void {\n    if (!this.editor) return;\n    this.editor.focus();\n  }\n\n  blur(): void {\n    if (!this.editor) return;\n    this.selection = null;\n    this.editor.blur();\n  }\n}\n\n/*\nSmall helper to execute a function in the next micro-tick.\n*/\nfunction postpone(fn: (value: void) => void) {\n  Promise.resolve().then(fn);\n}\n\n// Compatibility Export to avoid `require(...).default` on CommonJS.\n// See: https://github.com/Microsoft/TypeScript/issues/2719\nexport = ReactQuill;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var ops = [];\n  var firstOther = otherIter.peek();\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n    var firstLeft = firstOther.retain;\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n      firstLeft -= thisIter.peekLength();\n      ops.push(thisIter.next());\n    }\n    if (firstOther.retain - firstLeft > 0) {\n      otherIter.next(firstOther.retain - firstLeft);\n    }\n  }\n  var delta = new Delta(ops);\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n\n        // Optimization if rest of other is just retain\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n          var rest = new Delta(thisIter.rest());\n          return delta.concat(rest).chop();\n        }\n\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.7\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        var _a;\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('rel', 'noopener noreferrer');\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});"]},"banner":"For license information please see 5.3f4c38c4.chunk.js.LICENSE.txt","extractedComments":"/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n","commentsFilename":"static/js/5.3f4c38c4.chunk.js.LICENSE.txt"}