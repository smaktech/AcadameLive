{"code":"(this[\"webpackJsonp@minimal/minimal-kit-react\"]=this[\"webpackJsonp@minimal/minimal-kit-react\"]||[]).push([[1],{1822:function(t,e,n){\"use strict\";n.d(e,\"l\",(function(){return Yt})),n.d(e,\"j\",(function(){return ne})),n.d(e,\"d\",(function(){return le})),n.d(e,\"f\",(function(){return Ce})),n.d(e,\"h\",(function(){return Fe})),n.d(e,\"b\",(function(){return Ge})),n.d(e,\"c\",(function(){return rn})),n.d(e,\"g\",(function(){return fn})),n.d(e,\"i\",(function(){return mn})),n.d(e,\"e\",(function(){return vt})),n.d(e,\"a\",(function(){return ut})),n.d(e,\"k\",(function(){return u.a}));var r=n(2),i=n(81),o=n(33),a=n(1),s=n(7),c=n(53),u=n(1889),l=n(2112),h=n(2662),p=n(2081),f=n.n(p),v=n(86),d=n(70);function g(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function b(t,e){if(t===e)return!0;if(g(t)&&g(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!b(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function m(t,e,n){return Math.max(e,Math.min(n,t))}function y(t,e,n){return g(t)?t.map((function(t,r){return y(t,e[r],n)})):n*e+(1-n)*t}function O(t,e){if(!t)throw new Error(e||\"react-map-gl: assertion failed.\")}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={minZoom:0,maxZoom:24,minPitch:0,maxPitch:85},E=0,M=0,_=1.5,k=function(){function t(e){var n=e.width,r=e.height,i=e.latitude,o=e.longitude,a=e.zoom,s=e.bearing,c=void 0===s?M:s,u=e.pitch,l=void 0===u?E:u,h=e.altitude,p=void 0===h?_:h,f=e.maxZoom,d=void 0===f?P.maxZoom:f,g=e.minZoom,b=void 0===g?P.minZoom:g,m=e.maxPitch,y=void 0===m?P.maxPitch:m,j=e.minPitch,w=void 0===j?P.minPitch:j,k=e.transitionDuration,S=e.transitionEasing,T=e.transitionInterpolator,x=e.transitionInterruption,D=e.startPanLngLat,C=e.startZoomLngLat,R=e.startRotatePos,I=e.startBearing,L=e.startPitch,z=e.startZoom;Object(v.a)(this,t),O(Number.isFinite(n),\"`width` must be supplied\"),O(Number.isFinite(r),\"`height` must be supplied\"),O(Number.isFinite(o),\"`longitude` must be supplied\"),O(Number.isFinite(i),\"`latitude` must be supplied\"),O(Number.isFinite(a),\"`zoom` must be supplied\"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:c,pitch:l,altitude:p,maxZoom:d,minZoom:b,maxPitch:y,minPitch:w,transitionDuration:k,transitionEasing:S,transitionInterpolator:T,transitionInterruption:x}),this._state={startPanLngLat:D,startZoomLngLat:C,startRotatePos:R,startBearing:I,startPitch:L,startZoom:z}}return Object(d.a)(t,[{key:\"getViewportProps\",value:function(){return this._viewportProps}},{key:\"getState\",value:function(){return this._state}},{key:\"panStart\",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:\"pan\",value:function(t){var e=t.pos,n=t.startPos,r=this._state.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:e}),o=Object(c.a)(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:\"panEnd\",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:\"rotateStart\",value:function(t){var e=t.pos;return this._getUpdatedMapState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:\"rotate\",value:function(t){var e,n=t.pos,r=t.deltaAngleX,i=void 0===r?0:r,o=t.deltaAngleY,a=void 0===o?0:o,s=this._state,c=s.startRotatePos,u=s.startBearing,l=s.startPitch;return Number.isFinite(u)&&Number.isFinite(l)?(e=n?this._calculateNewPitchAndBearing(w(w({},this._getRotationParams(n,c)),{},{startBearing:u,startPitch:l})):{bearing:u+i,pitch:l+a},this._getUpdatedMapState(e)):this}},{key:\"rotateEnd\",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:\"zoomStart\",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:\"zoom\",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;O(r>0,\"`scale` must be a positive number\");var i=this._state,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),O(a,\"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.\");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),l=new u.a(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),h=Object(c.a)(l,2),p=h[0],f=h[1];return this._getUpdatedMapState({zoom:s,longitude:p,latitude:f})}},{key:\"zoomEnd\",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:\"_getUpdatedMapState\",value:function(e){return new t(Object.assign({},this._viewportProps,this._state,e))}},{key:\"_applyConstraints\",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=m(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=m(a,o,i),Object.assign(t,Object(u.n)(t)),t}},{key:\"_unproject\",value:function(t){var e=new u.a(this._viewportProps);return t&&e.unproject(t)}},{key:\"_calculateNewLngLat\",value:function(t){var e=t.startPanLngLat,n=t.pos;return new u.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:\"_calculateNewZoom\",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return m(n+Math.log2(e),o,i)}},{key:\"_calculateNewPitchAndBearing\",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=m(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,c=i;return n>0?c=i+n*(s-i):n<0&&(c=i-n*(a-i)),{pitch:c,bearing:r+180*e}}},{key:\"_getRotationParams\",value:function(t,e){var n=t[0]-e[0],r=t[1]-e[1],i=t[1],o=e[1],a=this._viewportProps,s=a.width,c=a.height,u=n/s,l=0;return r>0?Math.abs(c-o)>5&&(l=r/(o-c)*1.2):r<0&&o>5&&(l=1-i/o),{deltaScaleX:u,deltaScaleY:l=Math.min(1,Math.max(-1,l))}}}]),t}();function S(t){return t[0].toLowerCase()+t.slice(1)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D=Object(a.createContext)({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),C=D.Provider;D.Provider=function(t){var e=t.value,n=t.children,r=Object(a.useState)(null),i=Object(c.a)(r,2),o=i[0],s=i[1],u=Object(a.useContext)(D);return e=x(x({setMap:s},u),{},{map:u&&u.map||o},e),a.createElement(C,{value:e},n)};var R=D,I=\"undefined\"!==typeof window?a.useLayoutEffect:a.useEffect;function L(t,e){var n=e.longitude,r=e.latitude;return t&&t.queryTerrainElevation&&t.queryTerrainElevation([n,r])||0}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var A=\"A valid API access token is required to use Mapbox data\";function F(t){var e=t.map,n=t.props,r=t.width,i=t.height,o=N(N(N({},n),n.viewState),{},{width:r,height:i});return o.position=[0,0,L(e,o)],new u.a(o)}var Z={position:\"absolute\",width:\"100%\",height:\"100%\",overflow:\"hidden\"},V=Object.assign({},h.a.propTypes,{width:s.oneOfType([s.number,s.string]),height:s.oneOfType([s.number,s.string]),onResize:s.func,disableTokenWarning:s.bool,visible:s.bool,className:s.string,style:s.object,visibilityConstraints:s.object}),B=Object.assign({},h.a.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:\"\",style:null,visibilityConstraints:P});function U(){return a.createElement(\"div\",{key:\"warning\",id:\"no-token-warning\",style:{position:\"absolute\",left:0,top:0}},a.createElement(\"h3\",{key:\"header\"},A),a.createElement(\"div\",{key:\"text\"},\"For information on setting up your basemap, read\"),a.createElement(\"a\",{key:\"link\",href:\"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens\"},\"Note on Map Tokens\"))}var q=Object(a.forwardRef)((function(t,e){var n=Object(a.useState)(!0),r=Object(c.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)({width:0,height:0}),u=Object(c.a)(s,2),p=u[0],v=u[1],d=Object(a.useRef)(null),g=Object(a.useRef)(null),b=Object(a.useRef)(null),m=Object(a.useRef)(null),y=Object(a.useContext)(R);I((function(){if(q.supported()){var e=new h.a(N(N(N({},t),p),{},{mapboxgl:f.a,container:g.current,onError:function(e){401===(e.error&&e.error.status||e.status)&&i&&(console.error(A),o(!1)),t.onError(e)}}));d.current=e,y&&y.setMap&&y.setMap(e.getMap());var n=new l.default((function(e){if(e[0].contentRect){var n=e[0].contentRect,r=n.width,i=n.height;v({width:r,height:i}),t.onResize({width:r,height:i})}}));return n.observe(b.current),function(){e.finalize(),d.current=null,n.disconnect()}}}),[]),I((function(){d.current&&d.current.setProps(N(N({},t),p))}));var O=d.current&&d.current.getMap();Object(a.useImperativeHandle)(e,(function(){return function(t){return{getMap:function(){return t.current&&t.current.getMap()},queryRenderedFeatures:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.current&&t.current.getMap();return r&&r.queryRenderedFeatures(e,n)}}}(d)}),[]);var j=Object(a.useCallback)((function(t){var e=t.target;e===m.current&&e.scrollTo(0,0)}),[]),w=O&&a.createElement(C,{value:N(N({},y),{},{viewport:y.viewport||F(N({map:O,props:t},p)),map:O,container:y.container||b.current})},a.createElement(\"div\",{key:\"map-overlays\",className:\"overlays\",ref:m,style:Z,onScroll:j},t.children)),E=t.className,M=t.width,_=t.height,k=t.style,T=t.visibilityConstraints,x=Object.assign({position:\"relative\"},k,{width:M,height:_}),D=t.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;for(var n in e){var r=n.slice(0,3),i=S(n.slice(3));if(\"min\"===r&&t[i]<e[n])return!1;if(\"max\"===r&&t[i]>e[n])return!1}return!0}(t.viewState||t,T),L=Object.assign({},Z,{visibility:D?\"inherit\":\"hidden\"});return a.createElement(\"div\",{key:\"map-container\",ref:b,style:x},a.createElement(\"div\",{key:\"map-mapbox\",ref:g,style:L,className:E}),w,!i&&!t.disableTokenWarning&&a.createElement(U,null))}));q.supported=function(){return f.a&&f.a.supported()},q.propTypes=V,q.defaultProps=B;var H=q;function W(t,e){var n;if(\"undefined\"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if(\"string\"===typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t))||e&&t&&\"number\"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=function(){function t(){Object(v.a)(this,t),Object(o.a)(this,\"propNames\",[])}return Object(d.a)(t,[{key:\"arePropsEqual\",value:function(t,e){var n,r=W(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!b(t[i],e[i]))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:\"initializeProps\",value:function(t,e){return{start:t,end:e}}},{key:\"interpolateProps\",value:function(t,e,n){O(!1,\"interpolateProps is not implemented\")}},{key:\"getDuration\",value:function(t,e){return e.transitionDuration}}]),t}(),K=n(157),G=n(174),$=n(161),J=n(122),Q={longitude:1,bearing:1};function tt(t){return Number.isFinite(t)||Array.isArray(t)}function et(t,e,n){return function(t){return t in Q}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function nt(t,e){var n;if(\"undefined\"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if(\"string\"===typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(t,e)}(t))||e&&t&&\"number\"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function it(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(J.a)(t);if(e){var i=Object(J.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object($.a)(this,n)}}var ot=[\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],at=[\"latitude\",\"longitude\",\"zoom\",\"width\",\"height\"],st=[\"bearing\",\"pitch\"],ct={speed:1.2,curve:1.414},ut=function(t){Object(G.a)(n,t);var e=it(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(v.a)(this,n),t=e.call(this),Object(o.a)(Object(K.a)(t),\"propNames\",ot),t.props=Object.assign({},ct,r),t}return Object(d.a)(n,[{key:\"initializeProps\",value:function(t,e){var n,r={},i={},o=nt(at);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t[a],c=e[a];O(tt(s)&&tt(c),\"\".concat(a,\" must be supplied for transition\")),r[a]=s,i[a]=et(a,s,c)}}catch(v){o.e(v)}finally{o.f()}var u,l=nt(st);try{for(l.s();!(u=l.n()).done;){var h=u.value,p=t[h]||0,f=e[h]||0;r[h]=p,i[h]=et(h,p,f)}}catch(v){l.e(v)}finally{l.f()}return{start:r,end:i}}},{key:\"interpolateProps\",value:function(t,e,n){var r,i=Object(u.e)(t,e,n,this.props),o=nt(st);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=y(t[a],e[a],n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:\"getDuration\",value:function(t,e){var n=e.transitionDuration;return\"auto\"===n&&(n=Object(u.i)(t,e,this.props)),n}}]),n}(Y);function lt(t,e){var n;if(\"undefined\"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if(\"string\"===typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(t,e)}(t))||e&&t&&\"number\"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pt(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(J.a)(t);if(e){var i=Object(J.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object($.a)(this,n)}}var ft=[\"longitude\",\"latitude\",\"zoom\",\"bearing\",\"pitch\"],vt=function(t){Object(G.a)(n,t);var e=pt(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(v.a)(this,n),t=e.call(this),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||ft,r.around&&(t.around=r.around),t}return Object(d.a)(n,[{key:\"initializeProps\",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new u.a(t).unproject(this.around);Object.assign(r,e,{around:new u.a(e).project(i),aroundLngLat:i})}var o,a=lt(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=t[s],l=e[s];O(tt(c)&&tt(l),\"\".concat(s,\" must be supplied for transition\")),n[s]=c,r[s]=et(s,c,l)}}catch(h){a.e(h)}finally{a.f()}return{start:n,end:r}}},{key:\"interpolateProps\",value:function(t,e,n){var r,i={},o=lt(this.propNames);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a]=y(t[a],e[a],n)}}catch(f){o.e(f)}finally{o.f()}if(e.around){var s=new u.a(Object.assign({},e,i)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:y(t.around,e.around,n)}),l=Object(c.a)(s,2),h=l[0],p=l[1];i.longitude=h,i.latitude=p}return i}}]),n}(Y),dt=function(){};var gt=1,bt=2,mt=3,yt=4,Ot={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new vt,transitionInterruption:gt,onTransitionStart:dt,onTransitionInterrupt:dt,onTransitionEnd:dt},jt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,t),Object(o.a)(this,\"_animationFrame\",null),Object(o.a)(this,\"_onTransitionFrame\",(function(){e._animationFrame=requestAnimationFrame(e._onTransitionFrame),e._updateViewport()})),this.props=null,this.onViewportChange=n.onViewportChange||dt,this.onStateChange=n.onStateChange||dt,this.time=n.getTime||Date.now}return Object(d.a)(t,[{key:\"getViewportInTransition\",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:\"processViewportChange\",value:function(t){var e=this.props;if(this.props=t,!e||this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===bt?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===yt)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:\"_isTransitionInProgress\",value:function(){return Boolean(this._animationFrame)}},{key:\"_isTransitionEnabled\",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||\"auto\"===e)&&Boolean(n)}},{key:\"_isUpdateDueToCurrentTransition\",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:\"_shouldIgnoreViewportChange\",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===mt||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:\"_triggerTransition\",value:function(t,e){O(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var i=e.transitionInterpolator.initializeProps(t,e),o={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(o)}}},{key:\"_endTransition\",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:\"_updateViewport\",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,c=!1,u=(t-n)/r;u>=1&&(u=1,c=!0),u=i(u);var l=o.interpolateProps(a,s,u),h=new k(Object.assign({},this.props,l));this.state.propsInTransition=h.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),c&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Object(o.a)(jt,\"defaultProps\",Ot);var wt=n(2261);function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mt={transitionDuration:0},_t={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new vt,transitionInterruption:gt},kt=300,St=function(t){return 1-(1-t)*(1-t)},Tt=[\"wheel\"],xt=[\"panstart\",\"panmove\",\"panend\"],Dt=[\"pinchstart\",\"pinchmove\",\"pinchend\"],Ct=[\"tripanstart\",\"tripanmove\",\"tripanend\"],Rt=[\"doubletap\"],It=[\"keydown\"],Lt=function(){function t(){var e=this;Object(v.a)(this,t),Object(o.a)(this,\"events\",[]),Object(o.a)(this,\"scrollZoom\",!0),Object(o.a)(this,\"dragPan\",!0),Object(o.a)(this,\"dragRotate\",!0),Object(o.a)(this,\"doubleClickZoom\",!0),Object(o.a)(this,\"touchZoom\",!0),Object(o.a)(this,\"touchRotate\",!1),Object(o.a)(this,\"keyboard\",!0),Object(o.a)(this,\"_interactionState\",{isDragging:!1}),Object(o.a)(this,\"_events\",{}),Object(o.a)(this,\"_setInteractionState\",(function(t){Object.assign(e._interactionState,t),e.onStateChange&&e.onStateChange(e._interactionState)})),Object(o.a)(this,\"_onTransition\",(function(t,n){e.onViewportChange(t,e._interactionState,n)})),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new jt({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return Object(d.a)(t,[{key:\"handleEvent\",value:function(t){this.mapState=this.getMapState();var e=this._eventStartBlocked;switch(t.type){case\"panstart\":return!e&&this._onPanStart(t);case\"panmove\":return this._onPan(t);case\"panend\":return this._onPanEnd(t);case\"pinchstart\":return!e&&this._onPinchStart(t);case\"pinchmove\":return this._onPinch(t);case\"pinchend\":return this._onPinchEnd(t);case\"tripanstart\":return!e&&this._onTriplePanStart(t);case\"tripanmove\":return this._onTriplePan(t);case\"tripanend\":return this._onTriplePanEnd(t);case\"doubletap\":return this._onDoubleTap(t);case\"wheel\":return this._onWheel(t);case\"keydown\":return this._onKeyDown(t);default:return!1}}},{key:\"getCenter\",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:\"isFunctionKeyPressed\",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:\"blockEvents\",value:function(t){var e=this,n=setTimeout((function(){e._eventStartBlocked===n&&(e._eventStartBlocked=null)}),t);this._eventStartBlocked=n}},{key:\"updateViewport\",value:function(t,e,n){var r=this.mapState instanceof k?this.mapState.getViewportProps():this.mapState,i=Et(Et({},t.getViewportProps()),e),o=Object.keys(i).some((function(t){return r[t]!==i[t]}));this._state=t.getState(),this._setInteractionState(n),o&&this.onViewportChange(i,this._interactionState,r)}},{key:\"getMapState\",value:function(t){return new k(Et(Et(Et({},this.mapStateProps),this._state),t))}},{key:\"isDragging\",value:function(){return this._interactionState.isDragging}},{key:\"setOptions\",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,c=void 0===s?this.scrollZoom:s,u=t.dragPan,l=void 0===u?this.dragPan:u,h=t.dragRotate,p=void 0===h?this.dragRotate:h,f=t.doubleClickZoom,v=void 0===f?this.doubleClickZoom:f,d=t.touchZoom,g=void 0===d?this.touchZoom:d,b=t.touchRotate,m=void 0===b?this.touchRotate:b,y=t.keyboard,O=void 0===y?this.keyboard:y;this.onViewportChange=e,this.onStateChange=n;var j=this.mapStateProps||{},w=j.height!==t.height||j.width!==t.width;this.mapStateProps=t,w&&(this.mapState=j,this.updateViewport(new k(t))),this._transitionManager.processViewportChange(t),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Tt,a&&Boolean(c)),this.toggleEvents(xt,a&&Boolean(l||p)),this.toggleEvents(Dt,a&&Boolean(g||m)),this.toggleEvents(Ct,a&&Boolean(m)),this.toggleEvents(Rt,a&&Boolean(v)),this.toggleEvents(It,a&&Boolean(O)),this.scrollZoom=c,this.dragPan=l,this.dragRotate=p,this.doubleClickZoom=v,this.touchZoom=g,this.touchRotate=m,this.keyboard=O}},{key:\"toggleEvents\",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:\"_onPanStart\",value:function(t){var e=this.getCenter(t);this._panRotate=this.isFunctionKeyPressed(t)||t.rightButton;var n=this._panRotate?this.mapState.rotateStart({pos:e}):this.mapState.panStart({pos:e});return this.updateViewport(n,Mt,{isDragging:!0}),!0}},{key:\"_onPan\",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotate(t):this._onPanMove(t))}},{key:\"_onPanEnd\",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotateEnd(t):this._onPanMoveEnd(t))}},{key:\"_onPanMove\",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,Mt,{isPanning:!0}),!0}},{key:\"_onPanMoveEnd\",value:function(t){if(this.dragPan){var e=this.dragPan.inertia,n=void 0===e?kt:e;if(n&&t.velocity){var r=this.getCenter(t),i=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],o=this.mapState.pan({pos:i}).panEnd();return this.updateViewport(o,Et(Et({},_t),{},{transitionDuration:n,transitionEasing:St}),{isDragging:!1,isPanning:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isPanning:!1}),!0}},{key:\"_onPanRotate\",value:function(t){if(!this.dragRotate)return!1;var e=this.getCenter(t),n=this.mapState.rotate({pos:e});return this.updateViewport(n,Mt,{isRotating:!0}),!0}},{key:\"_onPanRotateEnd\",value:function(t){if(this.dragRotate){var e=this.dragRotate.inertia,n=void 0===e?kt:e;if(n&&t.velocity){var r=this.getCenter(t),i=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],o=this.mapState.rotate({pos:i}).rotateEnd();return this.updateViewport(o,Et(Et({},_t),{},{transitionDuration:n,transitionEasing:St}),{isDragging:!1,isRotating:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:\"_onWheel\",value:function(t){if(!this.scrollZoom)return!1;var e=this.scrollZoom,n=e.speed,r=void 0===n?.01:n,i=e.smooth,o=void 0!==i&&i;t.preventDefault();var a=this.getCenter(t),s=t.delta,c=2/(1+Math.exp(-Math.abs(s*r)));s<0&&0!==c&&(c=1/c);var u=this.mapState.zoom({pos:a,scale:c});return u.getViewportProps().zoom!==this.mapStateProps.zoom&&(this.updateViewport(u,Et(Et({},_t),{},{transitionInterpolator:new vt({around:a}),transitionDuration:o?250:1}),{isPanning:!0,isZooming:!0}),!0)}},{key:\"_onPinchStart\",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._startPinchRotation=t.rotation,this._lastPinchEvent=t,this.updateViewport(n,Mt,{isDragging:!0}),!0}},{key:\"_onPinch\",value:function(t){if(!this.isDragging())return!1;if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation;e=e.rotate({deltaAngleX:this._startPinchRotation-i})}return this.updateViewport(e,Mt,{isDragging:!0,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:Boolean(this.touchRotate)}),this._lastPinchEvent=t,!0}},{key:\"_onPinchEnd\",value:function(t){if(!this.isDragging())return!1;if(this.touchZoom){var e=this.touchZoom.inertia,n=void 0===e?kt:e,r=this._lastPinchEvent;if(n&&r&&t.scale!==r.scale){var i=this.getCenter(t),o=this.mapState.rotateEnd(),a=Math.log2(t.scale),s=(a-Math.log2(r.scale))/(t.deltaTime-r.deltaTime),c=Math.pow(2,a+s*n/2);return o=o.zoom({pos:i,scale:c}).zoomEnd(),this.updateViewport(o,Et(Et({},_t),{},{transitionInterpolator:new vt({around:i}),transitionDuration:n,transitionEasing:St}),{isDragging:!1,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:!1}),this.blockEvents(n),!0}}var u=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(u,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:\"_onTriplePanStart\",value:function(t){var e=this.getCenter(t),n=this.mapState.rotateStart({pos:e});return this.updateViewport(n,Mt,{isDragging:!0}),!0}},{key:\"_onTriplePan\",value:function(t){if(!this.isDragging())return!1;if(!this.touchRotate)return!1;var e=this.getCenter(t);e[0]-=t.deltaX;var n=this.mapState.rotate({pos:e});return this.updateViewport(n,Mt,{isRotating:!0}),!0}},{key:\"_onTriplePanEnd\",value:function(t){if(!this.isDragging())return!1;if(this.touchRotate){var e=this.touchRotate.inertia,n=void 0===e?kt:e;if(n&&t.velocityY){var r=this.getCenter(t),i=[r[0],r[1]+=t.velocityY*n/2],o=this.mapState.rotate({pos:i});return this.updateViewport(o,Et(Et({},_t),{},{transitionDuration:n,transitionEasing:St}),{isDragging:!1,isRotating:!0}),this.blockEvents(n),!1}}var a=this.mapState.rotateEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:\"_onDoubleTap\",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},_t,{transitionInterpolator:new vt({around:e})}),{isZooming:!0}),!0}},{key:\"_onKeyDown\",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.keyboard,i=r.zoomSpeed,o=void 0===i?2:i,a=r.moveSpeed,s=void 0===a?100:a,c=r.rotateSpeedX,u=void 0===c?15:c,l=r.rotateSpeedY,h=void 0===l?10:l,p=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:p.zoom-Math.log2(o)-1}):this.getMapState({zoom:p.zoom-Math.log2(o)});break;case 187:e=n?this.getMapState({zoom:p.zoom+Math.log2(o)+1}):this.getMapState({zoom:p.zoom+Math.log2(o)});break;case 37:e=n?this.getMapState({bearing:p.bearing-u}):this.mapState.pan({pos:[s,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:p.bearing+u}):this.mapState.pan({pos:[-s,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:p.pitch+h}):this.mapState.pan({pos:[0,s],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:p.pitch-h}):this.mapState.pan({pos:[0,-s],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,_t)}}]),t}();function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var At=Object.assign({},H.propTypes,{maxZoom:s.number,minZoom:s.number,maxPitch:s.number,minPitch:s.number,onViewStateChange:s.func,onViewportChange:s.func,onInteractionStateChange:s.func,transitionDuration:s.oneOfType([s.number,s.string]),transitionInterpolator:s.object,transitionInterruption:s.number,transitionEasing:s.func,onTransitionStart:s.func,onTransitionInterrupt:s.func,onTransitionEnd:s.func,scrollZoom:s.oneOfType([s.bool,s.object]),dragPan:s.oneOfType([s.bool,s.object]),dragRotate:s.oneOfType([s.bool,s.object]),doubleClickZoom:s.bool,touchZoom:s.oneOfType([s.bool,s.object]),touchRotate:s.oneOfType([s.bool,s.object]),keyboard:s.oneOfType([s.bool,s.object]),onHover:s.func,onClick:s.func,onDblClick:s.func,onContextMenu:s.func,onMouseDown:s.func,onMouseMove:s.func,onMouseUp:s.func,onTouchStart:s.func,onTouchMove:s.func,onTouchEnd:s.func,onMouseEnter:s.func,onMouseLeave:s.func,onMouseOut:s.func,onWheel:s.func,touchAction:s.string,eventRecognizerOptions:s.object,clickRadius:s.number,interactiveLayerIds:s.array,getCursor:s.func,controller:s.instanceOf(Lt)}),Ft=Object.assign({},H.defaultProps,P,jt.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:\"none\",eventRecognizerOptions:{},clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?\"grabbing\":n?\"pointer\":\"grab\"}});function Zt(t){if(t.lngLat||!t.offsetCenter)return t;var e=t.offsetCenter,n=e.x,r=e.y;if(!Number.isFinite(n)||!Number.isFinite(r))return t;var i=[n,r];t.point=i;var o=this.viewport,a=o.unproject(i,{targetZ:o.meterOffset[2]});return t.lngLat=[a[0],a[1]],t}function Vt(t){var e=this.map;if(!e||!t)return null;var n={},r=this.props.clickRadius;this.props.interactiveLayerIds&&(n.layers=this.props.interactiveLayerIds);try{return e.queryRenderedFeatures(r?[[t[0]-r,t[1]+r],[t[0]+r,t[1]-r]]:t,n)}catch(i){return null}}function Bt(t,e){var n=this.props[t];n&&n(Zt.call(this,e))}function Ut(t){Bt.call(this,\"touch\"===t.pointerType?\"onTouchStart\":\"onMouseDown\",t)}function qt(t){Bt.call(this,\"touch\"===t.pointerType?\"onTouchEnd\":\"onMouseUp\",t)}function Ht(t){if(Bt.call(this,\"touch\"===t.pointerType?\"onTouchMove\":\"onMouseMove\",t),!this.state.isDragging){var e,n=this.props,r=n.onHover,i=n.interactiveLayerIds;t=Zt.call(this,t),(i||r)&&(e=Vt.call(this,t.point));var o=Boolean(i&&e&&e.length>0),a=o&&!this.state.isHovering,s=!o&&this.state.isHovering;(r||a)&&(t.features=e,r&&r(t)),a&&Bt.call(this,\"onMouseEnter\",t),s&&Bt.call(this,\"onMouseLeave\",t),(a||s)&&this.setState({isHovering:o})}}function Wt(t){var e=this.props,n=e.onClick,r=e.onNativeClick,i=e.onDblClick,o=e.doubleClickZoom,a=[],s=i||o;switch(t.type){case\"anyclick\":a.push(r),s||a.push(n);break;case\"click\":s&&a.push(n)}(a=a.filter(Boolean)).length&&((t=Zt.call(this,t)).features=Vt.call(this,t.point),a.forEach((function(e){return e(t)})))}var Xt=Object(a.forwardRef)((function(t,e){var n=Object(a.useContext)(R),o=Object(a.useMemo)((function(){return t.controller||new Lt}),[]),s=Object(a.useMemo)((function(){return new wt.a(null,{touchAction:t.touchAction,recognizerOptions:t.eventRecognizerOptions})}),[]),c=Object(a.useRef)(null),u=Object(a.useRef)(null),l=Object(a.useRef)({width:0,height:0,state:{isHovering:!1,isDragging:!1}}).current;l.props=t,l.map=u.current&&u.current.getMap(),l.setState=function(e){l.state=Nt(Nt({},l.state),e),c.current.style.cursor=t.getCursor(l.state)};var h,p,f=!0,v=function(t,e,n){if(f)h=[t,e,n];else{var r=l.props,i=r.onViewStateChange,o=r.onViewportChange;Object.defineProperty(t,\"position\",{get:function(){return[0,0,L(l.map,t)]}}),i&&i({viewState:t,interactionState:e,oldViewState:n}),o&&o(t,e,n)}};Object(a.useImperativeHandle)(e,(function(){return function(t){return{getMap:t.current&&t.current.getMap,queryRenderedFeatures:t.current&&t.current.queryRenderedFeatures}}(u)}),[]);var d=Object(a.useMemo)((function(){return Nt(Nt({},n),{},{eventManager:s,container:n.container||c.current})}),[n,c.current]);d.onViewportChange=v,d.viewport=n.viewport||F(l),l.viewport=d.viewport;var g=function(t){var e=t.isDragging,n=void 0!==e&&e;if(n!==l.state.isDragging&&l.setState({isDragging:n}),f)p=t;else{var r=l.props.onInteractionStateChange;r&&r(t)}},b=function(){l.width&&l.height&&o.setOptions(Nt(Nt(Nt({},l.props),l.props.viewState),{},{isInteractive:Boolean(l.props.onViewStateChange||l.props.onViewportChange),onViewportChange:v,onStateChange:g,eventManager:s,width:l.width,height:l.height}))};Object(a.useEffect)((function(){return s.setElement(c.current),s.on({pointerdown:Ut.bind(l),pointermove:Ht.bind(l),pointerup:qt.bind(l),pointerleave:Bt.bind(l,\"onMouseOut\"),click:Wt.bind(l),anyclick:Wt.bind(l),dblclick:Bt.bind(l,\"onDblClick\"),wheel:Bt.bind(l,\"onWheel\"),contextmenu:Bt.bind(l,\"onContextMenu\")}),function(){s.destroy()}}),[]),I((function(){h&&v.apply(void 0,Object(i.a)(h)),p&&g(p)})),b();var m=t.width,y=t.height,O=t.style,j=t.getCursor,w=Object(a.useMemo)((function(){return Nt(Nt({position:\"relative\"},O),{},{width:m,height:y,cursor:j(l.state)})}),[O,m,y,j,l.state]);return h&&l._child||(l._child=a.createElement(C,{value:d},a.createElement(\"div\",{key:\"event-canvas\",ref:c,style:w},a.createElement(H,Object(r.a)({},t,{width:\"100%\",height:\"100%\",style:null,onResize:function(t){var e=t.width,n=t.height;l.width=e,l.height=n,b(),l.props.onResize({width:e,height:n})},ref:u}))))),f=!1,l._child}));Xt.supported=H.supported,Xt.propTypes=At,Xt.defaultProps=Ft;var Yt=Xt,Kt=n(132);function Gt(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if(\"object\"===Object(Kt.a)(t)&&\"object\"===Object(Kt.a)(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var o=0,a=r;o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s))return!1;if(!Gt(t[s],e[s]))return!1}return!0}return!1}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Jt={type:s.string.isRequired,id:s.string},Qt=0;function te(t,e,n){if(t.style&&t.style._loaded){var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n);return delete r.id,delete r.children,t.addSource(e,r),t.getSource(e)}return null}function ee(t){var e=Object(a.useContext)(R),n=Object(a.useRef)({id:t.id,type:t.type}),r=Object(a.useState)(0),i=Object(c.a)(r,2)[1],o=Object(a.useMemo)((function(){return t.id||\"jsx-source-\".concat(Qt++)}),[]),s=e.map;Object(a.useEffect)((function(){if(s){var t=function(){return i((function(t){return t+1}))};return s.on(\"styledata\",t),function(){s.off(\"styledata\",t),requestAnimationFrame((function(){s.style&&s.style._loaded&&s.getSource(o)&&s.removeSource(o)}))}}}),[s,o]);var u=s&&s.style&&s.getSource(o);return u?function(t,e,n){O(e.id===n.id,\"source id changed\"),O(e.type===n.type,\"source type changed\");var r=\"\",i=0;for(var o in e)\"children\"===o||\"id\"===o||Gt(n[o],e[o])||(r=o,i++);if(i){var a=e.type;if(\"geojson\"===a)t.setData(e.data);else if(\"image\"===a)t.updateImage({url:e.url,coordinates:e.coordinates});else if(\"canvas\"!==a&&\"video\"!==a||1!==i||\"coordinates\"!==r)if(\"vector\"===a&&t.setUrl)switch(r){case\"url\":t.setUrl(e.url);break;case\"tiles\":t.setTiles(e.tiles)}else console.warn(\"Unable to update <Source> prop: \".concat(r));else t.setCoordinates(e.coordinates)}}(u,t,n.current):u=te(s,o,t),n.current=t,u&&a.Children.map(t.children,(function(t){return t&&Object(a.cloneElement)(t,{source:o})}))||null}ee.propTypes=Jt;var ne=ee,re=n(9);function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ae={type:s.oneOf([\"fill\",\"line\",\"symbol\",\"circle\",\"fill-extrusion\",\"raster\",\"background\",\"heatmap\",\"hillshade\",\"sky\"]).isRequired,id:s.string,source:s.string,beforeId:s.string};function se(t,e,n,r){O(n.id===r.id,\"layer id changed\"),O(n.type===r.type,\"layer type changed\");try{!function(t,e,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,c=n.filter,u=n.minzoom,l=n.maxzoom,h=n.beforeId,p=Object(re.a)(n,[\"layout\",\"paint\",\"filter\",\"minzoom\",\"maxzoom\",\"beforeId\"]);if(h!==r.beforeId&&t.moveLayer(e,h),o!==r.layout){var f=r.layout||{};for(var v in o)Gt(o[v],f[v])||t.setLayoutProperty(e,v,o[v]);for(var d in f)o.hasOwnProperty(d)||t.setLayoutProperty(e,d,void 0)}if(s!==r.paint){var g=r.paint||{};for(var b in s)Gt(s[b],g[b])||t.setPaintProperty(e,b,s[b]);for(var m in g)s.hasOwnProperty(m)||t.setPaintProperty(e,m,void 0)}for(var y in Gt(c,r.filter)||t.setFilter(e,c),u===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,u,l),p)Gt(p[y],r[y])||t.setLayerProperty(e,y,p[y])}(t,e,n,r)}catch(i){console.warn(i)}}var ce=0;function ue(t){var e=Object(a.useContext)(R),n=Object(a.useRef)({id:t.id,type:t.type}),r=Object(a.useState)(0),i=Object(c.a)(r,2)[1],o=Object(a.useMemo)((function(){return t.id||\"jsx-layer-\".concat(ce++)}),[]),s=e.map;return Object(a.useEffect)((function(){if(s){var t=function(){return i((function(t){return t+1}))};return s.on(\"styledata\",t),function(){s.off(\"styledata\",t),s.style&&s.style._loaded&&s.removeLayer(o)}}}),[s]),s&&s.style&&s.getLayer(o)?se(s,o,t,n.current):function(t,e,n){if(t.style&&t.style._loaded){var r=oe(oe({},n),{},{id:e});delete r.beforeId,t.addLayer(r,n.beforeId)}}(s,o,t),n.current=t,null}ue.propTypes=ae;var le=ue,he={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},pe={captureScroll:s.bool,captureDrag:s.bool,captureClick:s.bool,captureDoubleClick:s.bool,capturePointerMove:s.bool};function fe(t){var e=t.containerRef.current,n=t.context.eventManager;if(e&&n){var r={wheel:function(e){var n=t.props;n.captureScroll&&e.stopPropagation(),n.onScroll&&n.onScroll(e,t)},panstart:function(e){var n=t.props;n.captureDrag&&e.stopPropagation(),n.onDragStart&&n.onDragStart(e,t)},anyclick:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onNativeClick&&n.onNativeClick(e,t)},click:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onClick&&n.onClick(e,t)},dblclick:function(e){var n=t.props;n.captureDoubleClick&&e.stopPropagation(),n.onDoubleClick&&n.onDoubleClick(e,t)},pointermove:function(e){var n=t.props;n.capturePointerMove&&e.stopPropagation(),n.onPointerMove&&n.onPointerMove(e,t)}};return n.watch(r,e),function(){n.off(r)}}}function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(a.useContext)(R),n=Object(a.useRef)(null),r=Object(a.useRef)({props:t,state:{},context:e,containerRef:n}),i=r.current;return i.props=t,i.context=e,Object(a.useEffect)((function(){return fe(i)}),[e.eventManager]),i}function de(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(J.a)(t);if(e){var i=Object(J.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object($.a)(this,n)}}function ge(t){var e=t.instance,n=ve(t),r=n.context,i=n.containerRef;return e._context=r,e._containerRef=i,e._render()}var be=function(t){Object(G.a)(n,t);var e=de(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),Object(o.a)(Object(K.a)(t),\"_context\",{}),Object(o.a)(Object(K.a)(t),\"_containerRef\",Object(a.createRef)()),Object(o.a)(Object(K.a)(t),\"_onScroll\",(function(t){})),Object(o.a)(Object(K.a)(t),\"_onDragStart\",(function(t){})),Object(o.a)(Object(K.a)(t),\"_onDblClick\",(function(t){})),Object(o.a)(Object(K.a)(t),\"_onClick\",(function(t){})),Object(o.a)(Object(K.a)(t),\"_onPointerMove\",(function(t){})),t}return Object(d.a)(n,[{key:\"_render\",value:function(){throw new Error(\"_render() not implemented\")}},{key:\"render\",value:function(){return a.createElement(ge,Object(r.a)({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),n}(a.PureComponent);function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}Object(o.a)(be,\"propTypes\",pe),Object(o.a)(be,\"defaultProps\",he);var Oe=Object.assign({},pe,{draggable:s.bool,onDrag:s.func,onDragEnd:s.func,onDragStart:s.func,offsetLeft:s.number,offsetTop:s.number}),je=Object.assign({},he,{draggable:!1,offsetLeft:0,offsetTop:0});function we(t){var e=t.offsetCenter;return[e.x,e.y]}function Pe(t,e,n,r){var i=t[0]+e[0]-n.offsetLeft,o=t[1]+e[1]-n.offsetTop;return r.viewport.unproject([i,o])}function Ee(t,e){var n=e.props,r=e.callbacks,i=e.state,o=e.context,a=e.containerRef;if(n.draggable){t.stopPropagation();var s=we(t),c=function(t,e){var n=t.center,r=n.x,i=n.y;if(e){var o=e.getBoundingClientRect();return[o.left-r,o.top-i]}return null}(t,a.current);if(i.setDragPos(s),i.setDragOffset(c),r.onDragStart&&c){var u=Object.assign({},t);u.lngLat=Pe(s,c,n,o),r.onDragStart(u)}}}function Me(t){var e=t.context.eventManager;if(e&&t.state.dragPos){var n={panmove:function(e){return function(t,e){var n=e.props,r=e.callbacks,i=e.state,o=e.context;t.stopPropagation();var a=we(t);i.setDragPos(a);var s=i.dragOffset;if(r.onDrag&&s){var c=Object.assign({},t);c.lngLat=Pe(a,s,n,o),r.onDrag(c)}}(e,t)},panend:function(e){return function(t,e){var n=e.props,r=e.callbacks,i=e.state,o=e.context;t.stopPropagation();var a=i.dragPos,s=i.dragOffset;if(i.setDragPos(null),i.setDragOffset(null),r.onDragEnd&&a&&s){var c=Object.assign({},t);c.lngLat=Pe(a,s,n,o),r.onDragEnd(c)}}(e,t)},pancancel:function(e){return function(t,e){var n=e.state;t.stopPropagation(),n.setDragPos(null),n.setDragOffset(null)}(e,t)}};return e.watch(n),function(){e.off(n)}}}var _e=\"undefined\"!==typeof window&&window.devicePixelRatio||1,ke=function(t){return Math.round(t*_e)/_e},Se=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"x\";if(null===t)return e;var r=\"x\"===n?t.offsetWidth:t.offsetHeight;return ke(e/100*r)/r*100},Te=Object.assign({},Oe,{className:s.string,longitude:s.number.isRequired,latitude:s.number.isRequired}),xe=Object.assign({},je,{className:\"\"});function De(t){var e=function(t){var e=Object(a.useState)(null),n=Object(c.a)(e,2),r=n[0],i=n[1],o=Object(a.useState)(null),s=Object(c.a)(o,2),u=s[0],l=s[1],h=ve(ye(ye({},t),{},{onDragStart:Ee}));return h.callbacks=t,h.state.dragPos=r,h.state.setDragPos=i,h.state.dragOffset=u,h.state.setDragOffset=l,Object(a.useEffect)((function(){return Me(h)}),[h.context.eventManager,Boolean(r)]),h}(t),n=e.state,r=e.containerRef,i=t.children,o=t.className,s=t.draggable,u=n.dragPos,l=function(t){var e=t.props,n=t.state,r=t.context,i=e.longitude,o=e.latitude,a=e.offsetLeft,s=e.offsetTop,u=n.dragPos,l=n.dragOffset,h=r.viewport,p=r.map;if(u&&l)return[u[0]+l[0],u[1]+l[1]];var f=L(p,{longitude:i,latitude:o}),v=h.project([i,o,f]),d=Object(c.a)(v,2),g=d[0],b=d[1];return[g+=a,b+=s]}(e),h=Object(c.a)(l,2),p=h[0],f=h[1],v=\"translate(\".concat(ke(p),\"px, \").concat(ke(f),\"px)\"),d=s?u?\"grabbing\":\"grab\":\"auto\",g=Object(a.useMemo)((function(){var t={position:\"absolute\",left:0,top:0,transform:v,cursor:d};return a.createElement(\"div\",{className:\"mapboxgl-marker \".concat(o),ref:e.containerRef,style:t},i)}),[i,o]),b=r.current;return b&&(b.style.transform=v,b.style.cursor=d),g}De.defaultProps=xe,De.propTypes=Te;var Ce=a.memo(De),Re={top:{x:.5,y:0},\"top-left\":{x:0,y:0},\"top-right\":{x:1,y:0},bottom:{x:.5,y:1},\"bottom-left\":{x:0,y:1},\"bottom-right\":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Ie=Object.keys(Re);var Le=Object.assign({},pe,{className:s.string,longitude:s.number.isRequired,latitude:s.number.isRequired,altitude:s.number,offsetLeft:s.number,offsetTop:s.number,tipSize:s.number,closeButton:s.bool,closeOnClick:s.bool,anchor:s.oneOf(Object.keys(Re)),dynamicPosition:s.bool,sortByDepth:s.bool,onClose:s.func}),ze=Object.assign({},he,{className:\"\",offsetLeft:0,offsetTop:0,tipSize:10,anchor:\"bottom\",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function Ne(t,e,n,r){var i=Object(c.a)(r,2),o=i[0],a=i[1],s=t.anchor,u=t.dynamicPosition,l=t.tipSize;return n&&u?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,c=t.padding,u=void 0===c?0:c,l=Re[s],h=l.x,p=l.y,f=n-p*a,v=f+a,d=Math.max(0,u-f)+Math.max(0,v-i+u);if(d>0){var g=p,b=d;for(p=0;p<=1;p+=.5)v=(f=n-p*a)+a,(d=Math.max(0,u-f)+Math.max(0,v-i+u))<b&&(b=d,g=p);p=g}var m=.5;.5===p&&(h=Math.floor(h),m=1);var y=e-h*o,O=y+o,j=Math.max(0,u-y)+Math.max(0,O-r+u);if(j>0){var w=h,P=j;for(h=0;h<=1;h+=m)O=(y=e-h*o)+o,(j=Math.max(0,u-y)+Math.max(0,O-r+u))<P&&(P=j,w=h);h=w}return Ie.find((function(t){var e=Re[t];return e.x===h&&e.y===p}))||s}({x:o,y:a,anchor:s,padding:l,width:e.width,height:e.height,selfWidth:n.clientWidth,selfHeight:n.clientHeight}):s}function Ae(t){var e=Object(a.useRef)(null),n=ve(t),r=n.context,i=n.containerRef,o=Object(a.useState)(!1),s=Object(c.a)(o,2)[1];Object(a.useEffect)((function(){s(!0)}),[e.current]),Object(a.useEffect)((function(){if(r.eventManager&&t.closeOnClick){var e=function(){return n.props.onClose()};return r.eventManager.on(\"anyclick\",e),function(){r.eventManager.off(\"anyclick\",e)}}}),[r.eventManager,t.closeOnClick]);var u=r.viewport,l=r.map,h=t.className,p=t.longitude,f=t.latitude,v=t.tipSize,d=t.closeButton,g=t.children,b=t.altitude;void 0===b&&(b=L(l,{longitude:p,latitude:f}));var m=u.project([p,f,b]),y=Ne(t,u,e.current,m),O=function(t,e,n,r,i){var o=Object(c.a)(r,3),a=o[0],s=o[1],u=o[2],l=t.offsetLeft,h=t.offsetTop,p=t.sortByDepth,f=Re[i],v=a+l,d=s+h,g=Se(n,100*-f.x),b=Se(n,100*-f.y,\"y\"),m={position:\"absolute\",transform:\"\\n      translate(\".concat(g,\"%, \").concat(b,\"%)\\n      translate(\").concat(ke(v),\"px, \").concat(ke(d),\"px)\\n    \"),display:void 0,zIndex:void 0};return p?(u>1||u<-1||a<0||a>e.width||s<0||s>e.height?m.display=\"none\":m.zIndex=Math.floor((1-u)/2*1e5),m):m}(t,u,i.current,m,y),j=Object(a.useCallback)((function(t){n.props.onClose();var e=n.context.eventManager;e&&e.once(\"click\",(function(t){return t.stopPropagation()}),t.target)}),[]);return a.createElement(\"div\",{className:\"mapboxgl-popup mapboxgl-popup-anchor-\".concat(y,\" \").concat(h),style:O,ref:i},a.createElement(\"div\",{key:\"tip\",className:\"mapboxgl-popup-tip\",style:{borderWidth:v}}),a.createElement(\"div\",{key:\"content\",ref:e,className:\"mapboxgl-popup-content\"},d&&a.createElement(\"button\",{key:\"close-button\",className:\"mapboxgl-popup-close-button\",type:\"button\",onClick:j},\"\\xd7\"),g))}Ae.propTypes=Le,Ae.defaultProps=ze;var Fe=a.memo(Ae);function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Ve=Object.assign({},pe,{toggleLabel:s.string,className:s.string,style:s.object,compact:s.bool,customAttribution:s.oneOfType([s.string,s.arrayOf(s.string)])}),Be=Object.assign({},he,{className:\"\",toggleLabel:\"Toggle Attribution\"});function Ue(t){var e=ve(t),n=e.context,r=e.containerRef,i=Object(a.useRef)(null),s=Object(a.useState)(!1),u=Object(c.a)(s,2),l=u[0],h=u[1];Object(a.useEffect)((function(){var e;return n.map&&(e=function(t,e,n,r){var i=new f.a.AttributionControl(t);return i._map=e,i._container=n,i._innerContainer=r,i._updateAttributions(),i._updateEditLink(),e.on(\"styledata\",i._updateData),e.on(\"sourcedata\",i._updateData),i}({customAttribution:t.customAttribution},n.map,r.current,i.current)),function(){return e&&function(t){t._map.off(\"styledata\",t._updateData),t._map.off(\"sourcedata\",t._updateData)}(e)}}),[n.map]);var p=void 0===t.compact?n.viewport.width<=640:t.compact;Object(a.useEffect)((function(){!p&&l&&h(!1)}),[p]);var v=Object(a.useCallback)((function(){return h((function(t){return!t}))}),[]),d=Object(a.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\"},t.style)}),[t.style]);return a.createElement(\"div\",{style:d,className:t.className},a.createElement(\"div\",{ref:r,\"aria-pressed\":l,className:\"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(p?\"mapboxgl-compact\":\"\",\" \").concat(l?\"mapboxgl-compact-show\":\"\")},a.createElement(\"button\",{type:\"button\",className:\"mapboxgl-ctrl-attrib-button\",title:t.toggleLabel,onClick:v}),a.createElement(\"div\",{ref:i,className:\"mapboxgl-ctrl-attrib-inner\",role:\"list\"})))}Ue.propTypes=Ve,Ue.defaultProps=Be;a.memo(Ue);var qe=n(2080);function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var We=Object.assign({},pe,{className:s.string,style:s.object,container:s.object,label:s.string}),Xe=Object.assign({},he,{className:\"\",container:null,label:\"Toggle fullscreen\"});function Ye(t){var e=ve(t),n=e.context,r=e.containerRef,i=Object(a.useState)(!1),s=Object(c.a)(i,2),u=s[0],l=s[1],h=Object(a.useState)(!1),p=Object(c.a)(h,2),v=p[0],d=p[1],g=Object(a.useState)(null),b=Object(c.a)(g,2),m=b[0],y=b[1];Object(a.useEffect)((function(){var t=new f.a.FullscreenControl;y(t),d(t._checkFullscreenSupport());var e=function(){var e=!t._fullscreen;t._fullscreen=e,l(e)};return qe.a.addEventListener(t._fullscreenchange,e),function(){qe.a.removeEventListener(t._fullscreenchange,e)}}),[]);var O=Object(a.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\"},t.style)}),[t.style]);if(!v)return null;var j=t.className,w=t.label,P=u?\"shrink\":\"fullscreen\";return a.createElement(\"div\",{style:O,className:j},a.createElement(\"div\",{className:\"mapboxgl-ctrl mapboxgl-ctrl-group\",ref:r},a.createElement(\"button\",{key:P,className:\"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(P),type:\"button\",title:w,onClick:function(){m&&(m._container=t.container||n.container,m._onClickFullscreen())}},a.createElement(\"span\",{className:\"mapboxgl-ctrl-icon\",\"aria-hidden\":\"true\"}))))}Ye.propTypes=We,Ye.defaultProps=Xe;var Ke,Ge=a.memo(Ye);function $e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Je=function(){},Qe=Object.assign({},pe,{className:s.string,style:s.object,label:s.string,disabledLabel:s.string,auto:s.bool,positionOptions:s.object,fitBoundsOptions:s.object,trackUserLocation:s.bool,showUserLocation:s.bool,showAccuracyCircle:s.bool,onViewStateChange:s.func,onViewportChange:s.func,onGeolocate:s.func}),tn=Object.assign({},he,{className:\"\",label:\"Find My Location\",disabledLabel:\"Location Not Available\",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showAccuracyCircle:!0,onGeolocate:function(){}});function en(t,e){var n=e.context,r=e.props,i=function(t){var e=new f.a.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]}(t),o=n.viewport.fitBounds(i,r.fitBoundsOptions),a=o.longitude,s=o.latitude,c=o.zoom,u=Object.assign({},n.viewport,{longitude:a,latitude:s,zoom:c}),l=new k(u),h=Object.assign({},l.getViewportProps(),_t),p=r.onViewportChange||n.onViewportChange||Je;(r.onViewStateChange||n.onViewStateChange||Je)({viewState:h}),p(h)}function nn(t){var e=ve(t),n=e.context,r=e.containerRef,i=Object(a.useRef)(null),s=Object(a.useState)(null),u=Object(c.a)(s,2),l=u[0],h=u[1],p=Object(a.useState)(!1),v=Object(c.a)(p,2),d=v[0],g=v[1];Object(a.useEffect)((function(){var r;return n.map&&(void 0!==Ke?Promise.resolve(Ke):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:\"geolocation\"}).then((function(t){return Ke=\"denied\"!==t.state})):(Ke=Boolean(window.navigator.geolocation),Promise.resolve(Ke))).then((function(o){g(o),i.current&&((r=function(t,e,n){var r=new f.a.GeolocateControl(e);r._container=qe.a.createElement(\"div\"),r._map={on:function(){},_getUIString:function(){return\"\"}},r._setupUI(!0),r._map=t.map,r._geolocateButton=n;var i=t.eventManager;return r.options.trackUserLocation&&i&&i.on(\"panstart\",(function(){\"ACTIVE_LOCK\"===r._watchState&&(r._watchState=\"BACKGROUND\",n.classList.add(\"mapboxgl-ctrl-geolocate-background\"),n.classList.remove(\"mapboxgl-ctrl-geolocate-active\"))})),r.on(\"geolocate\",e.onGeolocate),r}(n,t,i.current))._updateCamera=function(t){return en(t,e)},h(r))})),function(){r&&r._clearWatch()}}),[n.map]);var b=Object(a.useCallback)((function(){l&&(l.options=e.props,l.trigger())}),[l]);Object(a.useEffect)((function(){t.auto&&b()}),[l,t.auto]),Object(a.useEffect)((function(){l&&l._onZoom()}),[n.viewport.zoom]);var m=t.className,y=t.label,O=t.disabledLabel,j=t.trackUserLocation,w=Object(a.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\"},t.style)}),[t.style]);return a.createElement(\"div\",{style:w,className:m},a.createElement(\"div\",{key:\"geolocate-control\",className:\"mapboxgl-ctrl mapboxgl-ctrl-group\",ref:r},a.createElement(\"button\",{key:\"geolocate\",className:\"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",ref:i,disabled:!d,\"aria-pressed\":!j,type:\"button\",title:d?y:O,\"aria-label\":d?y:O,onClick:b},a.createElement(\"span\",{className:\"mapboxgl-ctrl-icon\",\"aria-hidden\":\"true\"}))))}nn.propTypes=Qe,nn.defaultProps=tn;var rn=a.memo(nn);function on(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var an=function(){},sn=Object.assign({},pe,{className:s.string,style:s.object,onViewStateChange:s.func,onViewportChange:s.func,showCompass:s.bool,showZoom:s.bool,zoomInLabel:s.string,zoomOutLabel:s.string,compassLabel:s.string}),cn=Object.assign({},he,{className:\"\",showCompass:!0,showZoom:!0,zoomInLabel:\"Zoom In\",zoomOutLabel:\"Zoom Out\",compassLabel:\"Reset North\"});function un(t){return function(t,e){for(var n=(t||\"\").split(\".\").map(Number),r=(e||\"\").split(\".\").map(Number),i=0;i<3;i++){var o=n[i]||0,a=r[i]||0;if(o<a)return-1;if(o>a)return 1}return 0}(t,\"1.6.0\")>=0?2:1}function ln(t,e,n){var r=t.viewport,i=new k(Object.assign({},r,n)),o=Object.assign({},i.getViewportProps(),_t),a=e.onViewportChange||t.onViewportChange||an;(e.onViewStateChange||t.onViewStateChange||an)({viewState:o}),a(o)}function hn(t,e,n,r){return a.createElement(\"button\",{key:t,className:\"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(t),type:\"button\",title:e,onClick:n},r||a.createElement(\"span\",{className:\"mapboxgl-ctrl-icon\",\"aria-hidden\":\"true\"}))}function pn(t){var e=ve(t),n=e.context,r=e.containerRef,i=t.className,s=t.showCompass,c=t.showZoom,u=t.zoomInLabel,l=t.zoomOutLabel,h=t.compassLabel,p=Object(a.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\"},t.style)}),[t.style]);return a.createElement(\"div\",{style:p,className:i},a.createElement(\"div\",{className:\"mapboxgl-ctrl mapboxgl-ctrl-group\",ref:r},c&&hn(\"zoom-in\",u,(function(){ln(n,t,{zoom:n.viewport.zoom+1})})),c&&hn(\"zoom-out\",l,(function(){ln(n,t,{zoom:n.viewport.zoom-1})})),s&&hn(\"compass\",h,(function(){ln(n,t,{bearing:0,pitch:0})}),function(t){var e=Object(a.useMemo)((function(){return t.map?un(t.map.version):2}),[t.map]),n=t.viewport.bearing,r={transform:\"rotate(\".concat(-n,\"deg)\")};return 2===e?a.createElement(\"span\",{className:\"mapboxgl-ctrl-icon\",\"aria-hidden\":\"true\",style:r}):a.createElement(\"span\",{className:\"mapboxgl-ctrl-compass-arrow\",style:r})}(n))))}pn.propTypes=sn,pn.defaultProps=cn;var fn=a.memo(pn);function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var dn=Object.assign({},pe,{className:s.string,style:s.object,maxWidth:s.number,unit:s.oneOf([\"imperial\",\"metric\",\"nautical\"])}),gn=Object.assign({},he,{className:\"\",maxWidth:100,unit:\"metric\"});function bn(t){var e=ve(t),n=e.context,r=e.containerRef,i=Object(a.useState)(null),s=Object(c.a)(i,2),u=s[0],l=s[1];Object(a.useEffect)((function(){if(n.map){var t=new f.a.ScaleControl;t._map=n.map,t._container=r.current,l(t)}}),[n.map]),u&&(u.options=t,u._onMove());var h=Object(a.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\"},t.style)}),[t.style]);return a.createElement(\"div\",{style:h,className:t.className},a.createElement(\"div\",{ref:r,className:\"mapboxgl-ctrl mapboxgl-ctrl-scale\"}))}bn.propTypes=dn,bn.defaultProps=gn;var mn=a.memo(bn),yn=\"undefined\"!==typeof window&&window.devicePixelRatio||1,On=Object.assign({},pe,{redraw:s.func.isRequired});function jn(t){var e=ve(t),n=e.context,r=e.containerRef,i=Object(a.useState)(null),o=Object(c.a)(i,2),s=o[0],u=o[1];Object(a.useEffect)((function(){u(r.current.getContext(\"2d\"))}),[]);var l=n.viewport,h=n.isDragging;return s&&(s.save(),s.scale(yn,yn),t.redraw({width:l.width,height:l.height,ctx:s,isDragging:h,project:l.project,unproject:l.unproject}),s.restore()),a.createElement(\"canvas\",{ref:r,width:l.width*yn,height:l.height*yn,style:{width:\"\".concat(l.width,\"px\"),height:\"\".concat(l.height,\"px\"),position:\"absolute\",left:0,top:0}})}jn.propTypes=On,jn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var Pn=Object.assign({},pe,{redraw:s.func.isRequired,style:s.object});function En(t){var e=ve(t),n=e.context,r=e.containerRef,i=n.viewport,s=n.isDragging,c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\",left:0,top:0,width:i.width,height:i.height},t.style);return a.createElement(\"div\",{ref:r,style:c},t.redraw({width:i.width,height:i.height,isDragging:s,project:i.project,unproject:i.unproject}))}En.propTypes=Pn,En.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var _n=Object.assign({},pe,{redraw:s.func.isRequired,style:s.object});function kn(t){var e=ve(t),n=e.context,r=e.containerRef,i=n.viewport,s=n.isDragging,c=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:\"absolute\",left:0,top:0},t.style);return a.createElement(\"svg\",{width:i.width,height:i.height,ref:r,style:c},t.redraw({width:i.width,height:i.height,isDragging:s,project:i.project,unproject:i.unproject}))}kn.propTypes=_n,kn.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};f.a&&f.a.setRTLTextPlugin},1889:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return Z})),n.d(e,\"g\",(function(){return A})),n.d(e,\"d\",(function(){return z})),n.d(e,\"n\",(function(){return V})),n.d(e,\"e\",(function(){return W})),n.d(e,\"i\",(function(){return X})),n.d(e,\"m\",(function(){return E})),n.d(e,\"p\",(function(){return M})),n.d(e,\"q\",(function(){return I})),n.d(e,\"o\",(function(){return L})),n.d(e,\"c\",(function(){return C})),n.d(e,\"f\",(function(){return R})),n.d(e,\"j\",(function(){return _})),n.d(e,\"h\",(function(){return k})),n.d(e,\"b\",(function(){return S})),n.d(e,\"l\",(function(){return T})),n.d(e,\"k\",(function(){return x}));var r=n(16),i=n(3),o=n(65),a=n(66),s=n(2010);function c(t,e){var n=s.b([],e,t);return s.a(n,n,1/n[3]),n}function u(t,e){var n=t%e;return n<0?e+n:n}function l(t,e,n){return n*e+(1-n)*t}var h=Math.log2||function(t){return Math.log(t)*Math.LOG2E},p=n(1983),f=n(1953),v=n(1984);function d(t,e){if(!t)throw new Error(e||\"@math.gl/web-mercator: assertion failed.\")}var g=Math.PI,b=g/4,m=g/180,y=180/g,O=512,j=4003e4;function w(t){return Math.pow(2,t)}function P(t){return h(t)}function E(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];d(Number.isFinite(n)),d(Number.isFinite(r)&&r>=-90&&r<=90,\"invalid latitude\");var o=r*m;return[O*(n*m+g)/(2*g),O*(g+Math.log(Math.tan(b+.5*o)))/(2*g)]}function M(t){var e=Object(i.a)(t,2),n=e[0],r=e[1],o=n/O*(2*g)-g,a=2*(Math.atan(Math.exp(r/O*(2*g)-g))-b);return[o*y,a*y]}function _(t){var e=t.latitude;d(Number.isFinite(e));var n=Math.cos(e*m);return P(j*n)-9}function k(t){var e=t.latitude,n=t.longitude,r=t.highPrecision,i=void 0!==r&&r;d(Number.isFinite(e)&&Number.isFinite(n));var o={},a=Math.cos(e*m),s=512/360,c=s/a,u=12790407194604047e-21/a;if(o.unitsPerMeter=[u,u,u],o.metersPerUnit=[1/u,1/u,1/u],o.unitsPerDegree=[s,c,u],o.degreesPerUnit=[.703125,1/c,1/u],i){var l=m*Math.tan(e*m)/a,h=s*l/2,p=12790407194604047e-21*l,f=p/c*u;o.unitsPerDegree2=[0,h,p],o.unitsPerMeter2=[f,0,f]}return o}function S(t,e){var n=Object(i.a)(t,3),r=n[0],o=n[1],a=n[2],s=Object(i.a)(e,3),c=s[0],u=s[1],l=s[2],h=k({longitude:r,latitude:o,highPrecision:!0}),p=h.unitsPerMeter,f=h.unitsPerMeter2,v=E(t);v[0]+=c*(p[0]+f[0]*u),v[1]+=u*(p[1]+f[1]*u);var d=M(v),g=(a||0)+(l||0);return Number.isFinite(a)||Number.isFinite(l)?[d[0],d[1],g]:d}function T(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.scale,a=t.center,s=void 0===a?null:a,c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return p.o(c,c,[0,0,-i]),p.k(c,c,-n*m),p.m(c,c,r*m),o/=e,p.n(c,c,[o,o,o]),s&&p.o(c,c,v.e([],s)),c}function x(t){var e=t.width,n=t.height,r=t.fovy,i=void 0===r?C(1.5):r,o=t.altitude,a=t.pitch,s=void 0===a?0:a,c=t.nearZMultiplier,u=void 0===c?1:c,l=t.farZMultiplier,h=void 0===l?1:l;void 0!==o&&(i=C(o));var p=.5*i*m,f=R(i),v=s*m,d=Math.sin(p)*f/Math.sin(Math.min(Math.max(Math.PI/2-v-p,.01),Math.PI-.01));return{fov:2*p,aspect:e/n,focalDistance:f,near:u,far:(Math.sin(v)*d+f)*h}}function D(t){var e=t.width,n=t.height,r=t.pitch,i=x({width:e,height:n,altitude:t.altitude,fovy:t.fovy,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier}),o=i.fov,a=i.aspect,s=i.near,c=i.far;return p.i([],o,a,s,c)}function C(t){return 2*Math.atan(.5/t)*y}function R(t){return.5/Math.tan(.5*t*m)}function I(t,e){var n=Object(i.a)(t,3),r=n[0],o=n[1],a=n[2],s=void 0===a?0:a;return d(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(s)),c(e,[r,o,s,1])}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(i.a)(t,3),o=r[0],a=r[1],s=r[2];if(d(Number.isFinite(o)&&Number.isFinite(a),\"invalid pixel coordinate\"),Number.isFinite(s)){var u=c(e,[o,a,s,1]);return u}var l=c(e,[o,a,0,1]),h=c(e,[o,a,1,1]),p=l[2],v=h[2],g=p===v?0:((n||0)-p)/(v-p);return f.c([],l,h,g)}function z(t){var e=t.width,n=t.height,r=t.bounds,o=t.minExtent,a=void 0===o?0:o,s=t.maxZoom,c=void 0===s?24:s,u=t.padding,l=void 0===u?0:u,p=t.offset,f=void 0===p?[0,0]:p,v=Object(i.a)(r,2),g=Object(i.a)(v[0],2),b=g[0],m=g[1],y=Object(i.a)(v[1],2),O=y[0],j=y[1];if(Number.isFinite(l)){l={top:l,bottom:l,left:l,right:l}}else d(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var w=new Z({width:e,height:n,longitude:0,latitude:0,zoom:0}),P=w.project([b,j]),E=w.project([O,m]),M=[Math.max(Math.abs(E[0]-P[0]),a),Math.max(Math.abs(E[1]-P[1]),a)],_=[e-l.left-l.right-2*Math.abs(f[0]),n-l.top-l.bottom-2*Math.abs(f[1])];d(_[0]>0&&_[1]>0);var k=_[0]/M[0],S=_[1]/M[1],T=(l.right-l.left)/2/k,x=(l.bottom-l.top)/2/S,D=[(E[0]+P[0])/2+T,(E[1]+P[1])/2+x],C=w.unproject(D),R=Math.min(c,w.zoom+h(Math.abs(Math.min(k,S))));return d(Number.isFinite(R)),{longitude:C[0],latitude:C[1],zoom:R}}var N=Math.PI/180;function A(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.width,o=t.height,a=t.unproject,s={targetZ:r},c=a([0,o],s),u=a([i,o],s),l=t.fovy?.5*t.fovy*N:Math.atan(.5/t.altitude),h=(90-t.pitch)*N;return l>h-.01?(e=F(t,0,r),n=F(t,i,r)):(e=a([0,0],s),n=a([i,0],s)),[c,u,n,e]}function F(t,e,n){var r=t.pixelUnprojectionMatrix,i=c(r,[e,0,1,1]),o=c(r,[e,t.height,1,1]),a=(n*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),s=M(f.c([],i,o,a));return s[2]=n,s}var Z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=e.width,r=e.height,i=e.latitude,a=void 0===i?0:i,s=e.longitude,c=void 0===s?0:s,u=e.zoom,l=void 0===u?0:u,h=e.pitch,p=void 0===h?0:h,f=e.bearing,d=void 0===f?0:f,g=e.altitude,b=void 0===g?null:g,m=e.fovy,y=void 0===m?null:m,O=e.position,j=void 0===O?null:O,P=e.nearZMultiplier,M=void 0===P?.02:P,_=e.farZMultiplier,S=void 0===_?1.01:_;Object(o.a)(this,t),n=n||1,r=r||1,null===y&&null===b?y=C(b=1.5):null===y?y=C(b):null===b&&(b=R(y));var x=w(l);b=Math.max(.75,b);var I=k({longitude:c,latitude:a}),L=E([c,a]);L[2]=0,j&&v.a(L,L,v.d([],j,I.unitsPerMeter)),this.projectionMatrix=D({width:n,height:r,pitch:p,fovy:y,nearZMultiplier:M,farZMultiplier:S}),this.viewMatrix=T({height:r,scale:x,center:L,pitch:p,bearing:d,altitude:b}),this.width=n,this.height=r,this.scale=x,this.latitude=a,this.longitude=c,this.zoom=l,this.pitch=p,this.bearing=d,this.altitude=b,this.fovy=y,this.center=L,this.meterOffset=j||[0,0,0],this.distanceScales=I,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return Object(a.a)(t,[{key:\"_initMatrices\",value:function(){var t=this.width,e=this.height,n=this.projectionMatrix,r=this.viewMatrix,i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];p.g(i,i,n),p.g(i,i,r),this.viewProjectionMatrix=i;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];p.n(o,o,[t/2,-e/2,1]),p.o(o,o,[1,-1,0]),p.g(o,o,i);var a=p.e([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error(\"Pixel project matrix not invertible\");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:\"equals\",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&p.b(e.projectionMatrix,this.projectionMatrix)&&p.b(e.viewMatrix,this.viewMatrix))}},{key:\"project\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,o=this.projectPosition(t),a=I(o,this.pixelProjectionMatrix),s=Object(i.a)(a,2),c=s[0],u=s[1],l=r?u:this.height-u;return 2===t.length?[c,l]:[c,l,a[2]]}},{key:\"unproject\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,o=e.targetZ,a=void 0===o?void 0:o,s=Object(i.a)(t,3),c=s[0],u=s[1],l=s[2],h=r?u:this.height-u,p=a&&a*this.distanceScales.unitsPerMeter[2],f=L([c,h,l],this.pixelUnprojectionMatrix,p),v=this.unprojectPosition(f),d=Object(i.a)(v,3),g=d[0],b=d[1],m=d[2];return Number.isFinite(l)?[g,b,m]:Number.isFinite(a)?[g,b,a]:[g,b]}},{key:\"projectPosition\",value:function(t){var e=E(t),n=Object(i.a)(e,2);return[n[0],n[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:\"unprojectPosition\",value:function(t){var e=M(t),n=Object(i.a)(e,2);return[n[0],n[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:\"projectFlat\",value:function(t){return E(t)}},{key:\"unprojectFlat\",value:function(t){return M(t)}},{key:\"getMapCenterByLngLatPosition\",value:function(t){var e=t.lngLat,n=L(t.pos,this.pixelUnprojectionMatrix),r=E(e),i=f.a([],r,f.d([],n));return M(f.a([],this.center,i))}},{key:\"getLocationAtPoint\",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:\"fitBounds\",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=z(Object.assign({width:r,height:i,bounds:e},n)),a=o.longitude,s=o.latitude,c=o.zoom;return new t({width:r,height:i,longitude:a,latitude:s,zoom:c})}},{key:\"getBounds\",value:function(t){var e=this.getBoundingRegion(t),n=Math.min.apply(Math,Object(r.a)(e.map((function(t){return t[0]})))),i=Math.max.apply(Math,Object(r.a)(e.map((function(t){return t[0]}))));return[[n,Math.min.apply(Math,Object(r.a)(e.map((function(t){return t[1]}))))],[i,Math.max.apply(Math,Object(r.a)(e.map((function(t){return t[1]}))))]]}},{key:\"getBoundingRegion\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A(this,t.z||0)}}]),t}();function V(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,c=t.bearing,l=void 0===c?0:c;(r<-180||r>180)&&(r=u(r+180,360)-180),(l<-180||l>180)&&(l=u(l+180,360)-180);var p=h(n/512);if(o<=p)o=p,i=0;else{var f=n/2/Math.pow(2,o),v=M([0,f])[1];if(i<v)i=v;else{var d=M([0,512-f])[1];i>d&&(i=d)}}return{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:l}}var B=n(147),U=.01,q=[\"longitude\",\"latitude\",\"zoom\"],H={curve:1.414,speed:1.2};function W(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},o=Y(t,e,r),a=o.startZoom,s=o.startCenterXY,c=o.uDelta,u=o.w0,h=o.u1,p=o.S,v=o.rho,d=o.rho2,g=o.r0;if(h<U){var b,m=Object(B.a)(q);try{for(m.s();!(b=m.n()).done;){var y=b.value,O=t[y],j=e[y];i[y]=l(O,j,n)}}catch(D){m.e(D)}finally{m.f()}return i}var w=n*p,E=Math.cosh(g)/Math.cosh(g+v*w),_=u*((Math.cosh(g)*Math.tanh(g+v*w)-Math.sinh(g))/d)/h,k=1/E,S=a+P(k),T=f.e([],c,_);f.a(T,T,s);var x=M(T);return i.longitude=x[0],i.latitude=x[1],i.zoom=S,i}function X(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},H,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,c=Y(t,e,r),u=c.S,l=c.rho,h=1e3*u;return n=Number.isFinite(o)?h/(o/l):h/a,Number.isFinite(s)&&n>s?0:n}function Y(t,e,n){var r=(n=Object.assign({},H,n)).curve,i=t.zoom,o=[t.longitude,t.latitude],a=w(i),s=e.zoom,c=[e.longitude,e.latitude],u=w(s-i),l=E(o),h=E(c),p=f.f([],h,l),v=Math.max(t.width,t.height),d=v/u,g=f.b(p)*a,b=Math.max(g,U),m=r*r,y=(d*d-v*v+m*m*b*b)/(2*v*m*b),O=(d*d-v*v-m*m*b*b)/(2*d*m*b),j=Math.log(Math.sqrt(y*y+1)-y),P=Math.log(Math.sqrt(O*O+1)-O);return{startZoom:i,startCenterXY:l,uDelta:p,w0:v,u1:g,S:(P-j)/r,rho:r,rho2:m,r0:j,r1:P}}},1953:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i})),n.d(e,\"e\",(function(){return o})),n.d(e,\"b\",(function(){return a})),n.d(e,\"d\",(function(){return s})),n.d(e,\"c\",(function(){return c})),n.d(e,\"g\",(function(){return u})),n.d(e,\"f\",(function(){return l}));var r=n(2011);function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function o(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function a(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function s(t,e){return t[0]=-e[0],t[1]=-e[1],t}function c(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function u(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}var l=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new r.a(2);return r.a!=Float32Array&&(t[0]=0,t[1]=0),t}()}()},1983:function(t,e,n){\"use strict\";n.d(e,\"p\",(function(){return i})),n.d(e,\"e\",(function(){return o})),n.d(e,\"a\",(function(){return a})),n.d(e,\"g\",(function(){return s})),n.d(e,\"o\",(function(){return c})),n.d(e,\"n\",(function(){return u})),n.d(e,\"j\",(function(){return l})),n.d(e,\"k\",(function(){return h})),n.d(e,\"l\",(function(){return p})),n.d(e,\"m\",(function(){return f})),n.d(e,\"c\",(function(){return v})),n.d(e,\"d\",(function(){return d})),n.d(e,\"i\",(function(){return g})),n.d(e,\"h\",(function(){return b})),n.d(e,\"f\",(function(){return m})),n.d(e,\"b\",(function(){return y}));var r=n(2011);function i(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function o(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=e[6],u=e[7],l=e[8],h=e[9],p=e[10],f=e[11],v=e[12],d=e[13],g=e[14],b=e[15],m=n*s-r*a,y=n*c-i*a,O=n*u-o*a,j=r*c-i*s,w=r*u-o*s,P=i*u-o*c,E=l*d-h*v,M=l*g-p*v,_=l*b-f*v,k=h*g-p*d,S=h*b-f*d,T=p*b-f*g,x=m*T-y*S+O*k+j*_-w*M+P*E;return x?(x=1/x,t[0]=(s*T-c*S+u*k)*x,t[1]=(i*S-r*T-o*k)*x,t[2]=(d*P-g*w+b*j)*x,t[3]=(p*w-h*P-f*j)*x,t[4]=(c*_-a*T-u*M)*x,t[5]=(n*T-i*_+o*M)*x,t[6]=(g*O-v*P-b*y)*x,t[7]=(l*P-p*O+f*y)*x,t[8]=(a*S-s*_+u*E)*x,t[9]=(r*_-n*S-o*E)*x,t[10]=(v*w-d*O+b*m)*x,t[11]=(h*O-l*w-f*m)*x,t[12]=(s*M-a*k-c*E)*x,t[13]=(n*k-r*M+i*E)*x,t[14]=(d*y-v*j-g*m)*x,t[15]=(l*j-h*y+p*m)*x,t):null}function a(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],u=t[8],l=t[9],h=t[10],p=t[11],f=t[12],v=t[13],d=t[14],g=t[15];return(e*a-n*o)*(h*g-p*d)-(e*s-r*o)*(l*g-p*v)+(e*c-i*o)*(l*d-h*v)+(n*s-r*a)*(u*g-p*f)-(n*c-i*a)*(u*d-h*f)+(r*c-i*s)*(u*v-l*f)}function s(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],p=e[9],f=e[10],v=e[11],d=e[12],g=e[13],b=e[14],m=e[15],y=n[0],O=n[1],j=n[2],w=n[3];return t[0]=y*r+O*s+j*h+w*d,t[1]=y*i+O*c+j*p+w*g,t[2]=y*o+O*u+j*f+w*b,t[3]=y*a+O*l+j*v+w*m,y=n[4],O=n[5],j=n[6],w=n[7],t[4]=y*r+O*s+j*h+w*d,t[5]=y*i+O*c+j*p+w*g,t[6]=y*o+O*u+j*f+w*b,t[7]=y*a+O*l+j*v+w*m,y=n[8],O=n[9],j=n[10],w=n[11],t[8]=y*r+O*s+j*h+w*d,t[9]=y*i+O*c+j*p+w*g,t[10]=y*o+O*u+j*f+w*b,t[11]=y*a+O*l+j*v+w*m,y=n[12],O=n[13],j=n[14],w=n[15],t[12]=y*r+O*s+j*h+w*d,t[13]=y*i+O*c+j*p+w*g,t[14]=y*o+O*u+j*f+w*b,t[15]=y*a+O*l+j*v+w*m,t}function c(t,e,n){var r,i,o,a,s,c,u,l,h,p,f,v,d=n[0],g=n[1],b=n[2];return e===t?(t[12]=e[0]*d+e[4]*g+e[8]*b+e[12],t[13]=e[1]*d+e[5]*g+e[9]*b+e[13],t[14]=e[2]*d+e[6]*g+e[10]*b+e[14],t[15]=e[3]*d+e[7]*g+e[11]*b+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],p=e[9],f=e[10],v=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=c,t[6]=u,t[7]=l,t[8]=h,t[9]=p,t[10]=f,t[11]=v,t[12]=r*d+s*g+h*b+e[12],t[13]=i*d+c*g+p*b+e[13],t[14]=o*d+u*g+f*b+e[14],t[15]=a*d+l*g+v*b+e[15]),t}function u(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function l(t,e,n,i){var o,a,s,c,u,l,h,p,f,v,d,g,b,m,y,O,j,w,P,E,M,_,k,S,T=i[0],x=i[1],D=i[2],C=Math.hypot(T,x,D);return C<r.b?null:(T*=C=1/C,x*=C,D*=C,o=Math.sin(n),s=1-(a=Math.cos(n)),c=e[0],u=e[1],l=e[2],h=e[3],p=e[4],f=e[5],v=e[6],d=e[7],g=e[8],b=e[9],m=e[10],y=e[11],O=T*T*s+a,j=x*T*s+D*o,w=D*T*s-x*o,P=T*x*s-D*o,E=x*x*s+a,M=D*x*s+T*o,_=T*D*s+x*o,k=x*D*s-T*o,S=D*D*s+a,t[0]=c*O+p*j+g*w,t[1]=u*O+f*j+b*w,t[2]=l*O+v*j+m*w,t[3]=h*O+d*j+y*w,t[4]=c*P+p*E+g*M,t[5]=u*P+f*E+b*M,t[6]=l*P+v*E+m*M,t[7]=h*P+d*E+y*M,t[8]=c*_+p*k+g*S,t[9]=u*_+f*k+b*S,t[10]=l*_+v*k+m*S,t[11]=h*_+d*k+y*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function h(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],c=e[7],u=e[8],l=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+l*r,t[6]=s*i+h*r,t[7]=c*i+p*r,t[8]=u*i-o*r,t[9]=l*i-a*r,t[10]=h*i-s*r,t[11]=p*i-c*r,t}function p(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],c=e[3],u=e[8],l=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-l*r,t[2]=s*i-h*r,t[3]=c*i-p*r,t[8]=o*r+u*i,t[9]=a*r+l*i,t[10]=s*r+h*i,t[11]=c*r+p*i,t}function f(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],c=e[3],u=e[4],l=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+l*r,t[2]=s*i+h*r,t[3]=c*i+p*r,t[4]=u*i-o*r,t[5]=l*i-a*r,t[6]=h*i-s*r,t[7]=p*i-c*r,t}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,c=i+i,u=n*a,l=r*a,h=r*s,p=i*a,f=i*s,v=i*c,d=o*a,g=o*s,b=o*c;return t[0]=1-h-v,t[1]=l+b,t[2]=p-g,t[3]=0,t[4]=l-b,t[5]=1-u-v,t[6]=f+d,t[7]=0,t[8]=p+g,t[9]=f-d,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function d(t,e,n,r,i,o,a){var s=1/(n-e),c=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*c,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function g(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function b(t,e,n,r,i,o,a){var s=1/(e-n),c=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*c,t[14]=(a+o)*u,t[15]=1,t}function m(t,e,n,i){var o,a,s,c,u,l,h,p,f,v,d=e[0],g=e[1],b=e[2],m=i[0],y=i[1],O=i[2],j=n[0],w=n[1],P=n[2];return Math.abs(d-j)<r.b&&Math.abs(g-w)<r.b&&Math.abs(b-P)<r.b?function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}(t):(h=d-j,p=g-w,f=b-P,o=y*(f*=v=1/Math.hypot(h,p,f))-O*(p*=v),a=O*(h*=v)-m*f,s=m*p-y*h,(v=Math.hypot(o,a,s))?(o*=v=1/v,a*=v,s*=v):(o=0,a=0,s=0),c=p*s-f*a,u=f*o-h*s,l=h*a-p*o,(v=Math.hypot(c,u,l))?(c*=v=1/v,u*=v,l*=v):(c=0,u=0,l=0),t[0]=o,t[1]=c,t[2]=h,t[3]=0,t[4]=a,t[5]=u,t[6]=p,t[7]=0,t[8]=s,t[9]=l,t[10]=f,t[11]=0,t[12]=-(o*d+a*g+s*b),t[13]=-(c*d+u*g+l*b),t[14]=-(h*d+p*g+f*b),t[15]=1,t)}function y(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],h=t[8],p=t[9],f=t[10],v=t[11],d=t[12],g=t[13],b=t[14],m=t[15],y=e[0],O=e[1],j=e[2],w=e[3],P=e[4],E=e[5],M=e[6],_=e[7],k=e[8],S=e[9],T=e[10],x=e[11],D=e[12],C=e[13],R=e[14],I=e[15];return Math.abs(n-y)<=r.b*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-O)<=r.b*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(o-j)<=r.b*Math.max(1,Math.abs(o),Math.abs(j))&&Math.abs(a-w)<=r.b*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-P)<=r.b*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(c-E)<=r.b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(u-M)<=r.b*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-_)<=r.b*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(h-k)<=r.b*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(p-S)<=r.b*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(f-T)<=r.b*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(v-x)<=r.b*Math.max(1,Math.abs(v),Math.abs(x))&&Math.abs(d-D)<=r.b*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(g-C)<=r.b*Math.max(1,Math.abs(g),Math.abs(C))&&Math.abs(b-R)<=r.b*Math.max(1,Math.abs(b),Math.abs(R))&&Math.abs(m-I)<=r.b*Math.max(1,Math.abs(m),Math.abs(I))}},1984:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i})),n.d(e,\"e\",(function(){return o})),n.d(e,\"c\",(function(){return a})),n.d(e,\"k\",(function(){return s})),n.d(e,\"j\",(function(){return c})),n.d(e,\"l\",(function(){return u})),n.d(e,\"f\",(function(){return l})),n.d(e,\"g\",(function(){return h})),n.d(e,\"h\",(function(){return p})),n.d(e,\"b\",(function(){return f})),n.d(e,\"i\",(function(){return v})),n.d(e,\"d\",(function(){return d}));var r=n(2011);function i(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function o(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],c=n[2];return t[0]=i*c-o*s,t[1]=o*a-r*c,t[2]=r*s-i*a,t}function s(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function c(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function u(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],c=e[1],u=e[2],l=i*u-o*c,h=o*s-r*u,p=r*c-i*s,f=i*p-o*h,v=o*l-r*p,d=r*h-i*l,g=2*a;return l*=g,h*=g,p*=g,f*=2,v*=2,d*=2,t[0]=s+l+f,t[1]=c+h+v,t[2]=u+p+d,t}function l(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function h(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function p(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function f(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],c=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),u=c&&function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}(t,e)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var v=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},d=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t};!function(){var t=function(){var t=new r.a(3);return r.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}()},2010:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return i})),n.d(e,\"b\",(function(){return o}));var r=n(2011);function i(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function o(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}!function(){var t=function(){var t=new r.a(4);return r.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}()}()},2011:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return r})),n.d(e,\"a\",(function(){return i})),n.d(e,\"c\",(function(){return o}));var r=1e-6,i=\"undefined\"!==typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},2080:function(t,e,n){\"use strict\";(function(t){n.d(e,\"a\",(function(){return r}));\"undefined\"!==typeof window&&window,\"undefined\"!==typeof t||window;var r=\"undefined\"!==typeof document?document:{}}).call(this,n(91))},2261:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return U}));var r=n(3),i=n(147),o=n(65),a=n(66),s=n(2665),c=n.n(s),u={mousedown:1,mousemove:2,mouseup:4};!function(t){var e=t.prototype.handler;t.prototype.handler=function(t){var n=this.store;t.button>0&&\"pointerdown\"===t.type&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(n,(function(e){return e.pointerId===t.pointerId}))||n.push(t)),e.call(this,t)}}(c.a.PointerEventInput),c.a.MouseInput.prototype.handler=function(t){var e=u[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:\"mouse\",srcEvent:t}))};var l=c.a.Manager,h=c.a,p=h?[[h.Pan,{event:\"tripan\",pointers:3,threshold:0,enable:!1}],[h.Rotate,{enable:!1}],[h.Pinch,{enable:!1}],[h.Swipe,{enable:!1}],[h.Pan,{threshold:0,enable:!1}],[h.Press,{enable:!1}],[h.Tap,{event:\"doubletap\",taps:2,enable:!1}],[h.Tap,{event:\"anytap\",enable:!1}],[h.Tap,{enable:!1}]]:null,f={tripan:[\"rotate\",\"pinch\",\"pan\"],rotate:[\"pinch\"],pinch:[\"pan\"],pan:[\"press\",\"doubletap\",\"anytap\",\"tap\"],doubletap:[\"anytap\"],anytap:[\"tap\"]},v={doubletap:[\"tap\"]},d={pointerdown:\"pointerdown\",pointermove:\"pointermove\",pointerup:\"pointerup\",touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",mousedown:\"pointerdown\",mousemove:\"pointermove\",mouseup:\"pointerup\"},g=[\"keydown\",\"keyup\"],b=[\"mousedown\",\"mousemove\",\"mouseup\",\"mouseover\",\"mouseout\",\"mouseleave\"],m=[\"wheel\",\"mousewheel\"],y={tap:\"tap\",anytap:\"anytap\",doubletap:\"doubletap\",press:\"press\",pinch:\"pinch\",pinchin:\"pinch\",pinchout:\"pinch\",pinchstart:\"pinch\",pinchmove:\"pinch\",pinchend:\"pinch\",pinchcancel:\"pinch\",rotate:\"rotate\",rotatestart:\"rotate\",rotatemove:\"rotate\",rotateend:\"rotate\",rotatecancel:\"rotate\",tripan:\"tripan\",tripanstart:\"tripan\",tripanmove:\"tripan\",tripanup:\"tripan\",tripandown:\"tripan\",tripanleft:\"tripan\",tripanright:\"tripan\",tripanend:\"tripan\",tripancancel:\"tripan\",pan:\"pan\",panstart:\"pan\",panmove:\"pan\",panup:\"pan\",pandown:\"pan\",panleft:\"pan\",panright:\"pan\",panend:\"pan\",pancancel:\"pan\",swipe:\"swipe\",swipeleft:\"swipe\",swiperight:\"swipe\",swipeup:\"swipe\",swipedown:\"swipe\"},O={click:\"tap\",anyclick:\"anytap\",dblclick:\"doubletap\",mousedown:\"pointerdown\",mousemove:\"pointermove\",mouseup:\"pointerup\",mouseover:\"pointerover\",mouseout:\"pointerout\",mouseleave:\"pointerleave\"},j=n(2666),w=-1!==j.b.indexOf(\"firefox\"),P=m,E=\"wheel\",M=4.000244140625,_=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.events=P.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!j.a&&{passive:!1})}))}return Object(a.a)(t,[{key:\"destroy\",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:\"enableEventType\",value:function(t,e){t===E&&(this.options.enable=e)}},{key:\"handleEvent\",value:function(t){if(this.options.enable){var e=t.deltaY;j.c.WheelEvent&&(w&&t.deltaMode===j.c.WheelEvent.DOM_DELTA_PIXEL&&(e/=j.c.devicePixelRatio),t.deltaMode===j.c.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%M===0&&(e=Math.floor(e/M)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:\"_onWheel\",value:function(t,e,n){this.callback({type:E,center:n,delta:e,srcEvent:t,pointerType:\"mouse\",target:t.target})}}]),t}(),k=b,S=\"pointermove\",T=\"pointerover\",x=\"pointerout\",D=\"pointerleave\",C=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},i),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=k.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(a.a)(t,[{key:\"destroy\",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:\"enableEventType\",value:function(t,e){t===S&&(this.enableMoveEvent=e),t===T&&(this.enableOverEvent=e),t===x&&(this.enableOutEvent=e),t===D&&(this.enableLeaveEvent=e)}},{key:\"handleEvent\",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:\"handleOverEvent\",value:function(t){this.enableOverEvent&&\"mouseover\"===t.type&&this.callback({type:T,srcEvent:t,pointerType:\"mouse\",target:t.target})}},{key:\"handleOutEvent\",value:function(t){this.enableOutEvent&&\"mouseout\"===t.type&&this.callback({type:x,srcEvent:t,pointerType:\"mouse\",target:t.target})}},{key:\"handleLeaveEvent\",value:function(t){this.enableLeaveEvent&&\"mouseleave\"===t.type&&this.callback({type:D,srcEvent:t,pointerType:\"mouse\",target:t.target})}},{key:\"handleMoveEvent\",value:function(t){if(this.enableMoveEvent)switch(t.type){case\"mousedown\":t.button>=0&&(this.pressed=!0);break;case\"mousemove\":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:S,srcEvent:t,pointerType:\"mouse\",target:t.target});break;case\"mouseup\":this.pressed=!1}}}]),t}(),R=g,I=\"keydown\",L=\"keyup\",z=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=R.concat(i.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=i.tabIndex||0,e.style.outline=\"none\",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(a.a)(t,[{key:\"destroy\",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:\"enableEventType\",value:function(t,e){t===I&&(this.enableDownEvent=e),t===L&&(this.enableUpEvent=e)}},{key:\"handleEvent\",value:function(t){var e=t.target||t.srcElement;\"INPUT\"===e.tagName&&\"text\"===e.type||\"TEXTAREA\"===e.tagName||(this.enableDownEvent&&\"keydown\"===t.type&&this.callback({type:I,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&\"keyup\"===t.type&&this.callback({type:L,srcEvent:t,key:t.key,target:t.target}))}}]),t}(),N=\"contextmenu\",A=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener(\"contextmenu\",this.handleEvent)}return Object(a.a)(t,[{key:\"destroy\",value:function(){this.element.removeEventListener(\"contextmenu\",this.handleEvent)}},{key:\"enableEventType\",value:function(t,e){t===N&&(this.options.enable=e)}},{key:\"handleEvent\",value:function(t){this.options.enable&&this.callback({type:N,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:\"mouse\",target:t.target})}}]),t}(),F={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Z={srcElement:\"root\",priority:0},V=function(){function t(e){Object(o.a)(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return Object(a.a)(t,[{key:\"isEmpty\",value:function(){return!this._active}},{key:\"add\",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&(\"object\"!==typeof n||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Z,n):Z;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var c={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(c.once=!0),i&&(c.passive=!0),o.push(c),this._active=this._active||!c.passive;for(var u=s.length-1;u>=0&&!(s[u].priority>=c.priority);)u--;s.splice(u+1,0,c)}},{key:\"remove\",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:\"handleEvent\",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,\"root\")}}},{key:\"_emit\",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},o=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var c=n[s],u=c.type,l=c.handler,h=c.once;if(l(Object.assign({},t,{type:u,stopPropagation:i,stopImmediatePropagation:o})),h&&a.push(n[s]),r)break}for(var p=0;p<a.length;p++){var f=a[p],v=f.type,d=f.handler;this.remove(v,d)}}}},{key:\"_normalizeEvent\",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=F[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,c=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,c=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),c=Boolean(2&r)):1===e&&(a=0===i,s=1===i,c=2===i),{leftButton:a,middleButton:s,rightButton:c}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth||1,a=i.height/e.offsetHeight||1;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}(),B={events:null,recognizers:null,recognizerOptions:{},Manager:l,touchAction:\"none\",tabIndex:0},U=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,t),this.options=Object.assign({},B,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return Object(a.a)(t,[{key:\"setElement\",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,o=n.Manager;for(var a in this.manager=new o(t,{touchAction:n.touchAction,recognizers:n.recognizers||p}).on(\"hammer.input\",this._onBasicInput),n.recognizers||Object.keys(f).forEach((function(t){var n=e.manager.get(t);n&&f[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var s=this.manager.get(a);if(s){var c=n.recognizerOptions[a];delete c.enable,s.set(c)}}this.wheelInput=new _(t,this._onOtherEvent,{enable:!1}),this.moveInput=new C(t,this._onOtherEvent,{enable:!1}),this.keyInput=new z(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new A(t,this._onOtherEvent,{enable:!1});var u,l=Object(i.a)(this.events);try{for(l.s();!(u=l.n()).done;){var h=Object(r.a)(u.value,2),v=h[0],d=h[1];d.isEmpty()||(this._toggleRecognizer(d.recognizerName,!0),this.manager.on(v,d.handleEvent))}}catch(g){l.e(g)}finally{l.f()}}}},{key:\"destroy\",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:\"on\",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:\"once\",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:\"watch\",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:\"off\",value:function(t,e){this._removeEventHandler(t,e)}},{key:\"_toggleRecognizer\",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=v[t];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:\"_addEventHandler\",value:function(t,e,n,r,i){if(\"string\"===typeof t){var o=this.manager,a=this.events,s=O[t]||t,c=a.get(s);c||(c=new V(this),a.set(s,c),c.recognizerName=y[s]||s,o&&o.on(s,c.handleEvent)),c.add(t,e,n,r,i),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}else for(var u in n=e,t)this._addEventHandler(u,t[u],n,r,i)}},{key:\"_removeEventHandler\",value:function(t,e){if(\"string\"===typeof t){var n=this.events,r=O[t]||t,o=n.get(r);if(o&&(o.remove(t,e),o.isEmpty())){var a,s=o.recognizerName,c=!1,u=Object(i.a)(n.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;if(l.recognizerName===s&&!l.isEmpty()){c=!0;break}}}catch(p){u.e(p)}finally{u.f()}c||this._toggleRecognizer(s,!1)}}else for(var h in t)this._removeEventHandler(h,t[h])}},{key:\"_onBasicInput\",value:function(t){var e=t.srcEvent,n=d[e.type];n&&this.manager.emit(n,t)}},{key:\"_onOtherEvent\",value:function(t){this.manager.emit(t.type,t)}}]),t}()},2662:function(t,e,n){\"use strict\";(function(t){n.d(e,\"a\",(function(){return p}));var r=n(86),i=n(70),o=n(33),a=n(7),s=n(2080),c=n(2663);var u={container:a.object,gl:a.object,mapboxApiAccessToken:a.string,mapboxApiUrl:a.string,attributionControl:a.bool,preserveDrawingBuffer:a.bool,reuseMaps:a.bool,transformRequest:a.func,mapOptions:a.object,mapStyle:a.oneOfType([a.string,a.object]),preventStyleDiffing:a.bool,visible:a.bool,asyncRender:a.bool,onLoad:a.func,onError:a.func,width:a.number,height:a.number,viewState:a.object,longitude:a.number,latitude:a.number,zoom:a.number,bearing:a.number,pitch:a.number,altitude:a.number},l={container:s.a.body,mapboxApiAccessToken:function(){var e=null;if(\"undefined\"!==typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\\/]*)/);e=n&&n[1]}e||\"undefined\"===typeof t||(e=e||Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MapboxAccessToken||Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MAPBOX_ACCESS_TOKEN);return e||\"no-token\"}(),mapboxApiUrl:\"https://api.mapbox.com\",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:\"mapbox://styles/mapbox/light-v8\",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"component\";t.debug&&a.checkPropTypes(u,t,\"prop\",e)}var p=function(){function t(e){var n=this;if(Object(r.a)(this,t),Object(o.a)(this,\"props\",l),Object(o.a)(this,\"width\",0),Object(o.a)(this,\"height\",0),Object(o.a)(this,\"_fireLoadEvent\",(function(){n.props.onLoad({type:\"load\",target:n._map})})),Object(o.a)(this,\"_handleError\",(function(t){n.props.onError(t)})),!e.mapboxgl)throw new Error(\"Mapbox not available\");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Object(i.a)(t,[{key:\"finalize\",value:function(){return this._destroy(),this}},{key:\"setProps\",value:function(t){return this._update(this.props,t),this}},{key:\"redraw\",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:\"getMap\",value:function(){return this._map}},{key:\"_reuse\",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add(\"mapboxgl-map\");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(Object(c.a)(e.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once(\"styledata\",this._fireLoadEvent)}},{key:\"_create\",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:Object(c.a)(e.mapStyle),interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once(\"load\",this._fireLoadEvent),this._map.on(\"error\",this._handleError)}return this}},{key:\"_destroy\",value:function(){this._map&&(this.props.reuseMaps&&!t.savedMap?(t.savedMap=this._map,this._map.off(\"load\",this._fireLoadEvent),this._map.off(\"error\",this._handleError),this._map.off(\"styledata\",this._fireLoadEvent)):this._map.remove(),this._map=null)}},{key:\"_initialize\",value:function(t){var e=this;h(t=Object.assign({},l,t),\"Mapbox\"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||l.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,\"offsetWidth\",{get:function(){return e.width}}),Object.defineProperty(n,\"clientWidth\",{get:function(){return e.width}}),Object.defineProperty(n,\"offsetHeight\",{get:function(){return e.height}}),Object.defineProperty(n,\"clientHeight\",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline=\"none\"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:\"_update\",value:function(t,e){if(this._map){h(e=Object.assign({},this.props,e),\"Mapbox\");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);this._updateMapStyle(t,e),e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:\"_updateMapStyle\",value:function(t,e){t.mapStyle!==e.mapStyle&&this._map.setStyle(Object(c.a)(e.mapStyle),{diff:!e.preventStyleDiffing})}},{key:\"_updateMapSize\",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this._map.resize()),n}},{key:\"_updateMapViewport\",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:\"_getViewState\",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,c=void 0===s?0:s,u=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:c,altitude:void 0===u?1.5:u}}},{key:\"_checkStyleSheet\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"0.47.0\";if(\"undefined\"!==typeof s.a)try{var e=s.a.createElement(\"div\");e.className=\"mapboxgl-map\",e.style.display=\"none\",s.a.body.appendChild(e);var n=\"static\"!==window.getComputedStyle(e).position;if(!n){var r=s.a.createElement(\"link\");r.setAttribute(\"rel\",\"stylesheet\"),r.setAttribute(\"type\",\"text/css\"),r.setAttribute(\"href\",\"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(t,\"/mapbox-gl.css\")),s.a.head.appendChild(r)}}catch(i){}}},{key:\"_viewStateToMapboxProps\",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Object(o.a)(p,\"initialized\",!1),Object(o.a)(p,\"propTypes\",u),Object(o.a)(p,\"defaultProps\",l),Object(o.a)(p,\"savedMap\",null)}).call(this,n(92))},2663:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return u}));var r=n(33);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){var n;if(\"undefined\"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if(\"string\"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&\"number\"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"];function u(t){if(!t)return null;if(\"string\"===typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=a(t.layers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n[i.id]=i}}catch(u){r.e(u)}finally{r.f()}var s=t.layers.map((function(t){var e=n[t.ref],r=null;if(\"interactive\"in t&&delete(r=o({},t)).interactive,e){delete(r=r||o({},t)).ref;var i,s=a(c);try{for(s.s();!(i=s.n()).done;){var l=i.value;l in e&&(r[l]=e[l])}}catch(u){s.e(u)}finally{s.f()}}return r||t}));return o(o({},t),{},{layers:s})}},2665:function(t,e,n){var r;!function(i,o,a,s){\"use strict\";var c,u=[\"\",\"webkit\",\"Moz\",\"MS\",\"ms\",\"o\"],l=o.createElement(\"div\"),h=Math.round,p=Math.abs,f=Date.now;function v(t,e,n){return setTimeout(j(t,n),e)}function d(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function b(t,e,n){var r=\"DEPRECATED METHOD: \"+e+\"\\n\"+n+\" AT \\n\";return function(){var e=new Error(\"get-stack-trace\"),n=e&&e.stack?e.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}c=\"function\"!==typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var m=b((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),\"extend\",\"Use `assign`.\"),y=b((function(t,e){return m(t,e,!0)}),\"merge\",\"Use `assign`.\");function O(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function j(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return\"function\"==typeof t?t.apply(e&&e[0]||s,e):t}function P(t,e){return t===s?e:t}function E(t,e,n){g(S(e),(function(e){t.addEventListener(e,n,!1)}))}function M(t,e,n){g(S(e),(function(e){t.removeEventListener(e,n,!1)}))}function _(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function k(t,e){return t.indexOf(e)>-1}function S(t){return t.trim().split(/\\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];T(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function C(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return s}var R=1;function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L=\"ontouchstart\"in i,z=C(i,\"PointerEvent\")!==s,N=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),A=\"touch\",F=\"mouse\",Z=24,V=[\"x\",\"y\"],B=[\"clientX\",\"clientY\"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function q(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i===0,a=12&e&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=H(e));i>1&&!n.firstMultiple?n.firstMultiple=H(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,u=e.center=W(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=G(c,u),e.distance=K(c,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Y(e.deltaX,e.deltaY);var l=X(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=p(l.x)>p(l.y)?l.x:l.y,e.scale=a?(h=a.pointers,v=r,K(v[0],v[1],B)/K(h[0],h[1],B)):1,e.rotation=a?function(t,e){return G(e[1],e[0],B)+G(t[1],t[0],B)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(c>25||a.velocity===s)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=X(c,u,l);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=Y(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h,v;var d=t.element;_(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit(\"hammer.input\",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:W(e),deltaX:t.deltaX,deltaY:t.deltaY}}function W(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function X(t,e,n){return{x:e/t||0,y:n/t||0}}function Y(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function K(t,e,n){n||(n=V);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function G(t,e,n){n||(n=V);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(I(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4},J=\"mousedown\",Q=\"mousemove mouseup\";function tt(){this.evEl=J,this.evWin=Q,this.pressed=!1,U.apply(this,arguments)}O(tt,U,{handler:function(t){var e=$[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:F,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nt={2:A,3:\"pen\",4:F,5:\"kinect\"},rt=\"pointerdown\",it=\"pointermove pointerup pointercancel\";function ot(){this.evEl=rt,this.evWin=it,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(rt=\"MSPointerDown\",it=\"MSPointerMove MSPointerUp MSPointerCancel\"),O(ot,U,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace(\"ms\",\"\"),i=et[r],o=nt[t.pointerType]||t.pointerType,a=o==A,s=T(e,t.pointerId,\"pointerId\");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st=\"touchstart\",ct=\"touchstart touchmove touchend touchcancel\";function ut(){this.evTarget=st,this.evWin=ct,this.started=!1,U.apply(this,arguments)}function lt(t,e){var n=x(t.touches),r=x(t.changedTouches);return 12&e&&(n=D(n.concat(r),\"identifier\",!0)),[n,r]}O(ut,U,{handler:function(t){var e=at[t.type];if(1===e&&(this.started=!0),this.started){var n=lt.call(this,t,e);12&e&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:A,srcEvent:t})}}});var ht={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pt=\"touchstart touchmove touchend touchcancel\";function ft(){this.evTarget=pt,this.targetIds={},U.apply(this,arguments)}function vt(t,e){var n=x(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=x(t.changedTouches),s=[],c=this.target;if(o=n.filter((function(t){return _(t.target,c)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[D(o.concat(s),\"identifier\",!0),s]:void 0}O(ft,U,{handler:function(t){var e=ht[t.type],n=vt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:A,srcEvent:t})}});function dt(){U.apply(this,arguments);var t=j(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function gt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):12&t&&bt.call(this,e)}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function mt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}O(dt,U,{handler:function(t,e,n){var r=n.pointerType==A,i=n.pointerType==F;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)gt.call(this,e,n);else if(i&&mt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var yt=C(l.style,\"touchAction\"),Ot=yt!==s,jt=\"compute\",wt=\"auto\",Pt=\"manipulation\",Et=\"none\",Mt=\"pan-x\",_t=\"pan-y\",kt=function(){if(!Ot)return!1;var t={},e=i.CSS&&i.CSS.supports;return[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach((function(n){t[n]=!e||i.CSS.supports(\"touch-action\",n)})),t}();function St(t,e){this.manager=t,this.set(e)}St.prototype={set:function(t){t==jt&&(t=this.compute()),Ot&&this.manager.element.style&&kt[t]&&(this.manager.element.style[yt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(k(t,Et))return Et;var e=k(t,Mt),n=k(t,_t);if(e&&n)return Et;if(e||n)return e?Mt:_t;if(k(t,Pt))return Pt;return wt}(t.join(\" \"))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=k(r,Et)&&!kt.none,o=k(r,_t)&&!kt[\"pan-y\"],a=k(r,Mt)&&!kt[\"pan-x\"];if(i){var s=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return i||o&&6&n||a&&n&Z?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Tt=32;function xt(t){this.options=c({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Dt(t){return 16&t?\"cancel\":8&t?\"end\":4&t?\"move\":2&t?\"start\":\"\"}function Ct(t){return 16==t?\"down\":8==t?\"up\":2==t?\"left\":4==t?\"right\":\"\"}function Rt(t,e){var n=e.manager;return n?n.get(t):t}function It(){xt.apply(this,arguments)}function Lt(){It.apply(this,arguments),this.pX=null,this.pY=null}function zt(){It.apply(this,arguments)}function Nt(){xt.apply(this,arguments),this._timer=null,this._input=null}function At(){It.apply(this,arguments)}function Ft(){It.apply(this,arguments)}function Zt(){xt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Vt(t,e){return(e=e||{}).recognizers=P(e.recognizers,Vt.defaults.preset),new Bt(t,e)}xt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,\"recognizeWith\",this))return this;var e=this.simultaneous;return e[(t=Rt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,\"dropRecognizeWith\",this)||(t=Rt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(d(t,\"requireFailure\",this))return this;var e=this.requireFail;return-1===T(e,t=Rt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,\"dropRequireFailure\",this))return this;t=Rt(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+Dt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+Dt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Tt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=Tt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},O(It,xt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:Tt}}),O(Lt,It,{defaults:{event:\"pan\",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(_t),t&Z&&e.push(Mt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return It.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ct(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),O(zt,It,{defaults:{event:\"pinch\",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?\"in\":\"out\";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),O(Nt,xt,{defaults:{event:\"press\",pointers:1,time:251,threshold:9},getTouchAction:function(){return[wt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=v((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Tt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+\"up\",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),O(At,It,{defaults:{event:\"rotate\",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),O(Ft,It,{defaults:{event:\"swipe\",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Lt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&Z&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Ct(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),O(Zt,xt,{defaults:{event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Pt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||K(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=v((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Tt},failTimeout:function(){return this._timer=v((function(){this.state=Tt}),this.options.interval,this),Tt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Vt.VERSION=\"2.0.7\",Vt.defaults={domEvents:!1,touchAction:jt,enable:!0,inputTarget:null,inputClass:null,preset:[[At,{enable:!1}],[zt,{enable:!1},[\"rotate\"]],[Ft,{direction:6}],[Lt,{direction:6},[\"swipe\"]],[Zt],[Zt,{event:\"doubletap\",taps:2},[\"tap\"]],[Nt]],cssProps:{userSelect:\"none\",touchSelect:\"none\",touchCallout:\"none\",contentZooming:\"none\",userDrag:\"none\",tapHighlightColor:\"rgba(0,0,0,0)\"}};function Bt(t,e){var n;this.options=c({},Vt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(z?ot:N?ft:L?dt:tt))(n,q),this.touchAction=new St(this,this.options.touchAction),Ut(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ut(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(i,o){n=C(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||\"\"})),e||(t.oldCssProps={}))}Bt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof xt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(d(t,\"add\",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,\"remove\",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(S(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(S(t),(function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent(\"Event\");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Vt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Tt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:Z,DIRECTION_ALL:30,Manager:Bt,Input:U,TouchAction:St,TouchInput:ft,MouseInput:tt,PointerEventInput:ot,TouchMouseInput:dt,SingleTouchInput:ut,Recognizer:xt,AttrRecognizer:It,Tap:Zt,Pan:Lt,Swipe:Ft,Pinch:zt,Rotate:At,Press:Nt,on:E,off:M,each:g,merge:y,extend:m,assign:c,inherit:O,bindFn:j,prefixed:C}),(\"undefined\"!==typeof i?i:\"undefined\"!==typeof self?self:{}).Hammer=Vt,(r=function(){return Vt}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},2666:function(t,e,n){\"use strict\";(function(t){n.d(e,\"b\",(function(){return r})),n.d(e,\"c\",(function(){return i})),n.d(e,\"a\",(function(){return o}));var r=\"undefined\"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():\"\",i=\"undefined\"!==typeof window?window:t,o=(\"undefined\"!==typeof t||window,\"undefined\"!==typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener(\"test\",a,a),i.removeEventListener(\"test\",a,a)}catch(s){}}).call(this,n(91))}}]);","name":"static/js/1.20a2a15b.chunk.js","map":{"version":3,"sources":["static/js/1.20a2a15b.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","interactive_map","components_source","components_layer","marker","popup","fullscreen_control","geolocate_control","navigation_control","scale_control","linear_interpolator_LinearInterpolator","viewport_fly_to_interpolator_ViewportFlyToInterpolator","esm","esm_extends","toConsumableArray","defineProperty","react","prop_types","slicedToArray","ResizeObserver_es","mapbox_mapbox","mapbox_gl","mapbox_gl_default","n","classCallCheck","createClass","isArray","value","Array","ArrayBuffer","isView","equals","a","b","length","i","Math","abs","clamp","min","max","lerp","t","map","ai","assert","condition","message","Error","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","MAPBOX_LIMITS","minZoom","maxZoom","minPitch","maxPitch","DEFAULT_STATE","map_state_MapState","MapState","_ref","width","height","latitude","longitude","zoom","_ref$bearing","bearing","_ref$pitch","pitch","_ref$altitude","altitude","_ref$maxZoom","_ref$minZoom","_ref$maxPitch","_ref$minPitch","transitionDuration","transitionEasing","transitionInterpolator","transitionInterruption","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","startZoom","Number","isFinite","_viewportProps","_applyConstraints","_state","_ref2","pos","_getUpdatedMapState","_unproject","_ref3","startPos","_this$_calculateNewLn","_calculateNewLngLat","_this$_calculateNewLn2","_ref4","_ref5","newRotation","_ref5$deltaAngleX","deltaAngleX","_ref5$deltaAngleY","deltaAngleY","_this$_state","_calculateNewPitchAndBearing","_getRotationParams","_ref6","_ref7","scale","_this$_state2","_calculateNewZoom","_zoomedViewport$getMa","assign","getMapCenterByLngLatPosition","lngLat","_zoomedViewport$getMa2","newProps","props","viewport","unproject","_ref8","_ref9","_this$_viewportProps","log2","_ref10","deltaScaleX","deltaScaleY","_this$_viewportProps2","deltaX","deltaY","centerY","startY","_this$_viewportProps3","decapitalize","s","toLowerCase","slice","map_context_ownKeys","map_context_objectSpread","MapContext","container","onViewportChange","onViewStateChange","eventManager","MapContextProvider","Provider","children","_useState","_useState2","setMap","context","map_context","use_isomorphic_layout_effect","window","getTerrainElevation","queryTerrainElevation","static_map_ownKeys","static_map_objectSpread","NO_TOKEN_WARNING","getViewport","viewportProps","viewState","position","CONTAINER_STYLE","overflow","propTypes","onResize","disableTokenWarning","visible","className","style","visibilityConstraints","defaultProps","NoTokenWarning","id","left","top","href","StaticMap","ref","accessTokenValid","setTokenState","_useState3","_useState4","size","setSize","mapboxRef","mapDivRef","containerRef","overlayRef","supported","mapbox","mapboxgl","current","onError","evt","error","status","console","getMap","resizeObserver","entries","contentRect","_entries$0$contentRec","_width","_height","observe","finalize","disconnect","setProps","queryRenderedFeatures","geometry","options","undefined","getRefHandles","preventScroll","scrollTo","overlays","onScroll","mapContainerStyle","constraints","constraintName","type","propName","checkVisibilityConstraints","mapStyle","visibility","static_map","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","minLen","_arrayLikeToArray","prototype","toString","call","constructor","name","from","test","_unsupportedIterableToArray","F","done","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","transition_interpolator_TransitionInterpolator","TransitionInterpolator","currentProps","nextProps","_step","_iterator","propNames","startProps","endProps","start","end","assertThisInitialized","inherits","possibleConstructorReturn","getPrototypeOf","WRAPPED_ANGULAR_PROPS","isValid","prop","getEndValueByShortestPath","startValue","endValue","isWrappedAngularProp","viewport_fly_to_interpolator_createForOfIteratorHelper","viewport_fly_to_interpolator_arrayLikeToArray","viewport_fly_to_interpolator_unsupportedIterableToArray","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","NewTarget","VIEWPORT_TRANSITION_PROPS","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","DEFAULT_OPTS","speed","curve","_TransitionInterpolat","ViewportFlyToInterpolator","_super","_this","startViewportProps","endViewportProps","concat","_step2","_iterator2","_key","_startValue","_endValue","_step3","_iterator3","linear_interpolator_createForOfIteratorHelper","linear_interpolator_arrayLikeToArray","linear_interpolator_unsupportedIterableToArray","linear_interpolator_createSuper","linear_interpolator_isNativeReflectConstruct","linear_interpolator_VIEWPORT_TRANSITION_PROPS","LinearInterpolator","opts","transitionProps","around","aroundLngLat","project","_WebMercatorViewport$","_WebMercatorViewport$2","transition_manager_noop","TRANSITION_EVENTS","DEFAULT_PROPS","onTransitionStart","onTransitionInterrupt","onTransitionEnd","transition_manager_TransitionManager","TransitionManager","_animationFrame","requestAnimationFrame","_onTransitionFrame","_updateViewport","onStateChange","time","getTime","now","state","propsInTransition","_shouldIgnoreViewportChange","_isTransitionEnabled","_isTransitionInProgress","interruption","currentTime","x0","startTime","duration","easing","y0","cropEasingFunction","_triggerTransition","_endTransition","Boolean","interpolator","arePropsEqual","_isUpdateDueToCurrentTransition","cancelAnimationFrame","getDuration","initialProps","initializeProps","interactionState","inTransition","isZooming","isPanning","isRotating","animation","_this$state","shouldEnd","interpolateProps","mapState","getViewportProps","dist_esm","map_controller_ownKeys","map_controller_objectSpread","NO_TRANSITION_PROPS","LINEAR_TRANSITION_PROPS","DEFAULT_INERTIA","INERTIA_EASING","EVENT_TYPES","map_controller_MapController","MapController","isDragging","newState","_interactionState","newViewport","oldViewport","handleEvent","bind","_transitionManager","_onTransition","_setInteractionState","event","getMapState","eventStartBlocked","_eventStartBlocked","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onTriplePanStart","_onTriplePan","_onTriplePanEnd","_onDoubleTap","_onWheel","_onKeyDown","_event$offsetCenter","offsetCenter","x","y","srcEvent","metaKey","altKey","ctrlKey","shiftKey","timeout","_this2","timer","setTimeout","newMapState","extraProps","viewStateChanged","some","getState","overrides","mapStateProps","_options$eventManager","_options$isInteractiv","isInteractive","_options$scrollZoom","scrollZoom","_options$dragPan","dragPan","_options$dragRotate","dragRotate","_options$doubleClickZ","doubleClickZoom","_options$touchZoom","touchZoom","_options$touchRotate","touchRotate","_options$keyboard","keyboard","prevOptions","dimensionChanged","updateViewport","processViewportChange","_events","toggleEvents","events","eventNames","enabled","_this3","eventName","on","off","getCenter","_panRotate","isFunctionKeyPressed","rightButton","rotateStart","panStart","_onPanRotate","_onPanMove","_onPanRotateEnd","_onPanMoveEnd","pan","_this$dragPan$inertia","inertia","velocity","endPos","velocityX","velocityY","newControllerState","panEnd","rotate","_this$dragRotate$iner","rotateEnd","_this$scrollZoom","_this$scrollZoom$spee","_this$scrollZoom$smoo","smooth","preventDefault","delta","exp","zoomStart","_startPinchRotation","rotation","_lastPinchEvent","_this$touchZoom$inert","_newMapState","z","velocityZ","deltaTime","endScale","pow","zoomEnd","blockEvents","startPinchRotation","_this$touchRotate$ine","_newMapState2","isZoomOut","funcKey","_this$keyboard","_this$keyboard$zoomSp","zoomSpeed","_this$keyboard$moveSp","moveSpeed","_this$keyboard$rotate","rotateSpeedX","_this$keyboard$rotate2","rotateSpeedY","keyCode","interactive_map_ownKeys","interactive_map_objectSpread","interactive_map_propTypes","onInteractionStateChange","onHover","onClick","onDblClick","onContextMenu","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","onMouseOut","onWheel","touchAction","eventRecognizerOptions","clickRadius","interactiveLayerIds","getCursor","controller","interactive_map_defaultProps","onNativeClick","isHovering","normalizeEvent","point","location","targetZ","meterOffset","getFeatures","queryParams","layers","_unused","onEvent","callbackName","func","onPointerDown","pointerType","onPointerUp","onPointerMove","features","_this$props","isEntering","isExiting","setState","onPointerClick","_this$props2","callbacks","isDoubleClickEnabled","cb","InteractiveMap","parentContext","recognizerOptions","eventCanvasRef","staticMapRef","thisRef","cursor","viewportUpdateRequested","stateUpdateRequested","inRender","handleViewportChange","oldViewState","_thisRef$props","get","interactive_map_getRefHandles","handleInteractionStateChange","_interactionState$isD","updateControllerOpts","setOptions","setElement","pointerdown","pointermove","pointerup","pointerleave","click","anyclick","dblclick","wheel","contextmenu","destroy","eventCanvasStyle","_child","esm_typeof","deepEqual","aKeys","bKeys","_i","_aKeys","hasOwnProperty","source_ownKeys","source_propTypes","isRequired","sourceCounter","createSource","_loaded","source_objectSpread","addSource","getSource","Source","propsRef","setStyleLoaded","forceUpdate","version","removeSource","prevProps","changedKey","changedKeyCount","setData","data","updateImage","url","coordinates","setUrl","setTiles","tiles","warn","setCoordinates","updateSource","child","objectWithoutProperties","layer_ownKeys","layer_objectSpread","layer_propTypes","beforeId","updateLayer","_props$layout","layout","_props$paint","paint","minzoom","maxzoom","otherProps","moveLayer","prevLayout","setLayoutProperty","prevPaint","_key2","setPaintProperty","_key3","_key4","setFilter","setLayerZoomRange","setLayerProperty","diffLayerStyles","layerCounter","Layer","removeLayer","getLayer","addLayer","createLayer","mapControlDefaultProps","captureScroll","captureDrag","captureClick","captureDoubleClick","capturePointerMove","mapControlPropTypes","onMount","stopPropagation","panstart","onDragStart","onDoubleClick","watch","useMapControl","_thisRef","base_control_createSuper","base_control_isNativeReflectConstruct","Control","instance","_useMapControl","_context","_containerRef","_render","base_control_BaseControl","_PureComponent","BaseControl","_len","args","_onScroll","_onDragStart","_onDblClick","_onClick","_onPointerMove","draggable_control_ownKeys","draggable_control_objectSpread","draggableControlPropTypes","draggable","onDrag","onDragEnd","offsetLeft","offsetTop","draggableControlDefaultProps","getDragEventPosition","getDragLngLat","dragPos","dragOffset","_event$center","center","rect","getBoundingClientRect","getDragEventOffset","setDragPos","setDragOffset","callbackEvent","registerEvents","panmove","panend","pancancel","onDragCancel","pixelRatio","devicePixelRatio","crispPixel","round","crispPercentage","el","percentage","dimension","origSize","offsetWidth","offsetHeight","marker_propTypes","marker_defaultProps","Marker","useDraggableControl","_getPosition","_viewport$project","_viewport$project2","getPosition","_getPosition2","transform","control","containerStyle","ANCHOR_POSITION","bottom","right","ANCHOR_TYPES","popup_propTypes","tipSize","closeButton","closeOnClick","anchor","dynamicPosition","sortByDepth","onClose","popup_defaultProps","popup_getPosition","selfWidth","selfHeight","_ref$padding","padding","_ANCHOR_POSITION$anch","anchorX","anchorY","cutoffY","bestAnchorY","minCutoff","xStep","floor","cutoffX","bestAnchorX","_minCutoff","find","positionType","anchorPosition","getDynamicPosition","clientWidth","clientHeight","Popup","contentRef","setLoaded","clickCallback","xPercentage","yPercentage","display","zIndex","getContainerStyle","onClickCloseButton","once","borderWidth","attribution_control_ownKeys","attribution_control_propTypes","toggleLabel","compact","customAttribution","attribution_control_defaultProps","AttributionControl","innerContainerRef","showCompact","setShowCompact","attributionContainer","_map","_container","_innerContainer","_updateAttributions","_updateEditLink","_updateData","setupAttributioncontrol","removeAttributionControl","toggleAttribution","attribution_control_objectSpread","title","role","globals","fullscreen_control_ownKeys","fullscreen_control_propTypes","label","fullscreen_control_defaultProps","FullscreenControl","isFullscreen","setIsFullscreen","showButton","setShowButton","_useState5","_useState6","mapboxFullscreenControl","createMapboxFullscreenControl","_checkFullscreenSupport","onFullscreenChange","nextState","_fullscreen","addEventListener","_fullscreenchange","removeEventListener","fullscreen_control_objectSpread","_onClickFullscreen","geolocate_control_ownKeys","geolocate_control_noop","geolocate_control_propTypes","disabledLabel","auto","positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation","showAccuracyCircle","onGeolocate","geolocate_control_defaultProps","enableHighAccuracy","updateCamera","bounds","LngLat","coords","radius","accuracy","toBounds","_ne","lng","lat","_sw","getBounds","_context$viewport$fit","fitBounds","newViewState","GeolocateControl","geolocateButtonRef","mapboxGeolocateControl","createMapboxGeolocateControl","supportsGeolocation","setSupportsGeolocation","Promise","resolve","navigator","permissions","query","then","p","geolocation","geolocateButton","createElement","_getUIString","_setupUI","_geolocateButton","_watchState","classList","add","remove","setupMapboxGeolocateControl","_updateCamera","_clearWatch","triggerGeolocate","trigger","_onZoom","geolocate_control_objectSpread","disabled","navigation_control_ownKeys","navigation_control_noop","navigation_control_propTypes","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","navigation_control_defaultProps","getUIVersion","mapboxVersion","version1","version2","v1","split","v2","part1","part2","compareVersions","navigation_control_updateViewport","renderButton","callback","NavigationControl","navigation_control_objectSpread","uiVersion","renderCompass","scale_control_ownKeys","scale_control_propTypes","maxWidth","unit","scale_control_defaultProps","ScaleControl","mapboxScaleControl","createMapboxScaleControl","_onMove","scale_control_objectSpread","canvas_overlay_pixelRatio","canvas_overlay_propTypes","redraw","CanvasOverlay","ctx","setDrawingContext","getContext","save","restore","html_overlay_ownKeys","html_overlay_propTypes","HTMLOverlay","html_overlay_objectSpread","svg_overlay_ownKeys","svg_overlay_propTypes","SVGOverlay","svg_overlay_objectSpread","setRTLTextPlugin","web_mercator_viewport_WebMercatorViewport","get_bounds_getBounds","fit_bounds_fitBounds","normalizeViewportProps","flyToViewport","getFlyToDuration","lngLatToWorld","worldToLngLat","worldToPixels","pixelsToWorld","altitudeToFovy","fovyToAltitude","getMeterZoom","getDistanceScales","addMetersToLngLat","getViewMatrix","getProjectionParameters","vec4","transformVector","matrix","vector","mod","divisor","modulus","log","LOG2E","mat4","vec2","vec3","PI","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","TILE_SIZE","EARTH_CIRCUMFERENCE","zoomToScale","scaleToZoom","phi2","tan","lambda2","atan","latCosine","cos","_ref6$highPrecision","highPrecision","unitsPerDegreeX","unitsPerDegreeY","altUnitsPerMeter","worldSize","unitsPerMeter","metersPerUnit","unitsPerDegree","degreesPerUnit","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","unitsPerDegree2","unitsPerMeter2","lngLatZ","xyz","_lngLatZ","z0","_xyz","_getDistanceScales","worldspace","newLngLat","newZ","_ref7$center","vm","_ref8$fovy","fovy","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","halfFov","focalDistance","pitchRadians","topHalfSurfaceDistance","sin","fov","aspect","near","far","getProjectionMatrix","_getProjectionParamet","pixelProjectionMatrix","_xyz2","_xyz2$","pixelUnprojectionMatrix","_xyz3","coord","coord0","coord1","z1","_ref$minExtent","minExtent","_ref$offset","offset","_bounds","_bounds$","west","south","_bounds$2","east","north","nw","se","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","get_bounds_DEGREES_TO_RADIANS","topLeft","topRight","unprojectOps","bottomLeft","bottomRight","angleToGround","unprojectOnFarPlane","distanceScales","WebMercatorViewport","_ref$latitude","_ref$longitude","_ref$zoom","_ref$fovy","_ref$position","_ref$nearZMultiplier","_ref$farZMultiplier","projectionMatrix","viewMatrix","_initMatrices","projectPosition","unprojectPosition","freeze","vpm","viewProjectionMatrix","m","mInverse","_ref2$topLeft","worldPosition","_coord","y2","_ref3$topLeft","_ref3$targetZ","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","_lngLatToWorld","_lngLatToWorld2","_worldToLngLat","_worldToLngLat2","xy","fromLocation","toLocation","translate","_fitBounds2","corners","getBoundingRegion","halfHeightPixels","minLatitude","maxLatitude","createForOfIteratorHelper","EPSILON","_getFlyToTransitionPa","getFlyToTransitionParams","startCenterXY","uDelta","w0","u1","S","rho","rho2","r0","w","cosh","u","tanh","sinh","scaleIncrement","newZoom","newCenterWorld","newCenter","_opts","screenSpeed","maxDuration","_getFlyToTransitionPa2","startCenter","startScale","endZoom","endCenter","endCenterXY","w1","_u1","b0","b1","sqrt","r1","negate","transformMat4","sub","_common_js__WEBPACK_IMPORTED_MODULE_0__","out","hypot","ax","ay","vec","Float32Array","create","transpose","invert","determinant","multiply","rotateX","rotateY","rotateZ","fromQuat","frustum","perspective","ortho","lookAt","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","b2","b3","v","rad","axis","c","b12","b20","b21","b22","q","x2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","rl","tb","nf","Infinity","lr","bt","eye","up","x1","y1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","identity","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","cross","transformMat3","transformQuat","angle","mul","az","bx","by","bz","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","r","mag","cosine","dot","acos","ARRAY_TYPE","RANDOM","random","global","document_","document","event_manager_EventManager","hammer","hammer_default","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","PointerEventInput","oldHandler","handler","ev","store","button","array","predict","pointerId","enhancePointerEventInput","MouseInput","eventType","pressed","which","manager","pointers","changedPointers","Manager","hammer_browser","RECOGNIZERS","Pan","threshold","enable","Rotate","Pinch","Swipe","Press","Tap","taps","RECOGNIZER_COMPATIBLE_MAP","tripan","pinch","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","touchstart","touchmove","touchend","INPUT_EVENT_TYPES","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panup","pandown","panleft","panright","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","mouseover","mouseout","mouseleave","firefox","indexOf","WHEEL_EVENTS","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","wheel_input_WheelInput","WheelInput","element","passive","WheelEvent","deltaMode","DOM_DELTA_PIXEL","DOM_DELTA_LINE","wheelPosition","clientX","clientY","MOUSE_EVENTS","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","LEAVE_EVENT_TYPE","move_input_MoveInput","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","KEY_EVENTS","DOWN_EVENT_TYPE","UP_EVENT_TYPE","key_input_KeyInput","KeyInput","enableDownEvent","enableUpEvent","tabIndex","outline","targetElement","srcElement","tagName","contextmenu_input_EVENT_TYPE","contextmenu_input_ContextmenuInput","ContextmenuInput","event_utils_MOUSE_EVENTS","DEFAULT_OPTIONS","priority","event_registrar_EventRegistrar","EventRegistrar","handlers","handlersByElement","Map","_active","set","entry","insertPosition","splice","delete","isEmpty","mjolnirEvent","_normalizeEvent","rootElement","_emit","handled","parentNode","immediatePropagationStopped","stopImmediatePropagation","entriesToRemove","_entries$i","_entriesToRemove$_i","_type","_handler","_event$srcEvent","buttons","leftButton","middleButton","whichButtons","clientLeft","clientTop","getOffsetPosition","event_manager_DEFAULT_OPTIONS","recognizers","EventManager","_onBasicInput","_onOtherEvent","ManagerClass","recognizerName","recognizer","otherName","recognizeWith","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","_step$value","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","_removeEventHandler","fallbackRecognizers","otherRecognizer","requireFailure","dropRequireFailure","enableEventType","isRecognizerUsed","values","eh","alias","emit","process","Mapbox","_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","prop_types__WEBPACK_IMPORTED_MODULE_3__","_utils_globals__WEBPACK_IMPORTED_MODULE_4__","_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__","gl","mapboxApiAccessToken","mapboxApiUrl","attributionControl","preserveDrawingBuffer","reuseMaps","transformRequest","mapOptions","preventStyleDiffing","asyncRender","onLoad","body","accessToken","match","search","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","getAccessToken","checkPropTypes","component","debug","initialized","_checkStyleSheet","_initialize","_destroy","_update","_frame","cancel","savedMap","oldContainer","getContainer","newContainer","childNodes","appendChild","setStyle","diff","isStyleLoaded","_fireLoadEvent","_reuse","HTMLCanvasElement","interactive","trackResize","_handleError","baseApiUrl","_create","canvas","getCanvas","_updateMapViewport","_updateMapSize","oldProps","viewportChanged","sizeChanged","_updateMapStyle","resize","_getViewState","jumpTo","_viewStateToMapboxProps","testElement","isCssLoaded","getComputedStyle","link","setAttribute","head","normalizeStyle","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","refProps","toJS","layerIndex","layer","layerRef","normalizedLayer","exports","__WEBPACK_AMD_DEFINE_RESULT__","exportName","VENDOR_PREFIXES","TEST_ELEMENT","setTimeoutContext","fn","bindFn","invokeArrayArg","arg","each","obj","deprecate","method","deprecationMessage","stack","replace","output","index","nextKey","extend","dest","src","merge","inherit","base","properties","childP","baseP","boolOrFn","val","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","hasParent","node","parent","inStr","str","trim","inArray","findByKey","toArray","uniqueArray","sort","results","prefixed","property","prefix","camelProp","toUpperCase","_uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","self","inputTarget","domHandler","init","inputHandler","input","pointersLen","changedPointersLen","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","timeStamp","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getRotation","maxPointers","direction","last","lastInterval","computeIntervalInputData","computeInputData","recognize","p1","p2","atan2","evEl","evTarget","evWin","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","POINTER_INPUT_MAP","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","SINGLE_TOUCH_INPUT_MAP","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","dropRecognizeWith","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","attrTest","optionPointers","isRecognized","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","clearTimeout","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","oldCssProps","toggleCssProps","item","stop","force","stopped","curRecognizer","existing","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","window_","passiveSupported"],"mappings":"CAACA,KAAK,0CAA4CA,KAAK,2CAA6C,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5G,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAGAA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBG,MACnFF,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBI,MACnFH,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBK,MACnFJ,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBM,MACnFL,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBO,MACnFN,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBQ,MACnFP,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBS,MACnFR,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBU,MACnFT,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBW,MACnFV,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBY,MACnFX,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBa,MACnFZ,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBc,EAAiC,KAKpH,IAAIC,EAAcd,EAAoB,GAGlCe,EAAoBf,EAAoB,IAGxCgB,EAAiBhB,EAAoB,IAGrCiB,EAAQjB,EAAoB,GAG5BkB,EAAalB,EAAoB,GAGjCmB,EAAgBnB,EAAoB,IAGpCa,EAAMb,EAAoB,MAM1BoB,EAAoBpB,EAAoB,MAGxCqB,EAAgBrB,EAAoB,MAGpCsB,EAAYtB,EAAoB,MAChCuB,EAAiCvB,EAAoBwB,EAAEF,GAKvDG,EAAiBzB,EAAoB,IAGrC0B,EAAc1B,EAAoB,IAKtC,SAAS2B,EAAQC,GACf,OAAOC,MAAMF,QAAQC,IAAUE,YAAYC,OAAOH,GAGpD,SAASI,EAAOC,EAAGC,GACjB,GAAID,IAAMC,EACR,OAAO,EAGT,GAAIP,EAAQM,IAAMN,EAAQO,GAAI,CAC5B,GAAID,EAAEE,SAAWD,EAAEC,OACjB,OAAO,EAGT,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAEE,SAAUC,EAC9B,IAAKJ,EAAOC,EAAEG,GAAIF,EAAEE,IAClB,OAAO,EAIX,OAAO,EAGT,OAAOC,KAAKC,IAAIL,EAAIC,IAzBR,KA2Bd,SAASK,EAAMX,EAAOY,EAAKC,GACzB,OAAOJ,KAAKI,IAAID,EAAKH,KAAKG,IAAIC,EAAKb,IAErC,SAASc,EAAKT,EAAGC,EAAGS,GAClB,OAAIhB,EAAQM,GACHA,EAAEW,KAAI,SAAUC,EAAIT,GACzB,OAAOM,EAAKG,EAAIX,EAAEE,GAAIO,MAInBA,EAAIT,GAAK,EAAIS,GAAKV,EAG3B,SAASa,EAAOC,EAAWC,GACzB,IAAKD,EACH,MAAM,IAAIE,MAAMD,GAAW,mCAS/B,SAASE,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAASS,EAAcC,GACrB,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNc,EAAQI,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC9Cb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEf,EAAQI,OAAOW,IAASC,SAAQ,SAAUC,GACxCb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAMT,IAAIO,EAAgB,CAClBC,QAAS,EACTC,QAAS,GACTC,SAAU,EACVC,SAAU,IAERC,EACK,EADLA,EAEO,EAFPA,EAGQ,IAKRC,EAAqB,WACvB,SAASC,EAASC,GAChB,IAAIC,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OACdC,EAAWH,EAAKG,SAChBC,EAAYJ,EAAKI,UACjBC,EAAOL,EAAKK,KACZC,EAAeN,EAAKO,QACpBA,OAA2B,IAAjBD,EAA0BT,EAAwBS,EAC5DE,EAAaR,EAAKS,MAClBA,OAAuB,IAAfD,EAAwBX,EAAsBW,EACtDE,EAAgBV,EAAKW,SACrBA,OAA6B,IAAlBD,EAA2Bb,EAAyBa,EAC/DE,EAAeZ,EAAKN,QACpBA,OAA2B,IAAjBkB,EAA0BpB,EAAcE,QAAUkB,EAC5DC,EAAeb,EAAKP,QACpBA,OAA2B,IAAjBoB,EAA0BrB,EAAcC,QAAUoB,EAC5DC,EAAgBd,EAAKJ,SACrBA,OAA6B,IAAlBkB,EAA2BtB,EAAcI,SAAWkB,EAC/DC,EAAgBf,EAAKL,SACrBA,OAA6B,IAAlBoB,EAA2BvB,EAAcG,SAAWoB,EAC/DC,EAAqBhB,EAAKgB,mBAC1BC,EAAmBjB,EAAKiB,iBACxBC,EAAyBlB,EAAKkB,uBAC9BC,EAAyBnB,EAAKmB,uBAC9BC,EAAiBpB,EAAKoB,eACtBC,EAAkBrB,EAAKqB,gBACvBC,EAAiBtB,EAAKsB,eACtBC,EAAevB,EAAKuB,aACpBC,EAAaxB,EAAKwB,WAClBC,EAAYzB,EAAKyB,UAErBjD,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMiF,GAEhD/B,EAAO0D,OAAOC,SAAS1B,GAAQ,4BAC/BjC,EAAO0D,OAAOC,SAASzB,GAAS,6BAChClC,EAAO0D,OAAOC,SAASvB,GAAY,gCACnCpC,EAAO0D,OAAOC,SAASxB,GAAW,+BAClCnC,EAAO0D,OAAOC,SAAStB,GAAO,2BAC9BvF,KAAK8G,eAAiB9G,KAAK+G,kBAAkB,CAC3C5B,MAAOA,EACPC,OAAQA,EACRC,SAAUA,EACVC,UAAWA,EACXC,KAAMA,EACNE,QAASA,EACTE,MAAOA,EACPE,SAAUA,EACVjB,QAASA,EACTD,QAASA,EACTG,SAAUA,EACVD,SAAUA,EACVqB,mBAAoBA,EACpBC,iBAAkBA,EAClBC,uBAAwBA,EACxBC,uBAAwBA,IAE1BrG,KAAKgH,OAAS,CACZV,eAAgBA,EAChBC,gBAAiBA,EACjBC,eAAgBA,EAChBC,aAAcA,EACdC,WAAYA,EACZC,UAAWA,GA0Qf,OAtQAjD,OAAO5B,EAA6B,EAApC4B,CAAuCuB,EAAU,CAAC,CAChDV,IAAK,mBACLvC,MAAO,WACL,OAAOhC,KAAK8G,iBAEb,CACDvC,IAAK,WACLvC,MAAO,WACL,OAAOhC,KAAKgH,SAEb,CACDzC,IAAK,WACLvC,MAAO,SAAkBiF,GACvB,IAAIC,EAAMD,EAAMC,IAChB,OAAOlH,KAAKmH,oBAAoB,CAC9Bb,eAAgBtG,KAAKoH,WAAWF,OAGnC,CACD3C,IAAK,MACLvC,MAAO,SAAaqF,GAClB,IAAIH,EAAMG,EAAMH,IACZI,EAAWD,EAAMC,SAEjBhB,EAAiBtG,KAAKgH,OAAOV,gBAAkBtG,KAAKoH,WAAWE,GAEnE,IAAKhB,EACH,OAAOtG,KAGT,IAAIuH,EAAwBvH,KAAKwH,oBAAoB,CACnDlB,eAAgBA,EAChBY,IAAKA,IAEHO,EAAyB/D,OAAOnC,EAA+B,EAAtCmC,CAAyC6D,EAAuB,GACzFjC,EAAYmC,EAAuB,GACnCpC,EAAWoC,EAAuB,GAEtC,OAAOzH,KAAKmH,oBAAoB,CAC9B7B,UAAWA,EACXD,SAAUA,MAGb,CACDd,IAAK,SACLvC,MAAO,WACL,OAAOhC,KAAKmH,oBAAoB,CAC9Bb,eAAgB,SAGnB,CACD/B,IAAK,cACLvC,MAAO,SAAqB0F,GAC1B,IAAIR,EAAMQ,EAAMR,IAChB,OAAOlH,KAAKmH,oBAAoB,CAC9BX,eAAgBU,EAChBT,aAAczG,KAAK8G,eAAerB,QAClCiB,WAAY1G,KAAK8G,eAAenB,UAGnC,CACDpB,IAAK,SACLvC,MAAO,SAAgB2F,GACrB,IAcIC,EAdAV,EAAMS,EAAMT,IACZW,EAAoBF,EAAMG,YAC1BA,OAAoC,IAAtBD,EAA+B,EAAIA,EACjDE,EAAoBJ,EAAMK,YAC1BA,OAAoC,IAAtBD,EAA+B,EAAIA,EACjDE,EAAejI,KAAKgH,OACpBR,EAAiByB,EAAazB,eAC9BC,EAAewB,EAAaxB,aAC5BC,EAAauB,EAAavB,WAE9B,OAAKE,OAAOC,SAASJ,IAAkBG,OAAOC,SAASH,IAOrDkB,EADEV,EACYlH,KAAKkI,6BAA6BhE,EAAcA,EAAc,GAAIlE,KAAKmI,mBAAmBjB,EAAKV,IAAkB,GAAI,CACjIC,aAAcA,EACdC,WAAYA,KAGA,CACZjB,QAASgB,EAAeqB,EACxBnC,MAAOe,EAAasB,GAIjBhI,KAAKmH,oBAAoBS,IAjBvB5H,OAmBV,CACDuE,IAAK,YACLvC,MAAO,WACL,OAAOhC,KAAKmH,oBAAoB,CAC9BV,aAAc,KACdC,WAAY,SAGf,CACDnC,IAAK,YACLvC,MAAO,SAAmBoG,GACxB,IAAIlB,EAAMkB,EAAMlB,IAChB,OAAOlH,KAAKmH,oBAAoB,CAC9BZ,gBAAiBvG,KAAKoH,WAAWF,GACjCP,UAAW3G,KAAK8G,eAAevB,SAGlC,CACDhB,IAAK,OACLvC,MAAO,SAAcqG,GACnB,IAAInB,EAAMmB,EAAMnB,IACZI,EAAWe,EAAMf,SACjBgB,EAAQD,EAAMC,MAClBpF,EAAOoF,EAAQ,EAAG,qCAClB,IAAIC,EAAgBvI,KAAKgH,OACrBL,EAAY4B,EAAc5B,UAC1BJ,EAAkBgC,EAAchC,gBAE/BK,OAAOC,SAASF,KACnBA,EAAY3G,KAAK8G,eAAevB,KAChCgB,EAAkBvG,KAAKoH,WAAWE,IAAatH,KAAKoH,WAAWF,IAGjEhE,EAAOqD,EAAiB,gGAExB,IAAIhB,EAAOvF,KAAKwI,kBAAkB,CAChCF,MAAOA,EACP3B,UAAWA,GAAa,IAOtB8B,EAJiB,IAAIxH,EAAiC,EAAEyC,OAAOgF,OAAO,GAAI1I,KAAK8G,eAAgB,CACjGvB,KAAMA,KAGmCoD,6BAA6B,CACtEC,OAAQrC,EACRW,IAAKA,IAEH2B,EAAyBnF,OAAOnC,EAA+B,EAAtCmC,CAAyC+E,EAAuB,GACzFnD,EAAYuD,EAAuB,GACnCxD,EAAWwD,EAAuB,GAEtC,OAAO7I,KAAKmH,oBAAoB,CAC9B5B,KAAMA,EACND,UAAWA,EACXD,SAAUA,MAGb,CACDd,IAAK,UACLvC,MAAO,WACL,OAAOhC,KAAKmH,oBAAoB,CAC9BZ,gBAAiB,KACjBI,UAAW,SAGd,CACDpC,IAAK,sBACLvC,MAAO,SAA6B8G,GAClC,OAAO,IAAI7D,EAASvB,OAAOgF,OAAO,GAAI1I,KAAK8G,eAAgB9G,KAAKgH,OAAQ8B,MAEzE,CACDvE,IAAK,oBACLvC,MAAO,SAA2B+G,GAChC,IAAInE,EAAUmE,EAAMnE,QAChBD,EAAUoE,EAAMpE,QAChBY,EAAOwD,EAAMxD,KACjBwD,EAAMxD,KAAO5C,EAAM4C,EAAMZ,EAASC,GAClC,IAAIE,EAAWiE,EAAMjE,SACjBD,EAAWkE,EAAMlE,SACjBc,EAAQoD,EAAMpD,MAGlB,OAFAoD,EAAMpD,MAAQhD,EAAMgD,EAAOd,EAAUC,GACrCpB,OAAOgF,OAAOK,EAAOrF,OAAOzC,EAAoC,EAA3CyC,CAA8CqF,IAC5DA,IAER,CACDxE,IAAK,aACLvC,MAAO,SAAoBkF,GACzB,IAAI8B,EAAW,IAAI/H,EAAiC,EAAEjB,KAAK8G,gBAC3D,OAAOI,GAAO8B,EAASC,UAAU/B,KAElC,CACD3C,IAAK,sBACLvC,MAAO,SAA6BkH,GAClC,IAAI5C,EAAiB4C,EAAM5C,eACvBY,EAAMgC,EAAMhC,IAEhB,OADe,IAAIjG,EAAiC,EAAEjB,KAAK8G,gBAC3C6B,6BAA6B,CAC3CC,OAAQtC,EACRY,IAAKA,MAGR,CACD3C,IAAK,oBACLvC,MAAO,SAA2BmH,GAChC,IAAIb,EAAQa,EAAMb,MACd3B,EAAYwC,EAAMxC,UAClByC,EAAuBpJ,KAAK8G,eAC5BlC,EAAUwE,EAAqBxE,QAC/BD,EAAUyE,EAAqBzE,QAEnC,OAAOhC,EADIgE,EAAYlE,KAAK4G,KAAKf,GACd3D,EAASC,KAE7B,CACDL,IAAK,+BACLvC,MAAO,SAAsCsH,GAC3C,IAAIC,EAAcD,EAAOC,YACrBC,EAAcF,EAAOE,YACrB/C,EAAe6C,EAAO7C,aACtBC,EAAa4C,EAAO5C,WACxB8C,EAAc7G,EAAM6G,GAAc,EAAG,GACrC,IAAIC,EAAwBzJ,KAAK8G,eAC7BjC,EAAW4E,EAAsB5E,SACjCC,EAAW2E,EAAsB3E,SAEjCa,EAAQe,EAQZ,OANI8C,EAAc,EAChB7D,EAAQe,EAAa8C,GAAe1E,EAAW4B,GACtC8C,EAAc,IACvB7D,EAAQe,EAAa8C,GAAe3E,EAAW6B,IAG1C,CACLf,MAAOA,EACPF,QAXYgB,EAAe,IAAM8C,KAcpC,CACDhF,IAAK,qBACLvC,MAAO,SAA4BkF,EAAKI,GACtC,IAAIoC,EAASxC,EAAI,GAAKI,EAAS,GAC3BqC,EAASzC,EAAI,GAAKI,EAAS,GAC3BsC,EAAU1C,EAAI,GACd2C,EAASvC,EAAS,GAClBwC,EAAwB9J,KAAK8G,eAC7B3B,EAAQ2E,EAAsB3E,MAC9BC,EAAS0E,EAAsB1E,OAC/BmE,EAAcG,EAASvE,EACvBqE,EAAc,EAalB,OAXIG,EAAS,EACPlH,KAAKC,IAAI0C,EAASyE,GA3TF,IA4TlBL,EAAcG,GAAUE,EAASzE,GA3TzB,KA6TDuE,EAAS,GACdE,EA/TgB,IAgUlBL,EAAc,EAAII,EAAUC,GAKzB,CACLN,YAAaA,EACbC,YAHFA,EAAc/G,KAAKG,IAAI,EAAGH,KAAKI,KAAK,EAAG2G,SAQpCvE,EAzUgB,GAgVzB,SAAS8E,EAAaC,GACpB,OAAOA,EAAE,GAAGC,cAAgBD,EAAEE,MAAM,GAyBtC,SAASC,EAAoB5G,EAAQC,GACnC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAAS2G,EAAyBjG,GAChC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN2H,EAAoBzG,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC1Db,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjE8F,EAAoBzG,OAAOW,IAASC,SAAQ,SAAUC,GACpDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAKT,IAAIkG,EAAa3G,OAAOrC,EAAqB,cAA5BqC,CAA+B,CAC9CsF,SAAU,KACVhG,IAAK,KACLsH,UAAW,KACXC,iBAAkB,KAClBC,kBAAmB,KACnBC,aAAc,OAEZC,EAAqBL,EAAWM,SAsBpCN,EAAWM,SApBX,SAAyBzF,GACvB,IAAIlD,EAAQkD,EAAKlD,MACb4I,EAAW1F,EAAK0F,SAEhBC,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjE7H,EAAM8H,EAAW,GACjBC,EAASD,EAAW,GAEpBE,EAAUtH,OAAOrC,EAAkB,WAAzBqC,CAA4B2G,GAM1C,OALArI,EAAQoI,EAAyBA,EAAyB,CACxDW,OAAQA,GACPC,GAAU,GAAI,CACfhI,IAAKgI,GAAWA,EAAQhI,KAAOA,GAC9BhB,GACIX,EAAqB,cAAEqJ,EAAoB,CAChD1I,MAAOA,GACN4I,IAIwB,IAAIK,EAAc,EAIdC,EADiB,qBAAXC,OAAyB9J,EAAuB,gBAAIA,EAAiB,UAG5G,SAAS+J,EAAoBpI,EAAKkC,GAChC,IAAII,EAAYJ,EAAKI,UACjBD,EAAWH,EAAKG,SAEpB,OAAIrC,GAAOA,EAAIqI,uBACNrI,EAAIqI,sBAAsB,CAAC/F,EAAWD,KAGxC,EAMT,SAASiG,EAAmB/H,EAAQC,GAClC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAAS8H,EAAwBpH,GAC/B,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN8I,EAAmB5H,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GACzDb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEiH,EAAmB5H,OAAOW,IAASC,SAAQ,SAAUC,GACnDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAeT,IACIqH,EAAmB,0DAIvB,SAASC,EAAYvG,GACnB,IAAIlC,EAAMkC,EAAKlC,IACX+F,EAAQ7D,EAAK6D,MACb5D,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OAEdsG,EAAgBH,EAAwBA,EAAwBA,EAAwB,GAAIxC,GAAQA,EAAM4C,WAAY,GAAI,CAC5HxG,MAAOA,EACPC,OAAQA,IAIV,OADAsG,EAAcE,SAAW,CAAC,EAAG,EAAGR,EAAoBpI,EAAK0I,IAClD,IAAIzK,EAAiC,EAAEyK,GAEhD,IACIG,EAAkB,CACpBD,SAAU,WACVzG,MAAO,OACPC,OAAQ,OACR0G,SAAU,UAERC,EAAYrI,OAAOgF,OAAO,GAAIjH,EAA+B,EAAEsK,UAAW,CAC5E5G,MAAO7D,EAAsB,UAAE,CAACA,EAAmB,OAAGA,EAAmB,SACzE8D,OAAQ9D,EAAsB,UAAE,CAACA,EAAmB,OAAGA,EAAmB,SAC1E0K,SAAU1K,EAAiB,KAC3B2K,oBAAqB3K,EAAiB,KACtC4K,QAAS5K,EAAiB,KAC1B6K,UAAW7K,EAAmB,OAC9B8K,MAAO9K,EAAmB,OAC1B+K,sBAAuB/K,EAAmB,SAExCgL,EAAe5I,OAAOgF,OAAO,GAAIjH,EAA+B,EAAE6K,aAAc,CAClFL,qBAAqB,EACrBC,SAAS,EACTF,SApCF,aAqCEG,UAAW,GACXC,MAAO,KACPC,sBAAuB3H,IAGzB,SAAS6H,IAMP,OAAOlL,EAAqB,cAAE,MAAO,CACnCkD,IAAK,UACLiI,GAAI,mBACJJ,MARU,CACVR,SAAU,WACVa,KAAM,EACNC,IAAK,IAMJrL,EAAqB,cAAE,KAAM,CAC9BkD,IAAK,UACJiH,GAAmBnK,EAAqB,cAAE,MAAO,CAClDkD,IAAK,QACJ,oDAAqDlD,EAAqB,cAAE,IAAK,CAClFkD,IAAK,OACLoI,KA7DgB,uEA8Df,uBAgBL,IAAIC,EAAYlJ,OAAOrC,EAAkB,WAAzBqC,EAA4B,SAAUqF,EAAO8D,GAC3D,IAAIhC,EAAYnH,OAAOrC,EAAgB,SAAvBqC,EAA0B,GACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjEiC,EAAmBhC,EAAW,GAC9BiC,EAAgBjC,EAAW,GAE3BkC,EAAatJ,OAAOrC,EAAgB,SAAvBqC,CAA0B,CACzCyB,MAAO,EACPC,OAAQ,IAEN6H,EAAavJ,OAAOnC,EAA+B,EAAtCmC,CAAyCsJ,EAAY,GAClEE,EAAOD,EAAW,GAClBE,EAAUF,EAAW,GAErBG,EAAY1J,OAAOrC,EAAc,OAArBqC,CAAwB,MACpC2J,EAAY3J,OAAOrC,EAAc,OAArBqC,CAAwB,MACpC4J,EAAe5J,OAAOrC,EAAc,OAArBqC,CAAwB,MACvC6J,EAAa7J,OAAOrC,EAAc,OAArBqC,CAAwB,MACrCsH,EAAUtH,OAAOrC,EAAkB,WAAzBqC,CAA4BuH,GAC1CC,GAA6B,WAC3B,GAAK0B,EAAUY,YAAf,CAIA,IAAIC,EAAS,IAAIhM,EAA+B,EAAE8J,EAAwBA,EAAwBA,EAAwB,GAAIxC,GAAQmE,GAAO,GAAI,CAC/IQ,SAAU/L,EAAkBU,EAC5BiI,UAAW+C,EAAUM,QACrBC,QAAS,SAAiBC,GAtFF,OAuFLA,EAAIC,OAASD,EAAIC,MAAMC,QAAUF,EAAIE,SAERjB,IAC5CkB,QAAQF,MAAMtC,GACduB,GAAc,IAGhBhE,EAAM6E,QAAQC,OAGlBT,EAAUO,QAAUF,EAEhBzC,GAAWA,EAAQD,QACrBC,EAAQD,OAAO0C,EAAOQ,UAGxB,IAAIC,EAAiB,IAAI1M,EAA2B,SAAE,SAAU2M,GAC9D,GAAIA,EAAQ,GAAGC,YAAa,CAC1B,IAAIC,EAAwBF,EAAQ,GAAGC,YACnCE,EAASD,EAAsBlJ,MAC/BoJ,EAAUF,EAAsBjJ,OACpC+H,EAAQ,CACNhI,MAAOmJ,EACPlJ,OAAQmJ,IAEVxF,EAAMiD,SAAS,CACb7G,MAAOmJ,EACPlJ,OAAQmJ,QAKd,OADAL,EAAeM,QAAQlB,EAAaK,SAC7B,WACLF,EAAOgB,WACPrB,EAAUO,QAAU,KACpBO,EAAeQ,iBAEhB,IACHxD,GAA6B,WACvBkC,EAAUO,SACZP,EAAUO,QAAQgB,SAASpD,EAAwBA,EAAwB,GAAIxC,GAAQmE,OAG3F,IAAIlK,EAAMoK,EAAUO,SAAWP,EAAUO,QAAQM,SACjDvK,OAAOrC,EAA2B,oBAAlCqC,CAAqCmJ,GAAK,WACxC,OAtFJ,SAAuBO,GACrB,MAAO,CACLa,OAAQ,WACN,OAAOb,EAAUO,SAAWP,EAAUO,QAAQM,UAEhDW,sBAAuB,SAA+BC,GACpD,IAAIC,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAC9EpB,EAAMoK,EAAUO,SAAWP,EAAUO,QAAQM,SACjD,OAAOjL,GAAOA,EAAI4L,sBAAsBC,EAAUC,KA8E7CE,CAAc5B,KACpB,IACH,IAAI6B,EAAgBvL,OAAOrC,EAAmB,YAA1BqC,EAA6B,SAAUuD,GACzD,IAAI9C,EAAS8C,EAAM9C,OAEfA,IAAWoJ,EAAWI,SACxBxJ,EAAO+K,SAAS,EAAG,KAEpB,IACCC,EAAWnM,GAAO3B,EAAqB,cAAEqJ,EAAoB,CAC/D1I,MAAOuJ,EAAwBA,EAAwB,GAAIP,GAAU,GAAI,CACvEhC,SAAUgC,EAAQhC,UAAYyC,EAAYF,EAAwB,CAChEvI,IAAKA,EACL+F,MAAOA,GACNmE,IACHlK,IAAKA,EACLsH,UAAWU,EAAQV,WAAagD,EAAaK,WAE9CtM,EAAqB,cAAE,MAAO,CAC/BkD,IAAK,eACL4H,UAAW,WACXU,IAAKU,EACLnB,MAAOP,EACPuD,SAAUH,GACTlG,EAAM6B,WACLuB,EAAYpD,EAAMoD,UAClBhH,EAAQ4D,EAAM5D,MACdC,EAAS2D,EAAM3D,OACfgH,EAAQrD,EAAMqD,MACdC,EAAwBtD,EAAMsD,sBAC9BgD,EAAoB3L,OAAOgF,OAAO,CACpCkD,SAAU,YACTQ,EAAO,CACRjH,MAAOA,EACPC,OAAQA,IAEN8G,EAAUnD,EAAMmD,SAtVtB,SAAoCnD,GAClC,IAAIuG,EAAclL,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAKM,EAEtF,IAAK,IAAI6K,KAAkBD,EAAa,CACtC,IAAIE,EAAOD,EAAerF,MAAM,EAAG,GAC/BuF,EAAW1F,EAAawF,EAAerF,MAAM,IAEjD,GAAa,QAATsF,GAAkBzG,EAAM0G,GAAYH,EAAYC,GAClD,OAAO,EAGT,GAAa,QAATC,GAAkBzG,EAAM0G,GAAYH,EAAYC,GAClD,OAAO,EAIX,OAAO,EAsUwBG,CAA2B3G,EAAM4C,WAAa5C,EAAOsD,GAChFsD,EAAWjM,OAAOgF,OAAO,GAAImD,EAAiB,CAChD+D,WAAY1D,EAAU,UAAY,WAEpC,OAAO7K,EAAqB,cAAE,MAAO,CACnCkD,IAAK,gBACLsI,IAAKS,EACLlB,MAAOiD,GACNhO,EAAqB,cAAE,MAAO,CAC/BkD,IAAK,aACLsI,IAAKQ,EACLjB,MAAOuD,EACPxD,UAAWA,IACTgD,GAAWrC,IAAqB/D,EAAMkD,qBAAuB5K,EAAqB,cAAEkL,EAAgB,UAG1GK,EAAUY,UAAY,WACpB,OAAO7L,EAAkBU,GAAKV,EAAkBU,EAAEmL,aAGpDZ,EAAUb,UAAYA,EACtBa,EAAUN,aAAeA,EACI,IAAIuD,EAAa,EAM9C,SAASC,EAA2BC,EAAGC,GACrC,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIlO,MAAMF,QAAQgO,KAAOE,EAqD7B,SAAqCF,EAAGK,GACtC,IAAKL,EAAG,OACR,GAAiB,kBAANA,EAAgB,OAAOM,EAAkBN,EAAGK,GACvD,IAAIxO,EAAI8B,OAAO4M,UAAUC,SAASC,KAAKT,GAAG7F,MAAM,GAAI,GAC1C,WAANtI,GAAkBmO,EAAEU,cAAa7O,EAAImO,EAAEU,YAAYC,MACvD,GAAU,QAAN9O,GAAqB,QAANA,EAAa,OAAOK,MAAM0O,KAAKZ,GAClD,GAAU,cAANnO,GAAqB,2CAA2CgP,KAAKhP,GAAI,OAAOyO,EAAkBN,EAAGK,GA3DzES,CAA4Bd,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAExN,OAAqB,CAChH0N,IAAIF,EAAIE,GACZ,IAAIzN,EAAI,EAEJsO,EAAI,aAER,MAAO,CACL9G,EAAG8G,EACHlP,EAAG,WACD,OAAIY,GAAKuN,EAAExN,OAAe,CACxBwO,MAAM,GAED,CACLA,MAAM,EACN/O,MAAO+N,EAAEvN,OAGbwO,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGJ,GAIP,MAAM,IAAIK,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLtH,EAAG,WACDiG,EAAKF,EAAEG,OAAOC,aAEhBvO,EAAG,WACD,IAAI2P,EAAOtB,EAAGuB,OAEd,OADAH,EAAmBE,EAAKR,KACjBQ,GAETP,EAAG,SAAWS,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBpB,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIqB,EAAQ,MAAMF,KAe1B,SAASf,EAAkBqB,EAAKC,IACnB,MAAPA,GAAeA,EAAMD,EAAInP,UAAQoP,EAAMD,EAAInP,QAE/C,IAAK,IAAIC,EAAI,EAAGoP,EAAO,IAAI3P,MAAM0P,GAAMnP,EAAImP,EAAKnP,IAC9CoP,EAAKpP,GAAKkP,EAAIlP,GAGhB,OAAOoP,EAMT,IAAIC,EAAiD,WACnD,SAASC,IACPpO,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAM8R,GAEhDpO,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,YAAa,IA6C/D,OA1CA0D,OAAO5B,EAA6B,EAApC4B,CAAuCoO,EAAwB,CAAC,CAC9DvN,IAAK,gBACLvC,MAAO,SAAuB+P,EAAcC,GAC1C,IACIC,EADAC,EAAYpC,EAA2B9P,KAAKmS,WAAa,IAG7D,IACE,IAAKD,EAAUlI,MAAOiI,EAAQC,EAAUtQ,KAAKmP,MAAO,CAClD,IAAIxM,EAAM0N,EAAMjQ,MAEhB,IAAKI,EAAO2P,EAAaxN,GAAMyN,EAAUzN,IACvC,OAAO,GAGX,MAAO6M,GACPc,EAAUlB,EAAEI,GACZ,QACAc,EAAUhB,IAGZ,OAAO,IAER,CACD3M,IAAK,kBACLvC,MAAO,SAAyBoQ,EAAYC,GAC1C,MAAO,CACLC,MAAOF,EACPG,IAAKF,KAGR,CACD9N,IAAK,mBACLvC,MAAO,SAA0BoQ,EAAYC,EAAUtP,GACrDG,GAAO,EAAO,yCAEf,CACDqB,IAAK,cACLvC,MAAO,SAAqBoQ,EAAYC,GACtC,OAAOA,EAASnM,uBAIb4L,EAjD4C,GAsDjDU,EAAwBpS,EAAoB,KAG5CqS,EAAWrS,EAAoB,KAG/BsS,EAA4BtS,EAAoB,KAGhDuS,EAAiBvS,EAAoB,KAGrCwS,EAAwB,CAC1BtN,UAAW,EACXG,QAAS,GAMX,SAASoN,GAAQC,GACf,OAAOlM,OAAOC,SAASiM,IAAS7Q,MAAMF,QAAQ+Q,GAOhD,SAASC,GAA0BtD,EAAUuD,EAAYC,GAKvD,OATF,SAA8BxD,GAC5B,OAAOA,KAAYmD,EAIfM,CAAqBzD,IAAahN,KAAKC,IAAIuQ,EAAWD,GAAc,MACtEC,EAAWA,EAAW,EAAIA,EAAW,IAAMA,EAAW,KAGjDA,EAWT,SAASE,GAAuDpD,EAAGC,GACjE,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIlO,MAAMF,QAAQgO,KAAOE,EAqD7B,SAAiEF,EAAGK,GAClE,IAAKL,EAAG,OACR,GAAiB,kBAANA,EAAgB,OAAOqD,GAA8CrD,EAAGK,GACnF,IAAIxO,EAAI8B,OAAO4M,UAAUC,SAASC,KAAKT,GAAG7F,MAAM,GAAI,GAC1C,WAANtI,GAAkBmO,EAAEU,cAAa7O,EAAImO,EAAEU,YAAYC,MACvD,GAAU,QAAN9O,GAAqB,QAANA,EAAa,OAAOK,MAAM0O,KAAKZ,GAClD,GAAU,cAANnO,GAAqB,2CAA2CgP,KAAKhP,GAAI,OAAOwR,GAA8CrD,EAAGK,GA3DrGiD,CAAwDtD,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAExN,OAAqB,CAC5I0N,IAAIF,EAAIE,GACZ,IAAIzN,EAAI,EAEJsO,EAAI,aAER,MAAO,CACL9G,EAAG8G,EACHlP,EAAG,WACD,OAAIY,GAAKuN,EAAExN,OAAe,CACxBwO,MAAM,GAED,CACLA,MAAM,EACN/O,MAAO+N,EAAEvN,OAGbwO,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGJ,GAIP,MAAM,IAAIK,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLtH,EAAG,WACDiG,EAAKF,EAAEG,OAAOC,aAEhBvO,EAAG,WACD,IAAI2P,EAAOtB,EAAGuB,OAEd,OADAH,EAAmBE,EAAKR,KACjBQ,GAETP,EAAG,SAAWS,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBpB,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIqB,EAAQ,MAAMF,KAe1B,SAASgC,GAA8C1B,EAAKC,IAC/C,MAAPA,GAAeA,EAAMD,EAAInP,UAAQoP,EAAMD,EAAInP,QAE/C,IAAK,IAAIC,EAAI,EAAGoP,EAAO,IAAI3P,MAAM0P,GAAMnP,EAAImP,EAAKnP,IAC9CoP,EAAKpP,GAAKkP,EAAIlP,GAGhB,OAAOoP,EAGT,SAAS0B,GAAaC,GACpB,IAAIC,EAkBN,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKvD,UAAUC,SAASC,KAAKiD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAO7C,GACP,OAAO,GA3BuB8C,GAEhC,OAAO,WACL,IACIC,EADAC,EAAQtQ,OAAOiP,EAAgC,EAAvCjP,CAA0C6P,GAGtD,GAAIC,EAA2B,CAC7B,IAAIS,EAAYvQ,OAAOiP,EAAgC,EAAvCjP,CAA0C1D,MAAMyQ,YAEhEsD,EAASN,QAAQC,UAAUM,EAAO5P,UAAW6P,QAE7CF,EAASC,EAAM/P,MAAMjE,KAAMoE,WAG7B,OAAOV,OAAOgP,EAA2C,EAAlDhP,CAAqD1D,KAAM+T,IAsBtE,IAAIG,GAA4B,CAAC,YAAa,WAAY,OAAQ,UAAW,SACzEC,GAAiB,CAAC,WAAY,YAAa,OAAQ,QAAS,UAC5DC,GAA8B,CAAC,UAAW,SAC1CC,GAAe,CACjBC,MAAO,IACPC,MAAO,OAGLvT,GAAyD,SAAUwT,GACrE9Q,OAAO+O,EAA0B,EAAjC/O,CAAoC+Q,EAA2BD,GAE/D,IAAIE,EAASpB,GAAamB,GAE1B,SAASA,IACP,IAAIE,EAEA5L,EAAQ3E,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAShF,OAPAV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMyU,GAEhDE,EAAQD,EAAOlE,KAAKxQ,MAEpB0D,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,YAAaT,IAEhHS,EAAM5L,MAAQrF,OAAOgF,OAAO,GAAI2L,GAActL,GACvC4L,EAsFT,OAnFAjR,OAAO5B,EAA6B,EAApC4B,CAAuC+Q,EAA2B,CAAC,CACjElQ,IAAK,kBACLvC,MAAO,SAAyBoQ,EAAYC,GAC1C,IAIIJ,EAJA2C,EAAqB,GACrBC,EAAmB,GAEnB3C,EAAYiB,GAAuDgB,IAGvE,IACE,IAAKjC,EAAUlI,MAAOiI,EAAQC,EAAUtQ,KAAKmP,MAAO,CAClD,IAAIxM,EAAM0N,EAAMjQ,MACZgR,EAAaZ,EAAW7N,GACxB0O,EAAWZ,EAAS9N,GACxBrB,EAAO2P,GAAQG,IAAeH,GAAQI,GAAW,GAAG6B,OAAOvQ,EAAK,qCAChEqQ,EAAmBrQ,GAAOyO,EAC1B6B,EAAiBtQ,GAAOwO,GAA0BxO,EAAKyO,EAAYC,IAErE,MAAO7B,GACPc,EAAUlB,EAAEI,GACZ,QACAc,EAAUhB,IAGZ,IACI6D,EADAC,EAAa7B,GAAuDiB,IAGxE,IACE,IAAKY,EAAWhL,MAAO+K,EAASC,EAAWpT,KAAKmP,MAAO,CACrD,IAAIkE,EAAOF,EAAO/S,MAEdkT,EAAc9C,EAAW6C,IAAS,EAElCE,EAAY9C,EAAS4C,IAAS,EAElCL,EAAmBK,GAAQC,EAC3BL,EAAiBI,GAAQlC,GAA0BkC,EAAMC,EAAaC,IAExE,MAAO/D,GACP4D,EAAWhE,EAAEI,GACb,QACA4D,EAAW9D,IAGb,MAAO,CACLoB,MAAOsC,EACPrC,IAAKsC,KAGR,CACDtQ,IAAK,mBACLvC,MAAO,SAA0BoQ,EAAYC,EAAUtP,GACrD,IAGIqS,EAHApM,EAAWtF,OAAOzC,EAA2B,EAAlCyC,CAAqC0O,EAAYC,EAAUtP,EAAG/C,KAAK+I,OAE9EsM,EAAalC,GAAuDiB,IAGxE,IACE,IAAKiB,EAAWrL,MAAOoL,EAASC,EAAWzT,KAAKmP,MAAO,CACrD,IAAIxM,EAAM6Q,EAAOpT,MACjBgH,EAASzE,GAAOzB,EAAKsP,EAAW7N,GAAM8N,EAAS9N,GAAMxB,IAEvD,MAAOqO,GACPiE,EAAWrE,EAAEI,GACb,QACAiE,EAAWnE,IAGb,OAAOlI,IAER,CACDzE,IAAK,cACLvC,MAAO,SAAqBoQ,EAAYC,GACtC,IAAInM,EAAqBmM,EAASnM,mBAMlC,MAJ2B,SAAvBA,IACFA,EAAqBxC,OAAOzC,EAA8B,EAArCyC,CAAwC0O,EAAYC,EAAUrS,KAAK+I,QAGnF7C,MAIJuO,EAvGoD,CAwG3D5C,GAWF,SAASyD,GAA8CvF,EAAGC,GACxD,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIlO,MAAMF,QAAQgO,KAAOE,EAqD7B,SAAwDF,EAAGK,GACzD,IAAKL,EAAG,OACR,GAAiB,kBAANA,EAAgB,OAAOwF,GAAqCxF,EAAGK,GAC1E,IAAIxO,EAAI8B,OAAO4M,UAAUC,SAASC,KAAKT,GAAG7F,MAAM,GAAI,GAC1C,WAANtI,GAAkBmO,EAAEU,cAAa7O,EAAImO,EAAEU,YAAYC,MACvD,GAAU,QAAN9O,GAAqB,QAANA,EAAa,OAAOK,MAAM0O,KAAKZ,GAClD,GAAU,cAANnO,GAAqB,2CAA2CgP,KAAKhP,GAAI,OAAO2T,GAAqCxF,EAAGK,GA3D5FoF,CAA+CzF,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAExN,OAAqB,CACnI0N,IAAIF,EAAIE,GACZ,IAAIzN,EAAI,EAEJsO,EAAI,aAER,MAAO,CACL9G,EAAG8G,EACHlP,EAAG,WACD,OAAIY,GAAKuN,EAAExN,OAAe,CACxBwO,MAAM,GAED,CACLA,MAAM,EACN/O,MAAO+N,EAAEvN,OAGbwO,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGJ,GAIP,MAAM,IAAIK,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLtH,EAAG,WACDiG,EAAKF,EAAEG,OAAOC,aAEhBvO,EAAG,WACD,IAAI2P,EAAOtB,EAAGuB,OAEd,OADAH,EAAmBE,EAAKR,KACjBQ,GAETP,EAAG,SAAWS,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBpB,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIqB,EAAQ,MAAMF,KAe1B,SAASmE,GAAqC7D,EAAKC,IACtC,MAAPA,GAAeA,EAAMD,EAAInP,UAAQoP,EAAMD,EAAInP,QAE/C,IAAK,IAAIC,EAAI,EAAGoP,EAAO,IAAI3P,MAAM0P,GAAMnP,EAAImP,EAAKnP,IAC9CoP,EAAKpP,GAAKkP,EAAIlP,GAGhB,OAAOoP,EAGT,SAAS6D,GAAgClC,GACvC,IAAIC,EAkBN,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKvD,UAAUC,SAASC,KAAKiD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAO7C,GACP,OAAO,GA3BuB0E,GAEhC,OAAO,WACL,IACI3B,EADAC,EAAQtQ,OAAOiP,EAAgC,EAAvCjP,CAA0C6P,GAGtD,GAAIC,EAA2B,CAC7B,IAAIS,EAAYvQ,OAAOiP,EAAgC,EAAvCjP,CAA0C1D,MAAMyQ,YAEhEsD,EAASN,QAAQC,UAAUM,EAAO5P,UAAW6P,QAE7CF,EAASC,EAAM/P,MAAMjE,KAAMoE,WAG7B,OAAOV,OAAOgP,EAA2C,EAAlDhP,CAAqD1D,KAAM+T,IAsBtE,IAAI4B,GAAgD,CAAC,YAAa,WAAY,OAAQ,UAAW,SAE7F5U,GAAyC,SAAUyT,GACrD9Q,OAAO+O,EAA0B,EAAjC/O,CAAoCkS,EAAoBpB,GAExD,IAAIE,EAASe,GAAgCG,GAE7C,SAASA,IACP,IAAIjB,EAEAkB,EAAOzR,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAkB/E,OAhBAV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAM4V,GAEhDjB,EAAQD,EAAOlE,KAAKxQ,MAEhBiC,MAAMF,QAAQ8T,KAChBA,EAAO,CACLC,gBAAiBD,IAIrBlB,EAAMxC,UAAY0D,EAAKC,iBAAmBH,GAEtCE,EAAKE,SACPpB,EAAMoB,OAASF,EAAKE,QAGfpB,EA6ET,OA1EAjR,OAAO5B,EAA6B,EAApC4B,CAAuCkS,EAAoB,CAAC,CAC1DrR,IAAK,kBACLvC,MAAO,SAAyBoQ,EAAYC,GAC1C,IAAIuC,EAAqB,GACrBC,EAAmB,GAEvB,GAAI7U,KAAK+V,OAAQ,CACfnB,EAAmBmB,OAAS/V,KAAK+V,OACjC,IAAIC,EAAe,IAAI/U,EAAiC,EAAEmR,GAAYnJ,UAAUjJ,KAAK+V,QACrFrS,OAAOgF,OAAOmM,EAAkBxC,EAAU,CACxC0D,OAAQ,IAAI9U,EAAiC,EAAEoR,GAAU4D,QAAQD,GACjEA,aAAcA,IAIlB,IACI/D,EADAC,EAAYoD,GAA8CtV,KAAKmS,WAGnE,IACE,IAAKD,EAAUlI,MAAOiI,EAAQC,EAAUtQ,KAAKmP,MAAO,CAClD,IAAIxM,EAAM0N,EAAMjQ,MACZgR,EAAaZ,EAAW7N,GACxB0O,EAAWZ,EAAS9N,GACxBrB,EAAO2P,GAAQG,IAAeH,GAAQI,GAAW,GAAG6B,OAAOvQ,EAAK,qCAChEqQ,EAAmBrQ,GAAOyO,EAC1B6B,EAAiBtQ,GAAOwO,GAA0BxO,EAAKyO,EAAYC,IAErE,MAAO7B,GACPc,EAAUlB,EAAEI,GACZ,QACAc,EAAUhB,IAGZ,MAAO,CACLoB,MAAOsC,EACPrC,IAAKsC,KAGR,CACDtQ,IAAK,mBACLvC,MAAO,SAA0BoQ,EAAYC,EAAUtP,GACrD,IAGIgS,EAHA/L,EAAW,GAEXgM,EAAaM,GAA8CtV,KAAKmS,WAGpE,IACE,IAAK6C,EAAWhL,MAAO+K,EAASC,EAAWpT,KAAKmP,MAAO,CACrD,IAAIxM,EAAMwQ,EAAO/S,MACjBgH,EAASzE,GAAOzB,EAAKsP,EAAW7N,GAAM8N,EAAS9N,GAAMxB,IAEvD,MAAOqO,GACP4D,EAAWhE,EAAEI,GACb,QACA4D,EAAW9D,IAGb,GAAImB,EAAS0D,OAAQ,CACnB,IAAIG,EAAwB,IAAIjV,EAAiC,EAAEyC,OAAOgF,OAAO,GAAI2J,EAAUrJ,IAAWL,6BAA6B,CACrIC,OAAQyJ,EAAS2D,aACjB9O,IAAKpE,EAAKsP,EAAW2D,OAAQ1D,EAAS0D,OAAQhT,KAE5CoT,EAAyBzS,OAAOnC,EAA+B,EAAtCmC,CAAyCwS,EAAuB,GACzF5Q,EAAY6Q,EAAuB,GACnC9Q,EAAW8Q,EAAuB,GAEtCnN,EAAS1D,UAAYA,EACrB0D,EAAS3D,SAAWA,EAGtB,OAAO2D,MAIJ4M,EAvGoC,CAwG3C/D,GAeEuE,GAA0B,aAQ9B,IAAIC,GACK,EADLA,GAEW,EAFXA,GAGM,EAHNA,GAIM,EAENC,GAAgB,CAClBpQ,mBAAoB,EACpBC,iBAAkB,SAA0BpD,GAC1C,OAAOA,GAETqD,uBAAwB,IAAIrF,GAC5BsF,uBAAwBgQ,GACxBE,kBAAmBH,GACnBI,sBAAuBJ,GACvBK,gBAAiBL,IAGfM,GAAuC,WACzC,SAASC,IACP,IAAIhC,EAAQ3U,KAER6V,EAAOzR,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAE/EV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAM2W,GAEhDjT,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,kBAAmB,MAEnE0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,sBAAsB,WACpE2U,EAAMiC,gBAAkBC,sBAAsBlC,EAAMmC,oBAEpDnC,EAAMoC,qBAGR/W,KAAK+I,MAAQ,KACb/I,KAAKuK,iBAAmBsL,EAAKtL,kBAAoB6L,GACjDpW,KAAKgX,cAAgBnB,EAAKmB,eAAiBZ,GAC3CpW,KAAKiX,KAAOpB,EAAKqB,SAAWrD,KAAKsD,IAoLnC,OAjLAzT,OAAO5B,EAA6B,EAApC4B,CAAuCiT,EAAmB,CAAC,CACzDpS,IAAK,0BACLvC,MAAO,WACL,OAAOhC,KAAK4W,gBAAkB5W,KAAKoX,MAAMC,kBAAoB,OAE9D,CACD9S,IAAK,wBACLvC,MAAO,SAA+BgQ,GACpC,IAAID,EAAe/R,KAAK+I,MAGxB,GAFA/I,KAAK+I,MAAQiJ,GAERD,GAAgB/R,KAAKsX,4BAA4BvF,EAAcC,GAClE,OAAO,EAGT,GAAIhS,KAAKuX,qBAAqBvF,GAAY,CACxC,IAAII,EAAa1O,OAAOgF,OAAO,GAAIqJ,GAC/BM,EAAW3O,OAAOgF,OAAO,GAAIsJ,GAEjC,GAAIhS,KAAKwX,4BACPzF,EAAayE,wBAETxW,KAAKoX,MAAMK,eAAiBpB,GAC9B3S,OAAOgF,OAAO0J,EAAYpS,KAAKoX,MAAM/E,UAErC3O,OAAOgF,OAAO0J,EAAYpS,KAAKoX,MAAMC,mBAGnCrX,KAAKoX,MAAMK,eAAiBpB,IAA0B,CACxD,IAAIqB,EAAc1X,KAAKiX,OACnBU,GAAMD,EAAc1X,KAAKoX,MAAMQ,WAAa5X,KAAKoX,MAAMS,SAC3DxF,EAASnM,mBAAqBlG,KAAKoX,MAAMS,UAAYH,EAAc1X,KAAKoX,MAAMQ,WAC9EvF,EAASlM,iBA9ErB,SAA4B2R,EAAQH,GAClC,IAAII,EAAKD,EAAOH,GAChB,OAAO,SAAU5U,GACf,OAAO,GAAK,EAAIgV,IAAOD,EAAO/U,GAAK,EAAI4U,GAAMA,GAAMI,IA2EfC,CAAmBhY,KAAKoX,MAAMU,OAAQH,GAClEtF,EAASjM,uBAAyBgM,EAAWhM,uBAQjD,OAJAiM,EAASkE,oBAETvW,KAAKiY,mBAAmB7F,EAAYC,IAE7B,EAST,OANIrS,KAAKwX,4BACPzF,EAAayE,wBAEbxW,KAAKkY,mBAGA,IAER,CACD3T,IAAK,0BACLvC,MAAO,WACL,OAAOmW,QAAQnY,KAAK4W,mBAErB,CACDrS,IAAK,uBACLvC,MAAO,SAA8B+G,GACnC,IAAI7C,EAAqB6C,EAAM7C,mBAC3BE,EAAyB2C,EAAM3C,uBACnC,OAAQF,EAAqB,GAA4B,SAAvBA,IAAkCiS,QAAQ/R,KAE7E,CACD7B,IAAK,kCACLvC,MAAO,SAAyC+G,GAC9C,QAAI/I,KAAKoX,MAAMC,mBACNrX,KAAKoX,MAAMgB,aAAaC,cAActP,EAAO/I,KAAKoX,MAAMC,qBAKlE,CACD9S,IAAK,8BACLvC,MAAO,SAAqC+P,EAAcC,GACxD,OAAKD,IAID/R,KAAKwX,0BACAxX,KAAKoX,MAAMK,eAAiBpB,IAA4BrW,KAAKsY,gCAAgCtG,IAGlGhS,KAAKuX,qBAAqBvF,IACrBA,EAAU5L,uBAAuBiS,cAActG,EAAcC,MAKvE,CACDzN,IAAK,qBACLvC,MAAO,SAA4BoQ,EAAYC,GAC7CnP,EAAOlD,KAAKuX,qBAAqBlF,IAE7BrS,KAAK4W,iBACP2B,qBAAqBvY,KAAK4W,iBAG5B,IAAIxQ,EAAyBiM,EAASjM,uBAClCyR,EAAWzR,EAAuBoS,YAAcpS,EAAuBoS,YAAYpG,EAAYC,GAAYA,EAASnM,mBAExH,GAAiB,IAAb2R,EAAJ,CAIA,IAAIY,EAAepG,EAASjM,uBAAuBsS,gBAAgBtG,EAAYC,GAC3EsG,EAAmB,CACrBC,cAAc,EACdC,UAAWzG,EAAW7M,OAAS8M,EAAS9M,KACxCuT,UAAW1G,EAAW9M,YAAc+M,EAAS/M,WAAa8M,EAAW/M,WAAagN,EAAShN,SAC3F0T,WAAY3G,EAAW3M,UAAY4M,EAAS5M,SAAW2M,EAAWzM,QAAU0M,EAAS1M,OAEvF3F,KAAKoX,MAAQ,CACXS,SAAUA,EACVC,OAAQzF,EAASlM,iBACjBiS,aAAc/F,EAASjM,uBACvBqR,aAAcpF,EAAShM,uBACvBuR,UAAW5X,KAAKiX,OAChB7E,WAAYqG,EAAanG,MACzBD,SAAUoG,EAAalG,IACvByG,UAAW,KACX3B,kBAAmB,IAGrBrX,KAAK8W,qBAEL9W,KAAKgX,cAAc2B,MAEpB,CACDpU,IAAK,iBACLvC,MAAO,WACDhC,KAAK4W,kBACP2B,qBAAqBvY,KAAK4W,iBAC1B5W,KAAK4W,gBAAkB,MAGzB5W,KAAKgX,cAAc,CACjB4B,cAAc,EACdC,WAAW,EACXC,WAAW,EACXC,YAAY,MAGf,CACDxU,IAAK,kBACLvC,MAAO,WACL,IAAI0V,EAAc1X,KAAKiX,OACnBgC,EAAcjZ,KAAKoX,MACnBQ,EAAYqB,EAAYrB,UACxBC,EAAWoB,EAAYpB,SACvBC,EAASmB,EAAYnB,OACrBM,EAAea,EAAYb,aAC3BhG,EAAa6G,EAAY7G,WACzBC,EAAW4G,EAAY5G,SACvB6G,GAAY,EACZnW,GAAK2U,EAAcE,GAAaC,EAEhC9U,GAAK,IACPA,EAAI,EACJmW,GAAY,GAGdnW,EAAI+U,EAAO/U,GACX,IAAIiG,EAAWoP,EAAae,iBAAiB/G,EAAYC,EAAUtP,GAC/DqW,EAAW,IAAIpU,EAAmBtB,OAAOgF,OAAO,GAAI1I,KAAK+I,MAAOC,IACpEhJ,KAAKoX,MAAMC,kBAAoB+B,EAASC,mBACxCrZ,KAAKuK,iBAAiBvK,KAAKoX,MAAMC,kBAAmBrX,KAAK+I,OAErDmQ,IACFlZ,KAAKkY,iBAELlY,KAAK+I,MAAM0N,uBAKVE,EAvMkC,GA0M3CjT,OAAOtC,EAAgC,EAAvCsC,CAA0CgT,GAAsC,eAAgBJ,IAIhG,IAAIgD,GAAWlZ,EAAoB,MAOnC,SAASmZ,GAAuBhW,EAAQC,GACtC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAAS+V,GAA4BrV,GACnC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN+W,GAAuB7V,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC7Db,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEkV,GAAuB7V,OAAOW,IAASC,SAAQ,SAAUC,GACvDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAMT,IAAIsV,GAAsB,CACxBvT,mBAAoB,GAElBwT,GAA0B,CAC5BxT,mBAAoB,IACpBC,iBAAkB,SAA0BpD,GAC1C,OAAOA,GAETqD,uBAAwB,IAAIrF,GAC5BsF,uBAAwBgQ,IAEtBsD,GAAkB,IAElBC,GAAiB,SAAwB7W,GAC3C,OAAO,GAAK,EAAIA,IAAM,EAAIA,IAGxB8W,GACK,CAAC,SADNA,GAEG,CAAC,WAAY,UAAW,UAF3BA,GAGK,CAAC,aAAc,YAAa,YAHjCA,GAIU,CAAC,cAAe,aAAc,aAJxCA,GAKU,CAAC,aALXA,GAMQ,CAAC,WAGTC,GAA+B,WACjC,SAASC,IACP,IAAIpF,EAAQ3U,KAEZ0D,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAM+Z,GAEhDrW,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,SAAU,IAE1D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,cAAc,GAE9D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,WAAW,GAE3D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,cAAc,GAE9D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,mBAAmB,GAEnE0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,aAAa,GAE7D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,eAAe,GAE/D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,YAAY,GAE5D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,oBAAqB,CACnEga,YAAY,IAGdtW,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,UAAW,IAE3D0D,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,wBAAwB,SAAUia,GAChFvW,OAAOgF,OAAOiM,EAAMuF,kBAAmBD,GAEnCtF,EAAMqC,eACRrC,EAAMqC,cAAcrC,EAAMuF,sBAI9BxW,OAAOtC,EAAgC,EAAvCsC,CAA0C1D,KAAM,iBAAiB,SAAUma,EAAaC,GACtFzF,EAAMpK,iBAAiB4P,EAAaxF,EAAMuF,kBAAmBE,MAG/Dpa,KAAKqa,YAAcra,KAAKqa,YAAYC,KAAKta,MACzCA,KAAKua,mBAAqB,IAAI7D,GAAqC,CACjEnM,iBAAkBvK,KAAKwa,cACvBxD,cAAehX,KAAKya,uBAqpBxB,OAjpBA/W,OAAO5B,EAA6B,EAApC4B,CAAuCqW,EAAe,CAAC,CACrDxV,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B1a,KAAKoZ,SAAWpZ,KAAK2a,cACrB,IAAIC,EAAoB5a,KAAK6a,mBAE7B,OAAQH,EAAMlL,MACZ,IAAK,WACH,OAAOoL,GAA4B5a,KAAK8a,YAAYJ,GAEtD,IAAK,UACH,OAAO1a,KAAK+a,OAAOL,GAErB,IAAK,SACH,OAAO1a,KAAKgb,UAAUN,GAExB,IAAK,aACH,OAAOE,GAA4B5a,KAAKib,cAAcP,GAExD,IAAK,YACH,OAAO1a,KAAKkb,SAASR,GAEvB,IAAK,WACH,OAAO1a,KAAKmb,YAAYT,GAE1B,IAAK,cACH,OAAOE,GAA4B5a,KAAKob,kBAAkBV,GAE5D,IAAK,aACH,OAAO1a,KAAKqb,aAAaX,GAE3B,IAAK,YACH,OAAO1a,KAAKsb,gBAAgBZ,GAE9B,IAAK,YACH,OAAO1a,KAAKub,aAAab,GAE3B,IAAK,QACH,OAAO1a,KAAKwb,SAASd,GAEvB,IAAK,UACH,OAAO1a,KAAKyb,WAAWf,GAEzB,QACE,OAAO,KAGZ,CACDnW,IAAK,YACLvC,MAAO,SAAmB0Y,GACxB,IAAIgB,EAAsBhB,EAAMiB,aAGhC,MAAO,CAFCD,EAAoBE,EACpBF,EAAoBG,KAG7B,CACDtX,IAAK,uBACLvC,MAAO,SAA8B0Y,GACnC,IAAIoB,EAAWpB,EAAMoB,SACrB,OAAO3D,QAAQ2D,EAASC,SAAWD,EAASE,QAAUF,EAASG,SAAWH,EAASI,YAEpF,CACD3X,IAAK,cACLvC,MAAO,SAAqBma,GAC1B,IAAIC,EAASpc,KAETqc,EAAQC,YAAW,WACjBF,EAAOvB,qBAAuBwB,IAChCD,EAAOvB,mBAAqB,QAE7BsB,GACHnc,KAAK6a,mBAAqBwB,IAE3B,CACD9X,IAAK,iBACLvC,MAAO,SAAwBua,EAAaC,EAAY7D,GACtD,IAAIyB,EAAcpa,KAAKoZ,oBAAoBpU,EAAqBhF,KAAKoZ,SAASC,mBAAqBrZ,KAAKoZ,SAEpGe,EAAcX,GAA4BA,GAA4B,GAAI+C,EAAYlD,oBAAqBmD,GAE3GC,EAAmB/Y,OAAOD,KAAK0W,GAAauC,MAAK,SAAUnY,GAC7D,OAAO6V,EAAY7V,KAAS4V,EAAY5V,MAE1CvE,KAAKgH,OAASuV,EAAYI,WAE1B3c,KAAKya,qBAAqB9B,GAEtB8D,GACFzc,KAAKuK,iBAAiB4P,EAAana,KAAKka,kBAAmBE,KAG9D,CACD7V,IAAK,cACLvC,MAAO,SAAqB4a,GAC1B,OAAO,IAAI5X,EAAmBwU,GAA4BA,GAA4BA,GAA4B,GAAIxZ,KAAK6c,eAAgB7c,KAAKgH,QAAS4V,MAE1J,CACDrY,IAAK,aACLvC,MAAO,WACL,OAAOhC,KAAKka,kBAAkBF,aAE/B,CACDzV,IAAK,aACLvC,MAAO,SAAoB8M,GACzB,IAAIvE,EAAmBuE,EAAQvE,iBAC3ByM,EAAgBlI,EAAQkI,cACxB8F,EAAwBhO,EAAQrE,aAChCA,OAAyC,IAA1BqS,EAAmC9c,KAAKyK,aAAeqS,EACtEC,EAAwBjO,EAAQkO,cAChCA,OAA0C,IAA1BD,GAA0CA,EAC1DE,EAAsBnO,EAAQoO,WAC9BA,OAAqC,IAAxBD,EAAiCjd,KAAKkd,WAAaD,EAChEE,EAAmBrO,EAAQsO,QAC3BA,OAA+B,IAArBD,EAA8Bnd,KAAKod,QAAUD,EACvDE,EAAsBvO,EAAQwO,WAC9BA,OAAqC,IAAxBD,EAAiCrd,KAAKsd,WAAaD,EAChEE,EAAwBzO,EAAQ0O,gBAChCA,OAA4C,IAA1BD,EAAmCvd,KAAKwd,gBAAkBD,EAC5EE,EAAqB3O,EAAQ4O,UAC7BA,OAAmC,IAAvBD,EAAgCzd,KAAK0d,UAAYD,EAC7DE,EAAuB7O,EAAQ8O,YAC/BA,OAAuC,IAAzBD,EAAkC3d,KAAK4d,YAAcD,EACnEE,EAAoB/O,EAAQgP,SAC5BA,OAAiC,IAAtBD,EAA+B7d,KAAK8d,SAAWD,EAC9D7d,KAAKuK,iBAAmBA,EACxBvK,KAAKgX,cAAgBA,EACrB,IAAI+G,EAAc/d,KAAK6c,eAAiB,GACpCmB,EAAmBD,EAAY3Y,SAAW0J,EAAQ1J,QAAU2Y,EAAY5Y,QAAU2J,EAAQ3J,MAC9FnF,KAAK6c,cAAgB/N,EAEjBkP,IACFhe,KAAKoZ,SAAW2E,EAChB/d,KAAKie,eAAe,IAAIjZ,EAAmB8J,KAG7C9O,KAAKua,mBAAmB2D,sBAAsBpP,GAE1C9O,KAAKyK,eAAiBA,IACxBzK,KAAKyK,aAAeA,EACpBzK,KAAKme,QAAU,GACfne,KAAKoe,aAAape,KAAKqe,QAAQ,IAGjCre,KAAKoe,aAAavE,GAAmBmD,GAAiB7E,QAAQ+E,IAC9Dld,KAAKoe,aAAavE,GAAiBmD,GAAiB7E,QAAQiF,GAAWE,IACvEtd,KAAKoe,aAAavE,GAAmBmD,GAAiB7E,QAAQuF,GAAaE,IAC3E5d,KAAKoe,aAAavE,GAAwBmD,GAAiB7E,QAAQyF,IACnE5d,KAAKoe,aAAavE,GAAwBmD,GAAiB7E,QAAQqF,IACnExd,KAAKoe,aAAavE,GAAsBmD,GAAiB7E,QAAQ2F,IACjE9d,KAAKkd,WAAaA,EAClBld,KAAKod,QAAUA,EACfpd,KAAKsd,WAAaA,EAClBtd,KAAKwd,gBAAkBA,EACvBxd,KAAK0d,UAAYA,EACjB1d,KAAK4d,YAAcA,EACnB5d,KAAK8d,SAAWA,IAEjB,CACDvZ,IAAK,eACLvC,MAAO,SAAsBsc,EAAYC,GACvC,IAAIC,EAASxe,KAETA,KAAKyK,cACP6T,EAAWha,SAAQ,SAAUma,GACvBD,EAAOL,QAAQM,KAAeF,IAChCC,EAAOL,QAAQM,GAAaF,EAExBA,EACFC,EAAO/T,aAAaiU,GAAGD,EAAWD,EAAOnE,aAEzCmE,EAAO/T,aAAakU,IAAIF,EAAWD,EAAOnE,mBAMnD,CACD9V,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B,IAAIxT,EAAMlH,KAAK4e,UAAUlE,GACzB1a,KAAK6e,WAAa7e,KAAK8e,qBAAqBpE,IAAUA,EAAMqE,YAC5D,IAAIxC,EAAcvc,KAAK6e,WAAa7e,KAAKoZ,SAAS4F,YAAY,CAC5D9X,IAAKA,IACFlH,KAAKoZ,SAAS6F,SAAS,CAC1B/X,IAAKA,IAKP,OAHAlH,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDO,YAAY,KAEP,IAER,CACDzV,IAAK,SACLvC,MAAO,SAAgB0Y,GACrB,QAAK1a,KAAKga,eAIHha,KAAK6e,WAAa7e,KAAKkf,aAAaxE,GAAS1a,KAAKmf,WAAWzE,MAErE,CACDnW,IAAK,YACLvC,MAAO,SAAmB0Y,GACxB,QAAK1a,KAAKga,eAIHha,KAAK6e,WAAa7e,KAAKof,gBAAgB1E,GAAS1a,KAAKqf,cAAc3E,MAE3E,CACDnW,IAAK,aACLvC,MAAO,SAAoB0Y,GACzB,IAAK1a,KAAKod,QACR,OAAO,EAGT,IAAIlW,EAAMlH,KAAK4e,UAAUlE,GACrB6B,EAAcvc,KAAKoZ,SAASkG,IAAI,CAClCpY,IAAKA,IAKP,OAHAlH,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDX,WAAW,KAEN,IAER,CACDvU,IAAK,gBACLvC,MAAO,SAAuB0Y,GAC5B,GAAI1a,KAAKod,QAAS,CAChB,IAAImC,EAAwBvf,KAAKod,QAAQoC,QACrCA,OAAoC,IAA1BD,EAAmC5F,GAAkB4F,EAEnE,GAAIC,GAAW9E,EAAM+E,SAAU,CAC7B,IAAIvY,EAAMlH,KAAK4e,UAAUlE,GACrBgF,EAAS,CAACxY,EAAI,GAAKwT,EAAMiF,UAAYH,EAAU,EAAGtY,EAAI,GAAKwT,EAAMkF,UAAYJ,EAAU,GACvFK,EAAqB7f,KAAKoZ,SAASkG,IAAI,CACzCpY,IAAKwY,IACJI,SAQH,OAPA9f,KAAKie,eAAe4B,EAAoBrG,GAA4BA,GAA4B,GAAIE,IAA0B,GAAI,CAChIxT,mBAAoBsZ,EACpBrZ,iBAAkByT,KAChB,CACFI,YAAY,EACZlB,WAAW,KAEN,GAIX,IAAIyD,EAAcvc,KAAKoZ,SAAS0G,SAKhC,OAJA9f,KAAKie,eAAe1B,EAAa,KAAM,CACrCvC,YAAY,EACZlB,WAAW,KAEN,IAER,CACDvU,IAAK,eACLvC,MAAO,SAAsB0Y,GAC3B,IAAK1a,KAAKsd,WACR,OAAO,EAGT,IAAIpW,EAAMlH,KAAK4e,UAAUlE,GACrB6B,EAAcvc,KAAKoZ,SAAS2G,OAAO,CACrC7Y,IAAKA,IAKP,OAHAlH,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDV,YAAY,KAEP,IAER,CACDxU,IAAK,kBACLvC,MAAO,SAAyB0Y,GAC9B,GAAI1a,KAAKsd,WAAY,CACnB,IAAI0C,EAAwBhgB,KAAKsd,WAAWkC,QACxCA,OAAoC,IAA1BQ,EAAmCrG,GAAkBqG,EAEnE,GAAIR,GAAW9E,EAAM+E,SAAU,CAC7B,IAAIvY,EAAMlH,KAAK4e,UAAUlE,GACrBgF,EAAS,CAACxY,EAAI,GAAKwT,EAAMiF,UAAYH,EAAU,EAAGtY,EAAI,GAAKwT,EAAMkF,UAAYJ,EAAU,GACvFK,EAAqB7f,KAAKoZ,SAAS2G,OAAO,CAC5C7Y,IAAKwY,IACJO,YAQH,OAPAjgB,KAAKie,eAAe4B,EAAoBrG,GAA4BA,GAA4B,GAAIE,IAA0B,GAAI,CAChIxT,mBAAoBsZ,EACpBrZ,iBAAkByT,KAChB,CACFI,YAAY,EACZjB,YAAY,KAEP,GAIX,IAAIwD,EAAcvc,KAAKoZ,SAAS0G,SAKhC,OAJA9f,KAAKie,eAAe1B,EAAa,KAAM,CACrCvC,YAAY,EACZjB,YAAY,KAEP,IAER,CACDxU,IAAK,WACLvC,MAAO,SAAkB0Y,GACvB,IAAK1a,KAAKkd,WACR,OAAO,EAGT,IAAIgD,EAAmBlgB,KAAKkd,WACxBiD,EAAwBD,EAAiB5L,MACzCA,OAAkC,IAA1B6L,EAAmC,IAAOA,EAClDC,EAAwBF,EAAiBG,OACzCA,OAAmC,IAA1BD,GAA2CA,EACxD1F,EAAM4F,iBACN,IAAIpZ,EAAMlH,KAAK4e,UAAUlE,GACrB6F,EAAQ7F,EAAM6F,MACdjY,EAAQ,GAAK,EAAI7F,KAAK+d,KAAK/d,KAAKC,IAAI6d,EAAQjM,KAE5CiM,EAAQ,GAAe,IAAVjY,IACfA,EAAQ,EAAIA,GAGd,IAAIiU,EAAcvc,KAAKoZ,SAAS7T,KAAK,CACnC2B,IAAKA,EACLoB,MAAOA,IAGT,OAAIiU,EAAYlD,mBAAmB9T,OAASvF,KAAK6c,cAActX,OAI/DvF,KAAKie,eAAe1B,EAAa/C,GAA4BA,GAA4B,GAAIE,IAA0B,GAAI,CACzHtT,uBAAwB,IAAIrF,GAAuC,CACjEgV,OAAQ7O,IAEVhB,mBAAoBma,EAAS,IAAM,IACjC,CACFvH,WAAW,EACXD,WAAW,KAEN,KAER,CACDtU,IAAK,gBACLvC,MAAO,SAAuB0Y,GAC5B,IAAIxT,EAAMlH,KAAK4e,UAAUlE,GACrB6B,EAAcvc,KAAKoZ,SAASqH,UAAU,CACxCvZ,IAAKA,IACJ8X,YAAY,CACb9X,IAAKA,IAOP,OALAlH,KAAK0gB,oBAAsBhG,EAAMiG,SACjC3gB,KAAK4gB,gBAAkBlG,EACvB1a,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDO,YAAY,KAEP,IAER,CACDzV,IAAK,WACLvC,MAAO,SAAkB0Y,GACvB,IAAK1a,KAAKga,aACR,OAAO,EAGT,IAAKha,KAAK0d,YAAc1d,KAAK4d,YAC3B,OAAO,EAGT,IAAIrB,EAAcvc,KAAKoZ,SAEvB,GAAIpZ,KAAK0d,UAAW,CAClB,IAAIpV,EAAQoS,EAAMpS,MACdpB,EAAMlH,KAAK4e,UAAUlE,GACzB6B,EAAcA,EAAYhX,KAAK,CAC7B2B,IAAKA,EACLoB,MAAOA,IAIX,GAAItI,KAAK4d,YAAa,CACpB,IAAI+C,EAAWjG,EAAMiG,SACrBpE,EAAcA,EAAYwD,OAAO,CAC/BjY,YAAa9H,KAAK0gB,oBAAsBC,IAW5C,OAPA3gB,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDO,YAAY,EACZlB,UAAWX,QAAQnY,KAAK0d,WACxB7E,UAAWV,QAAQnY,KAAK0d,WACxB3E,WAAYZ,QAAQnY,KAAK4d,eAE3B5d,KAAK4gB,gBAAkBlG,GAChB,IAER,CACDnW,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B,IAAK1a,KAAKga,aACR,OAAO,EAGT,GAAIha,KAAK0d,UAAW,CAClB,IAAImD,EAAwB7gB,KAAK0d,UAAU8B,QACvCA,OAAoC,IAA1BqB,EAAmClH,GAAkBkH,EAC/DD,EAAkB5gB,KAAK4gB,gBAE3B,GAAIpB,GAAWoB,GAAmBlG,EAAMpS,QAAUsY,EAAgBtY,MAAO,CACvE,IAAIpB,EAAMlH,KAAK4e,UAAUlE,GAErBoG,EAAe9gB,KAAKoZ,SAAS6G,YAE7Bc,EAAIte,KAAK4G,KAAKqR,EAAMpS,OAEpB0Y,GAAaD,EAAIte,KAAK4G,KAAKuX,EAAgBtY,SAAWoS,EAAMuG,UAAYL,EAAgBK,WAExFC,EAAWze,KAAK0e,IAAI,EAAGJ,EAAIC,EAAYxB,EAAU,GAkBrD,OAjBAsB,EAAeA,EAAavb,KAAK,CAC/B2B,IAAKA,EACLoB,MAAO4Y,IACNE,UACHphB,KAAKie,eAAe6C,EAActH,GAA4BA,GAA4B,GAAIE,IAA0B,GAAI,CAC1HtT,uBAAwB,IAAIrF,GAAuC,CACjEgV,OAAQ7O,IAEVhB,mBAAoBsZ,EACpBrZ,iBAAkByT,KAChB,CACFI,YAAY,EACZlB,UAAWX,QAAQnY,KAAK0d,WACxB7E,UAAWV,QAAQnY,KAAK0d,WACxB3E,YAAY,IAEd/Y,KAAKqhB,YAAY7B,IACV,GAIX,IAAIjD,EAAcvc,KAAKoZ,SAASgI,UAAUnB,YAU1C,OATAjgB,KAAKgH,OAAOsa,mBAAqB,EACjCthB,KAAKie,eAAe1B,EAAa,KAAM,CACrCvC,YAAY,EACZlB,WAAW,EACXD,WAAW,EACXE,YAAY,IAEd/Y,KAAK0gB,oBAAsB,KAC3B1gB,KAAK4gB,gBAAkB,MAChB,IAER,CACDrc,IAAK,oBACLvC,MAAO,SAA2B0Y,GAChC,IAAIxT,EAAMlH,KAAK4e,UAAUlE,GACrB6B,EAAcvc,KAAKoZ,SAAS4F,YAAY,CAC1C9X,IAAKA,IAKP,OAHAlH,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDO,YAAY,KAEP,IAER,CACDzV,IAAK,eACLvC,MAAO,SAAsB0Y,GAC3B,IAAK1a,KAAKga,aACR,OAAO,EAGT,IAAKha,KAAK4d,YACR,OAAO,EAGT,IAAI1W,EAAMlH,KAAK4e,UAAUlE,GACzBxT,EAAI,IAAMwT,EAAMhR,OAChB,IAAI6S,EAAcvc,KAAKoZ,SAAS2G,OAAO,CACrC7Y,IAAKA,IAKP,OAHAlH,KAAKie,eAAe1B,EAAa9C,GAAqB,CACpDV,YAAY,KAEP,IAER,CACDxU,IAAK,kBACLvC,MAAO,SAAyB0Y,GAC9B,IAAK1a,KAAKga,aACR,OAAO,EAGT,GAAIha,KAAK4d,YAAa,CACpB,IAAI2D,EAAwBvhB,KAAK4d,YAAY4B,QACzCA,OAAoC,IAA1B+B,EAAmC5H,GAAkB4H,EAEnE,GAAI/B,GAAW9E,EAAMkF,UAAW,CAC9B,IAAI1Y,EAAMlH,KAAK4e,UAAUlE,GACrBgF,EAAS,CAACxY,EAAI,GAAIA,EAAI,IAAMwT,EAAMkF,UAAYJ,EAAU,GAExDgC,EAAgBxhB,KAAKoZ,SAAS2G,OAAO,CACvC7Y,IAAKwY,IAWP,OARA1f,KAAKie,eAAeuD,EAAehI,GAA4BA,GAA4B,GAAIE,IAA0B,GAAI,CAC3HxT,mBAAoBsZ,EACpBrZ,iBAAkByT,KAChB,CACFI,YAAY,EACZjB,YAAY,IAEd/Y,KAAKqhB,YAAY7B,IACV,GAIX,IAAIjD,EAAcvc,KAAKoZ,SAAS6G,YAKhC,OAJAjgB,KAAKie,eAAe1B,EAAa,KAAM,CACrCvC,YAAY,EACZjB,YAAY,KAEP,IAER,CACDxU,IAAK,eACLvC,MAAO,SAAsB0Y,GAC3B,IAAK1a,KAAKwd,gBACR,OAAO,EAGT,IAAItW,EAAMlH,KAAK4e,UAAUlE,GACrB+G,EAAYzhB,KAAK8e,qBAAqBpE,GACtC6B,EAAcvc,KAAKoZ,SAAS7T,KAAK,CACnC2B,IAAKA,EACLoB,MAAOmZ,EAAY,GAAM,IAS3B,OAPAzhB,KAAKie,eAAe1B,EAAa7Y,OAAOgF,OAAO,GAAIgR,GAAyB,CAC1EtT,uBAAwB,IAAIrF,GAAuC,CACjEgV,OAAQ7O,MAER,CACF2R,WAAW,KAEN,IAER,CACDtU,IAAK,aACLvC,MAAO,SAAoB0Y,GACzB,IAAK1a,KAAK8d,SACR,OAAO,EAGT,IAWIvB,EAXAmF,EAAU1hB,KAAK8e,qBAAqBpE,GACpCiH,EAAiB3hB,KAAK8d,SACtB8D,EAAwBD,EAAeE,UACvCA,OAAsC,IAA1BD,EAAmC,EAAIA,EACnDE,EAAwBH,EAAeI,UACvCA,OAAsC,IAA1BD,EAAmC,IAAMA,EACrDE,EAAwBL,EAAeM,aACvCA,OAAyC,IAA1BD,EAAmC,GAAKA,EACvDE,EAAyBP,EAAeQ,aACxCA,OAA0C,IAA3BD,EAAoC,GAAKA,EACxDrF,EAAgB7c,KAAK6c,cAGzB,OAAQnC,EAAMoB,SAASsG,SACrB,KAAK,IAED7F,EADEmF,EACY1hB,KAAK2a,YAAY,CAC7BpV,KAAMsX,EAActX,KAAO9C,KAAK4G,KAAKwY,GAAa,IAGtC7hB,KAAK2a,YAAY,CAC7BpV,KAAMsX,EAActX,KAAO9C,KAAK4G,KAAKwY,KAIzC,MAEF,KAAK,IAEDtF,EADEmF,EACY1hB,KAAK2a,YAAY,CAC7BpV,KAAMsX,EAActX,KAAO9C,KAAK4G,KAAKwY,GAAa,IAGtC7hB,KAAK2a,YAAY,CAC7BpV,KAAMsX,EAActX,KAAO9C,KAAK4G,KAAKwY,KAIzC,MAEF,KAAK,GAEDtF,EADEmF,EACY1hB,KAAK2a,YAAY,CAC7BlV,QAASoX,EAAcpX,QAAUwc,IAGrBjiB,KAAKoZ,SAASkG,IAAI,CAC9BpY,IAAK,CAAC6a,EAAW,GACjBza,SAAU,CAAC,EAAG,KAIlB,MAEF,KAAK,GAEDiV,EADEmF,EACY1hB,KAAK2a,YAAY,CAC7BlV,QAASoX,EAAcpX,QAAUwc,IAGrBjiB,KAAKoZ,SAASkG,IAAI,CAC9BpY,IAAK,EAAE6a,EAAW,GAClBza,SAAU,CAAC,EAAG,KAIlB,MAEF,KAAK,GAEDiV,EADEmF,EACY1hB,KAAK2a,YAAY,CAC7BhV,MAAOkX,EAAclX,MAAQwc,IAGjBniB,KAAKoZ,SAASkG,IAAI,CAC9BpY,IAAK,CAAC,EAAG6a,GACTza,SAAU,CAAC,EAAG,KAIlB,MAEF,KAAK,GAEDiV,EADEmF,EACY1hB,KAAK2a,YAAY,CAC7BhV,MAAOkX,EAAclX,MAAQwc,IAGjBniB,KAAKoZ,SAASkG,IAAI,CAC9BpY,IAAK,CAAC,GAAI6a,GACVza,SAAU,CAAC,EAAG,KAIlB,MAEF,QACE,OAAO,EAGX,OAAOtH,KAAKie,eAAe1B,EAAa7C,QAIrCK,EAhsB0B,GAysBnC,SAASsI,GAAwB9e,EAAQC,GACvC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAAS6e,GAA6Bne,GACpC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN6f,GAAwB3e,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC9Db,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEge,GAAwB3e,OAAOW,IAASC,SAAQ,SAAUC,GACxDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAcT,IAAIoe,GAA4B7e,OAAOgF,OAAO,GAAImH,EAAW9D,UAAW,CACtEnH,QAAStD,EAAmB,OAC5BqD,QAASrD,EAAmB,OAC5BwD,SAAUxD,EAAmB,OAC7BuD,SAAUvD,EAAmB,OAC7BkJ,kBAAmBlJ,EAAiB,KACpCiJ,iBAAkBjJ,EAAiB,KACnCkhB,yBAA0BlhB,EAAiB,KAC3C4E,mBAAoB5E,EAAsB,UAAE,CAACA,EAAmB,OAAGA,EAAmB,SACtF8E,uBAAwB9E,EAAmB,OAC3C+E,uBAAwB/E,EAAmB,OAC3C6E,iBAAkB7E,EAAiB,KACnCiV,kBAAmBjV,EAAiB,KACpCkV,sBAAuBlV,EAAiB,KACxCmV,gBAAiBnV,EAAiB,KAClC4b,WAAY5b,EAAsB,UAAE,CAACA,EAAiB,KAAGA,EAAmB,SAC5E8b,QAAS9b,EAAsB,UAAE,CAACA,EAAiB,KAAGA,EAAmB,SACzEgc,WAAYhc,EAAsB,UAAE,CAACA,EAAiB,KAAGA,EAAmB,SAC5Ekc,gBAAiBlc,EAAiB,KAClCoc,UAAWpc,EAAsB,UAAE,CAACA,EAAiB,KAAGA,EAAmB,SAC3Esc,YAAatc,EAAsB,UAAE,CAACA,EAAiB,KAAGA,EAAmB,SAC7Ewc,SAAUxc,EAAsB,UAAE,CAACA,EAAiB,KAAGA,EAAmB,SAC1EmhB,QAASnhB,EAAiB,KAC1BohB,QAASphB,EAAiB,KAC1BqhB,WAAYrhB,EAAiB,KAC7BshB,cAAethB,EAAiB,KAChCuhB,YAAavhB,EAAiB,KAC9BwhB,YAAaxhB,EAAiB,KAC9ByhB,UAAWzhB,EAAiB,KAC5B0hB,aAAc1hB,EAAiB,KAC/B2hB,YAAa3hB,EAAiB,KAC9B4hB,WAAY5hB,EAAiB,KAC7B6hB,aAAc7hB,EAAiB,KAC/B8hB,aAAc9hB,EAAiB,KAC/B+hB,WAAY/hB,EAAiB,KAC7BgiB,QAAShiB,EAAiB,KAC1BiiB,YAAajiB,EAAmB,OAChCkiB,uBAAwBliB,EAAmB,OAC3CmiB,YAAaniB,EAAmB,OAChCoiB,oBAAqBpiB,EAAkB,MACvCqiB,UAAWriB,EAAiB,KAC5BsiB,WAAYtiB,EAAuB,WAAEwY,MASnC+J,GAA+BngB,OAAOgF,OAAO,GAAImH,EAAWvD,aAAc5H,EAAegS,GAAqCpK,aAAc,CAC9I9B,kBAAmB,KACnBD,iBAAkB,KAClBmY,QAAS,KACToB,cAAe,KACfrB,QAAS,KACTG,cAAe,SAAuBlI,GACpC,OAAOA,EAAM4F,kBAEfpD,YAAY,EACZE,SAAS,EACTE,YAAY,EACZE,iBAAiB,EACjBE,WAAW,EACXE,aAAa,EACbE,UAAU,EACVyF,YAAa,OACbC,uBAAwB,GACxBC,YAAa,EACbE,UAzBqB,SAA0Bze,GAC/C,IAAI8U,EAAa9U,EAAK8U,WAClB+J,EAAa7e,EAAK6e,WACtB,OAAO/J,EAAa,WAAa+J,EAAa,UAAY,UAyB5D,SAASC,GAAetJ,GACtB,GAAIA,EAAM9R,SAAW8R,EAAMiB,aACzB,OAAOjB,EAGT,IAAIgB,EAAsBhB,EAAMiB,aAC5BC,EAAIF,EAAoBE,EACxBC,EAAIH,EAAoBG,EAE5B,IAAKjV,OAAOC,SAAS+U,KAAOhV,OAAOC,SAASgV,GAC1C,OAAOnB,EAGT,IAAIxT,EAAM,CAAC0U,EAAGC,GACdnB,EAAMuJ,MAAQ/c,EACd,IAAI8B,EAAWhJ,KAAKgJ,SAChBkb,EAAWlb,EAASC,UAAU/B,EAAK,CACrCid,QAASnb,EAASob,YAAY,KAGhC,OADA1J,EAAM9R,OAAS,CAACsb,EAAS,GAAIA,EAAS,IAC/BxJ,EAGT,SAAS2J,GAAYnd,GACnB,IAAIlE,EAAMhD,KAAKgD,IAEf,IAAKA,IAAQkE,EACX,OAAO,KAGT,IAAIod,EAAc,GACdpX,EAAOlN,KAAK+I,MAAM0a,YAElBzjB,KAAK+I,MAAM2a,sBACbY,EAAYC,OAASvkB,KAAK+I,MAAM2a,qBAGlC,IACE,OAAO1gB,EAAI4L,sBAAsB1B,EAAO,CAAC,CAAChG,EAAI,GAAKgG,EAAMhG,EAAI,GAAKgG,GAAO,CAAChG,EAAI,GAAKgG,EAAMhG,EAAI,GAAKgG,IAAShG,EAAKod,GAChH,MAAOE,GACP,OAAO,MAIX,SAASC,GAAQC,EAAchK,GAC7B,IAAIiK,EAAO3kB,KAAK+I,MAAM2b,GAElBC,GACFA,EAAKX,GAAexT,KAAKxQ,KAAM0a,IAInC,SAASkK,GAAclK,GACrB+J,GAAQjU,KAAKxQ,KAA4B,UAAtB0a,EAAMmK,YAA0B,eAAiB,cAAenK,GAGrF,SAASoK,GAAYpK,GACnB+J,GAAQjU,KAAKxQ,KAA4B,UAAtB0a,EAAMmK,YAA0B,aAAe,YAAanK,GAGjF,SAASqK,GAAcrK,GAGrB,GAFA+J,GAAQjU,KAAKxQ,KAA4B,UAAtB0a,EAAMmK,YAA0B,cAAgB,cAAenK,IAE7E1a,KAAKoX,MAAM4C,WAAY,CAC1B,IAGIgL,EAHAC,EAAcjlB,KAAK+I,MACnB0Z,EAAUwC,EAAYxC,QACtBiB,EAAsBuB,EAAYvB,oBAEtChJ,EAAQsJ,GAAexT,KAAKxQ,KAAM0a,IAE9BgJ,GAAuBjB,KACzBuC,EAAWX,GAAY7T,KAAKxQ,KAAM0a,EAAMuJ,QAG1C,IAAIF,EAAa5L,QAAQuL,GAAuBsB,GAAYA,EAASziB,OAAS,GAC1E2iB,EAAanB,IAAe/jB,KAAKoX,MAAM2M,WACvCoB,GAAapB,GAAc/jB,KAAKoX,MAAM2M,YAEtCtB,GAAWyC,KACbxK,EAAMsK,SAAWA,EAEbvC,GACFA,EAAQ/H,IAIRwK,GACFT,GAAQjU,KAAKxQ,KAAM,eAAgB0a,GAGjCyK,GACFV,GAAQjU,KAAKxQ,KAAM,eAAgB0a,IAGjCwK,GAAcC,IAChBnlB,KAAKolB,SAAS,CACZrB,WAAYA,KAMpB,SAASsB,GAAe3K,GACtB,IAAI4K,EAAetlB,KAAK+I,MACpB2Z,EAAU4C,EAAa5C,QACvBoB,EAAgBwB,EAAaxB,cAC7BnB,EAAa2C,EAAa3C,WAC1BnF,EAAkB8H,EAAa9H,gBAC/B+H,EAAY,GACZC,EAAuB7C,GAAcnF,EAEzC,OAAQ9C,EAAMlL,MACZ,IAAK,WACH+V,EAAUtlB,KAAK6jB,GAEV0B,GACHD,EAAUtlB,KAAKyiB,GAGjB,MAEF,IAAK,QACC8C,GACFD,EAAUtlB,KAAKyiB,IAQrB6C,EAAYA,EAAU1hB,OAAOsU,UAEf5V,UACZmY,EAAQsJ,GAAexT,KAAKxQ,KAAM0a,IAC5BsK,SAAWX,GAAY7T,KAAKxQ,KAAM0a,EAAMuJ,OAC9CsB,EAAUjhB,SAAQ,SAAUmhB,GAC1B,OAAOA,EAAG/K,OAYhB,IAAIgL,GAAiBhiB,OAAOrC,EAAkB,WAAzBqC,EAA4B,SAAUqF,EAAO8D,GAChE,IAAI8Y,EAAgBjiB,OAAOrC,EAAkB,WAAzBqC,CAA4BuH,GAC5C2Y,EAAalgB,OAAOrC,EAAe,QAAtBqC,EAAyB,WACxC,OAAOqF,EAAM6a,YAAc,IAAI9J,KAC9B,IACCrP,EAAe/G,OAAOrC,EAAe,QAAtBqC,EAAyB,WAC1C,OAAO,IAAI4V,GAA+B,EAAE,KAAM,CAChDiK,YAAaxa,EAAMwa,YACnBqC,kBAAmB7c,EAAMya,2BAE1B,IACCqC,EAAiBniB,OAAOrC,EAAc,OAArBqC,CAAwB,MACzCoiB,EAAepiB,OAAOrC,EAAc,OAArBqC,CAAwB,MAWvCqiB,EATWriB,OAAOrC,EAAc,OAArBqC,CAAwB,CACrCyB,MAAO,EACPC,OAAQ,EACRgS,MAAO,CACL2M,YAAY,EACZ/J,YAAY,KAIOrM,QACvBoY,EAAQhd,MAAQA,EAChBgd,EAAQ/iB,IAAM8iB,EAAanY,SAAWmY,EAAanY,QAAQM,SAE3D8X,EAAQX,SAAW,SAAUnL,GAC3B8L,EAAQ3O,MAAQkL,GAA6BA,GAA6B,GAAIyD,EAAQ3O,OAAQ6C,GAC9F4L,EAAelY,QAAQvB,MAAM4Z,OAASjd,EAAM4a,UAAUoC,EAAQ3O,QAGhE,IACI6O,EACAC,EAFAC,GAAW,EAIXC,EAAuB,SAA8Bza,EAAWgN,EAAkB0N,GACpF,GAAIF,EACFF,EAA0B,CAACta,EAAWgN,EAAkB0N,OAD1D,CAKA,IAAIC,EAAiBP,EAAQhd,MACzByB,EAAoB8b,EAAe9b,kBACnCD,EAAmB+b,EAAe/b,iBACtC7G,OAAOtC,eAAeuK,EAAW,WAAY,CAC3C4a,IAAK,WACH,MAAO,CAAC,EAAG,EAAGnb,EAAoB2a,EAAQ/iB,IAAK2I,OAI/CnB,GACFA,EAAkB,CAChBmB,UAAWA,EACXgN,iBAAkBA,EAClB0N,aAAcA,IAId9b,GACFA,EAAiBoB,EAAWgN,EAAkB0N,KAIlD3iB,OAAOrC,EAA2B,oBAAlCqC,CAAqCmJ,GAAK,WACxC,OAxEJ,SAAuCiZ,GACrC,MAAO,CACL7X,OAAQ6X,EAAanY,SAAWmY,EAAanY,QAAQM,OACrDW,sBAAuBkX,EAAanY,SAAWmY,EAAanY,QAAQiB,uBAqE7D4X,CAA8BV,KACpC,IACH,IAAI9a,EAAUtH,OAAOrC,EAAe,QAAtBqC,EAAyB,WACrC,OAAO4e,GAA6BA,GAA6B,GAAIqD,GAAgB,GAAI,CACvFlb,aAAcA,EACdH,UAAWqb,EAAcrb,WAAaub,EAAelY,YAEtD,CAACgY,EAAeE,EAAelY,UAClC3C,EAAQT,iBAAmB6b,EAC3Bpb,EAAQhC,SAAW2c,EAAc3c,UAAYyC,EAAYsa,GACzDA,EAAQ/c,SAAWgC,EAAQhC,SAE3B,IAAIyd,EAA+B,SAAsC9N,GACvE,IAAI+N,EAAwB/N,EAAiBqB,WACzCA,OAAuC,IAA1B0M,GAA2CA,EAQ5D,GANI1M,IAAe+L,EAAQ3O,MAAM4C,YAC/B+L,EAAQX,SAAS,CACfpL,WAAYA,IAIZmM,EACFD,EAAuBvN,MADzB,CAKA,IAAI6J,EAA2BuD,EAAQhd,MAAMyZ,yBAEzCA,GACFA,EAAyB7J,KAIzBgO,EAAuB,WACrBZ,EAAQ5gB,OAAS4gB,EAAQ3gB,QAC3Bwe,EAAWgD,WAAWtE,GAA6BA,GAA6BA,GAA6B,GAAIyD,EAAQhd,OAAQgd,EAAQhd,MAAM4C,WAAY,GAAI,CAC7JqR,cAAe7E,QAAQ4N,EAAQhd,MAAMyB,mBAAqBub,EAAQhd,MAAMwB,kBACxEA,iBAAkB6b,EAClBpP,cAAeyP,EACfhc,aAAcA,EACdtF,MAAO4gB,EAAQ5gB,MACfC,OAAQ2gB,EAAQ3gB,WAiBtB1B,OAAOrC,EAAiB,UAAxBqC,EAA2B,WAazB,OAZA+G,EAAaoc,WAAWhB,EAAelY,SACvClD,EAAaiU,GAAG,CACdoI,YAAalC,GAActK,KAAKyL,GAChCgB,YAAahC,GAAczK,KAAKyL,GAChCiB,UAAWlC,GAAYxK,KAAKyL,GAC5BkB,aAAcxC,GAAQnK,KAAKyL,EAAS,cACpCmB,MAAO7B,GAAe/K,KAAKyL,GAC3BoB,SAAU9B,GAAe/K,KAAKyL,GAC9BqB,SAAU3C,GAAQnK,KAAKyL,EAAS,cAChCsB,MAAO5C,GAAQnK,KAAKyL,EAAS,WAC7BuB,YAAa7C,GAAQnK,KAAKyL,EAAS,mBAE9B,WACLtb,EAAa8c,aAEd,IACHrc,GAA6B,WACvB+a,GACFG,EAAqBniB,WAAM,EAAQP,OAAOvC,EAAmC,EAA1CuC,CAA6CuiB,IAG9EC,GACFO,EAA6BP,MAGjCS,IACA,IAAIxhB,EAAQ4D,EAAM5D,MACdC,EAAS2D,EAAM3D,OACfgH,EAAQrD,EAAMqD,MACduX,EAAY5a,EAAM4a,UAClB6D,EAAmB9jB,OAAOrC,EAAe,QAAtBqC,EAAyB,WAC9C,OAAO4e,GAA6BA,GAA6B,CAC/D1W,SAAU,YACTQ,GAAQ,GAAI,CACbjH,MAAOA,EACPC,OAAQA,EACR4gB,OAAQrC,EAAUoC,EAAQ3O,WAE3B,CAAChL,EAAOjH,EAAOC,EAAQue,EAAWoC,EAAQ3O,QAmB7C,OAjBK6O,GAA4BF,EAAQ0B,SACvC1B,EAAQ0B,OAASpmB,EAAqB,cAAEqJ,EAAoB,CAC1D1I,MAAOgJ,GACN3J,EAAqB,cAAE,MAAO,CAC/BkD,IAAK,eACLsI,IAAKgZ,EACLzZ,MAAOob,GACNnmB,EAAqB,cAAEwO,EAAYnM,OAAOxC,EAA6B,EAApCwC,CAAuC,GAAIqF,EAAO,CACtF5D,MAAO,OACPC,OAAQ,OACRgH,MAAO,KACPJ,SAhEW,SAAkB/E,GAC/B,IAAI9B,EAAQ8B,EAAM9B,MACdC,EAAS6B,EAAM7B,OACnB2gB,EAAQ5gB,MAAQA,EAChB4gB,EAAQ3gB,OAASA,EACjBuhB,IACAZ,EAAQhd,MAAMiD,SAAS,CACrB7G,MAAOA,EACPC,OAAQA,KAyDRyH,IAAKiZ,QAITK,GAAW,EACJJ,EAAQ0B,UAEjB/B,GAAelY,UAAYqC,EAAWrC,UACtCkY,GAAe3Z,UAAYwW,GAC3BmD,GAAepZ,aAAeuX,GACD,IAAIvjB,GAAkB,GAE/ConB,GAAatnB,EAAoB,KAIrC,SAASunB,GAAUtlB,EAAGC,GACpB,GAAID,IAAMC,EACR,OAAO,EAGT,IAAKD,IAAMC,EACT,OAAO,EAGT,GAAIL,MAAMF,QAAQM,GAAI,CACpB,IAAKJ,MAAMF,QAAQO,IAAMD,EAAEE,SAAWD,EAAEC,OACtC,OAAO,EAGT,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAEE,OAAQC,IAC5B,IAAKmlB,GAAUtlB,EAAEG,GAAIF,EAAEE,IACrB,OAAO,EAIX,OAAO,EACF,GAAIP,MAAMF,QAAQO,GACvB,OAAO,EAGT,GAAiD,WAA7CoB,OAAOgkB,GAA4B,EAAnChkB,CAAsCrB,IAAgE,WAA7CqB,OAAOgkB,GAA4B,EAAnChkB,CAAsCpB,GAAiB,CAClH,IAAIslB,EAAQlkB,OAAOD,KAAKpB,GACpBwlB,EAAQnkB,OAAOD,KAAKnB,GAExB,GAAIslB,EAAMrlB,SAAWslB,EAAMtlB,OACzB,OAAO,EAGT,IAAK,IAAIulB,EAAK,EAAGC,EAASH,EAAOE,EAAKC,EAAOxlB,OAAQulB,IAAM,CACzD,IAAIvjB,EAAMwjB,EAAOD,GAEjB,IAAKxlB,EAAE0lB,eAAezjB,GACpB,OAAO,EAGT,IAAKojB,GAAUtlB,EAAEkC,GAAMjC,EAAEiC,IACvB,OAAO,EAIX,OAAO,EAGT,OAAO,EAMT,SAAS0jB,GAAe1kB,EAAQC,GAC9B,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA8BT,IAAIykB,GAAmB,CACrB1Y,KAAMlO,EAAmB,OAAE6mB,WAC3B3b,GAAIlL,EAAmB,QAErB8mB,GAAgB,EAEpB,SAASC,GAAarlB,EAAKwJ,EAAIzD,GAC7B,GAAI/F,EAAIoJ,OAASpJ,EAAIoJ,MAAMkc,QAAS,CAClC,IAAIxZ,EAnCR,SAA6B3K,GAC3B,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNylB,GAAevkB,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GACrDb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjE4jB,GAAevkB,OAAOW,IAASC,SAAQ,SAAUC,GAC/Cb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAkBSokB,CAAoB,GAAIxf,GAKtC,cAHO+F,EAAQtC,UACRsC,EAAQlE,SACf5H,EAAIwlB,UAAUhc,EAAIsC,GACX9L,EAAIylB,UAAUjc,GAGvB,OAAO,KAgDT,SAASkc,GAAO3f,GACd,IAAIiC,EAAUtH,OAAOrC,EAAkB,WAAzBqC,CAA4BuH,GACtC0d,EAAWjlB,OAAOrC,EAAc,OAArBqC,CAAwB,CACrC8I,GAAIzD,EAAMyD,GACVgD,KAAMzG,EAAMyG,OAGV3E,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,GAEtCklB,EADallB,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACrC,GAE5B2B,EAAK9I,OAAOrC,EAAe,QAAtBqC,EAAyB,WAChC,OAAOqF,EAAMyD,IAAM,cAAcsI,OAAOsT,QACvC,IACCplB,EAAMgI,EAAQhI,IAClBU,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,GAAIV,EAAK,CACP,IAAI6lB,EAAc,WAChB,OAAOD,GAAe,SAAUE,GAC9B,OAAOA,EAAU,MAKrB,OADA9lB,EAAI0b,GAAG,YAAamK,GACb,WACL7lB,EAAI2b,IAAI,YAAakK,GACrBhS,uBAAsB,WAChB7T,EAAIoJ,OAASpJ,EAAIoJ,MAAMkc,SAAWtlB,EAAIylB,UAAUjc,IAClDxJ,EAAI+lB,aAAavc,UAOxB,CAACxJ,EAAKwJ,IACT,IAAInI,EAASrB,GAAOA,EAAIoJ,OAASpJ,EAAIylB,UAAUjc,GAS/C,OAPInI,EAnFN,SAAsBA,EAAQ0E,EAAOigB,GACnC9lB,EAAO6F,EAAMyD,KAAOwc,EAAUxc,GAAI,qBAClCtJ,EAAO6F,EAAMyG,OAASwZ,EAAUxZ,KAAM,uBACtC,IAAIyZ,EAAa,GACbC,EAAkB,EAEtB,IAAK,IAAI3kB,KAAOwE,EACF,aAARxE,GAA8B,OAARA,GAAiBojB,GAAUqB,EAAUzkB,GAAMwE,EAAMxE,MACzE0kB,EAAa1kB,EACb2kB,KAIJ,GAAKA,EAAL,CAIA,IAAI1Z,EAAOzG,EAAMyG,KAEjB,GAAa,YAATA,EACFnL,EAAO8kB,QAAQpgB,EAAMqgB,WAChB,GAAa,UAAT5Z,EACTnL,EAAOglB,YAAY,CACjBC,IAAKvgB,EAAMugB,IACXC,YAAaxgB,EAAMwgB,mBAEhB,GAAc,WAAT/Z,GAA8B,UAATA,GAAyC,IAApB0Z,GAAwC,gBAAfD,EAExE,GAAa,WAATzZ,GAAqBnL,EAAOmlB,OACrC,OAAQP,GACN,IAAK,MACH5kB,EAAOmlB,OAAOzgB,EAAMugB,KACpB,MAEF,IAAK,QACHjlB,EAAOolB,SAAS1gB,EAAM2gB,YAM1B1b,QAAQ2b,KAAK,mCAAmC7U,OAAOmU,SAdvD5kB,EAAOulB,eAAe7gB,EAAMwgB,cAyD5BM,CAAaxlB,EAAQ0E,EAAO4f,EAAShb,SAErCtJ,EAASgkB,GAAarlB,EAAKwJ,EAAIzD,GAGjC4f,EAAShb,QAAU5E,EACZ1E,GAAUhD,EAAgB,SAAE2B,IAAI+F,EAAM6B,UAAU,SAAUkf,GAC/D,OAAOA,GAASpmB,OAAOrC,EAAoB,aAA3BqC,CAA8BomB,EAAO,CACnDzlB,OAAQmI,QAEN,KAGRkc,GAAO3c,UAAYmc,GACU,IAAI3nB,GAAoB,GAEjDwpB,GAA0B3pB,EAAoB,GAOlD,SAAS4pB,GAAczmB,EAAQC,GAC7B,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAASwmB,GAAmB9lB,GAC1B,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNwnB,GAActmB,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GACpDb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjE2lB,GAActmB,OAAOW,IAASC,SAAQ,SAAUC,GAC9Cb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAQT,IACI+lB,GAAkB,CACpB1a,KAAMlO,EAAkB,MAFR,CAAC,OAAQ,OAAQ,SAAU,SAAU,iBAAkB,SAAU,aAAc,UAAW,YAAa,QAEhF6mB,WACvC3b,GAAIlL,EAAmB,OACvB+C,OAAQ/C,EAAmB,OAC3B6oB,SAAU7oB,EAAmB,QA4E/B,SAAS8oB,GAAYpnB,EAAKwJ,EAAIzD,EAAOigB,GACnC9lB,EAAO6F,EAAMyD,KAAOwc,EAAUxc,GAAI,oBAClCtJ,EAAO6F,EAAMyG,OAASwZ,EAAUxZ,KAAM,sBAEtC,KA7EF,SAAyBxM,EAAKwJ,EAAIzD,EAAOigB,GACvC,IAAIqB,EAAgBthB,EAAMuhB,OACtBA,OAA2B,IAAlBD,EAA2B,GAAKA,EACzCE,EAAexhB,EAAMyhB,MACrBA,OAAyB,IAAjBD,EAA0B,GAAKA,EACvC1mB,EAASkF,EAAMlF,OACf4mB,EAAU1hB,EAAM0hB,QAChBC,EAAU3hB,EAAM2hB,QAChBP,EAAWphB,EAAMohB,SACjBQ,EAAajnB,OAAOqmB,GAAyC,EAAhDrmB,CAAmDqF,EAAO,CAAC,SAAU,QAAS,SAAU,UAAW,UAAW,aAM/H,GAJIohB,IAAanB,EAAUmB,UACzBnnB,EAAI4nB,UAAUpe,EAAI2d,GAGhBG,IAAWtB,EAAUsB,OAAQ,CAC/B,IAAIO,EAAa7B,EAAUsB,QAAU,GAErC,IAAK,IAAI/lB,KAAO+lB,EACT3C,GAAU2C,EAAO/lB,GAAMsmB,EAAWtmB,KACrCvB,EAAI8nB,kBAAkBte,EAAIjI,EAAK+lB,EAAO/lB,IAI1C,IAAK,IAAI0Q,KAAQ4V,EACVP,EAAOtC,eAAe/S,IACzBjS,EAAI8nB,kBAAkBte,EAAIyI,OAAMlG,GAKtC,GAAIyb,IAAUxB,EAAUwB,MAAO,CAC7B,IAAIO,EAAY/B,EAAUwB,OAAS,GAEnC,IAAK,IAAIQ,KAASR,EACX7C,GAAU6C,EAAMQ,GAAQD,EAAUC,KACrChoB,EAAIioB,iBAAiBze,EAAIwe,EAAOR,EAAMQ,IAI1C,IAAK,IAAIE,KAASH,EACXP,EAAMxC,eAAekD,IACxBloB,EAAIioB,iBAAiBze,EAAI0e,OAAOnc,GAatC,IAAK,IAAIoc,KARJxD,GAAU9jB,EAAQmlB,EAAUnlB,SAC/Bb,EAAIooB,UAAU5e,EAAI3I,GAGhB4mB,IAAYzB,EAAUyB,SAAWC,IAAY1B,EAAU0B,SACzD1nB,EAAIqoB,kBAAkB7e,EAAIie,EAASC,GAGnBC,EACXhD,GAAUgD,EAAWQ,GAAQnC,EAAUmC,KAC1CnoB,EAAIsoB,iBAAiB9e,EAAI2e,EAAOR,EAAWQ,IAqB7CI,CAAgBvoB,EAAKwJ,EAAIzD,EAAOigB,GAChC,MAAOlb,GACPE,QAAQ2b,KAAK7b,IAIjB,IAAI0d,GAAe,EAEnB,SAASC,GAAM1iB,GACb,IAAIiC,EAAUtH,OAAOrC,EAAkB,WAAzBqC,CAA4BuH,GACtC0d,EAAWjlB,OAAOrC,EAAc,OAArBqC,CAAwB,CACrC8I,GAAIzD,EAAMyD,GACVgD,KAAMzG,EAAMyG,OAGV3E,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,GAEtCklB,EADallB,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACrC,GAE5B2B,EAAK9I,OAAOrC,EAAe,QAAtBqC,EAAyB,WAChC,OAAOqF,EAAMyD,IAAM,aAAasI,OAAO0W,QACtC,IACCxoB,EAAMgI,EAAQhI,IA8BlB,OA7BAU,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,GAAIV,EAAK,CACP,IAAI6lB,EAAc,WAChB,OAAOD,GAAe,SAAUE,GAC9B,OAAOA,EAAU,MAKrB,OADA9lB,EAAI0b,GAAG,YAAamK,GACb,WACL7lB,EAAI2b,IAAI,YAAakK,GAEjB7lB,EAAIoJ,OAASpJ,EAAIoJ,MAAMkc,SACzBtlB,EAAI0oB,YAAYlf,OAMrB,CAACxJ,IACQA,GAAOA,EAAIoJ,OAASpJ,EAAI2oB,SAASnf,GAG3C4d,GAAYpnB,EAAKwJ,EAAIzD,EAAO4f,EAAShb,SA9DzC,SAAqB3K,EAAKwJ,EAAIzD,GAC5B,GAAI/F,EAAIoJ,OAASpJ,EAAIoJ,MAAMkc,QAAS,CAClC,IAAIxZ,EAAUmb,GAAmBA,GAAmB,GAAIlhB,GAAQ,GAAI,CAClEyD,GAAIA,WAGCsC,EAAQqb,SACfnnB,EAAI4oB,SAAS9c,EAAS/F,EAAMohB,WAyD5B0B,CAAY7oB,EAAKwJ,EAAIzD,GAGvB4f,EAAShb,QAAU5E,EACZ,KAGT0iB,GAAM1f,UAAYme,GACW,IAAI1pB,GAAmB,GAKhDsrB,GAAyB,CAC3BC,eAAe,EACfC,aAAa,EACbC,cAAc,EACdC,oBAAoB,EACpBC,oBAAoB,GAElBC,GAAsB,CACxBL,cAAezqB,EAAiB,KAChC0qB,YAAa1qB,EAAiB,KAC9B2qB,aAAc3qB,EAAiB,KAC/B4qB,mBAAoB5qB,EAAiB,KACrC6qB,mBAAoB7qB,EAAiB,MAGvC,SAAS+qB,GAAQtG,GACf,IAAIlZ,EAAMkZ,EAAQzY,aAAaK,QAC3BlD,EAAesb,EAAQ/a,QAAQP,aAEnC,GAAKoC,GAAQpC,EAAb,CAIA,IAAI4T,EAAS,CACXgJ,MAAO,SAAexZ,GACpB,IAAI9E,EAAQgd,EAAQhd,MAEhBA,EAAMgjB,eACRle,EAAIye,kBAGFvjB,EAAMqG,UACRrG,EAAMqG,SAASvB,EAAKkY,IAGxBwG,SAAU,SAAkB1e,GAC1B,IAAI9E,EAAQgd,EAAQhd,MAEhBA,EAAMijB,aACRne,EAAIye,kBAGFvjB,EAAMyjB,aACRzjB,EAAMyjB,YAAY3e,EAAKkY,IAG3BoB,SAAU,SAAkBtZ,GAC1B,IAAI9E,EAAQgd,EAAQhd,MAEhBA,EAAMkjB,cACRpe,EAAIye,kBAGFvjB,EAAM+a,eACR/a,EAAM+a,cAAcjW,EAAKkY,IAG7BmB,MAAO,SAAerZ,GACpB,IAAI9E,EAAQgd,EAAQhd,MAEhBA,EAAMkjB,cACRpe,EAAIye,kBAGFvjB,EAAM2Z,SACR3Z,EAAM2Z,QAAQ7U,EAAKkY,IAGvBqB,SAAU,SAAkBvZ,GAC1B,IAAI9E,EAAQgd,EAAQhd,MAEhBA,EAAMmjB,oBACRre,EAAIye,kBAGFvjB,EAAM0jB,eACR1jB,EAAM0jB,cAAc5e,EAAKkY,IAG7BgB,YAAa,SAAqBlZ,GAChC,IAAI9E,EAAQgd,EAAQhd,MAEhBA,EAAMojB,oBACRte,EAAIye,kBAGFvjB,EAAMgc,eACRhc,EAAMgc,cAAclX,EAAKkY,KAK/B,OADAtb,EAAaiiB,MAAMrO,EAAQxR,GACpB,WACLpC,EAAakU,IAAIN,KAIrB,SAASsO,KACP,IAAI5jB,EAAQ3E,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAC5E4G,EAAUtH,OAAOrC,EAAkB,WAAzBqC,CAA4BuH,GACtCqC,EAAe5J,OAAOrC,EAAc,OAArBqC,CAAwB,MAEvCkpB,EAAWlpB,OAAOrC,EAAc,OAArBqC,CAAwB,CACrCqF,MAAOA,EACPqO,MAAO,GACPpM,QAASA,EACTsC,aAAcA,IAGZyY,EAAU6G,EAASjf,QAMvB,OALAoY,EAAQhd,MAAQA,EAChBgd,EAAQ/a,QAAUA,EAClBtH,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,OAAO2oB,GAAQtG,KACd,CAAC/a,EAAQP,eACLsb,EAYT,SAAS8G,GAAyBtZ,GAChC,IAAIC,EAkBN,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKvD,UAAUC,SAASC,KAAKiD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAO7C,GACP,OAAO,GA3BuB8b,GAEhC,OAAO,WACL,IACI/Y,EADAC,EAAQtQ,OAAOiP,EAAgC,EAAvCjP,CAA0C6P,GAGtD,GAAIC,EAA2B,CAC7B,IAAIS,EAAYvQ,OAAOiP,EAAgC,EAAvCjP,CAA0C1D,MAAMyQ,YAEhEsD,EAASN,QAAQC,UAAUM,EAAO5P,UAAW6P,QAE7CF,EAASC,EAAM/P,MAAMjE,KAAMoE,WAG7B,OAAOV,OAAOgP,EAA2C,EAAlDhP,CAAqD1D,KAAM+T,IAqBtE,SAASgZ,GAAQhkB,GACf,IAAIikB,EAAWjkB,EAAMikB,SAEjBC,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAIlC,OAFA0f,EAASE,SAAWliB,EACpBgiB,EAASG,cAAgB7f,EAClB0f,EAASI,UAGlB,IAAIC,GAA2B,SAAUC,GACvC5pB,OAAO+O,EAA0B,EAAjC/O,CAAoC6pB,EAAaD,GAEjD,IAAI5Y,EAASmY,GAAyBU,GAEtC,SAASA,IACP,IAAI5Y,EAEJjR,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMutB,GAEhD,IAAK,IAAIC,EAAOppB,UAAU7B,OAAQkrB,EAAO,IAAIxrB,MAAMurB,GAAOvY,EAAO,EAAGA,EAAOuY,EAAMvY,IAC/EwY,EAAKxY,GAAQ7Q,UAAU6Q,GAmBzB,OAhBAN,EAAQD,EAAOlE,KAAKvM,MAAMyQ,EAAQ,CAAC1U,MAAM8U,OAAO2Y,IAEhD/pB,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,WAAY,IAE/GjR,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,gBAAiBjR,OAAOrC,EAAiB,UAAxBqC,IAEpHA,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,aAAa,SAAU9G,OAE1HnK,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,gBAAgB,SAAU9G,OAE7HnK,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,eAAe,SAAU9G,OAE5HnK,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,YAAY,SAAU9G,OAEzHnK,OAAOtC,EAAgC,EAAvCsC,CAA0CA,OAAO8O,EAAuC,EAA9C9O,CAAiDiR,GAAQ,kBAAkB,SAAU9G,OAExH8G,EAuBT,OApBAjR,OAAO5B,EAA6B,EAApC4B,CAAuC6pB,EAAa,CAAC,CACnDhpB,IAAK,UACLvC,MAAO,WACL,MAAM,IAAIqB,MAAM,+BAEjB,CACDkB,IAAK,SACLvC,MAAO,WACL,OAAOX,EAAqB,cAAE0rB,GAASrpB,OAAOxC,EAA6B,EAApCwC,CAAuC,CAC5EspB,SAAUhtB,MACTA,KAAK+I,MAAO,CACbqG,SAAUpP,KAAK0tB,UACflB,YAAaxsB,KAAK2tB,aAClBhL,WAAY3iB,KAAK4tB,YACjBlL,QAAS1iB,KAAK6tB,SACd9I,cAAe/kB,KAAK8tB,sBAKnBP,EArDsB,CAsD7BlsB,EAAqB,eAWvB,SAAS0sB,GAA0BxqB,EAAQC,GACzC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAASuqB,GAA+B7pB,GACtC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNurB,GAA0BrqB,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAChEb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjE0pB,GAA0BrqB,OAAOW,IAASC,SAAQ,SAAUC,GAC1Db,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAxCTT,OAAOtC,EAAgC,EAAvCsC,CAA0C2pB,GAA0B,YAAajB,IAEjF1oB,OAAOtC,EAAgC,EAAvCsC,CAA0C2pB,GAA0B,eAAgBvB,IA4CpF,IAAImC,GAA4BvqB,OAAOgF,OAAO,GAAI0jB,GAAqB,CACrE8B,UAAW5sB,EAAiB,KAC5B6sB,OAAQ7sB,EAAiB,KACzB8sB,UAAW9sB,EAAiB,KAC5BkrB,YAAalrB,EAAiB,KAC9B+sB,WAAY/sB,EAAmB,OAC/BgtB,UAAWhtB,EAAmB,SAE5BitB,GAA+B7qB,OAAOgF,OAAO,GAAIojB,GAAwB,CAC3EoC,WAAW,EACXG,WAAY,EACZC,UAAW,IAGb,SAASE,GAAqB9T,GAC5B,IAAIgB,EAAsBhB,EAAMiB,aAGhC,MAAO,CAFCD,EAAoBE,EACpBF,EAAoBG,GAiB9B,SAAS4S,GAAcC,EAASC,EAAY5lB,EAAOiC,GACjD,IAAI4Q,EAAI8S,EAAQ,GAAKC,EAAW,GAAK5lB,EAAMslB,WACvCxS,EAAI6S,EAAQ,GAAKC,EAAW,GAAK5lB,EAAMulB,UAC3C,OAAOtjB,EAAQhC,SAASC,UAAU,CAAC2S,EAAGC,IAGxC,SAAS2Q,GAAY9R,EAAOxV,GAC1B,IAAI6D,EAAQ7D,EAAK6D,MACbwc,EAAYrgB,EAAKqgB,UACjBnO,EAAQlS,EAAKkS,MACbpM,EAAU9F,EAAK8F,QACfsC,EAAepI,EAAKoI,aAGxB,GAFgBvE,EAAMmlB,UAEtB,CAIAxT,EAAM4R,kBACN,IAAIoC,EAAUF,GAAqB9T,GAC/BiU,EAjCN,SAA4BjU,EAAOpQ,GACjC,IAAIskB,EAAgBlU,EAAMmU,OACtBjT,EAAIgT,EAAchT,EAClBC,EAAI+S,EAAc/S,EAEtB,GAAIvR,EAAW,CACb,IAAIwkB,EAAOxkB,EAAUykB,wBACrB,MAAO,CAACD,EAAKriB,KAAOmP,EAAGkT,EAAKpiB,IAAMmP,GAGpC,OAAO,KAuBUmT,CAAmBtU,EAAOpN,EAAaK,SAIxD,GAHAyJ,EAAM6X,WAAWP,GACjBtX,EAAM8X,cAAcP,GAEhBpJ,EAAUiH,aAAemC,EAAY,CACvC,IAAIQ,EAAgBzrB,OAAOgF,OAAO,GAAIgS,GACtCyU,EAAcvmB,OAAS6lB,GAAcC,EAASC,EAAY5lB,EAAOiC,GACjEua,EAAUiH,YAAY2C,KA8C1B,SAASC,GAAerJ,GACtB,IAAItb,EAAesb,EAAQ/a,QAAQP,aAEnC,GAAKA,GAAiBsb,EAAQ3O,MAAMsX,QAApC,CAIA,IAAIrQ,EAAS,CACXgR,QAAS,SAAiBxhB,GACxB,OAnDN,SAAgB6M,EAAOzT,GACrB,IAAI8B,EAAQ9B,EAAM8B,MACdwc,EAAYte,EAAMse,UAClBnO,EAAQnQ,EAAMmQ,MACdpM,EAAU/D,EAAM+D,QACpB0P,EAAM4R,kBACN,IAAIoC,EAAUF,GAAqB9T,GACnCtD,EAAM6X,WAAWP,GACjB,IAAIC,EAAavX,EAAMuX,WAEvB,GAAIpJ,EAAU4I,QAAUQ,EAAY,CAClC,IAAIQ,EAAgBzrB,OAAOgF,OAAO,GAAIgS,GACtCyU,EAAcvmB,OAAS6lB,GAAcC,EAASC,EAAY5lB,EAAOiC,GACjEua,EAAU4I,OAAOgB,IAsCRhB,CAAOtgB,EAAKkY,IAErBuJ,OAAQ,SAAgBzhB,GACtB,OArCN,SAAmB6M,EAAOrT,GACxB,IAAI0B,EAAQ1B,EAAM0B,MACdwc,EAAYle,EAAMke,UAClBnO,EAAQ/P,EAAM+P,MACdpM,EAAU3D,EAAM2D,QACpB0P,EAAM4R,kBACN,IAAIoC,EAAUtX,EAAMsX,QAChBC,EAAavX,EAAMuX,WAIvB,GAHAvX,EAAM6X,WAAW,MACjB7X,EAAM8X,cAAc,MAEhB3J,EAAU6I,WAAaM,GAAWC,EAAY,CAChD,IAAIQ,EAAgBzrB,OAAOgF,OAAO,GAAIgS,GACtCyU,EAAcvmB,OAAS6lB,GAAcC,EAASC,EAAY5lB,EAAOiC,GACjEua,EAAU6I,UAAUe,IAuBXf,CAAUvgB,EAAKkY,IAExBwJ,UAAW,SAAmB1hB,GAC5B,OAtBN,SAAsB6M,EAAOhT,GAC3B,IAAI0P,EAAQ1P,EAAM0P,MAClBsD,EAAM4R,kBACNlV,EAAM6X,WAAW,MACjB7X,EAAM8X,cAAc,MAkBTM,CAAa3hB,EAAKkY,KAI7B,OADAtb,EAAaiiB,MAAMrO,GACZ,WACL5T,EAAakU,IAAIN,KA6BrB,IAAIoR,GAA+B,qBAAXtkB,QAA0BA,OAAOukB,kBAAoB,EACzEC,GAAa,SAAoBziB,GACnC,OAAOzK,KAAKmtB,MAAM1iB,EAAOuiB,IAAcA,IAErCI,GAAkB,SAAyBC,EAAIC,GACjD,IAAIC,EAAY5rB,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,IAEpF,GAAW,OAAP0rB,EACF,OAAOC,EAGT,IAAIE,EAAyB,MAAdD,EAAoBF,EAAGI,YAAcJ,EAAGK,aACvD,OAAOR,GAAWI,EAAa,IAAME,GAAYA,EAAW,KAU1DG,GAAmB1sB,OAAOgF,OAAO,GAAIulB,GAA2B,CAClE9hB,UAAW7K,EAAmB,OAC9BgE,UAAWhE,EAAmB,OAAE6mB,WAChC9iB,SAAU/D,EAAmB,OAAE6mB,aAE7BkI,GAAsB3sB,OAAOgF,OAAO,GAAI6lB,GAA8B,CACxEpiB,UAAW,KAmCb,SAASmkB,GAAOvnB,GACd,IAAIgd,EAzFN,SAA6Bhd,GAC3B,IAAI8B,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjE6jB,EAAU5jB,EAAW,GACrBmkB,EAAankB,EAAW,GAExBkC,EAAatJ,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACvCuJ,EAAavJ,OAAOnC,EAA+B,EAAtCmC,CAAyCsJ,EAAY,GAClE2hB,EAAa1hB,EAAW,GACxBiiB,EAAgBjiB,EAAW,GAE3B8Y,EAAU4G,GAAcqB,GAA+BA,GAA+B,GAAIjlB,GAAQ,GAAI,CACxGyjB,YAAaA,MAUf,OARAzG,EAAQR,UAAYxc,EACpBgd,EAAQ3O,MAAMsX,QAAUA,EACxB3I,EAAQ3O,MAAM6X,WAAaA,EAC3BlJ,EAAQ3O,MAAMuX,WAAaA,EAC3B5I,EAAQ3O,MAAM8X,cAAgBA,EAC9BxrB,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,OAAO0rB,GAAerJ,KACrB,CAACA,EAAQ/a,QAAQP,aAAc0N,QAAQuW,KACnC3I,EAmEOwK,CAAoBxnB,GAC9BqO,EAAQ2O,EAAQ3O,MAChB9J,EAAeyY,EAAQzY,aACvB1C,EAAW7B,EAAM6B,SACjBuB,EAAYpD,EAAMoD,UAClB+hB,EAAYnlB,EAAMmlB,UAClBQ,EAAUtX,EAAMsX,QAEhB8B,EAzCN,SAAqBtrB,GACnB,IAAI6D,EAAQ7D,EAAK6D,MACbqO,EAAQlS,EAAKkS,MACbpM,EAAU9F,EAAK8F,QACf1F,EAAYyD,EAAMzD,UAClBD,EAAW0D,EAAM1D,SACjBgpB,EAAatlB,EAAMslB,WACnBC,EAAYvlB,EAAMulB,UAClBI,EAAUtX,EAAMsX,QAChBC,EAAavX,EAAMuX,WACnB3lB,EAAWgC,EAAQhC,SACnBhG,EAAMgI,EAAQhI,IAElB,GAAI0rB,GAAWC,EACb,MAAO,CAACD,EAAQ,GAAKC,EAAW,GAAID,EAAQ,GAAKC,EAAW,IAG9D,IAAI9oB,EAAWuF,EAAoBpI,EAAK,CACtCsC,UAAWA,EACXD,SAAUA,IAGRorB,EAAoBznB,EAASiN,QAAQ,CAAC3Q,EAAWD,EAAUQ,IAC3D6qB,EAAqBhtB,OAAOnC,EAA+B,EAAtCmC,CAAyC+sB,EAAmB,GACjF7U,EAAI8U,EAAmB,GACvB7U,EAAI6U,EAAmB,GAI3B,MAAO,CAFP9U,GAAKyS,EACLxS,GAAKyS,GAacqC,CAAY5K,GAC3B6K,EAAgBltB,OAAOnC,EAA+B,EAAtCmC,CAAyC8sB,EAAc,GACvE5U,EAAIgV,EAAc,GAClB/U,EAAI+U,EAAc,GAElBC,EAAY,aAAa/b,OAAO6a,GAAW/T,GAAI,QAAQ9G,OAAO6a,GAAW9T,GAAI,OAC7EmK,EAASkI,EAAYQ,EAAU,WAAa,OAAS,OACrDoC,EAAUptB,OAAOrC,EAAe,QAAtBqC,EAAyB,WACrC,IAAIqtB,EAAiB,CACnBnlB,SAAU,WACVa,KAAM,EACNC,IAAK,EACLmkB,UAAWA,EACX7K,OAAQA,GAEV,OAAO3kB,EAAqB,cAAE,MAAO,CACnC8K,UAAW,mBAAmB2I,OAAO3I,GACrCU,IAAKkZ,EAAQzY,aACblB,MAAO2kB,GACNnmB,KACF,CAACA,EAAUuB,IACV7B,EAAYgD,EAAaK,QAO7B,OALIrD,IACFA,EAAU8B,MAAMykB,UAAYA,EAC5BvmB,EAAU8B,MAAM4Z,OAASA,GAGpB8K,EAGTR,GAAOhkB,aAAe+jB,GACtBC,GAAOvkB,UAAYqkB,GACU,IAAI3vB,GAAUY,EAAY,KAAEivB,IAErDU,GAAkB,CACpBtkB,IAAK,CACHkP,EAAG,GACHC,EAAG,GAEL,WAAY,CACVD,EAAG,EACHC,EAAG,GAEL,YAAa,CACXD,EAAG,EACHC,EAAG,GAELoV,OAAQ,CACNrV,EAAG,GACHC,EAAG,GAEL,cAAe,CACbD,EAAG,EACHC,EAAG,GAEL,eAAgB,CACdD,EAAG,EACHC,EAAG,GAELpP,KAAM,CACJmP,EAAG,EACHC,EAAG,IAELqV,MAAO,CACLtV,EAAG,EACHC,EAAG,KAGHsV,GAAeztB,OAAOD,KAAKutB,IA+E/B,IAAII,GAAkB1tB,OAAOgF,OAAO,GAAI0jB,GAAqB,CAC3DjgB,UAAW7K,EAAmB,OAC9BgE,UAAWhE,EAAmB,OAAE6mB,WAChC9iB,SAAU/D,EAAmB,OAAE6mB,WAC/BtiB,SAAUvE,EAAmB,OAC7B+sB,WAAY/sB,EAAmB,OAC/BgtB,UAAWhtB,EAAmB,OAC9B+vB,QAAS/vB,EAAmB,OAC5BgwB,YAAahwB,EAAiB,KAC9BiwB,aAAcjwB,EAAiB,KAC/BkwB,OAAQlwB,EAAkB,MAAEoC,OAAOD,KAAKutB,KACxCS,gBAAiBnwB,EAAiB,KAClCowB,YAAapwB,EAAiB,KAC9BqwB,QAASrwB,EAAiB,OAExBswB,GAAqBluB,OAAOgF,OAAO,GAAIojB,GAAwB,CACjE3f,UAAW,GACXkiB,WAAY,EACZC,UAAW,EACX+C,QAAS,GACTG,OAAQ,SACRC,iBAAiB,EACjBC,aAAa,EACbJ,aAAa,EACbC,cAAc,EACdI,QAAS,eAGX,SAASE,GAAkB9oB,EAAOC,EAAU8mB,EAAI5qB,GAC9C,IAAI+B,EAAQvD,OAAOnC,EAA+B,EAAtCmC,CAAyCwB,EAAM,GACvD0W,EAAI3U,EAAM,GACV4U,EAAI5U,EAAM,GAEVuqB,EAASzoB,EAAMyoB,OACfC,EAAkB1oB,EAAM0oB,gBACxBJ,EAAUtoB,EAAMsoB,QAEpB,OAAIvB,GACK2B,EApHX,SAA4BvsB,GAC1B,IAAI0W,EAAI1W,EAAK0W,EACTC,EAAI3W,EAAK2W,EACT1W,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OACd0sB,EAAY5sB,EAAK4sB,UACjBC,EAAa7sB,EAAK6sB,WAClBP,EAAStsB,EAAKssB,OACdQ,EAAe9sB,EAAK+sB,QACpBA,OAA2B,IAAjBD,EAA0B,EAAIA,EACxCE,EAAwBlB,GAAgBQ,GACxCW,EAAUD,EAAsBtW,EAChCwW,EAAUF,EAAsBrW,EAChCnP,EAAMmP,EAAIuW,EAAUL,EACpBd,EAASvkB,EAAMqlB,EACfM,EAAU5vB,KAAKI,IAAI,EAAGovB,EAAUvlB,GAAOjK,KAAKI,IAAI,EAAGouB,EAAS7rB,EAAS6sB,GAEzE,GAAII,EAAU,EAAG,CACf,IAAIC,EAAcF,EACdG,EAAYF,EAEhB,IAAKD,EAAU,EAAGA,GAAW,EAAGA,GAAW,GAEzCnB,GADAvkB,EAAMmP,EAAIuW,EAAUL,GACLA,GACfM,EAAU5vB,KAAKI,IAAI,EAAGovB,EAAUvlB,GAAOjK,KAAKI,IAAI,EAAGouB,EAAS7rB,EAAS6sB,IAEvDM,IACZA,EAAYF,EACZC,EAAcF,GAIlBA,EAAUE,EAGZ,IAAIE,EAAQ,GAEI,KAAZJ,IACFD,EAAU1vB,KAAKgwB,MAAMN,GACrBK,EAAQ,GAGV,IAAI/lB,EAAOmP,EAAIuW,EAAUL,EACrBZ,EAAQzkB,EAAOqlB,EACfY,EAAUjwB,KAAKI,IAAI,EAAGovB,EAAUxlB,GAAQhK,KAAKI,IAAI,EAAGquB,EAAQ/rB,EAAQ8sB,GAExE,GAAIS,EAAU,EAAG,CACf,IAAIC,EAAcR,EACdS,EAAaF,EAEjB,IAAKP,EAAU,EAAGA,GAAW,EAAGA,GAAWK,EAEzCtB,GADAzkB,EAAOmP,EAAIuW,EAAUL,GACNA,GACfY,EAAUjwB,KAAKI,IAAI,EAAGovB,EAAUxlB,GAAQhK,KAAKI,IAAI,EAAGquB,EAAQ/rB,EAAQ8sB,IAEtDW,IACZA,EAAaF,EACbC,EAAcR,GAIlBA,EAAUQ,EAGZ,OAAOxB,GAAa0B,MAAK,SAAUC,GACjC,IAAIC,EAAiB/B,GAAgB8B,GACrC,OAAOC,EAAenX,IAAMuW,GAAWY,EAAelX,IAAMuW,MACxDZ,EAiDqBwB,CAAmB,CAC1CpX,EAAGA,EACHC,EAAGA,EACH2V,OAAQA,EACRS,QAASZ,EACTlsB,MAAO6D,EAAS7D,MAChBC,OAAQ4D,EAAS5D,OACjB0sB,UAAWhC,EAAGmD,YACdlB,WAAYjC,EAAGoD,eAIZ1B,EAqCT,SAAS2B,GAAMpqB,GACb,IAAIqqB,EAAa1vB,OAAOrC,EAAc,OAArBqC,CAAwB,MACrCqiB,EAAU4G,GAAc5jB,GACxBiC,EAAU+a,EAAQ/a,QAClBsC,EAAeyY,EAAQzY,aAEvBzC,EAAYnH,OAAOrC,EAAgB,SAAvBqC,EAA0B,GAEtC2vB,EADa3vB,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GAC1C,GAE3BnH,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB2vB,GAAU,KACT,CAACD,EAAWzlB,UACfjK,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,GAAIsH,EAAQP,cAAgB1B,EAAMwoB,aAAc,CAC9C,IAAI+B,EAAgB,WAClB,OAAOvN,EAAQhd,MAAM4oB,WAIvB,OADA3mB,EAAQP,aAAaiU,GAAG,WAAY4U,GAC7B,WACLtoB,EAAQP,aAAakU,IAAI,WAAY2U,OAKxC,CAACtoB,EAAQP,aAAc1B,EAAMwoB,eAChC,IAAIvoB,EAAWgC,EAAQhC,SACnBhG,EAAMgI,EAAQhI,IACdmJ,EAAYpD,EAAMoD,UAClB7G,EAAYyD,EAAMzD,UAClBD,EAAW0D,EAAM1D,SACjBgsB,EAAUtoB,EAAMsoB,QAChBC,EAAcvoB,EAAMuoB,YACpB1mB,EAAW7B,EAAM6B,SACjB/E,EAAWkD,EAAMlD,cAEJkJ,IAAblJ,IACFA,EAAWuF,EAAoBpI,EAAK,CAClCsC,UAAWA,EACXD,SAAUA,KAId,IAAIuG,EAAW5C,EAASiN,QAAQ,CAAC3Q,EAAWD,EAAUQ,IAClDitB,EAAejB,GAAkB9oB,EAAOC,EAAUoqB,EAAWzlB,QAAS/B,GACtEmlB,EAhFN,SAA2BhoB,EAAOC,EAAU8mB,EAAIzoB,EAAOyrB,GACrD,IAAIprB,EAAQhE,OAAOnC,EAA+B,EAAtCmC,CAAyC2D,EAAO,GACxDuU,EAAIlU,EAAM,GACVmU,EAAInU,EAAM,GACVqZ,EAAIrZ,EAAM,GAEV2mB,EAAatlB,EAAMslB,WACnBC,EAAYvlB,EAAMulB,UAClBoD,EAAc3oB,EAAM2oB,YACpBqB,EAAiB/B,GAAgB8B,GACjCrmB,EAAOmP,EAAIyS,EACX3hB,EAAMmP,EAAIyS,EACViF,EAAc1D,GAAgBC,EAAwB,KAAnBiD,EAAenX,GAClD4X,EAAc3D,GAAgBC,EAAwB,KAAnBiD,EAAelX,EAAS,KAC3DzP,EAAQ,CACVR,SAAU,WACVilB,UAAW,qBAAqB/b,OAAOye,EAAa,OAAOze,OAAO0e,EAAa,wBAAwB1e,OAAO6a,GAAWljB,GAAO,QAAQqI,OAAO6a,GAAWjjB,GAAM,aAChK+mB,aAAS1kB,EACT2kB,YAAQ3kB,GAGV,OAAK2iB,GAID3Q,EAAI,GAAKA,GAAK,GAAKnF,EAAI,GAAKA,EAAI5S,EAAS7D,OAAS0W,EAAI,GAAKA,EAAI7S,EAAS5D,OAC1EgH,EAAMqnB,QAAU,OAEhBrnB,EAAMsnB,OAASjxB,KAAKgwB,OAAO,EAAI1R,GAAK,EAAI,KAGnC3U,GATEA,EA0DYunB,CAAkB5qB,EAAOC,EAAUsE,EAAaK,QAAS/B,EAAUknB,GACpFc,EAAqBlwB,OAAOrC,EAAmB,YAA1BqC,EAA6B,SAAUmK,GAC9DkY,EAAQhd,MAAM4oB,UACd,IAAIlnB,EAAesb,EAAQ/a,QAAQP,aAE/BA,GACFA,EAAaopB,KAAK,SAAS,SAAU7iB,GACnC,OAAOA,EAAEsb,oBACRze,EAAI1J,UAER,IACH,OAAO9C,EAAqB,cAAE,MAAO,CACnC8K,UAAW,wCAAwC2I,OAAOge,EAAc,KAAKhe,OAAO3I,GACpFC,MAAO2kB,EACPlkB,IAAKS,GACJjM,EAAqB,cAAE,MAAO,CAC/BkD,IAAK,MACL4H,UAAW,qBACXC,MAAO,CACL0nB,YAAazC,KAEbhwB,EAAqB,cAAE,MAAO,CAChCkD,IAAK,UACLsI,IAAKumB,EACLjnB,UAAW,0BACVmlB,GAAejwB,EAAqB,cAAE,SAAU,CACjDkD,IAAK,eACL4H,UAAW,8BACXqD,KAAM,SACNkT,QAASkR,GACR,QAAShpB,IAGduoB,GAAMpnB,UAAYqlB,GAClB+B,GAAM7mB,aAAeslB,GACQ,IAAIlxB,GAASW,EAAY,KAAE8xB,IAKxD,SAASY,GAA4BxwB,EAAQC,GAC3C,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA4BT,IAAIuwB,GAAgCtwB,OAAOgF,OAAO,GAAI0jB,GAAqB,CACzE6H,YAAa3yB,EAAmB,OAChC6K,UAAW7K,EAAmB,OAC9B8K,MAAO9K,EAAmB,OAC1B4yB,QAAS5yB,EAAiB,KAC1B6yB,kBAAmB7yB,EAAsB,UAAE,CAACA,EAAmB,OAAGA,EAAoB,QAAEA,EAAmB,YAEzG8yB,GAAmC1wB,OAAOgF,OAAO,GAAIojB,GAAwB,CAC/E3f,UAAW,GACX8nB,YAAa,uBAwBf,SAASI,GAAmBtrB,GAC1B,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAE9BgnB,EAAoB5wB,OAAOrC,EAAc,OAArBqC,CAAwB,MAE5CmH,EAAYnH,OAAOrC,EAAgB,SAAvBqC,EAA0B,GACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjE0pB,EAAczpB,EAAW,GACzB0pB,EAAiB1pB,EAAW,GAEhCpH,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,IAAIotB,EAQJ,OANI9lB,EAAQhI,MACV8tB,EArCN,SAAiCjb,EAAM7S,EAAKsH,EAAWmqB,GACrD,IAAI3D,EAAU,IAAInvB,EAAkBU,EAAEgyB,mBAAmBxe,GAWzD,OAVAib,EAAQ4D,KAAO1xB,EACf8tB,EAAQ6D,WAAarqB,EACrBwmB,EAAQ8D,gBAAkBH,EAE1B3D,EAAQ+D,sBAER/D,EAAQgE,kBAER9xB,EAAI0b,GAAG,YAAaoS,EAAQiE,aAC5B/xB,EAAI0b,GAAG,aAAcoS,EAAQiE,aACtBjE,EAyBOkE,CAAwB,CAChCb,kBAAmBprB,EAAMorB,mBACxBnpB,EAAQhI,IAAKsK,EAAaK,QAAS2mB,EAAkB3mB,UAGnD,WACL,OAAOmjB,GA5Bb,SAAkCA,GAChCA,EAAQ4D,KAAK/V,IAAI,YAAamS,EAAQiE,aAEtCjE,EAAQ4D,KAAK/V,IAAI,aAAcmS,EAAQiE,aAyBjBE,CAAyBnE,MAE5C,CAAC9lB,EAAQhI,MACZ,IAAIkxB,OAA4BnlB,IAAlBhG,EAAMmrB,QAAwBlpB,EAAQhC,SAAS7D,OAAS,IAAM4D,EAAMmrB,QAClFxwB,OAAOrC,EAAiB,UAAxBqC,EAA2B,YACpBwwB,GAAWK,GACdC,GAAe,KAEhB,CAACN,IACJ,IAAIgB,EAAoBxxB,OAAOrC,EAAmB,YAA1BqC,EAA6B,WACnD,OAAO8wB,GAAe,SAAUxyB,GAC9B,OAAQA,OAET,IACCoK,EAAQ1I,OAAOrC,EAAe,QAAtBqC,EAAyB,WACnC,OA/FJ,SAA0CS,GACxC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNuxB,GAA4BrwB,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAClEb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjE0vB,GAA4BrwB,OAAOW,IAASC,SAAQ,SAAUC,GAC5Db,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EA8EEgxB,CAAiC,CACtCvpB,SAAU,YACT7C,EAAMqD,SACR,CAACrD,EAAMqD,QACV,OAAO/K,EAAqB,cAAE,MAAO,CACnC+K,MAAOA,EACPD,UAAWpD,EAAMoD,WAChB9K,EAAqB,cAAE,MAAO,CAC/BwL,IAAKS,EACL,eAAgBinB,EAChBpoB,UAAW,sCAAsC2I,OAAOof,EAAU,mBAAqB,GAAI,KAAKpf,OAAOyf,EAAc,wBAA0B,KAC9IlzB,EAAqB,cAAE,SAAU,CAClCmO,KAAM,SACNrD,UAAW,8BACXipB,MAAOrsB,EAAMkrB,YACbvR,QAASwS,IACP7zB,EAAqB,cAAE,MAAO,CAChCwL,IAAKynB,EACLnoB,UAAW,6BACXkpB,KAAM,WAIVhB,GAAmBtoB,UAAYioB,GAC/BK,GAAmB/nB,aAAe8nB,GACsB/yB,EAAY,KAAEgzB,IAAzC,IAEzBiB,GAAUl1B,EAAoB,MAMlC,SAASm1B,GAA2BhyB,EAAQC,GAC1C,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA6BT,IAAI+xB,GAA+B9xB,OAAOgF,OAAO,GAAI0jB,GAAqB,CACxEjgB,UAAW7K,EAAmB,OAC9B8K,MAAO9K,EAAmB,OAC1BgJ,UAAWhJ,EAAmB,OAC9Bm0B,MAAOn0B,EAAmB,SAExBo0B,GAAkChyB,OAAOgF,OAAO,GAAIojB,GAAwB,CAC9E3f,UAAW,GACX7B,UAAW,KACXmrB,MAAO,sBAGT,SAASE,GAAkB5sB,GACzB,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAE9BzC,EAAYnH,OAAOrC,EAAgB,SAAvBqC,EAA0B,GACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjE+qB,EAAe9qB,EAAW,GAC1B+qB,EAAkB/qB,EAAW,GAE7BkC,EAAatJ,OAAOrC,EAAgB,SAAvBqC,EAA0B,GACvCuJ,EAAavJ,OAAOnC,EAA+B,EAAtCmC,CAAyCsJ,EAAY,GAClE8oB,EAAa7oB,EAAW,GACxB8oB,EAAgB9oB,EAAW,GAE3B+oB,EAAatyB,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACvCuyB,EAAavyB,OAAOnC,EAA+B,EAAtCmC,CAAyCsyB,EAAY,GAClEE,EAA0BD,EAAW,GACrCE,EAAgCF,EAAW,GAE/CvyB,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,IAAIotB,EAAU,IAAInvB,EAAkBU,EAAEszB,kBACtCQ,EAA8BrF,GAC9BiF,EAAcjF,EAAQsF,2BAEtB,IAAIC,EAAqB,WACvB,IAAIC,GAAaxF,EAAQyF,YACzBzF,EAAQyF,YAAcD,EACtBT,EAAgBS,IAIlB,OADAhB,GAA0B,EAAEkB,iBAAiB1F,EAAQ2F,kBAAmBJ,GACjE,WACLf,GAA0B,EAAEoB,oBAAoB5F,EAAQ2F,kBAAmBJ,MAE5E,IAEH,IAQIjqB,EAAQ1I,OAAOrC,EAAe,QAAtBqC,EAAyB,WACnC,OApFJ,SAAyCS,GACvC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN+yB,GAA2B7xB,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GACjEb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEkxB,GAA2B7xB,OAAOW,IAASC,SAAQ,SAAUC,GAC3Db,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAmEEwyB,CAAgC,CACrC/qB,SAAU,YACT7C,EAAMqD,SACR,CAACrD,EAAMqD,QAEV,IAAK0pB,EACH,OAAO,KAGT,IAAI3pB,EAAYpD,EAAMoD,UAClBspB,EAAQ1sB,EAAM0sB,MACdjmB,EAAOomB,EAAe,SAAW,aACrC,OAAOv0B,EAAqB,cAAE,MAAO,CACnC+K,MAAOA,EACPD,UAAWA,GACV9K,EAAqB,cAAE,MAAO,CAC/B8K,UAAW,oCACXU,IAAKS,GACJjM,EAAqB,cAAE,SAAU,CAClCkD,IAAKiL,EACLrD,UAAW,oCAAoC2I,OAAOtF,GACtDA,KAAM,SACN4lB,MAAOK,EACP/S,QAhCsB,WAClBwT,IACFA,EAAwBvB,WAAa5rB,EAAMuB,WAAaU,EAAQV,UAEhE4rB,EAAwBU,wBA6BzBv1B,EAAqB,cAAE,OAAQ,CAChC8K,UAAW,qBACX,cAAe,YAInBwpB,GAAkB5pB,UAAYypB,GAC9BG,GAAkBrpB,aAAeopB,GACJ,IAEzBloB,GAF6B7M,GAAsBU,EAAY,KAAEs0B,IAwBrE,SAASkB,GAA0BtzB,EAAQC,GACzC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAiCT,IAAIqzB,GAAyB,aAEzBC,GAA8BrzB,OAAOgF,OAAO,GAAI0jB,GAAqB,CACvEjgB,UAAW7K,EAAmB,OAC9B8K,MAAO9K,EAAmB,OAC1Bm0B,MAAOn0B,EAAmB,OAC1B01B,cAAe11B,EAAmB,OAClC21B,KAAM31B,EAAiB,KACvB41B,gBAAiB51B,EAAmB,OACpC61B,iBAAkB71B,EAAmB,OACrC81B,kBAAmB91B,EAAiB,KACpC+1B,iBAAkB/1B,EAAiB,KACnCg2B,mBAAoBh2B,EAAiB,KACrCkJ,kBAAmBlJ,EAAiB,KACpCiJ,iBAAkBjJ,EAAiB,KACnCi2B,YAAaj2B,EAAiB,OAE5Bk2B,GAAiC9zB,OAAOgF,OAAO,GAAIojB,GAAwB,CAC7E3f,UAAW,GACXspB,MAAO,mBACPuB,cAAe,yBACfC,MAAM,EACNC,gBAAiB,CACfO,oBAAoB,EACpBtb,QAAS,KAEXgb,iBAAkB,CAChBvyB,QAAS,IAEXwyB,mBAAmB,EACnBC,kBAAkB,EAClBC,oBAAoB,EACpBC,YAAa,eAwCf,SAASG,GAAa9rB,EAAU1G,GAC9B,IAAI8F,EAAU9F,EAAK8F,QACfjC,EAAQ7D,EAAK6D,MACb4uB,EAxCN,SAAmB/rB,GACjB,IAAIijB,EAAS,IAAIltB,EAAkBU,EAAEu1B,OAAOhsB,EAASisB,OAAOvyB,UAAWsG,EAASisB,OAAOxyB,UACnFyyB,EAASlsB,EAASisB,OAAOE,SACzBJ,EAAS9I,EAAOmJ,SAASF,GAC7B,MAAO,CAAC,CAACH,EAAOM,IAAIC,IAAKP,EAAOM,IAAIE,KAAM,CAACR,EAAOS,IAAIF,IAAKP,EAAOS,IAAID,MAoCzDE,CAAUzsB,GAEnB0sB,EAAwBttB,EAAQhC,SAASuvB,UAAUZ,EAAQ5uB,EAAMouB,kBACjE7xB,EAAYgzB,EAAsBhzB,UAClCD,EAAWizB,EAAsBjzB,SACjCE,EAAO+yB,EAAsB/yB,KAE7BizB,EAAe90B,OAAOgF,OAAO,GAAIsC,EAAQhC,SAAU,CACrD1D,UAAWA,EACXD,SAAUA,EACVE,KAAMA,IAEJ6T,EAAW,IAAIpU,EAAmBwzB,GAClC7sB,EAAYjI,OAAOgF,OAAO,GAAI0Q,EAASC,mBAAoBK,IAC3DnP,EAAmBxB,EAAMwB,kBAAoBS,EAAQT,kBAAoBusB,IACrD/tB,EAAMyB,mBAAqBQ,EAAQR,mBAAqBssB,IAC9D,CAChBnrB,UAAWA,IAEbpB,EAAiBoB,GAGnB,SAAS8sB,GAAiB1vB,GACxB,IAAIgd,EAAU4G,GAAc5jB,GACxBiC,EAAU+a,EAAQ/a,QAClBsC,EAAeyY,EAAQzY,aACvBorB,EAAqBh1B,OAAOrC,EAAc,OAArBqC,CAAwB,MAE7CmH,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjE8tB,EAAyB7tB,EAAW,GACpC8tB,EAA+B9tB,EAAW,GAE1CkC,EAAatJ,OAAOrC,EAAgB,SAAvBqC,EAA0B,GACvCuJ,EAAavJ,OAAOnC,EAA+B,EAAtCmC,CAAyCsJ,EAAY,GAClE6rB,EAAsB5rB,EAAW,GACjC6rB,EAAyB7rB,EAAW,GAExCvJ,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,IAAIotB,EAkBJ,OAhBI9lB,EAAQhI,WApLI+L,IAAdvB,GACKurB,QAAQC,QAAQxrB,SAGYuB,IAAjC5D,OAAO8tB,UAAUC,YACZ/tB,OAAO8tB,UAAUC,YAAYC,MAAM,CACxCzoB,KAAM,gBACL0oB,MAAK,SAAUC,GAEhB,OADA7rB,GAAwB,WAAZ6rB,EAAEjiB,UAKlB5J,GAAY2K,QAAQhN,OAAO8tB,UAAUK,aAC9BP,QAAQC,QAAQxrB,MAuKM4rB,MAAK,SAAUrlB,GACtC+kB,EAAuB/kB,GAEnB2kB,EAAmB/qB,WACrBmjB,EA/EV,SAAqC9lB,EAASjC,EAAOwwB,GACnD,IAAIzI,EAAU,IAAInvB,EAAkBU,EAAEo2B,iBAAiB1vB,GACvD+nB,EAAQ6D,WAAaW,GAA0B,EAAEkE,cAAc,OAC/D1I,EAAQ4D,KAAO,CACbhW,GAAI,aACJ+a,aAAc,WACZ,MAAO,KAIX3I,EAAQ4I,UAAS,GAEjB5I,EAAQ4D,KAAO1pB,EAAQhI,IACvB8tB,EAAQ6I,iBAAmBJ,EAC3B,IAAI9uB,EAAeO,EAAQP,aAa3B,OAXIqmB,EAAQhiB,QAAQsoB,mBAAqB3sB,GACvCA,EAAaiU,GAAG,YAAY,WACE,gBAAxBoS,EAAQ8I,cACV9I,EAAQ8I,YAAc,aACtBL,EAAgBM,UAAUC,IAAI,sCAC9BP,EAAgBM,UAAUE,OAAO,sCAKvCjJ,EAAQpS,GAAG,YAAa3V,EAAMwuB,aACvBzG,EAoDWkJ,CAA4BhvB,EAASjC,EAAO2vB,EAAmB/qB,UAEjEssB,cAAgB,SAAUruB,GAChC,OAAO8rB,GAAa9rB,EAAUma,IAGhC6S,EAA6B9H,OAK5B,WACDA,GACFA,EAAQoJ,iBAGX,CAAClvB,EAAQhI,MACZ,IAAIm3B,EAAmBz2B,OAAOrC,EAAmB,YAA1BqC,EAA6B,WAC9Ci1B,IACFA,EAAuB7pB,QAAUiX,EAAQhd,MACzC4vB,EAAuByB,aAExB,CAACzB,IACJj1B,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACrBqF,EAAMkuB,MACRkD,MAED,CAACxB,EAAwB5vB,EAAMkuB,OAClCvzB,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACrBi1B,GACFA,EAAuB0B,YAExB,CAACrvB,EAAQhC,SAASzD,OACrB,IAAI4G,EAAYpD,EAAMoD,UAClBspB,EAAQ1sB,EAAM0sB,MACduB,EAAgBjuB,EAAMiuB,cACtBI,EAAoBruB,EAAMquB,kBAC1BhrB,EAAQ1I,OAAOrC,EAAe,QAAtBqC,EAAyB,WACnC,OA7LJ,SAAwCS,GACtC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNq0B,GAA0BnzB,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAChEb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEwyB,GAA0BnzB,OAAOW,IAASC,SAAQ,SAAUC,GAC1Db,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EA4KEm2B,CAA+B,CACpC1uB,SAAU,YACT7C,EAAMqD,SACR,CAACrD,EAAMqD,QACV,OAAO/K,EAAqB,cAAE,MAAO,CACnC+K,MAAOA,EACPD,UAAWA,GACV9K,EAAqB,cAAE,MAAO,CAC/BkD,IAAK,oBACL4H,UAAW,oCACXU,IAAKS,GACJjM,EAAqB,cAAE,SAAU,CAClCkD,IAAK,YACL4H,UAAW,6CACXU,IAAK6rB,EACL6B,UAAW1B,EACX,gBAAiBzB,EACjB5nB,KAAM,SACN4lB,MAAOyD,EAAsBpD,EAAQuB,EACrC,aAAc6B,EAAsBpD,EAAQuB,EAC5CtU,QAASyX,GACR94B,EAAqB,cAAE,OAAQ,CAChC8K,UAAW,qBACX,cAAe,YAInBssB,GAAiB1sB,UAAYgrB,GAC7B0B,GAAiBnsB,aAAekrB,GACH,IAAI52B,GAAqBS,EAAY,KAAEo3B,IAwBpE,SAAS+B,GAA2Bj3B,EAAQC,GAC1C,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA+BT,IAAIg3B,GAA0B,aAE1BC,GAA+Bh3B,OAAOgF,OAAO,GAAI0jB,GAAqB,CACxEjgB,UAAW7K,EAAmB,OAC9B8K,MAAO9K,EAAmB,OAC1BkJ,kBAAmBlJ,EAAiB,KACpCiJ,iBAAkBjJ,EAAiB,KACnCq5B,YAAar5B,EAAiB,KAC9Bs5B,SAAUt5B,EAAiB,KAC3Bu5B,YAAav5B,EAAmB,OAChCw5B,aAAcx5B,EAAmB,OACjCy5B,aAAcz5B,EAAmB,SAE/B05B,GAAkCt3B,OAAOgF,OAAO,GAAIojB,GAAwB,CAC9E3f,UAAW,GACXwuB,aAAa,EACbC,UAAU,EACVC,YAAa,UACbC,aAAc,WACdC,aAAc,gBAKhB,SAASE,GAAaC,GACpB,OAzFF,SAAyBC,EAAUC,GAIjC,IAHA,IAAIC,GAAMF,GAAY,IAAIG,MAAM,KAAKt4B,IAAI4D,QACrC20B,GAAMH,GAAY,IAAIE,MAAM,KAAKt4B,IAAI4D,QAEhCpE,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIg5B,EAAQH,EAAG74B,IAAM,EACjBi5B,EAAQF,EAAG/4B,IAAM,EAErB,GAAIg5B,EAAQC,EACV,OAAQ,EAGV,GAAID,EAAQC,EACV,OAAO,EAIX,OAAO,EAwEAC,CAAgBR,EAAe,UAAY,EAHlC,EADG,EAOrB,SAASS,GAAkC3wB,EAASjC,EAAO8M,GACzD,IAAI7M,EAAWgC,EAAQhC,SACnBoQ,EAAW,IAAIpU,EAAmBtB,OAAOgF,OAAO,GAAIM,EAAU6M,IAC9DlK,EAAYjI,OAAOgF,OAAO,GAAI0Q,EAASC,mBAAoBK,IAC3DnP,EAAmBxB,EAAMwB,kBAAoBS,EAAQT,kBAAoBkwB,IACrD1xB,EAAMyB,mBAAqBQ,EAAQR,mBAAqBiwB,IAC9D,CAChB9uB,UAAWA,IAEbpB,EAAiBoB,GAGnB,SAASiwB,GAAapsB,EAAMimB,EAAOoG,EAAUjxB,GAC3C,OAAOvJ,EAAqB,cAAE,SAAU,CACtCkD,IAAKiL,EACLrD,UAAW,oCAAoC2I,OAAOtF,GACtDA,KAAM,SACN4lB,MAAOK,EACP/S,QAASmZ,GACRjxB,GAAYvJ,EAAqB,cAAE,OAAQ,CAC5C8K,UAAW,qBACX,cAAe,UAsBnB,SAAS2vB,GAAkB/yB,GACzB,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAqB9BnB,EAAYpD,EAAMoD,UAClBwuB,EAAc5xB,EAAM4xB,YACpBC,EAAW7xB,EAAM6xB,SACjBC,EAAc9xB,EAAM8xB,YACpBC,EAAe/xB,EAAM+xB,aACrBC,EAAehyB,EAAMgyB,aACrB3uB,EAAQ1I,OAAOrC,EAAe,QAAtBqC,EAAyB,WACnC,OAlIJ,SAAyCS,GACvC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNg4B,GAA2B92B,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GACjEb,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEm2B,GAA2B92B,OAAOW,IAASC,SAAQ,SAAUC,GAC3Db,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAiHE43B,CAAgC,CACrCnwB,SAAU,YACT7C,EAAMqD,SACR,CAACrD,EAAMqD,QACV,OAAO/K,EAAqB,cAAE,MAAO,CACnC+K,MAAOA,EACPD,UAAWA,GACV9K,EAAqB,cAAE,MAAO,CAC/B8K,UAAW,oCACXU,IAAKS,GACJstB,GAAYgB,GAAa,UAAWf,GApCxB,WACbc,GAAkC3wB,EAASjC,EAAO,CAChDxD,KAAMyF,EAAQhC,SAASzD,KAAO,OAkC6Bq1B,GAAYgB,GAAa,WAAYd,GA9BpF,WACda,GAAkC3wB,EAASjC,EAAO,CAChDxD,KAAMyF,EAAQhC,SAASzD,KAAO,OA4B4Fo1B,GAAeiB,GAAa,UAAWb,GAxBlJ,WACjBY,GAAkC3wB,EAASjC,EAAO,CAChDtD,QAAS,EACTE,MAAO,MAtCb,SAAuBqF,GACrB,IAAIgxB,EAAYt4B,OAAOrC,EAAe,QAAtBqC,EAAyB,WACvC,OAAOsH,EAAQhI,IAAMi4B,GAAajwB,EAAQhI,IAAI8lB,SAjChC,IAkCb,CAAC9d,EAAQhI,MACRyC,EAAUuF,EAAQhC,SAASvD,QAC3B2G,EAAQ,CACVykB,UAAW,UAAU/b,QAAQrP,EAAS,SAExC,OAvCgB,IAuCTu2B,EAA4B36B,EAAqB,cAAE,OAAQ,CAChE8K,UAAW,qBACX,cAAe,OACfC,MAAOA,IACJ/K,EAAqB,cAAE,OAAQ,CAClC8K,UAAW,8BACXC,MAAOA,IA6CwL6vB,CAAcjxB,MAGjN8wB,GAAkB/vB,UAAY2uB,GAC9BoB,GAAkBxvB,aAAe0uB,GACJ,IAAIn6B,GAAsBQ,EAAY,KAAEy6B,IAKrE,SAASI,GAAsB34B,EAAQC,GACrC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA4BT,IAAI04B,GAA0Bz4B,OAAOgF,OAAO,GAAI0jB,GAAqB,CACnEjgB,UAAW7K,EAAmB,OAC9B8K,MAAO9K,EAAmB,OAC1B86B,SAAU96B,EAAmB,OAC7B+6B,KAAM/6B,EAAkB,MAAE,CAAC,WAAY,SAAU,eAE/Cg7B,GAA6B54B,OAAOgF,OAAO,GAAIojB,GAAwB,CACzE3f,UAAW,GACXiwB,SAAU,IACVC,KAAM,WAGR,SAASE,GAAaxzB,GACpB,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAE9BzC,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjE2xB,EAAqB1xB,EAAW,GAChC2xB,EAA2B3xB,EAAW,GAE1CpH,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzB,GAAIsH,EAAQhI,IAAK,CACf,IAAI8tB,EAAU,IAAInvB,EAAkBU,EAAEk6B,aACtCzL,EAAQ4D,KAAO1pB,EAAQhI,IACvB8tB,EAAQ6D,WAAarnB,EAAaK,QAClC8uB,EAAyB3L,MAE1B,CAAC9lB,EAAQhI,MAERw5B,IACFA,EAAmB1tB,QAAU/F,EAE7ByzB,EAAmBE,WAGrB,IAAItwB,EAAQ1I,OAAOrC,EAAe,QAAtBqC,EAAyB,WACnC,OA/DJ,SAAoCS,GAClC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN05B,GAAsBx4B,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC5Db,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjE63B,GAAsBx4B,OAAOW,IAASC,SAAQ,SAAUC,GACtDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EA8CEw4B,CAA2B,CAChC/wB,SAAU,YACT7C,EAAMqD,SACR,CAACrD,EAAMqD,QACV,OAAO/K,EAAqB,cAAE,MAAO,CACnC+K,MAAOA,EACPD,UAAWpD,EAAMoD,WAChB9K,EAAqB,cAAE,MAAO,CAC/BwL,IAAKS,EACLnB,UAAW,uCAIfowB,GAAaxwB,UAAYowB,GACzBI,GAAajwB,aAAegwB,GACC,IAAIx7B,GAAiBO,EAAY,KAAEk7B,IAO5DK,GAA8C,qBAAXzxB,QAA0BA,OAAOukB,kBAAoB,EACxFmN,GAA2Bn5B,OAAOgF,OAAO,GAAI0jB,GAAqB,CACpE0Q,OAAQx7B,EAAiB,KAAE6mB,aAU7B,SAAS4U,GAAch0B,GACrB,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAE9BzC,EAAYnH,OAAOrC,EAAgB,SAAvBqC,CAA0B,MACtCoH,EAAapH,OAAOnC,EAA+B,EAAtCmC,CAAyCmH,EAAW,GACjEmyB,EAAMlyB,EAAW,GACjBmyB,EAAoBnyB,EAAW,GAEnCpH,OAAOrC,EAAiB,UAAxBqC,EAA2B,WACzBu5B,EAAkB3vB,EAAaK,QAAQuvB,WAAW,SACjD,IACH,IAAIl0B,EAAWgC,EAAQhC,SACnBgR,EAAahP,EAAQgP,WAgBzB,OAdIgjB,IACFA,EAAIG,OACJH,EAAI10B,MAAMs0B,GAA2BA,IACrC7zB,EAAM+zB,OAAO,CACX33B,MAAO6D,EAAS7D,MAChBC,OAAQ4D,EAAS5D,OACjB43B,IAAKA,EACLhjB,WAAYA,EACZ/D,QAASjN,EAASiN,QAClBhN,UAAWD,EAASC,YAEtB+zB,EAAII,WAGC/7B,EAAqB,cAAE,SAAU,CACtCwL,IAAKS,EACLnI,MAAO6D,EAAS7D,MAAQy3B,GACxBx3B,OAAQ4D,EAAS5D,OAASw3B,GAC1BxwB,MAAO,CACLjH,MAAO,GAAG2P,OAAO9L,EAAS7D,MAAO,MACjCC,OAAQ,GAAG0P,OAAO9L,EAAS5D,OAAQ,MACnCwG,SAAU,WACVa,KAAM,EACNC,IAAK,KAKXqwB,GAAchxB,UAAY8wB,GAC1BE,GAAczwB,aArDoB,CAChCyf,eAAe,EACfC,aAAa,EACbC,cAAc,EACdC,oBAAoB,EACpBC,oBAAoB,GAqDtB,SAASkR,GAAqB95B,EAAQC,GACpC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA0BT,IAAI65B,GAAyB55B,OAAOgF,OAAO,GAAI0jB,GAAqB,CAClE0Q,OAAQx7B,EAAiB,KAAE6mB,WAC3B/b,MAAO9K,EAAmB,SAU5B,SAASi8B,GAAYx0B,GACnB,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAE9BtE,EAAWgC,EAAQhC,SACnBgR,EAAahP,EAAQgP,WAErB5N,EA3CN,SAAmCjI,GACjC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACN66B,GAAqB35B,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC3Db,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEg5B,GAAqB35B,OAAOW,IAASC,SAAQ,SAAUC,GACrDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EA0BKq5B,CAA0B,CACpC5xB,SAAU,WACVa,KAAM,EACNC,IAAK,EACLvH,MAAO6D,EAAS7D,MAChBC,OAAQ4D,EAAS5D,QAChB2D,EAAMqD,OAET,OAAO/K,EAAqB,cAAE,MAAO,CACnCwL,IAAKS,EACLlB,MAAOA,GACNrD,EAAM+zB,OAAO,CACd33B,MAAO6D,EAAS7D,MAChBC,OAAQ4D,EAAS5D,OACjB4U,WAAYA,EACZ/D,QAASjN,EAASiN,QAClBhN,UAAWD,EAASC,aAIxBs0B,GAAYxxB,UAAYuxB,GACxBC,GAAYjxB,aArCoB,CAC9Byf,eAAe,EACfC,aAAa,EACbC,cAAc,EACdC,oBAAoB,EACpBC,oBAAoB,GAqCtB,SAASsR,GAAoBl6B,EAAQC,GACnC,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EA0BT,IAAIi6B,GAAwBh6B,OAAOgF,OAAO,GAAI0jB,GAAqB,CACjE0Q,OAAQx7B,EAAiB,KAAE6mB,WAC3B/b,MAAO9K,EAAmB,SAU5B,SAASq8B,GAAW50B,GAClB,IAAIkkB,EAAiBN,GAAc5jB,GAC/BiC,EAAUiiB,EAAejiB,QACzBsC,EAAe2f,EAAe3f,aAE9BtE,EAAWgC,EAAQhC,SACnBgR,EAAahP,EAAQgP,WAErB5N,EA3CN,SAAkCjI,GAChC,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNi7B,GAAoB/5B,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC1Db,OAAOtC,EAAgC,EAAvCsC,CAA0CS,EAAQI,EAAKF,EAAOE,OAEvDb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEo5B,GAAoB/5B,OAAOW,IAASC,SAAQ,SAAUC,GACpDb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EA0BKy5B,CAAyB,CACnChyB,SAAU,WACVa,KAAM,EACNC,IAAK,GACJ3D,EAAMqD,OAET,OAAO/K,EAAqB,cAAE,MAAO,CACnC8D,MAAO6D,EAAS7D,MAChBC,OAAQ4D,EAAS5D,OACjByH,IAAKS,EACLlB,MAAOA,GACNrD,EAAM+zB,OAAO,CACd33B,MAAO6D,EAAS7D,MAChBC,OAAQ4D,EAAS5D,OACjB4U,WAAYA,EACZ/D,QAASjN,EAASiN,QAClBhN,UAAWD,EAASC,aAIxB00B,GAAW5xB,UAAY2xB,GACvBC,GAAWrxB,aArCoB,CAC7Byf,eAAe,EACfC,aAAa,EACbC,cAAc,EACdC,oBAAoB,EACpBC,oBAAoB,GAoCCxqB,EAAkBU,GAAIV,EAAkBU,EAAEw7B,kBA8B3D,KACA,SAAU39B,EAAQC,EAAqBC,GAE7C,aAGAA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB29B,KACnF19B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB49B,KACnF39B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB69B,KACnF59B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB89B,KACnF79B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB+9B,KACnF99B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBg+B,KACnF/9B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBi+B,KACnFh+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBk+B,KACnFj+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBm+B,KACnFl+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBo+B,KACnFn+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBq+B,KACnFp+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBs+B,KACnFr+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBu+B,KACnFt+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBw+B,KACnFv+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsBy+B,KACnFx+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB0+B,KACnFz+B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB2+B,KAKnF,IAAI39B,EAAoBf,EAAoB,IAGxCmB,EAAgBnB,EAAoB,GAGpCyB,EAAiBzB,EAAoB,IAGrC0B,EAAc1B,EAAoB,IAGlC2+B,EAAO3+B,EAAoB,MAO/B,SAAS4+B,EAAgBC,EAAQC,GAC/B,IAAInrB,EAASgrB,EAA4B,EAAE,GAAIG,EAAQD,GAEvD,OADAF,EAAoB,EAAEhrB,EAAQA,EAAQ,EAAIA,EAAO,IAC1CA,EAET,SAASorB,EAAIn9B,EAAOo9B,GAClB,IAAIC,EAAUr9B,EAAQo9B,EACtB,OAAOC,EAAU,EAAID,EAAUC,EAAUA,EAE3C,SAASv8B,EAAKwP,EAAOC,EAAKhB,GACxB,OAAOA,EAAOgB,GAAO,EAAIhB,GAAQe,EAOnC,IAAIjJ,EAAO5G,KAAK4G,MAJhB,SAAgBuS,GACd,OAAOnZ,KAAK68B,IAAI1jB,GAAKnZ,KAAK88B,OAKxBC,EAAOp/B,EAAoB,MAG3Bq/B,EAAOr/B,EAAoB,MAG3Bs/B,EAAOt/B,EAAoB,MAG/B,SAAS8C,EAAOC,EAAWC,GACzB,IAAKD,EACH,MAAM,IAAIE,MAAMD,GAAW,4CAU/B,IAAIu8B,EAAKl9B,KAAKk9B,GACVC,EAAOD,EAAK,EACZE,EAAqBF,EAAK,IAC1BG,EAAqB,IAAMH,EAC3BI,EAAY,IACZC,EAAsB,OAE1B,SAASC,EAAY16B,GACnB,OAAO9C,KAAK0e,IAAI,EAAG5b,GAErB,SAAS26B,EAAY53B,GACnB,OAAOe,EAAKf,GAEd,SAAS81B,EAAcl5B,GACrB,IAAI+B,EAAQvD,OAAOnC,EAA+B,EAAtCmC,CAAyCwB,EAAM,GACvDgzB,EAAMjxB,EAAM,GACZkxB,EAAMlxB,EAAM,GAEhB/D,EAAO0D,OAAOC,SAASqxB,IACvBh1B,EAAO0D,OAAOC,SAASsxB,IAAQA,IAAQ,IAAMA,GAAO,GAAI,oBACxD,IACIgI,EAAOhI,EAAM0H,EAGjB,MAAO,CAFCE,GAFM7H,EAAM2H,EAEWF,IAAO,EAAIA,GAClCI,GAAaJ,EAAKl9B,KAAK68B,IAAI78B,KAAK29B,IAAIR,EAAc,GAAPO,MAAiB,EAAIR,IAG1E,SAAStB,EAAch3B,GACrB,IAAIK,EAAQhE,OAAOnC,EAA+B,EAAtCmC,CAAyC2D,EAAO,GACxDuU,EAAIlU,EAAM,GACVmU,EAAInU,EAAM,GAEV24B,EAAUzkB,EAAImkB,GAAa,EAAIJ,GAAMA,EACrCQ,EAAO,GAAK19B,KAAK69B,KAAK79B,KAAK+d,IAAI3E,EAAIkkB,GAAa,EAAIJ,GAAMA,IAAOC,GACrE,MAAO,CAACS,EAAUP,EAAoBK,EAAOL,GAE/C,SAASpB,EAAa/2B,GACpB,IAAItC,EAAWsC,EAAMtC,SACrBnC,EAAO0D,OAAOC,SAASxB,IACvB,IAAIk7B,EAAY99B,KAAK+9B,IAAIn7B,EAAWw6B,GACpC,OAAOK,EAAYF,EAAsBO,GAAa,EAExD,SAAS5B,EAAkBv2B,GACzB,IAAI/C,EAAW+C,EAAM/C,SACjBC,EAAY8C,EAAM9C,UAClBm7B,EAAsBr4B,EAAMs4B,cAC5BA,OAAwC,IAAxBD,GAAyCA,EAC7Dv9B,EAAO0D,OAAOC,SAASxB,IAAauB,OAAOC,SAASvB,IACpD,IAAIyO,EAAS,GAETwsB,EAAY99B,KAAK+9B,IAAIn7B,EAAWw6B,GAChCc,EAFYZ,IAEkB,IAC9Ba,EAAkBD,EAAkBJ,EACpCM,EAAmBC,sBAAkCP,EAMzD,GALAxsB,EAAOgtB,cAAgB,CAACF,EAAkBA,EAAkBA,GAC5D9sB,EAAOitB,cAAgB,CAAC,EAAIH,EAAkB,EAAIA,EAAkB,EAAIA,GACxE9sB,EAAOktB,eAAiB,CAACN,EAAiBC,EAAiBC,GAC3D9sB,EAAOmtB,eAAiB,CAAC,QAAqB,EAAIN,EAAiB,EAAIC,GAEnEH,EAAe,CACjB,IAAIS,EAAatB,EAAqBp9B,KAAK29B,IAAI/6B,EAAWw6B,GAAsBU,EAC5Ea,EAAmBT,EAAkBQ,EAAa,EAClDE,EAAqBP,sBAAkCK,EACvDG,EAAoBD,EAAqBT,EAAkBC,EAC/D9sB,EAAOwtB,gBAAkB,CAAC,EAAGH,EAAkBC,GAC/CttB,EAAOytB,eAAiB,CAACF,EAAmB,EAAGA,GAGjD,OAAOvtB,EAET,SAAS6qB,EAAkB6C,EAASC,GAClC,IAAIC,EAAWj+B,OAAOnC,EAA+B,EAAtCmC,CAAyC+9B,EAAS,GAC7Dn8B,EAAYq8B,EAAS,GACrBt8B,EAAWs8B,EAAS,GACpBC,EAAKD,EAAS,GAEdE,EAAOn+B,OAAOnC,EAA+B,EAAtCmC,CAAyCg+B,EAAK,GACrD9lB,EAAIimB,EAAK,GACThmB,EAAIgmB,EAAK,GACT9gB,EAAI8gB,EAAK,GAETC,EAAqBnD,EAAkB,CACzCr5B,UAAWA,EACXD,SAAUA,EACVq7B,eAAe,IAEbK,EAAgBe,EAAmBf,cACnCS,EAAiBM,EAAmBN,eAEpCO,EAAa3D,EAAcqD,GAC/BM,EAAW,IAAMnmB,GAAKmlB,EAAc,GAAKS,EAAe,GAAK3lB,GAC7DkmB,EAAW,IAAMlmB,GAAKklB,EAAc,GAAKS,EAAe,GAAK3lB,GAC7D,IAAImmB,EAAY3D,EAAc0D,GAC1BE,GAAQL,GAAM,IAAM7gB,GAAK,GAC7B,OAAOna,OAAOC,SAAS+6B,IAAOh7B,OAAOC,SAASka,GAAK,CAACihB,EAAU,GAAIA,EAAU,GAAIC,GAAQD,EAE1F,SAASnD,EAAcx2B,GACrB,IAAIjD,EAASiD,EAAMjD,OACfO,EAAQ0C,EAAM1C,MACdF,EAAU4C,EAAM5C,QAChBI,EAAWwC,EAAMxC,SACjByC,EAAQD,EAAMC,MACd45B,EAAe75B,EAAMwmB,OACrBA,OAA0B,IAAjBqT,EAA0B,KAAOA,EAC1CC,EAjJG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GA4JrD,OAVA3C,EAAwB,EAAE2C,EAAIA,EAAI,CAAC,EAAG,GAAIt8B,IAC1C25B,EAAsB,EAAE2C,EAAIA,GAAKx8B,EAAQk6B,GACzCL,EAAsB,EAAE2C,EAAIA,EAAI18B,EAAUo6B,GAC1Cv3B,GAASlD,EACTo6B,EAAoB,EAAE2C,EAAIA,EAAI,CAAC75B,EAAOA,EAAOA,IAEzCumB,GACF2Q,EAAwB,EAAE2C,EAAIA,EAAIzC,EAAqB,EAAE,GAAI7Q,IAGxDsT,EAET,SAASrD,EAAwB51B,GAC/B,IAAI/D,EAAQ+D,EAAM/D,MACdC,EAAS8D,EAAM9D,OACfg9B,EAAal5B,EAAMm5B,KACnBA,OAAsB,IAAfD,EAAwB5D,EAlHd,KAkHiD4D,EAClEv8B,EAAWqD,EAAMrD,SACjBy8B,EAAcp5B,EAAMvD,MACpBA,OAAwB,IAAhB28B,EAAyB,EAAIA,EACrCC,EAAwBr5B,EAAMs5B,gBAC9BA,OAA4C,IAA1BD,EAAmC,EAAIA,EACzDE,EAAuBv5B,EAAMw5B,eAC7BA,OAA0C,IAAzBD,EAAkC,EAAIA,OAE1C1zB,IAAblJ,IACFw8B,EAAO7D,EAAe34B,IAGxB,IAAI88B,EAAU,GAAMN,EAAOxC,EACvB+C,EAAgBnE,EAAe4D,GAC/BQ,EAAel9B,EAAQk6B,EACvBiD,EAAyBrgC,KAAKsgC,IAAIJ,GAAWC,EAAgBngC,KAAKsgC,IAAItgC,KAAKG,IAAIH,KAAKI,IAAIJ,KAAKk9B,GAAK,EAAIkD,EAAeF,EAAS,KAAOlgC,KAAKk9B,GAAK,MAEnJ,MAAO,CACLqD,IAAK,EAAIL,EACTM,OAAQ99B,EAAQC,EAChBw9B,cAAeA,EACfM,KAAMV,EACNW,KANS1gC,KAAKsgC,IAAIF,GAAgBC,EAAyBF,GAM/CF,GAGhB,SAASU,EAAoBj6B,GAC3B,IAAIhE,EAAQgE,EAAMhE,MACdC,EAAS+D,EAAM/D,OACfO,EAAQwD,EAAMxD,MAMd09B,EAAwBvE,EAAwB,CAClD35B,MAAOA,EACPC,OAAQA,EACRS,SARasD,EAAMtD,SASnBw8B,KARSl5B,EAAMk5B,KASf18B,MAAOA,EACP68B,gBAToBr5B,EAAMq5B,gBAU1BE,eATmBv5B,EAAMu5B,iBAWvBM,EAAMK,EAAsBL,IAC5BC,EAASI,EAAsBJ,OAC/BC,EAAOG,EAAsBH,KAC7BC,EAAME,EAAsBF,IAGhC,OADuB3D,EAA0B,EAAE,GAAIwD,EAAKC,EAAQC,EAAMC,GAG5E,SAAS3E,EAAe34B,GACtB,OAAO,EAAIpD,KAAK69B,KAAK,GAAMz6B,GAAYi6B,EAEzC,SAASrB,EAAe4D,GACtB,MAAO,GAAM5/B,KAAK29B,IAAI,GAAMiC,EAAOxC,GAErC,SAASvB,EAAcoD,EAAK4B,GAC1B,IAAIC,EAAQ7/B,OAAOnC,EAA+B,EAAtCmC,CAAyCg+B,EAAK,GACtD9lB,EAAI2nB,EAAM,GACV1nB,EAAI0nB,EAAM,GACVC,EAASD,EAAM,GACfxiB,OAAe,IAAXyiB,EAAoB,EAAIA,EAGhC,OADAtgC,EAAO0D,OAAOC,SAAS+U,IAAMhV,OAAOC,SAASgV,IAAMjV,OAAOC,SAASka,IAC5Die,EAAgBsE,EAAuB,CAAC1nB,EAAGC,EAAGkF,EAAG,IAE1D,SAASwd,EAAcmD,EAAK+B,GAC1B,IAAItf,EAAU/f,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,EAE9Es/B,EAAQhgC,OAAOnC,EAA+B,EAAtCmC,CAAyCg+B,EAAK,GACtD9lB,EAAI8nB,EAAM,GACV7nB,EAAI6nB,EAAM,GACV3iB,EAAI2iB,EAAM,GAId,GAFAxgC,EAAO0D,OAAOC,SAAS+U,IAAMhV,OAAOC,SAASgV,GAAI,4BAE7CjV,OAAOC,SAASka,GAAI,CACtB,IAAI4iB,EAAQ3E,EAAgByE,EAAyB,CAAC7nB,EAAGC,EAAGkF,EAAG,IAC/D,OAAO4iB,EAGT,IAAIC,EAAS5E,EAAgByE,EAAyB,CAAC7nB,EAAGC,EAAG,EAAG,IAC5DgoB,EAAS7E,EAAgByE,EAAyB,CAAC7nB,EAAGC,EAAG,EAAG,IAC5D+lB,EAAKgC,EAAO,GACZE,EAAKD,EAAO,GACZ9gC,EAAI6+B,IAAOkC,EAAK,IAAM3f,GAAW,GAAKyd,IAAOkC,EAAKlC,GACtD,OAAOnC,EAAmB,EAAE,GAAImE,EAAQC,EAAQ9gC,GAOlD,SAASi7B,EAAqB94B,GAC5B,IAAIC,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OACduyB,EAASzyB,EAAKyyB,OACdoM,EAAiB7+B,EAAK8+B,UACtBA,OAA+B,IAAnBD,EAA4B,EAAIA,EAC5Cj+B,EAAeZ,EAAKN,QACpBA,OAA2B,IAAjBkB,EAA0B,GAAKA,EACzCksB,EAAe9sB,EAAK+sB,QACpBA,OAA2B,IAAjBD,EAA0B,EAAIA,EACxCiS,EAAc/+B,EAAKg/B,OACnBA,OAAyB,IAAhBD,EAAyB,CAAC,EAAG,GAAKA,EAE3CE,EAAUzgC,OAAOnC,EAA+B,EAAtCmC,CAAyCi0B,EAAQ,GAC3DyM,EAAW1gC,OAAOnC,EAA+B,EAAtCmC,CAAyCygC,EAAQ,GAAI,GAChEE,EAAOD,EAAS,GAChBE,EAAQF,EAAS,GACjBG,EAAY7gC,OAAOnC,EAA+B,EAAtCmC,CAAyCygC,EAAQ,GAAI,GACjEK,EAAOD,EAAU,GACjBE,EAAQF,EAAU,GAEtB,GAAI39B,OAAOC,SAASorB,GAAU,CAE5BA,EAAU,CACRvlB,IAFMulB,EAGNhB,OAHMgB,EAINxlB,KAJMwlB,EAKNf,MALMe,QAQR/uB,EAAO0D,OAAOC,SAASorB,EAAQvlB,MAAQ9F,OAAOC,SAASorB,EAAQhB,SAAWrqB,OAAOC,SAASorB,EAAQxlB,OAAS7F,OAAOC,SAASorB,EAAQf,QAGrI,IAAIloB,EAAW,IAAI80B,EAA0C,CAC3D34B,MAAOA,EACPC,OAAQA,EACRE,UAAW,EACXD,SAAU,EACVE,KAAM,IAEJm/B,EAAK17B,EAASiN,QAAQ,CAACouB,EAAMI,IAC7BE,EAAK37B,EAASiN,QAAQ,CAACuuB,EAAMF,IAC7Bp3B,EAAO,CAACzK,KAAKI,IAAIJ,KAAKC,IAAIiiC,EAAG,GAAKD,EAAG,IAAKV,GAAYvhC,KAAKI,IAAIJ,KAAKC,IAAIiiC,EAAG,GAAKD,EAAG,IAAKV,IACxFY,EAAa,CAACz/B,EAAQ8sB,EAAQxlB,KAAOwlB,EAAQf,MAA8B,EAAtBzuB,KAAKC,IAAIwhC,EAAO,IAAS9+B,EAAS6sB,EAAQvlB,IAAMulB,EAAQhB,OAA+B,EAAtBxuB,KAAKC,IAAIwhC,EAAO,KAC1IhhC,EAAO0hC,EAAW,GAAK,GAAKA,EAAW,GAAK,GAC5C,IAAIC,EAASD,EAAW,GAAK13B,EAAK,GAC9B43B,EAASF,EAAW,GAAK13B,EAAK,GAC9B63B,GAAW9S,EAAQf,MAAQe,EAAQxlB,MAAQ,EAAIo4B,EAC/CG,GAAW/S,EAAQhB,OAASgB,EAAQvlB,KAAO,EAAIo4B,EAC/CjW,EAAS,EAAE8V,EAAG,GAAKD,EAAG,IAAM,EAAIK,GAAUJ,EAAG,GAAKD,EAAG,IAAM,EAAIM,GAC/DC,EAAej8B,EAASC,UAAU4lB,GAClCtpB,EAAO9C,KAAKG,IAAIgC,EAASoE,EAASzD,KAAO8D,EAAK5G,KAAKC,IAAID,KAAKG,IAAIiiC,EAAQC,MAE5E,OADA5hC,EAAO0D,OAAOC,SAAStB,IAChB,CACLD,UAAW2/B,EAAa,GACxB5/B,SAAU4/B,EAAa,GACvB1/B,KAAMA,GAOV,IAAI2/B,EAAgCziC,KAAKk9B,GAAK,IAC9C,SAAS5B,EAAqB/0B,GAC5B,IASIm8B,EACAC,EAVArkB,EAAI3c,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,EACxEe,EAAQ6D,EAAS7D,MACjBC,EAAS4D,EAAS5D,OAClB6D,EAAYD,EAASC,UACrBo8B,EAAe,CACjBlhB,QAASpD,GAEPukB,EAAar8B,EAAU,CAAC,EAAG7D,GAASigC,GACpCE,EAAct8B,EAAU,CAAC9D,EAAOC,GAASigC,GAGzC1C,EAAU35B,EAASq5B,KAAO,GAAMr5B,EAASq5B,KAAO6C,EAAgCziC,KAAK69B,KAAK,GAAMt3B,EAASnD,UACzG2/B,GAAiB,GAAKx8B,EAASrD,OAASu/B,EAU5C,OARIvC,EAAU6C,EAAgB,KAC5BL,EAAUM,EAAoBz8B,EAAU,EAAG+X,GAC3CqkB,EAAWK,EAAoBz8B,EAAU7D,EAAO4b,KAEhDokB,EAAUl8B,EAAU,CAAC,EAAG,GAAIo8B,GAC5BD,EAAWn8B,EAAU,CAAC9D,EAAO,GAAIkgC,IAG5B,CAACC,EAAYC,EAAaH,EAAUD,GAG7C,SAASM,EAAoBz8B,EAAU4S,EAAGuI,GACxC,IAAIsf,EAA0Bz6B,EAASy6B,wBACnCG,EAAS5E,EAAgByE,EAAyB,CAAC7nB,EAAG,EAAG,EAAG,IAC5DioB,EAAS7E,EAAgByE,EAAyB,CAAC7nB,EAAG5S,EAAS5D,OAAQ,EAAG,IAE1ErC,GADIohB,EAAUnb,EAAS08B,eAAe3E,cAAc,GAC3C6C,EAAO,KAAOC,EAAO,GAAKD,EAAO,IAE1C7vB,EAASsqB,EADDoB,EAAmB,EAAE,GAAImE,EAAQC,EAAQ9gC,IAGrD,OADAgR,EAAO,GAAKoQ,EACLpQ,EAeT,IAAI+pB,EAAyD,WAC3D,SAAS6H,IACP,IAAIzgC,EAAOd,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,CAC7Ee,MAAO,EACPC,OAAQ,GAEND,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OACdwgC,EAAgB1gC,EAAKG,SACrBA,OAA6B,IAAlBugC,EAA2B,EAAIA,EAC1CC,EAAiB3gC,EAAKI,UACtBA,OAA+B,IAAnBugC,EAA4B,EAAIA,EAC5CC,EAAY5gC,EAAKK,KACjBA,OAAqB,IAAdugC,EAAuB,EAAIA,EAClCpgC,EAAaR,EAAKS,MAClBA,OAAuB,IAAfD,EAAwB,EAAIA,EACpCF,EAAeN,EAAKO,QACpBA,OAA2B,IAAjBD,EAA0B,EAAIA,EACxCI,EAAgBV,EAAKW,SACrBA,OAA6B,IAAlBD,EAA2B,KAAOA,EAC7CmgC,EAAY7gC,EAAKm9B,KACjBA,OAAqB,IAAd0D,EAAuB,KAAOA,EACrCC,EAAgB9gC,EAAK0G,SACrBA,OAA6B,IAAlBo6B,EAA2B,KAAOA,EAC7CC,EAAuB/gC,EAAKs9B,gBAC5BA,OAA2C,IAAzByD,EAAkC,IAAOA,EAC3DC,EAAsBhhC,EAAKw9B,eAC3BA,OAAyC,IAAxBwD,EAAiC,KAAOA,EAE7DxiC,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAM2lC,GAEhDxgC,EAAQA,GAAS,EACjBC,EAASA,GAAU,EAEN,OAATi9B,GAA8B,OAAbx8B,EAEnBw8B,EAAO7D,EADP34B,EAtWiB,KAwWC,OAATw8B,EACTA,EAAO7D,EAAe34B,GACA,OAAbA,IACTA,EAAW44B,EAAe4D,IAG5B,IAAI/5B,EAAQ23B,EAAY16B,GACxBM,EAAWpD,KAAKI,IAAI,IAAMgD,GAC1B,IAAI6/B,EAAiB/G,EAAkB,CACrCr5B,UAAWA,EACXD,SAAUA,IAERwpB,EAASuP,EAAc,CAAC94B,EAAWD,IACvCwpB,EAAO,GAAK,EAERjjB,GACF8zB,EAAkB,EAAE7Q,EAAQA,EAAQ6Q,EAAkB,EAAE,GAAI9zB,EAAU85B,EAAe3E,gBAGvF/gC,KAAKmmC,iBAAmB/C,EAAoB,CAC1Cj+B,MAAOA,EACPC,OAAQA,EACRO,MAAOA,EACP08B,KAAMA,EACNG,gBAAiBA,EACjBE,eAAgBA,IAElB1iC,KAAKomC,WAAavH,EAAc,CAC9Bz5B,OAAQA,EACRkD,MAAOA,EACPumB,OAAQA,EACRlpB,MAAOA,EACPF,QAASA,EACTI,SAAUA,IAEZ7F,KAAKmF,MAAQA,EACbnF,KAAKoF,OAASA,EACdpF,KAAKsI,MAAQA,EACbtI,KAAKqF,SAAWA,EAChBrF,KAAKsF,UAAYA,EACjBtF,KAAKuF,KAAOA,EACZvF,KAAK2F,MAAQA,EACb3F,KAAKyF,QAAUA,EACfzF,KAAK6F,SAAWA,EAChB7F,KAAKqiC,KAAOA,EACZriC,KAAK6uB,OAASA,EACd7uB,KAAKokB,YAAcxY,GAAY,CAAC,EAAG,EAAG,GACtC5L,KAAK0lC,eAAiBA,EAEtB1lC,KAAKqmC,gBAELrmC,KAAKoC,OAASpC,KAAKoC,OAAOkY,KAAKta,MAC/BA,KAAKiW,QAAUjW,KAAKiW,QAAQqE,KAAKta,MACjCA,KAAKiJ,UAAYjJ,KAAKiJ,UAAUqR,KAAKta,MACrCA,KAAKsmC,gBAAkBtmC,KAAKsmC,gBAAgBhsB,KAAKta,MACjDA,KAAKumC,kBAAoBvmC,KAAKumC,kBAAkBjsB,KAAKta,MACrD0D,OAAO8iC,OAAOxmC,MA0LhB,OAvLA0D,OAAO5B,EAA6B,EAApC4B,CAAuCiiC,EAAqB,CAAC,CAC3DphC,IAAK,gBACLvC,MAAO,WACL,IAAImD,EAAQnF,KAAKmF,MACbC,EAASpF,KAAKoF,OACd+gC,EAAmBnmC,KAAKmmC,iBACxBC,EAAapmC,KAAKomC,WAClBK,EA1dD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GA2djDjH,EAAuB,EAAEiH,EAAKA,EAAKN,GACnC3G,EAAuB,EAAEiH,EAAKA,EAAKL,GACnCpmC,KAAK0mC,qBAAuBD,EAC5B,IAAIE,EA9dD,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GA+djDnH,EAAoB,EAAEmH,EAAGA,EAAG,CAACxhC,EAAQ,GAAIC,EAAS,EAAG,IACrDo6B,EAAwB,EAAEmH,EAAGA,EAAG,CAAC,GAAI,EAAG,IACxCnH,EAAuB,EAAEmH,EAAGA,EAAGF,GAC/B,IAAIG,EAAWpH,EAAqB,EAlejC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAkeGmH,GAEpD,IAAKC,EACH,MAAM,IAAIvjC,MAAM,uCAGlBrD,KAAKsjC,sBAAwBqD,EAC7B3mC,KAAKyjC,wBAA0BmD,IAEhC,CACDriC,IAAK,SACLvC,MAAO,SAAgBgH,GACrB,OAAMA,aAAoB28B,IAInB38B,EAAS7D,QAAUnF,KAAKmF,OAAS6D,EAAS5D,SAAWpF,KAAKoF,QAAUo6B,EAAqB,EAAEx2B,EAASm9B,iBAAkBnmC,KAAKmmC,mBAAqB3G,EAAqB,EAAEx2B,EAASo9B,WAAYpmC,KAAKomC,eAEzM,CACD7hC,IAAK,UACLvC,MAAO,SAAiB0/B,GACtB,IAAIz6B,EAAQ7C,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAC5EyiC,EAAgB5/B,EAAMk+B,QACtBA,OAA4B,IAAlB0B,GAAkCA,EAE5CC,EAAgB9mC,KAAKsmC,gBAAgB5E,GACrCiC,EAAQrF,EAAcwI,EAAe9mC,KAAKsjC,uBAE1CyD,EAASrjC,OAAOnC,EAA+B,EAAtCmC,CAAyCigC,EAAO,GACzD/nB,EAAImrB,EAAO,GACXlrB,EAAIkrB,EAAO,GAEXC,EAAK7B,EAAUtpB,EAAI7b,KAAKoF,OAASyW,EACrC,OAAsB,IAAf6lB,EAAIn/B,OAAe,CAACqZ,EAAGorB,GAAM,CAACprB,EAAGorB,EAAIrD,EAAM,MAEnD,CACDp/B,IAAK,YACLvC,MAAO,SAAmB0/B,GACxB,IAAIr6B,EAAQjD,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAC5E6iC,EAAgB5/B,EAAM89B,QACtBA,OAA4B,IAAlB8B,GAAkCA,EAC5CC,EAAgB7/B,EAAM8c,QACtBA,OAA4B,IAAlB+iB,OAA2Bn4B,EAAYm4B,EAEjDrF,EAAOn+B,OAAOnC,EAA+B,EAAtCmC,CAAyCg+B,EAAK,GACrD9lB,EAAIimB,EAAK,GACThmB,EAAIgmB,EAAK,GACT9gB,EAAI8gB,EAAK,GAETmF,EAAK7B,EAAUtpB,EAAI7b,KAAKoF,OAASyW,EACjCsrB,EAAehjB,GAAWA,EAAUnkB,KAAK0lC,eAAe3E,cAAc,GACtE4C,EAAQpF,EAAc,CAAC3iB,EAAGorB,EAAIjmB,GAAI/gB,KAAKyjC,wBAAyB0D,GAEhEC,EAAwBpnC,KAAKumC,kBAAkB5C,GAC/C0D,EAAyB3jC,OAAOnC,EAA+B,EAAtCmC,CAAyC0jC,EAAuB,GACzFE,EAAID,EAAuB,GAC3BE,EAAIF,EAAuB,GAC3BG,EAAIH,EAAuB,GAE/B,OAAIzgC,OAAOC,SAASka,GACX,CAACumB,EAAGC,EAAGC,GAGT5gC,OAAOC,SAASsd,GAAW,CAACmjB,EAAGC,EAAGpjB,GAAW,CAACmjB,EAAGC,KAEzD,CACDhjC,IAAK,kBACLvC,MAAO,SAAyB0/B,GAC9B,IAAI+F,EAAiBrJ,EAAcsD,GAC/BgG,EAAkBhkC,OAAOnC,EAA+B,EAAtCmC,CAAyC+jC,EAAgB,GAK/E,MAAO,CAJCC,EAAgB,GAChBA,EAAgB,IAEfhG,EAAI,IAAM,GAAK1hC,KAAK0lC,eAAe3E,cAAc,MAG3D,CACDx8B,IAAK,oBACLvC,MAAO,SAA2B0/B,GAChC,IAAIiG,EAAiBtJ,EAAcqD,GAC/BkG,EAAkBlkC,OAAOnC,EAA+B,EAAtCmC,CAAyCikC,EAAgB,GAK/E,MAAO,CAJCC,EAAgB,GAChBA,EAAgB,IAEflG,EAAI,IAAM,GAAK1hC,KAAK0lC,eAAe1E,cAAc,MAG3D,CACDz8B,IAAK,cACLvC,MAAO,SAAqB4G,GAC1B,OAAOw1B,EAAcx1B,KAEtB,CACDrE,IAAK,gBACLvC,MAAO,SAAuB6lC,GAC5B,OAAOxJ,EAAcwJ,KAEtB,CACDtjC,IAAK,+BACLvC,MAAO,SAAsC0F,GAC3C,IAAIkB,EAASlB,EAAMkB,OAEfk/B,EAAevJ,EADT72B,EAAMR,IACsBlH,KAAKyjC,yBACvCsE,EAAa3J,EAAcx1B,GAC3Bo/B,EAAYvI,EAAkB,EAAE,GAAIsI,EAAYtI,EAAqB,EAAE,GAAIqI,IAE/E,OAAOzJ,EADSoB,EAAkB,EAAE,GAAIz/B,KAAK6uB,OAAQmZ,MAGtD,CACDzjC,IAAK,qBACLvC,MAAO,SAA4B2F,GACjC,IAAIiB,EAASjB,EAAMiB,OACf1B,EAAMS,EAAMT,IAChB,OAAOlH,KAAK2I,6BAA6B,CACvCC,OAAQA,EACR1B,IAAKA,MAGR,CACD3C,IAAK,YACLvC,MAAO,SAAmB21B,GACxB,IAAI7oB,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAC9Ee,EAAQnF,KAAKmF,MACbC,EAASpF,KAAKoF,OAEd6iC,EAAcjK,EAAqBt6B,OAAOgF,OAAO,CACnDvD,MAAOA,EACPC,OAAQA,EACRuyB,OAAQA,GACP7oB,IACCxJ,EAAY2iC,EAAY3iC,UACxBD,EAAW4iC,EAAY5iC,SACvBE,EAAO0iC,EAAY1iC,KAEvB,OAAO,IAAIogC,EAAoB,CAC7BxgC,MAAOA,EACPC,OAAQA,EACRE,UAAWA,EACXD,SAAUA,EACVE,KAAMA,MAGT,CACDhB,IAAK,YACLvC,MAAO,SAAmB8M,GACxB,IAAIo5B,EAAUloC,KAAKmoC,kBAAkBr5B,GACjCu1B,EAAO5hC,KAAKG,IAAIqB,MAAMxB,KAAMiB,OAAOvC,EAAmC,EAA1CuC,CAA6CwkC,EAAQllC,KAAI,SAAUq2B,GACjG,OAAOA,EAAE,QAEPmL,EAAO/hC,KAAKI,IAAIoB,MAAMxB,KAAMiB,OAAOvC,EAAmC,EAA1CuC,CAA6CwkC,EAAQllC,KAAI,SAAUq2B,GACjG,OAAOA,EAAE,QAQX,MAAO,CAAC,CAACgL,EANG5hC,KAAKG,IAAIqB,MAAMxB,KAAMiB,OAAOvC,EAAmC,EAA1CuC,CAA6CwkC,EAAQllC,KAAI,SAAUq2B,GAClG,OAAOA,EAAE,SAKY,CAACmL,EAHZ/hC,KAAKI,IAAIoB,MAAMxB,KAAMiB,OAAOvC,EAAmC,EAA1CuC,CAA6CwkC,EAAQllC,KAAI,SAAUq2B,GAClG,OAAOA,EAAE,YAIZ,CACD90B,IAAK,oBACLvC,MAAO,WACL,IAAI8M,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAO25B,EAAqB/9B,KAAM8O,EAAQiS,GAAK,OAI5C4kB,EAvRoD,GA+R7D,SAAS1H,EAAuB/4B,GAC9B,IAAIC,EAAQD,EAAKC,MACbC,EAASF,EAAKE,OACdE,EAAYJ,EAAKI,UACjBD,EAAWH,EAAKG,SAChBE,EAAOL,EAAKK,KACZG,EAAaR,EAAKS,MAClBA,OAAuB,IAAfD,EAAwB,EAAIA,EACpCF,EAAeN,EAAKO,QACpBA,OAA2B,IAAjBD,EAA0B,EAAIA,GAExCF,GAAa,KAAOA,EAAY,OAClCA,EAAY65B,EAAI75B,EAAY,IAAK,KAAO,MAGtCG,GAAW,KAAOA,EAAU,OAC9BA,EAAU05B,EAAI15B,EAAU,IAAK,KAAO,KAGtC,IAAId,EAAU0E,EAAKjE,EApBoB,KAsBvC,GAAIG,GAAQZ,EACVY,EAAOZ,EACPU,EAAW,MACN,CACL,IAAI+iC,EAAmBhjC,EAAS,EAAI3C,KAAK0e,IAAI,EAAG5b,GAC5C8iC,EAAchK,EAAc,CAAC,EAAG+J,IAAmB,GAEvD,GAAI/iC,EAAWgjC,EACbhjC,EAAWgjC,MACN,CACL,IAAIC,EAAcjK,EAAc,CAAC,EAhCE,IAgCsC+J,IAAmB,GAExF/iC,EAAWijC,IACbjjC,EAAWijC,IAKjB,MAAO,CACLnjC,MAAOA,EACPC,OAAQA,EACRE,UAAWA,EACXD,SAAUA,EACVE,KAAMA,EACNI,MAAOA,EACPF,QAASA,GAIb,IAAI8iC,EAA4BnoC,EAAoB,KAOhDooC,EAAU,IACVt0B,EAA4B,CAAC,YAAa,WAAY,QACtDG,EAAe,CACjBE,MAAO,MACPD,MAAO,KAET,SAAS4pB,EAAc9rB,EAAYC,EAAUtP,GAC3C,IAAI8S,EAAOzR,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAC3E4E,EAAW,GAEXy/B,EAAwBC,EAAyBt2B,EAAYC,EAAUwD,GACvElP,EAAY8hC,EAAsB9hC,UAClCgiC,EAAgBF,EAAsBE,cACtCC,EAASH,EAAsBG,OAC/BC,EAAKJ,EAAsBI,GAC3BC,EAAKL,EAAsBK,GAC3BC,EAAIN,EAAsBM,EAC1BC,EAAMP,EAAsBO,IAC5BC,EAAOR,EAAsBQ,KAC7BC,EAAKT,EAAsBS,GAE/B,GAAIJ,EAAKN,EAAS,CAChB,IACIv2B,EADAC,EAAYxO,OAAO6kC,EAA2C,EAAlD7kC,CAAqDwQ,GAGrE,IACE,IAAKhC,EAAUlI,MAAOiI,EAAQC,EAAUtQ,KAAKmP,MAAO,CAClD,IAAIxM,EAAM0N,EAAMjQ,MACZgR,EAAaZ,EAAW7N,GACxB0O,EAAWZ,EAAS9N,GACxByE,EAASzE,GAAOzB,EAAKkQ,EAAYC,EAAUlQ,IAE7C,MAAOqO,GACPc,EAAUlB,EAAEI,GACZ,QACAc,EAAUhB,IAGZ,OAAOlI,EAGT,IAAIgB,EAAIjH,EAAIgmC,EACRI,EAAI1mC,KAAK2mC,KAAKF,GAAMzmC,KAAK2mC,KAAKF,EAAKF,EAAMh/B,GACzCq/B,EAAIR,IAAOpmC,KAAK2mC,KAAKF,GAAMzmC,KAAK6mC,KAAKJ,EAAKF,EAAMh/B,GAAKvH,KAAK8mC,KAAKL,IAAOD,GAAQH,EAC9EU,EAAiB,EAAIL,EACrBM,EAAU9iC,EAAYu5B,EAAYsJ,GAClCE,EAAiBjK,EAAoB,EAAE,GAAImJ,EAAQS,GACvD5J,EAAkB,EAAEiK,EAAgBA,EAAgBf,GACpD,IAAIgB,EAAYtL,EAAcqL,GAI9B,OAHA1gC,EAAS1D,UAAYqkC,EAAU,GAC/B3gC,EAAS3D,SAAWskC,EAAU,GAC9B3gC,EAASzD,KAAOkkC,EACTzgC,EAET,SAASm1B,EAAiB/rB,EAAYC,GACpC,IAYIwF,EAZAhC,EAAOzR,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAE3EwlC,EADJ/zB,EAAOnS,OAAOgF,OAAO,GAAI2L,EAAcwB,GAEnCg0B,EAAcD,EAAMC,YACpBv1B,EAAQs1B,EAAMt1B,MACdw1B,EAAcF,EAAME,YAEpBC,EAAyBrB,EAAyBt2B,EAAYC,EAAUwD,GACxEkzB,EAAIgB,EAAuBhB,EAC3BC,EAAMe,EAAuBf,IAE7BzmC,EAAS,IAAOwmC,EASpB,OALElxB,EADEjR,OAAOC,SAASgjC,GACPtnC,GAAUsnC,EAAcb,GAExBzmC,EAAS+R,EAGf1N,OAAOC,SAASijC,IAAgBjyB,EAAWiyB,EAAc,EAAIjyB,EAGtE,SAAS6wB,EAAyBt2B,EAAYC,EAAUwD,GAEtD,IAAImzB,GADJnzB,EAAOnS,OAAOgF,OAAO,GAAI2L,EAAcwB,IACxBtB,MACX5N,EAAYyL,EAAW7M,KACvBykC,EAAc,CAAC53B,EAAW9M,UAAW8M,EAAW/M,UAChD4kC,EAAahK,EAAYt5B,GACzBujC,EAAU73B,EAAS9M,KACnB4kC,EAAY,CAAC93B,EAAS/M,UAAW+M,EAAShN,UAC1CiD,EAAQ23B,EAAYiK,EAAUvjC,GAC9BgiC,EAAgBvK,EAAc4L,GAC9BI,EAAchM,EAAc+L,GAC5BvB,EAASnJ,EAAkB,EAAE,GAAI2K,EAAazB,GAC9CE,EAAKpmC,KAAKI,IAAIuP,EAAWjN,MAAOiN,EAAWhN,QAC3CilC,EAAKxB,EAAKvgC,EACVwgC,EAAKrJ,EAAqB,EAAEmJ,GAAUqB,EAEtCK,EAAM7nC,KAAKI,IAAIimC,EAAIN,GAEnBS,EAAOD,EAAMA,EACbuB,GAAMF,EAAKA,EAAKxB,EAAKA,EAAKI,EAAOA,EAAOqB,EAAMA,IAAQ,EAAIzB,EAAKI,EAAOqB,GACtEE,GAAMH,EAAKA,EAAKxB,EAAKA,EAAKI,EAAOA,EAAOqB,EAAMA,IAAQ,EAAID,EAAKpB,EAAOqB,GACtEpB,EAAKzmC,KAAK68B,IAAI78B,KAAKgoC,KAAKF,EAAKA,EAAK,GAAKA,GACvCG,EAAKjoC,KAAK68B,IAAI78B,KAAKgoC,KAAKD,EAAKA,EAAK,GAAKA,GAE3C,MAAO,CACL7jC,UAAWA,EACXgiC,cAAeA,EACfC,OAAQA,EACRC,GAAIA,EACJC,GAAIA,EACJC,GAPO2B,EAAKxB,GAAMF,EAQlBA,IAAKA,EACLC,KAAMA,EACNC,GAAIA,EACJwB,GAAIA,KAcF,KACA,SAAUxqC,EAAQC,EAAqBC,GAE7C,aAM+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO25B,KASpE15B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOmI,KAIpElI,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOoC,KAEpEnC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOwqC,KAKpEvqC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO2C,KAKpE1C,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOyqC,KAQpExqC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO0qC,KAO9E,IAAIC,EAA0C1qC,EAAoB,MAsFvF,SAAS05B,EAAIiR,EAAK1oC,EAAGC,GAGnB,OAFAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GACXyoC,EAwHT,SAASziC,EAAMyiC,EAAK1oC,EAAGC,GAGrB,OAFAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAChByoC,EAAI,GAAK1oC,EAAE,GAAKC,EACTyoC,EAkDT,SAASxoC,EAAOF,GACd,IAAIuZ,EAAIvZ,EAAE,GACNwZ,EAAIxZ,EAAE,GACV,OAAOI,KAAKuoC,MAAMpvB,EAAGC,GAsBvB,SAAS8uB,EAAOI,EAAK1oC,GAGnB,OAFA0oC,EAAI,IAAM1oC,EAAE,GACZ0oC,EAAI,IAAM1oC,EAAE,GACL0oC,EA0ET,SAASjoC,EAAKioC,EAAK1oC,EAAGC,EAAGS,GACvB,IAAIkoC,EAAK5oC,EAAE,GACP6oC,EAAK7oC,EAAE,GAGX,OAFA0oC,EAAI,GAAKE,EAAKloC,GAAKT,EAAE,GAAK2oC,GAC1BF,EAAI,GAAKG,EAAKnoC,GAAKT,EAAE,GAAK4oC,GACnBH,EA6ET,SAASH,EAAcG,EAAK1oC,EAAGskC,GAC7B,IAAI/qB,EAAIvZ,EAAE,GACNwZ,EAAIxZ,EAAE,GAGV,OAFA0oC,EAAI,GAAKpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,IACjCoE,EAAI,GAAKpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,IAC1BoE,EA8FT,IAMIF,EAncJ,SAAkBE,EAAK1oC,EAAGC,GAGxB,OAFAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GACXyoC,IA4eK,WACZ,IAAII,EAvkBN,WACE,IAAIJ,EAAM,IAAID,EAA4D,EAAE,GAO5E,OALIA,EAA4D,GAAKM,eACnEL,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EA+jBGM,GADE,IAiCR,KACA,SAAUnrC,EAAQC,EAAqBC,GAE7C,aAO+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOmrC,KACpElrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOorC,KAEpEnrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOqrC,KACpEprC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOsrC,KACpErrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO6nC,KACpE5nC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOmI,KACpElI,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO4f,KACpE3f,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOurC,KACpEtrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOwrC,KACpEvrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOyrC,KAcpExrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO0rC,KACpEzrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO2rC,KACpE1rC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO4rC,KAEpE3rC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO6rC,KACpE5rC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO8rC,KASpE7rC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOiC,KAG9E,IAAI0oC,EAA0C1qC,EAAoB,MAiNvF,SAASkrC,EAAUP,EAAK1oC,GAEtB,GAAI0oC,IAAQ1oC,EAAG,CACb,IAAI6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRkqC,EAAMlqC,EAAE,IACZ0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,IACX0oC,EAAI,GAAKmB,EACTnB,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,IACX0oC,EAAI,GAAKoB,EACTpB,EAAI,GAAKsB,EACTtB,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAMqB,EACVrB,EAAI,IAAMuB,EACVvB,EAAI,IAAMwB,OAEVxB,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,IACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,IACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,GACZ0oC,EAAI,IAAM1oC,EAAE,GACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IAGd,OAAO0oC,EAUT,SAASQ,EAAOR,EAAK1oC,GACnB,IAAImqC,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRoqC,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IACRyqC,EAAMzqC,EAAE,IACR0qC,EAAM1qC,EAAE,IACR2qC,EAAM3qC,EAAE,IACR4qC,EAAM5qC,EAAE,IACR6qC,EAAMV,EAAME,EAAMR,EAAMO,EACxBU,EAAMX,EAAMH,EAAMF,EAAMM,EACxBW,EAAMZ,EAAMF,EAAMF,EAAMK,EACxBY,EAAMnB,EAAMG,EAAMF,EAAMO,EACxBY,EAAMpB,EAAMI,EAAMF,EAAMM,EACxBa,EAAMpB,EAAMG,EAAMF,EAAMC,EACxBmB,EAAMb,EAAMI,EAAMH,EAAME,EACxBW,EAAMd,EAAMK,EAAMH,EAAMC,EACxBY,EAAMf,EAAMM,EAAMV,EAAMO,EACxBa,EAAMf,EAAMI,EAAMH,EAAME,EACxBa,EAAMhB,EAAMK,EAAMV,EAAMQ,EACxBc,EAAMhB,EAAMI,EAAMV,EAAMS,EAExBc,EAAMZ,EAAMW,EAAMV,EAAMS,EAAMR,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EAE5E,OAAKM,GAILA,EAAM,EAAMA,EACZ/C,EAAI,IAAM2B,EAAMmB,EAAMxB,EAAMuB,EAAMtB,EAAMqB,GAAOG,EAC/C/C,EAAI,IAAMoB,EAAMyB,EAAM1B,EAAM2B,EAAMzB,EAAMuB,GAAOG,EAC/C/C,EAAI,IAAMgC,EAAMQ,EAAMP,EAAMM,EAAML,EAAMI,GAAOS,EAC/C/C,EAAI,IAAM8B,EAAMS,EAAMV,EAAMW,EAAMhB,EAAMc,GAAOS,EAC/C/C,EAAI,IAAMsB,EAAMqB,EAAMjB,EAAMoB,EAAMvB,EAAMmB,GAAOK,EAC/C/C,EAAI,IAAMyB,EAAMqB,EAAM1B,EAAMuB,EAAMtB,EAAMqB,GAAOK,EAC/C/C,EAAI,IAAMiC,EAAMI,EAAMN,EAAMS,EAAMN,EAAME,GAAOW,EAC/C/C,EAAI,IAAM4B,EAAMY,EAAMV,EAAMO,EAAMb,EAAMY,GAAOW,EAC/C/C,EAAI,IAAM0B,EAAMmB,EAAMlB,EAAMgB,EAAMpB,EAAMkB,GAAOM,EAC/C/C,EAAI,IAAMmB,EAAMwB,EAAMlB,EAAMoB,EAAMxB,EAAMoB,GAAOM,EAC/C/C,EAAI,KAAO+B,EAAMQ,EAAMP,EAAMK,EAAMH,EAAMC,GAAOY,EAChD/C,EAAI,KAAO6B,EAAMQ,EAAMT,EAAMW,EAAMf,EAAMW,GAAOY,EAChD/C,EAAI,KAAO2B,EAAMe,EAAMhB,EAAMkB,EAAMtB,EAAMmB,GAAOM,EAChD/C,EAAI,KAAOyB,EAAMmB,EAAMzB,EAAMuB,EAAMtB,EAAMqB,GAAOM,EAChD/C,EAAI,KAAOgC,EAAMI,EAAML,EAAMO,EAAML,EAAME,GAAOY,EAChD/C,EAAI,KAAO4B,EAAMU,EAAMT,EAAMO,EAAMN,EAAMK,GAAOY,EACzC/C,GApBE,KAwEX,SAASS,EAAYnpC,GACnB,IAAImqC,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRoqC,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IACRyqC,EAAMzqC,EAAE,IACR0qC,EAAM1qC,EAAE,IACR2qC,EAAM3qC,EAAE,IACR4qC,EAAM5qC,EAAE,IAcZ,OAbUmqC,EAAME,EAAMR,EAAMO,IAWlBI,EAAMI,EAAMV,EAAMS,IAVlBR,EAAMH,EAAMF,EAAMM,IASlBG,EAAMK,EAAMV,EAAMQ,IARlBP,EAAMF,EAAMF,EAAMK,IAOlBG,EAAMI,EAAMH,EAAME,IANlBb,EAAMG,EAAMF,EAAMO,IAKlBC,EAAMM,EAAMV,EAAMO,IAJlBZ,EAAMI,EAAMF,EAAMM,IAGlBC,EAAMK,EAAMH,EAAMC,IAFlBX,EAAMG,EAAMF,EAAMC,IAClBM,EAAMI,EAAMH,EAAME,GAkB9B,SAASrB,EAASV,EAAK1oC,EAAGC,GACxB,IAAIkqC,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRoqC,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IACRyqC,EAAMzqC,EAAE,IACR0qC,EAAM1qC,EAAE,IACR2qC,EAAM3qC,EAAE,IACR4qC,EAAM5qC,EAAE,IAERkoC,EAAKjoC,EAAE,GACPkoC,EAAKloC,EAAE,GACPyrC,EAAKzrC,EAAE,GACP0rC,EAAK1rC,EAAE,GA6BX,OA5BAyoC,EAAI,GAAKR,EAAKiC,EAAMhC,EAAKiC,EAAMsB,EAAKpB,EAAMqB,EAAKlB,EAC/C/B,EAAI,GAAKR,EAAK2B,EAAM1B,EAAKkC,EAAMqB,EAAKnB,EAAMoB,EAAKjB,EAC/ChC,EAAI,GAAKR,EAAK4B,EAAM3B,EAAK6B,EAAM0B,EAAKlB,EAAMmB,EAAKhB,EAC/CjC,EAAI,GAAKR,EAAK6B,EAAM5B,EAAK8B,EAAMyB,EAAKxB,EAAMyB,EAAKf,EAC/C1C,EAAKjoC,EAAE,GACPkoC,EAAKloC,EAAE,GACPyrC,EAAKzrC,EAAE,GACP0rC,EAAK1rC,EAAE,GACPyoC,EAAI,GAAKR,EAAKiC,EAAMhC,EAAKiC,EAAMsB,EAAKpB,EAAMqB,EAAKlB,EAC/C/B,EAAI,GAAKR,EAAK2B,EAAM1B,EAAKkC,EAAMqB,EAAKnB,EAAMoB,EAAKjB,EAC/ChC,EAAI,GAAKR,EAAK4B,EAAM3B,EAAK6B,EAAM0B,EAAKlB,EAAMmB,EAAKhB,EAC/CjC,EAAI,GAAKR,EAAK6B,EAAM5B,EAAK8B,EAAMyB,EAAKxB,EAAMyB,EAAKf,EAC/C1C,EAAKjoC,EAAE,GACPkoC,EAAKloC,EAAE,GACPyrC,EAAKzrC,EAAE,IACP0rC,EAAK1rC,EAAE,IACPyoC,EAAI,GAAKR,EAAKiC,EAAMhC,EAAKiC,EAAMsB,EAAKpB,EAAMqB,EAAKlB,EAC/C/B,EAAI,GAAKR,EAAK2B,EAAM1B,EAAKkC,EAAMqB,EAAKnB,EAAMoB,EAAKjB,EAC/ChC,EAAI,IAAMR,EAAK4B,EAAM3B,EAAK6B,EAAM0B,EAAKlB,EAAMmB,EAAKhB,EAChDjC,EAAI,IAAMR,EAAK6B,EAAM5B,EAAK8B,EAAMyB,EAAKxB,EAAMyB,EAAKf,EAChD1C,EAAKjoC,EAAE,IACPkoC,EAAKloC,EAAE,IACPyrC,EAAKzrC,EAAE,IACP0rC,EAAK1rC,EAAE,IACPyoC,EAAI,IAAMR,EAAKiC,EAAMhC,EAAKiC,EAAMsB,EAAKpB,EAAMqB,EAAKlB,EAChD/B,EAAI,IAAMR,EAAK2B,EAAM1B,EAAKkC,EAAMqB,EAAKnB,EAAMoB,EAAKjB,EAChDhC,EAAI,IAAMR,EAAK4B,EAAM3B,EAAK6B,EAAM0B,EAAKlB,EAAMmB,EAAKhB,EAChDjC,EAAI,IAAMR,EAAK6B,EAAM5B,EAAK8B,EAAMyB,EAAKxB,EAAMyB,EAAKf,EACzClC,EAWT,SAAS/C,EAAU+C,EAAK1oC,EAAG4rC,GACzB,IAGIzB,EAAKN,EAAKC,EAAKC,EACfK,EAAKC,EAAKL,EAAKC,EACfK,EAAKC,EAAKC,EAAKN,EALf3wB,EAAIqyB,EAAE,GACNpyB,EAAIoyB,EAAE,GACNltB,EAAIktB,EAAE,GAyCV,OApCI5rC,IAAM0oC,GACRA,EAAI,IAAM1oC,EAAE,GAAKuZ,EAAIvZ,EAAE,GAAKwZ,EAAIxZ,EAAE,GAAK0e,EAAI1e,EAAE,IAC7C0oC,EAAI,IAAM1oC,EAAE,GAAKuZ,EAAIvZ,EAAE,GAAKwZ,EAAIxZ,EAAE,GAAK0e,EAAI1e,EAAE,IAC7C0oC,EAAI,IAAM1oC,EAAE,GAAKuZ,EAAIvZ,EAAE,GAAKwZ,EAAIxZ,EAAE,IAAM0e,EAAI1e,EAAE,IAC9C0oC,EAAI,IAAM1oC,EAAE,GAAKuZ,EAAIvZ,EAAE,GAAKwZ,EAAIxZ,EAAE,IAAM0e,EAAI1e,EAAE,MAE9CmqC,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRoqC,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IACR0oC,EAAI,GAAKyB,EACTzB,EAAI,GAAKmB,EACTnB,EAAI,GAAKoB,EACTpB,EAAI,GAAKqB,EACTrB,EAAI,GAAK0B,EACT1B,EAAI,GAAK2B,EACT3B,EAAI,GAAKsB,EACTtB,EAAI,GAAKuB,EACTvB,EAAI,GAAK4B,EACT5B,EAAI,GAAK6B,EACT7B,EAAI,IAAM8B,EACV9B,EAAI,IAAMwB,EACVxB,EAAI,IAAMyB,EAAM5wB,EAAI6wB,EAAM5wB,EAAI8wB,EAAM5rB,EAAI1e,EAAE,IAC1C0oC,EAAI,IAAMmB,EAAMtwB,EAAI8wB,EAAM7wB,EAAI+wB,EAAM7rB,EAAI1e,EAAE,IAC1C0oC,EAAI,IAAMoB,EAAMvwB,EAAIywB,EAAMxwB,EAAIgxB,EAAM9rB,EAAI1e,EAAE,IAC1C0oC,EAAI,IAAMqB,EAAMxwB,EAAI0wB,EAAMzwB,EAAI0wB,EAAMxrB,EAAI1e,EAAE,KAGrC0oC,EAWT,SAASziC,EAAMyiC,EAAK1oC,EAAG4rC,GACrB,IAAIryB,EAAIqyB,EAAE,GACNpyB,EAAIoyB,EAAE,GACNltB,EAAIktB,EAAE,GAiBV,OAhBAlD,EAAI,GAAK1oC,EAAE,GAAKuZ,EAChBmvB,EAAI,GAAK1oC,EAAE,GAAKuZ,EAChBmvB,EAAI,GAAK1oC,EAAE,GAAKuZ,EAChBmvB,EAAI,GAAK1oC,EAAE,GAAKuZ,EAChBmvB,EAAI,GAAK1oC,EAAE,GAAKwZ,EAChBkvB,EAAI,GAAK1oC,EAAE,GAAKwZ,EAChBkvB,EAAI,GAAK1oC,EAAE,GAAKwZ,EAChBkvB,EAAI,GAAK1oC,EAAE,GAAKwZ,EAChBkvB,EAAI,GAAK1oC,EAAE,GAAK0e,EAChBgqB,EAAI,GAAK1oC,EAAE,GAAK0e,EAChBgqB,EAAI,IAAM1oC,EAAE,IAAM0e,EAClBgqB,EAAI,IAAM1oC,EAAE,IAAM0e,EAClBgqB,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACL0oC,EAYT,SAAShrB,EAAOgrB,EAAK1oC,EAAG6rC,EAAKC,GAC3B,IAIInkC,EAAGokC,EAAGrrC,EACNypC,EAAKN,EAAKC,EAAKC,EACfK,EAAKC,EAAKL,EAAKC,EACfK,EAAKC,EAAKC,EAAKN,EACfW,EAAKC,EAAKC,EACVQ,EAAKC,EAAKQ,EACVC,EAAKC,EAAKC,EAVV5yB,EAAIuyB,EAAK,GACTtyB,EAAIsyB,EAAK,GACTptB,EAAIotB,EAAK,GACTx8B,EAAMlP,KAAKuoC,MAAMpvB,EAAGC,EAAGkF,GAS3B,OAAIpP,EAAMm5B,EAAyD,EAC1D,MAITlvB,GADAjK,EAAM,EAAIA,EAEVkK,GAAKlK,EACLoP,GAAKpP,EACL3H,EAAIvH,KAAKsgC,IAAImL,GAEbnrC,EAAI,GADJqrC,EAAI3rC,KAAK+9B,IAAI0N,IAEb1B,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRoqC,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IAER6qC,EAAMtxB,EAAIA,EAAI7Y,EAAIqrC,EAClBjB,EAAMtxB,EAAID,EAAI7Y,EAAIge,EAAI/W,EACtBojC,EAAMrsB,EAAInF,EAAI7Y,EAAI8Y,EAAI7R,EACtB4jC,EAAMhyB,EAAIC,EAAI9Y,EAAIge,EAAI/W,EACtB6jC,EAAMhyB,EAAIA,EAAI9Y,EAAIqrC,EAClBC,EAAMttB,EAAIlF,EAAI9Y,EAAI6Y,EAAI5R,EACtBskC,EAAM1yB,EAAImF,EAAIhe,EAAI8Y,EAAI7R,EACtBukC,EAAM1yB,EAAIkF,EAAIhe,EAAI6Y,EAAI5R,EACtBwkC,EAAMztB,EAAIA,EAAIhe,EAAIqrC,EAElBrD,EAAI,GAAKyB,EAAMU,EAAMT,EAAMU,EAAMR,EAAMS,EACvCrC,EAAI,GAAKmB,EAAMgB,EAAMR,EAAMS,EAAMP,EAAMQ,EACvCrC,EAAI,GAAKoB,EAAMe,EAAMb,EAAMc,EAAMN,EAAMO,EACvCrC,EAAI,GAAKqB,EAAMc,EAAMZ,EAAMa,EAAMZ,EAAMa,EACvCrC,EAAI,GAAKyB,EAAMoB,EAAMnB,EAAMoB,EAAMlB,EAAM0B,EACvCtD,EAAI,GAAKmB,EAAM0B,EAAMlB,EAAMmB,EAAMjB,EAAMyB,EACvCtD,EAAI,GAAKoB,EAAMyB,EAAMvB,EAAMwB,EAAMhB,EAAMwB,EACvCtD,EAAI,GAAKqB,EAAMwB,EAAMtB,EAAMuB,EAAMtB,EAAM8B,EACvCtD,EAAI,GAAKyB,EAAM8B,EAAM7B,EAAM8B,EAAM5B,EAAM6B,EACvCzD,EAAI,GAAKmB,EAAMoC,EAAM5B,EAAM6B,EAAM3B,EAAM4B,EACvCzD,EAAI,IAAMoB,EAAMmC,EAAMjC,EAAMkC,EAAM1B,EAAM2B,EACxCzD,EAAI,IAAMqB,EAAMkC,EAAMhC,EAAMiC,EAAMhC,EAAMiC,EAEpCnsC,IAAM0oC,IAERA,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,KAGP0oC,GAWT,SAASW,EAAQX,EAAK1oC,EAAG6rC,GACvB,IAAIlkC,EAAIvH,KAAKsgC,IAAImL,GACbE,EAAI3rC,KAAK+9B,IAAI0N,GACbzB,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IAuBZ,OArBIA,IAAM0oC,IAERA,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,KAId0oC,EAAI,GAAK0B,EAAM2B,EAAIzB,EAAM3iC,EACzB+gC,EAAI,GAAK2B,EAAM0B,EAAIxB,EAAM5iC,EACzB+gC,EAAI,GAAKsB,EAAM+B,EAAIvB,EAAM7iC,EACzB+gC,EAAI,GAAKuB,EAAM8B,EAAI7B,EAAMviC,EACzB+gC,EAAI,GAAK4B,EAAMyB,EAAI3B,EAAMziC,EACzB+gC,EAAI,GAAK6B,EAAMwB,EAAI1B,EAAM1iC,EACzB+gC,EAAI,IAAM8B,EAAMuB,EAAI/B,EAAMriC,EAC1B+gC,EAAI,IAAMwB,EAAM6B,EAAI9B,EAAMtiC,EACnB+gC,EAWT,SAASY,EAAQZ,EAAK1oC,EAAG6rC,GACvB,IAAIlkC,EAAIvH,KAAKsgC,IAAImL,GACbE,EAAI3rC,KAAK+9B,IAAI0N,GACb1B,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRsqC,EAAMtqC,EAAE,GACRuqC,EAAMvqC,EAAE,GACRwqC,EAAMxqC,EAAE,IACRkqC,EAAMlqC,EAAE,IAuBZ,OArBIA,IAAM0oC,IAERA,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,KAId0oC,EAAI,GAAKyB,EAAM4B,EAAIzB,EAAM3iC,EACzB+gC,EAAI,GAAKmB,EAAMkC,EAAIxB,EAAM5iC,EACzB+gC,EAAI,GAAKoB,EAAMiC,EAAIvB,EAAM7iC,EACzB+gC,EAAI,GAAKqB,EAAMgC,EAAI7B,EAAMviC,EACzB+gC,EAAI,GAAKyB,EAAMxiC,EAAI2iC,EAAMyB,EACzBrD,EAAI,GAAKmB,EAAMliC,EAAI4iC,EAAMwB,EACzBrD,EAAI,IAAMoB,EAAMniC,EAAI6iC,EAAMuB,EAC1BrD,EAAI,IAAMqB,EAAMpiC,EAAIuiC,EAAM6B,EACnBrD,EAWT,SAASa,EAAQb,EAAK1oC,EAAG6rC,GACvB,IAAIlkC,EAAIvH,KAAKsgC,IAAImL,GACbE,EAAI3rC,KAAK+9B,IAAI0N,GACb1B,EAAMnqC,EAAE,GACR6pC,EAAM7pC,EAAE,GACR8pC,EAAM9pC,EAAE,GACR+pC,EAAM/pC,EAAE,GACRoqC,EAAMpqC,EAAE,GACRqqC,EAAMrqC,EAAE,GACRgqC,EAAMhqC,EAAE,GACRiqC,EAAMjqC,EAAE,GAuBZ,OArBIA,IAAM0oC,IAERA,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,GAAK1oC,EAAE,GACX0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,IACZ0oC,EAAI,IAAM1oC,EAAE,KAId0oC,EAAI,GAAKyB,EAAM4B,EAAI3B,EAAMziC,EACzB+gC,EAAI,GAAKmB,EAAMkC,EAAI1B,EAAM1iC,EACzB+gC,EAAI,GAAKoB,EAAMiC,EAAI/B,EAAMriC,EACzB+gC,EAAI,GAAKqB,EAAMgC,EAAI9B,EAAMtiC,EACzB+gC,EAAI,GAAK0B,EAAM2B,EAAI5B,EAAMxiC,EACzB+gC,EAAI,GAAK2B,EAAM0B,EAAIlC,EAAMliC,EACzB+gC,EAAI,GAAKsB,EAAM+B,EAAIjC,EAAMniC,EACzB+gC,EAAI,GAAKuB,EAAM8B,EAAIhC,EAAMpiC,EAClB+gC,EAyhBT,SAASc,EAASd,EAAK0D,GACrB,IAAI7yB,EAAI6yB,EAAE,GACN5yB,EAAI4yB,EAAE,GACN1tB,EAAI0tB,EAAE,GACNtF,EAAIsF,EAAE,GACNC,EAAK9yB,EAAIA,EACTorB,EAAKnrB,EAAIA,EACT8yB,EAAK5tB,EAAIA,EACT6tB,EAAKhzB,EAAI8yB,EACTG,EAAKhzB,EAAI6yB,EACTI,EAAKjzB,EAAImrB,EACT+H,EAAKhuB,EAAI2tB,EACTM,EAAKjuB,EAAIimB,EACTiI,EAAKluB,EAAI4tB,EACTO,EAAK/F,EAAIuF,EACTS,EAAKhG,EAAInC,EACToI,EAAKjG,EAAIwF,EAiBb,OAhBA5D,EAAI,GAAK,EAAI+D,EAAKG,EAClBlE,EAAI,GAAK8D,EAAKO,EACdrE,EAAI,GAAKgE,EAAKI,EACdpE,EAAI,GAAK,EACTA,EAAI,GAAK8D,EAAKO,EACdrE,EAAI,GAAK,EAAI6D,EAAKK,EAClBlE,EAAI,GAAKiE,EAAKE,EACdnE,EAAI,GAAK,EACTA,EAAI,GAAKgE,EAAKI,EACdpE,EAAI,GAAKiE,EAAKE,EACdnE,EAAI,IAAM,EAAI6D,EAAKE,EACnB/D,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAeT,SAASe,EAAQf,EAAKt+B,EAAMykB,EAAOD,EAAQvkB,EAAKw2B,EAAMC,GACpD,IAAIkM,EAAK,GAAKne,EAAQzkB,GAClB6iC,EAAK,GAAK5iC,EAAMukB,GAChBse,EAAK,GAAKrM,EAAOC,GAiBrB,OAhBA4H,EAAI,GAAY,EAAP7H,EAAWmM,EACpBtE,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAY,EAAP7H,EAAWoM,EACpBvE,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM7Z,EAAQzkB,GAAQ4iC,EAC1BtE,EAAI,IAAMr+B,EAAMukB,GAAUqe,EAC1BvE,EAAI,KAAO5H,EAAMD,GAAQqM,EACzBxE,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM5H,EAAMD,EAAO,EAAIqM,EAC3BxE,EAAI,IAAM,EACHA,EAcT,SAASgB,EAAYhB,EAAK1I,EAAMY,EAAQC,EAAMC,GAC5C,IACIoM,EADAr+B,EAAI,EAAMzO,KAAK29B,IAAIiC,EAAO,GA0B9B,OAxBA0I,EAAI,GAAK75B,EAAI+xB,EACb8H,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK75B,EACT65B,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EAEC,MAAP5H,GAAeA,IAAQqM,EAAAA,GACzBD,EAAK,GAAKrM,EAAOC,GACjB4H,EAAI,KAAO5H,EAAMD,GAAQqM,EACzBxE,EAAI,IAAM,EAAI5H,EAAMD,EAAOqM,IAE3BxE,EAAI,KAAO,EACXA,EAAI,KAAO,EAAI7H,GAGV6H,EAoDT,SAASiB,EAAMjB,EAAKt+B,EAAMykB,EAAOD,EAAQvkB,EAAKw2B,EAAMC,GAClD,IAAIsM,EAAK,GAAKhjC,EAAOykB,GACjBwe,EAAK,GAAKze,EAASvkB,GACnB6iC,EAAK,GAAKrM,EAAOC,GAiBrB,OAhBA4H,EAAI,IAAM,EAAI0E,EACd1E,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAI2E,EACd3E,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIwE,EACdxE,EAAI,IAAM,EACVA,EAAI,KAAOt+B,EAAOykB,GAASue,EAC3B1E,EAAI,KAAOr+B,EAAMukB,GAAUye,EAC3B3E,EAAI,KAAO5H,EAAMD,GAAQqM,EACzBxE,EAAI,IAAM,EACHA,EAaT,SAASkB,EAAOlB,EAAK4E,EAAK9gB,EAAQ+gB,GAChC,IAAIj4B,EAAIk4B,EAAInB,EAAI32B,EAAI+3B,EAAI9I,EAAIpF,EAAIkC,EAAI6K,EAAIh9B,EACpCo+B,EAAOJ,EAAI,GACXK,EAAOL,EAAI,GACXM,EAAON,EAAI,GACXO,EAAMN,EAAG,GACTO,EAAMP,EAAG,GACTQ,EAAMR,EAAG,GACTS,EAAUxhB,EAAO,GACjByhB,EAAUzhB,EAAO,GACjB0hB,EAAU1hB,EAAO,GAErB,OAAIpsB,KAAKC,IAAIqtC,EAAOM,GAAWvF,EAAyD,GAAKroC,KAAKC,IAAIstC,EAAOM,GAAWxF,EAAyD,GAAKroC,KAAKC,IAAIutC,EAAOM,GAAWzF,EAAyD,EAlyC5Q,SAAkBC,GAiBhB,OAhBAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAkxCEyF,CAASzF,IAGlBnJ,EAAKmO,EAAOM,EACZvM,EAAKkM,EAAOM,EACZ3B,EAAKsB,EAAOM,EAKZ54B,EAAKw4B,GADLxB,GAHAh9B,EAAM,EAAIlP,KAAKuoC,MAAMpJ,EAAIkC,EAAI6K,IAIbyB,GAFhBtM,GAAMnyB,GAGNk+B,EAAKO,GAJLxO,GAAMjwB,GAIUu+B,EAAMvB,EACtBD,EAAKwB,EAAMpM,EAAKqM,EAAMvO,GACtBjwB,EAAMlP,KAAKuoC,MAAMrzB,EAAIk4B,EAAInB,KAQvB/2B,GADAhG,EAAM,EAAIA,EAEVk+B,GAAMl+B,EACN+8B,GAAM/8B,IAPNgG,EAAK,EACLk4B,EAAK,EACLnB,EAAK,GAQP32B,EAAK+rB,EAAK4K,EAAKC,EAAKkB,EACpBC,EAAKnB,EAAKh3B,EAAKiqB,EAAK8M,EACpB1H,EAAKpF,EAAKiO,EAAK/L,EAAKnsB,GACpBhG,EAAMlP,KAAKuoC,MAAMjzB,EAAI+3B,EAAI9I,KAQvBjvB,GADApG,EAAM,EAAIA,EAEVm+B,GAAMn+B,EACNq1B,GAAMr1B,IAPNoG,EAAK,EACL+3B,EAAK,EACL9I,EAAK,GAQP+D,EAAI,GAAKpzB,EACTozB,EAAI,GAAKhzB,EACTgzB,EAAI,GAAKnJ,EACTmJ,EAAI,GAAK,EACTA,EAAI,GAAK8E,EACT9E,EAAI,GAAK+E,EACT/E,EAAI,GAAKjH,EACTiH,EAAI,GAAK,EACTA,EAAI,GAAK2D,EACT3D,EAAI,GAAK/D,EACT+D,EAAI,IAAM4D,EACV5D,EAAI,IAAM,EACVA,EAAI,MAAQpzB,EAAKo4B,EAAOF,EAAKG,EAAOtB,EAAKuB,GACzClF,EAAI,MAAQhzB,EAAKg4B,EAAOD,EAAKE,EAAOhJ,EAAKiJ,GACzClF,EAAI,MAAQnJ,EAAKmO,EAAOjM,EAAKkM,EAAOrB,EAAKsB,GACzClF,EAAI,IAAM,EACHA,GAqNT,SAAS3oC,EAAOC,EAAGC,GACjB,IAAImuC,EAAKpuC,EAAE,GACPquC,EAAKruC,EAAE,GACPsuC,EAAKtuC,EAAE,GACPuuC,EAAKvuC,EAAE,GACPwuC,EAAKxuC,EAAE,GACPyuC,EAAKzuC,EAAE,GACP0uC,EAAK1uC,EAAE,GACP2uC,EAAK3uC,EAAE,GACP4uC,EAAK5uC,EAAE,GACP6uC,EAAK7uC,EAAE,GACPoqC,EAAMpqC,EAAE,IACRqqC,EAAMrqC,EAAE,IACRgqC,EAAMhqC,EAAE,IACRiqC,EAAMjqC,EAAE,IACR8uC,EAAM9uC,EAAE,IACR+uC,EAAM/uC,EAAE,IACRkoC,EAAKjoC,EAAE,GACPkoC,EAAKloC,EAAE,GACPyrC,EAAKzrC,EAAE,GACP0rC,EAAK1rC,EAAE,GACP+uC,EAAK/uC,EAAE,GACPgvC,EAAKhvC,EAAE,GACPivC,EAAKjvC,EAAE,GACPkvC,EAAKlvC,EAAE,GACPmvC,EAAKnvC,EAAE,GACPovC,EAAKpvC,EAAE,GACPsrC,EAAMtrC,EAAE,IACRurC,EAAMvrC,EAAE,IACR+rC,EAAM/rC,EAAE,IACRqvC,EAAMrvC,EAAE,IACRsvC,EAAMtvC,EAAE,IACRuvC,EAAMvvC,EAAE,IACZ,OAAOG,KAAKC,IAAI+tC,EAAKlG,IAAOO,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAI+tC,GAAKhuC,KAAKC,IAAI6nC,KAAQ9nC,KAAKC,IAAIguC,EAAKlG,IAAOM,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIguC,GAAKjuC,KAAKC,IAAI8nC,KAAQ/nC,KAAKC,IAAIiuC,EAAK5C,IAAOjD,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIiuC,GAAKluC,KAAKC,IAAIqrC,KAAQtrC,KAAKC,IAAIkuC,EAAK5C,IAAOlD,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIkuC,GAAKnuC,KAAKC,IAAIsrC,KAAQvrC,KAAKC,IAAImuC,EAAKQ,IAAOvG,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAImuC,GAAKpuC,KAAKC,IAAI2uC,KAAQ5uC,KAAKC,IAAIouC,EAAKQ,IAAOxG,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIouC,GAAKruC,KAAKC,IAAI4uC,KAAQ7uC,KAAKC,IAAIquC,EAAKQ,IAAOzG,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIquC,GAAKtuC,KAAKC,IAAI6uC,KAAQ9uC,KAAKC,IAAIsuC,EAAKQ,IAAO1G,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIsuC,GAAKvuC,KAAKC,IAAI8uC,KAAQ/uC,KAAKC,IAAIuuC,EAAKQ,IAAO3G,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIuuC,GAAKxuC,KAAKC,IAAI+uC,KAAQhvC,KAAKC,IAAIwuC,EAAKQ,IAAO5G,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIwuC,GAAKzuC,KAAKC,IAAIgvC,KAAQjvC,KAAKC,IAAI+pC,EAAMmB,IAAQ9C,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAI+pC,GAAMhqC,KAAKC,IAAIkrC,KAASnrC,KAAKC,IAAIgqC,EAAMmB,IAAQ/C,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIgqC,GAAMjqC,KAAKC,IAAImrC,KAASprC,KAAKC,IAAI2pC,EAAMgC,IAAQvD,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAI2pC,GAAM5pC,KAAKC,IAAI2rC,KAAS5rC,KAAKC,IAAI4pC,EAAMqF,IAAQ7G,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAI4pC,GAAM7pC,KAAKC,IAAIivC,KAASlvC,KAAKC,IAAIyuC,EAAMS,IAAQ9G,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAIyuC,GAAM1uC,KAAKC,IAAIkvC,KAASnvC,KAAKC,IAAI0uC,EAAMS,IAAQ/G,EAAyD,EAAIroC,KAAKI,IAAI,EAAKJ,KAAKC,IAAI0uC,GAAM3uC,KAAKC,IAAImvC,MAiBlgE,KACA,SAAU3xC,EAAQC,EAAqBC,GAE7C,aAO+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO25B,KAcpE15B,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOwqC,KAIpEvqC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO2xC,KAKpE1xC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOyqC,KACpExqC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO4xC,KACpE3xC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO6xC,KACpE5xC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOurC,KACpEtrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOwrC,KACpEvrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOyrC,KACpExrC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO8xC,KAKpE7xC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO0qC,KACpEzqC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO+xC,KAO9E,IAAIpH,EAA0C1qC,EAAoB,MA0GvF,SAAS05B,EAAIiR,EAAK1oC,EAAGC,GAInB,OAHAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GACXyoC,EAuMT,SAASJ,EAAOI,EAAK1oC,GAInB,OAHA0oC,EAAI,IAAM1oC,EAAE,GACZ0oC,EAAI,IAAM1oC,EAAE,GACZ0oC,EAAI,IAAM1oC,EAAE,GACL0oC,EA4DT,SAAS+G,EAAM/G,EAAK1oC,EAAGC,GACrB,IAAI2oC,EAAK5oC,EAAE,GACP6oC,EAAK7oC,EAAE,GACP8vC,EAAK9vC,EAAE,GACP+vC,EAAK9vC,EAAE,GACP+vC,EAAK/vC,EAAE,GACPgwC,EAAKhwC,EAAE,GAIX,OAHAyoC,EAAI,GAAKG,EAAKoH,EAAKH,EAAKE,EACxBtH,EAAI,GAAKoH,EAAKC,EAAKnH,EAAKqH,EACxBvH,EAAI,GAAKE,EAAKoH,EAAKnH,EAAKkH,EACjBrH,EAiGT,SAASH,EAAcG,EAAK1oC,EAAGskC,GAC7B,IAAI/qB,EAAIvZ,EAAE,GACNwZ,EAAIxZ,EAAE,GACN0e,EAAI1e,EAAE,GACN8mC,EAAIxC,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,IAAM5lB,EAAI4lB,EAAE,IAK5C,OAJAwC,EAAIA,GAAK,EACT4B,EAAI,IAAMpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,KAAOwC,EACpD4B,EAAI,IAAMpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,KAAOwC,EACpD4B,EAAI,IAAMpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,IAAM5lB,EAAI4lB,EAAE,KAAOwC,EAC9C4B,EAWT,SAASgH,EAAchH,EAAK1oC,EAAGskC,GAC7B,IAAI/qB,EAAIvZ,EAAE,GACNwZ,EAAIxZ,EAAE,GACN0e,EAAI1e,EAAE,GAIV,OAHA0oC,EAAI,GAAKnvB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,GACrCoE,EAAI,GAAKnvB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,GACrCoE,EAAI,GAAKnvB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,GAC9BoE,EAYT,SAASiH,EAAcjH,EAAK1oC,EAAGosC,GAE7B,IAAI8D,EAAK9D,EAAE,GACP+D,EAAK/D,EAAE,GACPgE,EAAKhE,EAAE,GACPiE,EAAKjE,EAAE,GACP7yB,EAAIvZ,EAAE,GACNwZ,EAAIxZ,EAAE,GACN0e,EAAI1e,EAAE,GAGNswC,EAAMH,EAAKzxB,EAAI0xB,EAAK52B,EACpB+2B,EAAMH,EAAK72B,EAAI22B,EAAKxxB,EACpB8xB,EAAMN,EAAK12B,EAAI22B,EAAK52B,EAEpBk3B,EAAON,EAAKK,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAMJ,EAAKM,EACvBG,EAAOT,EAAKK,EAAMJ,EAAKG,EAEvBM,EAAU,EAALP,EAYT,OAXAC,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EAEPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EAERjI,EAAI,GAAKnvB,EAAI+2B,EAAMG,EACnB/H,EAAI,GAAKlvB,EAAI+2B,EAAMG,EACnBhI,EAAI,GAAKhqB,EAAI8xB,EAAMG,EACZjI,EAWT,SAASW,EAAQX,EAAK1oC,EAAGC,EAAG4rC,GAC1B,IAAI7U,EAAI,GACJ6Z,EAAI,GAaR,OAXA7Z,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAChB+2B,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAChB+2B,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAEhB4wC,EAAE,GAAK7Z,EAAE,GACT6Z,EAAE,GAAK7Z,EAAE,GAAK52B,KAAK+9B,IAAI0N,GAAO7U,EAAE,GAAK52B,KAAKsgC,IAAImL,GAC9CgF,EAAE,GAAK7Z,EAAE,GAAK52B,KAAKsgC,IAAImL,GAAO7U,EAAE,GAAK52B,KAAK+9B,IAAI0N,GAE9CnD,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GAClByoC,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GAClByoC,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GACXyoC,EAWT,SAASY,EAAQZ,EAAK1oC,EAAGC,EAAG4rC,GAC1B,IAAI7U,EAAI,GACJ6Z,EAAI,GAaR,OAXA7Z,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAChB+2B,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAChB+2B,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAEhB4wC,EAAE,GAAK7Z,EAAE,GAAK52B,KAAKsgC,IAAImL,GAAO7U,EAAE,GAAK52B,KAAK+9B,IAAI0N,GAC9CgF,EAAE,GAAK7Z,EAAE,GACT6Z,EAAE,GAAK7Z,EAAE,GAAK52B,KAAK+9B,IAAI0N,GAAO7U,EAAE,GAAK52B,KAAKsgC,IAAImL,GAE9CnD,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GAClByoC,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GAClByoC,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GACXyoC,EAWT,SAASa,EAAQb,EAAK1oC,EAAGC,EAAG4rC,GAC1B,IAAI7U,EAAI,GACJ6Z,EAAI,GAaR,OAXA7Z,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAChB+2B,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAChB+2B,EAAE,GAAKh3B,EAAE,GAAKC,EAAE,GAEhB4wC,EAAE,GAAK7Z,EAAE,GAAK52B,KAAK+9B,IAAI0N,GAAO7U,EAAE,GAAK52B,KAAKsgC,IAAImL,GAC9CgF,EAAE,GAAK7Z,EAAE,GAAK52B,KAAKsgC,IAAImL,GAAO7U,EAAE,GAAK52B,KAAK+9B,IAAI0N,GAC9CgF,EAAE,GAAK7Z,EAAE,GAET0R,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GAClByoC,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GAClByoC,EAAI,GAAKmI,EAAE,GAAK5wC,EAAE,GACXyoC,EAST,SAASkH,EAAM5vC,EAAGC,GAChB,IAAI2oC,EAAK5oC,EAAE,GACP6oC,EAAK7oC,EAAE,GACP8vC,EAAK9vC,EAAE,GACP+vC,EAAK9vC,EAAE,GACP+vC,EAAK/vC,EAAE,GACPgwC,EAAKhwC,EAAE,GAGP6wC,EAFO1wC,KAAKgoC,KAAKQ,EAAKA,EAAKC,EAAKA,EAAKiH,EAAKA,GACnC1vC,KAAKgoC,KAAK2H,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GAE1Cc,EAASD,GA9Rf,SAAa9wC,EAAGC,GACd,OAAOD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GA6RxB+wC,CAAIhxC,EAAGC,GAAK6wC,EAChC,OAAO1wC,KAAK6wC,KAAK7wC,KAAKG,IAAIH,KAAKI,IAAIuwC,GAAS,GAAI,IA0DlD,IAAIvI,EAzkBJ,SAAkBE,EAAK1oC,EAAGC,GAIxB,OAHAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GACXyoC,GA2kBLmH,EAhkBJ,SAAkBnH,EAAK1oC,EAAGC,GAIxB,OAHAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GAClByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAAE,GACXyoC,IAwmBK,WACZ,IAAII,EAxuBN,WACE,IAAIJ,EAAM,IAAID,EAA4D,EAAE,GAQ5E,OANIA,EAA4D,GAAKM,eACnEL,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EA+tBGM,GADE,IAmCR,KACA,SAAUnrC,EAAQC,EAAqBC,GAE7C,aAe+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOmI,KAapElI,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOyqC,KAc9E,IAAIE,EAA0C1qC,EAAoB,MAiPvF,SAASkI,EAAMyiC,EAAK1oC,EAAGC,GAKrB,OAJAyoC,EAAI,GAAK1oC,EAAE,GAAKC,EAChByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAChByoC,EAAI,GAAK1oC,EAAE,GAAKC,EAChByoC,EAAI,GAAK1oC,EAAE,GAAKC,EACTyoC,EA2OT,SAASH,EAAcG,EAAK1oC,EAAGskC,GAC7B,IAAI/qB,EAAIvZ,EAAE,GACNwZ,EAAIxZ,EAAE,GACN0e,EAAI1e,EAAE,GACN8mC,EAAI9mC,EAAE,GAKV,OAJA0oC,EAAI,GAAKpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,IAAMwC,EAClD4B,EAAI,GAAKpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,GAAK5lB,EAAI4lB,EAAE,IAAMwC,EAClD4B,EAAI,GAAKpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,IAAM5lB,EAAI4lB,EAAE,IAAMwC,EACnD4B,EAAI,GAAKpE,EAAE,GAAK/qB,EAAI+qB,EAAE,GAAK9qB,EAAI8qB,EAAE,IAAM5lB,EAAI4lB,EAAE,IAAMwC,EAC5C4B,GA4IK,WACZ,IAAII,EA1mBN,WACE,IAAIJ,EAAM,IAAID,EAA4D,EAAE,GAS5E,OAPIA,EAA4D,GAAKM,eACnEL,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAGJA,EAgmBGM,GADE,IAqCR,KACA,SAAUnrC,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOqoC,KACpEpoC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOozC,KACpEnzC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOqzC,KASnG,IAAIhL,EAAU,KACV+K,EAAqC,qBAAjBnI,aAA+BA,aAAenpC,MAClEuxC,EAAS/wC,KAAKgxC,OAULhxC,KAAKk9B,GAuBbl9B,KAAKuoC,QAAOvoC,KAAKuoC,MAAQ,WAI5B,IAHA,IAAInvB,EAAI,EACJrZ,EAAI4B,UAAU7B,OAEXC,KACLqZ,GAAKzX,UAAU5B,GAAK4B,UAAU5B,GAGhC,OAAOC,KAAKgoC,KAAK5uB,MAKb,KACA,SAAU3b,EAAQC,EAAqBC,GAE7C,cAC4B,SAASszC,GAENtzC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOwzC,KACnE,qBAAXxoC,QAAyBA,OACd,qBAAXuoC,GAAkCvoC,OADvD,IAEIwoC,EAAgC,qBAAbC,SAA2BA,SAAW,KAEhCpjC,KAAKxQ,KAAMI,EAAoB,MAItD,KACA,SAAUF,EAAQC,EAAqBC,GAE7C,aAGAA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAsB0zC,KAGnF,IAAItyC,EAAgBnB,EAAoB,GAGpCmoC,EAA4BnoC,EAAoB,KAGhDyB,EAAiBzB,EAAoB,IAGrC0B,EAAc1B,EAAoB,IAGlC0zC,EAAS1zC,EAAoB,MAC7B2zC,EAA8B3zC,EAAoBwB,EAAEkyC,GAMpDE,EAAkB,CACpBC,UAJgB,EAKhBC,UAJe,EAKfC,QAJc,IAiBhB,SAAkCC,GAChC,IAAIC,EAAaD,EAAkB9jC,UAAUgkC,QAE7CF,EAAkB9jC,UAAUgkC,QAAU,SAAiBC,GACrD,IAAIC,EAAQx0C,KAAKw0C,MAEbD,EAAGE,OAAS,GAAiB,gBAAZF,EAAG/kC,OAhB5B,SAAcklC,EAAOC,GACnB,IAAK,IAAInyC,EAAI,EAAGA,EAAIkyC,EAAMnyC,OAAQC,IAChC,GAAImyC,EAAQD,EAAMlyC,IAChB,OAAO,EAIX,OAAO,EAUEka,CAAK83B,GAAO,SAAUxjC,GACzB,OAAOA,EAAE4jC,YAAcL,EAAGK,cAE1BJ,EAAMv0C,KAAKs0C,IAIfF,EAAW7jC,KAAKxQ,KAAMu0C,IAkC1BM,CAAyBd,EAAe1xC,EAAE+xC,mBACxBL,EAAe1xC,EAAEyyC,WA/BtBxkC,UAAUgkC,QAAU,SAAiBC,GAC9C,IAAIQ,EAAYf,EAAgBO,EAAG/kC,MAtCrB,EAwCVulC,GAA2BR,EAAGE,QAAU,IAC1Cz0C,KAAKg1C,SAAU,GAxCJ,EA2CTD,GAAuC,IAAbR,EAAGU,QAC/BF,EA3CU,GA8CP/0C,KAAKg1C,UA9CE,EAkDRD,IACF/0C,KAAKg1C,SAAU,GAGjBh1C,KAAK67B,SAAS77B,KAAKk1C,QAASH,EAAW,CACrCI,SAAU,CAACZ,GACXa,gBAAiB,CAACb,GAClB1vB,YAAa,QACb/I,SAAUy4B,MAShB,IAAIc,EAAUtB,EAAe1xC,EAAEgzC,QACEC,EAAkBvB,EAAgB,EAG/DwB,EAAcD,EAAiB,CAAC,CAACA,EAAeE,IAAK,CACvD96B,MAAO,SACPy6B,SAAU,EACVM,UAAW,EACXC,QAAQ,IACN,CAACJ,EAAeK,OAAQ,CAC1BD,QAAQ,IACN,CAACJ,EAAeM,MAAO,CACzBF,QAAQ,IACN,CAACJ,EAAeO,MAAO,CACzBH,QAAQ,IACN,CAACJ,EAAeE,IAAK,CACvBC,UAAW,EACXC,QAAQ,IACN,CAACJ,EAAeQ,MAAO,CACzBJ,QAAQ,IACN,CAACJ,EAAeS,IAAK,CACvBr7B,MAAO,YACPs7B,KAAM,EACNN,QAAQ,IACN,CAACJ,EAAeS,IAAK,CACvBr7B,MAAO,SACPg7B,QAAQ,IACN,CAACJ,EAAeS,IAAK,CACvBL,QAAQ,KACJ,KACFO,EAA4B,CAC9BC,OAAQ,CAAC,SAAU,QAAS,OAC5Bn2B,OAAQ,CAAC,SACTo2B,MAAO,CAAC,OACR72B,IAAK,CAAC,QAAS,YAAa,SAAU,OACtC82B,UAAW,CAAC,UACZC,OAAQ,CAAC,QAEPC,EAA0B,CAC5BF,UAAW,CAAC,QAEVG,EAAsB,CACxBzvB,YAAa,cACbC,YAAa,cACbC,UAAW,YACXwvB,WAAY,cACZC,UAAW,cACXC,SAAU,YACVzC,UAAW,cACXC,UAAW,cACXC,QAAS,aAEPwC,EACU,CAAC,UAAW,SADtBA,EAEY,CAAC,YAAa,YAAa,UAAW,YAAa,WAAY,cAF3EA,EAGY,CAAC,QAAS,cAEtBC,EAAuB,CACzBC,IAAK,MACLR,OAAQ,SACRD,UAAW,YACXU,MAAO,QACPX,MAAO,QACPY,QAAS,QACTC,SAAU,QACVC,WAAY,QACZC,UAAW,QACXC,SAAU,QACVC,YAAa,QACbr3B,OAAQ,SACRs3B,YAAa,SACbC,WAAY,SACZC,UAAW,SACXC,aAAc,SACdtB,OAAQ,SACRuB,YAAa,SACbC,WAAY,SACZC,SAAU,SACVC,WAAY,SACZC,WAAY,SACZC,YAAa,SACbC,UAAW,SACXC,aAAc,SACd14B,IAAK,MACLiN,SAAU,MACV8C,QAAS,MACT4oB,MAAO,MACPC,QAAS,MACTC,QAAS,MACTC,SAAU,MACV9oB,OAAQ,MACRC,UAAW,MACX8oB,MAAO,QACPC,UAAW,QACXC,WAAY,QACZC,QAAS,QACTC,UAAW,SAETC,EAAwB,CAC1BxxB,MAAO,MACPC,SAAU,SACVC,SAAU,YACV6sB,UAAW,cACXC,UAAW,cACXC,QAAS,YACTwE,UAAW,cACXC,SAAU,aACVC,WAAY,gBAGVvjB,EAAUl1B,EAAoB,MAO9B04C,GAA+D,IAArDxjB,EAA2B,EAAEyjB,QAAQ,WAC/CC,EAAerC,EACfsC,EAAa,QACbC,EAA2B,eAI3BC,EAAsC,WACxC,SAASC,EAAWC,EAASxd,GAC3B,IAAIlnB,EAAQ3U,KAER8O,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAElFV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMo5C,GAEhDp5C,KAAKq5C,QAAUA,EACfr5C,KAAK67B,SAAWA,EAChB77B,KAAK8O,QAAUpL,OAAOgF,OAAO,CAC3BgtC,QAAQ,GACP5mC,GACH9O,KAAKqe,OAAS26B,EAAalkC,OAAOhG,EAAQuP,QAAU,IACpDre,KAAKqa,YAAcra,KAAKqa,YAAYC,KAAKta,MACzCA,KAAKqe,OAAO/Z,SAAQ,SAAUoW,GAC5B,OAAO2+B,EAAQ7iB,iBAAiB9b,EAAO/F,EAAM0F,cAAaib,EAAkC,GAAI,CAC9FgkB,SAAS,OAqEf,OAhEA51C,OAAO5B,EAA6B,EAApC4B,CAAuC01C,EAAY,CAAC,CAClD70C,IAAK,UACLvC,MAAO,WACL,IAAIoa,EAASpc,KAEbA,KAAKqe,OAAO/Z,SAAQ,SAAUoW,GAC5B,OAAO0B,EAAOi9B,QAAQ3iB,oBAAoBhc,EAAO0B,EAAO/B,kBAG3D,CACD9V,IAAK,kBACLvC,MAAO,SAAyB+yC,EAAWx2B,GACrCw2B,IAAckE,IAChBj5C,KAAK8O,QAAQ4mC,OAASn3B,KAGzB,CACDha,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B,GAAK1a,KAAK8O,QAAQ4mC,OAAlB,CAIA,IAAI1zC,EAAQ0Y,EAAM/Q,OAEd2rB,EAAwB,EAAEikB,aACxBT,GAAWp+B,EAAM8+B,YAAclkB,EAAwB,EAAEikB,WAAWE,kBACtEz3C,GAASszB,EAAwB,EAAE5F,kBAGjChV,EAAM8+B,YAAclkB,EAAwB,EAAEikB,WAAWG,iBAC3D13C,GAxDiB,KA4DrB,IAAI23C,EAAgB,CAClB/9B,EAAGlB,EAAMk/B,QACT/9B,EAAGnB,EAAMm/B,SAGG,IAAV73C,GAAeA,EAAQk3C,IAA6B,IACtDl3C,EAAQS,KAAKgwB,MAAMzwB,EAAQk3C,IAGzBx+B,EAAMwB,UAAYla,IACpBA,GArEe,KAwEjBhC,KAAKwb,SAASd,GAAQ1Y,EAAO23C,MAE9B,CACDp1C,IAAK,WACLvC,MAAO,SAAkB8Z,EAAUyE,EAAO3U,GACxC5L,KAAK67B,SAAS,CACZrsB,KAAMypC,EACNpqB,OAAQjjB,EACR2U,MAAOA,EACPzE,SAAUA,EACV+I,YAAa,QACb1gB,OAAQ2X,EAAS3X,aAKhBi1C,EAtFiC,GA8FtCU,EAAenD,EACfoD,EAAkB,cAClBC,EAAkB,cAClBC,EAAiB,aACjBC,EAAmB,eAEnBC,EAAoC,WACtC,SAASC,EAAUf,EAASxd,GAC1B,IAAIlnB,EAAQ3U,KAER8O,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAElFV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMo6C,GAEhDp6C,KAAKq5C,QAAUA,EACfr5C,KAAK67B,SAAWA,EAChB77B,KAAKg1C,SAAU,EACfh1C,KAAK8O,QAAUpL,OAAOgF,OAAO,CAC3BgtC,QAAQ,GACP5mC,GACH9O,KAAKq6C,gBAAkBr6C,KAAK8O,QAAQ4mC,OACpC11C,KAAKs6C,iBAAmBt6C,KAAK8O,QAAQ4mC,OACrC11C,KAAKu6C,eAAiBv6C,KAAK8O,QAAQ4mC,OACnC11C,KAAKw6C,gBAAkBx6C,KAAK8O,QAAQ4mC,OACpC11C,KAAKqe,OAASy7B,EAAahlC,OAAOhG,EAAQuP,QAAU,IACpDre,KAAKqa,YAAcra,KAAKqa,YAAYC,KAAKta,MACzCA,KAAKqe,OAAO/Z,SAAQ,SAAUoW,GAC5B,OAAO2+B,EAAQ7iB,iBAAiB9b,EAAO/F,EAAM0F,gBAwHjD,OApHA3W,OAAO5B,EAA6B,EAApC4B,CAAuC02C,EAAW,CAAC,CACjD71C,IAAK,UACLvC,MAAO,WACL,IAAIoa,EAASpc,KAEbA,KAAKqe,OAAO/Z,SAAQ,SAAUoW,GAC5B,OAAO0B,EAAOi9B,QAAQ3iB,oBAAoBhc,EAAO0B,EAAO/B,kBAG3D,CACD9V,IAAK,kBACLvC,MAAO,SAAyB+yC,EAAWx2B,GACrCw2B,IAAcgF,IAChB/5C,KAAKq6C,gBAAkB97B,GAGrBw2B,IAAciF,IAChBh6C,KAAKw6C,gBAAkBj8B,GAGrBw2B,IAAckF,IAChBj6C,KAAKu6C,eAAiBh8B,GAGpBw2B,IAAcmF,IAChBl6C,KAAKs6C,iBAAmB/7B,KAG3B,CACDha,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B1a,KAAKy6C,gBAAgB//B,GACrB1a,KAAK06C,eAAehgC,GACpB1a,KAAK26C,iBAAiBjgC,GACtB1a,KAAK46C,gBAAgBlgC,KAEtB,CACDnW,IAAK,kBACLvC,MAAO,SAAyB0Y,GAC1B1a,KAAKw6C,iBACY,cAAf9/B,EAAMlL,MACRxP,KAAK67B,SAAS,CACZrsB,KAAMwqC,EACNl+B,SAAUpB,EACVmK,YAAa,QACb1gB,OAAQuW,EAAMvW,WAKrB,CACDI,IAAK,iBACLvC,MAAO,SAAwB0Y,GACzB1a,KAAKu6C,gBACY,aAAf7/B,EAAMlL,MACRxP,KAAK67B,SAAS,CACZrsB,KAAMyqC,EACNn+B,SAAUpB,EACVmK,YAAa,QACb1gB,OAAQuW,EAAMvW,WAKrB,CACDI,IAAK,mBACLvC,MAAO,SAA0B0Y,GAC3B1a,KAAKs6C,kBACY,eAAf5/B,EAAMlL,MACRxP,KAAK67B,SAAS,CACZrsB,KAAM0qC,EACNp+B,SAAUpB,EACVmK,YAAa,QACb1gB,OAAQuW,EAAMvW,WAKrB,CACDI,IAAK,kBACLvC,MAAO,SAAyB0Y,GAC9B,GAAI1a,KAAKq6C,gBACP,OAAQ3/B,EAAMlL,MACZ,IAAK,YACCkL,EAAM+5B,QAAU,IAClBz0C,KAAKg1C,SAAU,GAGjB,MAEF,IAAK,YACiB,IAAhBt6B,EAAMu6B,QACRj1C,KAAKg1C,SAAU,GAGZh1C,KAAKg1C,SACRh1C,KAAK67B,SAAS,CACZrsB,KAAMuqC,EACNj+B,SAAUpB,EACVmK,YAAa,QACb1gB,OAAQuW,EAAMvW,SAIlB,MAEF,IAAK,UACHnE,KAAKg1C,SAAU,OASlBoF,EA7I+B,GAqJpCS,EAAalE,EACbmE,EAAkB,UAClBC,EAAgB,QAEhBC,EAAkC,WACpC,SAASC,EAAS5B,EAASxd,GACzB,IAAIlnB,EAAQ3U,KAER8O,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAElFV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMi7C,GAEhDj7C,KAAKq5C,QAAUA,EACfr5C,KAAK67B,SAAWA,EAChB77B,KAAK8O,QAAUpL,OAAOgF,OAAO,CAC3BgtC,QAAQ,GACP5mC,GACH9O,KAAKk7C,gBAAkBl7C,KAAK8O,QAAQ4mC,OACpC11C,KAAKm7C,cAAgBn7C,KAAK8O,QAAQ4mC,OAClC11C,KAAKqe,OAASw8B,EAAW/lC,OAAOhG,EAAQuP,QAAU,IAClDre,KAAKqa,YAAcra,KAAKqa,YAAYC,KAAKta,MACzCq5C,EAAQ+B,SAAWtsC,EAAQssC,UAAY,EACvC/B,EAAQjtC,MAAMivC,QAAU,OACxBr7C,KAAKqe,OAAO/Z,SAAQ,SAAUoW,GAC5B,OAAO2+B,EAAQ7iB,iBAAiB9b,EAAO/F,EAAM0F,gBAqDjD,OAjDA3W,OAAO5B,EAA6B,EAApC4B,CAAuCu3C,EAAU,CAAC,CAChD12C,IAAK,UACLvC,MAAO,WACL,IAAIoa,EAASpc,KAEbA,KAAKqe,OAAO/Z,SAAQ,SAAUoW,GAC5B,OAAO0B,EAAOi9B,QAAQ3iB,oBAAoBhc,EAAO0B,EAAO/B,kBAG3D,CACD9V,IAAK,kBACLvC,MAAO,SAAyB+yC,EAAWx2B,GACrCw2B,IAAc+F,IAChB96C,KAAKk7C,gBAAkB38B,GAGrBw2B,IAAcgG,IAChB/6C,KAAKm7C,cAAgB58B,KAGxB,CACDha,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B,IAAI4gC,EAAgB5gC,EAAMvW,QAAUuW,EAAM6gC,WAEZ,UAA1BD,EAAcE,SAA8C,SAAvBF,EAAc9rC,MAA6C,aAA1B8rC,EAAcE,UAIpFx7C,KAAKk7C,iBAAkC,YAAfxgC,EAAMlL,MAChCxP,KAAK67B,SAAS,CACZrsB,KAAMsrC,EACNh/B,SAAUpB,EACVnW,IAAKmW,EAAMnW,IACXJ,OAAQuW,EAAMvW,SAIdnE,KAAKm7C,eAAgC,UAAfzgC,EAAMlL,MAC9BxP,KAAK67B,SAAS,CACZrsB,KAAMurC,EACNj/B,SAAUpB,EACVnW,IAAKmW,EAAMnW,IACXJ,OAAQuW,EAAMvW,cAMf82C,EAzE6B,GAgFlCQ,EAA+B,cAE/BC,EAAkD,WACpD,SAASC,EAAiBtC,EAASxd,GACjC,IAAI/sB,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAElFV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAM27C,GAEhD37C,KAAKq5C,QAAUA,EACfr5C,KAAK67B,SAAWA,EAChB77B,KAAK8O,QAAUpL,OAAOgF,OAAO,CAC3BgtC,QAAQ,GACP5mC,GACH9O,KAAKqa,YAAcra,KAAKqa,YAAYC,KAAKta,MACzCq5C,EAAQ7iB,iBAAiB,cAAex2B,KAAKqa,aAmC/C,OAhCA3W,OAAO5B,EAA6B,EAApC4B,CAAuCi4C,EAAkB,CAAC,CACxDp3C,IAAK,UACLvC,MAAO,WACLhC,KAAKq5C,QAAQ3iB,oBAAoB,cAAe12B,KAAKqa,eAEtD,CACD9V,IAAK,kBACLvC,MAAO,SAAyB+yC,EAAWx2B,GACrCw2B,IAAc0G,IAChBz7C,KAAK8O,QAAQ4mC,OAASn3B,KAGzB,CACDha,IAAK,cACLvC,MAAO,SAAqB0Y,GACrB1a,KAAK8O,QAAQ4mC,QAIlB11C,KAAK67B,SAAS,CACZrsB,KAAMisC,EACN5sB,OAAQ,CACNjT,EAAGlB,EAAMk/B,QACT/9B,EAAGnB,EAAMm/B,SAEX/9B,SAAUpB,EACVmK,YAAa,QACb1gB,OAAQuW,EAAMvW,aAKbw3C,EA/C6C,GAuDlDC,EAA2B,CAC7B90B,YAJe,EAKfC,YAJe,EAKfC,UAJa,EAKbitB,UAPe,EAQfC,UAPe,EAQfC,QAPa,GAgFf,IAAI0H,EAAkB,CACpBN,WAAY,OACZO,SAAU,GAGRC,EAA8C,WAChD,SAASC,EAAevxC,GACtB/G,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMg8C,GAEhDh8C,KAAKyK,aAAeA,EACpBzK,KAAKi8C,SAAW,GAChBj8C,KAAKk8C,kBAAoB,IAAIC,IAC7Bn8C,KAAKqa,YAAcra,KAAKqa,YAAYC,KAAKta,MACzCA,KAAKo8C,SAAU,EAoKjB,OAjKA14C,OAAO5B,EAA6B,EAApC4B,CAAuCs4C,EAAgB,CAAC,CACtDz3C,IAAK,UACLvC,MAAO,WACL,OAAQhC,KAAKo8C,UAEd,CACD73C,IAAK,MACLvC,MAAO,SAAawN,EAAM8kC,EAASz+B,GACjC,IAAIge,EAAOzvB,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,IAAmBA,UAAU,GACtEk1C,EAAUl1C,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,IAAmBA,UAAU,GACzE63C,EAAWj8C,KAAKi8C,SAChBC,EAAoBl8C,KAAKk8C,kBAEzBrmC,IAAyB,kBAATA,GAAqBA,EAAK2gB,oBAC5C3gB,EAAO,CACL0lC,WAAY1lC,IAIhBA,EAAOA,EAAOnS,OAAOgF,OAAO,GAAImzC,EAAiBhmC,GAAQgmC,EACzD,IAAI1tC,EAAU+tC,EAAkB31B,IAAI1Q,EAAK0lC,YAEpCptC,IACHA,EAAU,GACV+tC,EAAkBG,IAAIxmC,EAAK0lC,WAAYptC,IAGzC,IAAImuC,EAAQ,CACV9sC,KAAMA,EACN8kC,QAASA,EACTiH,WAAY1lC,EAAK0lC,WACjBO,SAAUjmC,EAAKimC,UAGbjoB,IACFyoB,EAAMzoB,MAAO,GAGXylB,IACFgD,EAAMhD,SAAU,GAGlB2C,EAASh8C,KAAKq8C,GACdt8C,KAAKo8C,QAAUp8C,KAAKo8C,UAAYE,EAAMhD,QAGtC,IAFA,IAAIiD,EAAiBpuC,EAAQ5L,OAAS,EAE/Bg6C,GAAkB,KACnBpuC,EAAQouC,GAAgBT,UAAYQ,EAAMR,WAI9CS,IAGFpuC,EAAQquC,OAAOD,EAAiB,EAAG,EAAGD,KAEvC,CACD/3C,IAAK,SACLvC,MAAO,SAAgBwN,EAAM8kC,GAI3B,IAHA,IAAI2H,EAAWj8C,KAAKi8C,SAChBC,EAAoBl8C,KAAKk8C,kBAEpB15C,EAAIy5C,EAAS15C,OAAS,EAAGC,GAAK,EAAGA,IAAK,CAC7C,IAAI85C,EAAQL,EAASz5C,GAErB,GAAI85C,EAAM9sC,OAASA,GAAQ8sC,EAAMhI,UAAYA,EAAS,CACpD2H,EAASO,OAAOh6C,EAAG,GACnB,IAAI2L,EAAU+tC,EAAkB31B,IAAI+1B,EAAMf,YAC1CptC,EAAQquC,OAAOruC,EAAQ4qC,QAAQuD,GAAQ,GAEhB,IAAnBnuC,EAAQ5L,QACV25C,EAAkBO,OAAOH,EAAMf,aAKrCv7C,KAAKo8C,QAAUH,EAASv/B,MAAK,SAAU4/B,GACrC,OAAQA,EAAMhD,aAGjB,CACD/0C,IAAK,cACLvC,MAAO,SAAqB0Y,GAC1B,IAAI1a,KAAK08C,UAAT,CAQA,IAJA,IAAIC,EAAe38C,KAAK48C,gBAAgBliC,GAEpCvW,EAASuW,EAAMoB,SAAS3X,OAErBA,GAAUA,IAAWw4C,EAAaE,aAAa,CAGpD,GAFA78C,KAAK88C,MAAMH,EAAcx4C,GAErBw4C,EAAaI,QACf,OAGF54C,EAASA,EAAO64C,WAGlBh9C,KAAK88C,MAAMH,EAAc,WAE1B,CACDp4C,IAAK,QACLvC,MAAO,SAAe0Y,EAAO6gC,GAC3B,IAAIptC,EAAUnO,KAAKk8C,kBAAkB31B,IAAIg1B,GAEzC,GAAIptC,EAAS,CAcX,IAbA,IAAI8uC,GAA8B,EAE9B3wB,EAAkB,WACpB5R,EAAMqiC,SAAU,GAGdG,EAA2B,WAC7BxiC,EAAMqiC,SAAU,EAChBE,GAA8B,GAG5BE,EAAkB,GAEb36C,EAAI,EAAGA,EAAI2L,EAAQ5L,OAAQC,IAAK,CACvC,IAAI46C,EAAajvC,EAAQ3L,GACrBgN,EAAO4tC,EAAW5tC,KAClB8kC,EAAU8I,EAAW9I,QACrBzgB,EAAOupB,EAAWvpB,KAWtB,GAVAygB,EAAQ5wC,OAAOgF,OAAO,GAAIgS,EAAO,CAC/BlL,KAAMA,EACN8c,gBAAiBA,EACjB4wB,yBAA0BA,KAGxBrpB,GACFspB,EAAgBl9C,KAAKkO,EAAQ3L,IAG3By6C,EACF,MAIJ,IAAK,IAAIn1B,EAAK,EAAGA,EAAKq1B,EAAgB56C,OAAQulB,IAAM,CAClD,IAAIu1B,EAAsBF,EAAgBr1B,GACtCw1B,EAAQD,EAAoB7tC,KAC5B+tC,EAAWF,EAAoB/I,QACnCt0C,KAAK+5B,OAAOujB,EAAOC,OAIxB,CACDh5C,IAAK,kBACLvC,MAAO,SAAyB0Y,GAC9B,IAAImiC,EAAc78C,KAAKyK,aAAa4uC,QACpC,OAAO31C,OAAOgF,OAAO,GAAIgS,EAxO/B,SAAsBA,GACpB,IAAIq6B,EAAY6G,EAAyBlhC,EAAMoB,SAAStM,MAExD,IAAKulC,EACH,OAAO,KAGT,IAAIyI,EAAkB9iC,EAAMoB,SACxB2hC,EAAUD,EAAgBC,QAC1BhJ,EAAS+I,EAAgB/I,OACzBQ,EAAQuI,EAAgBvI,MACxByI,GAAa,EACbC,GAAe,EACf5+B,GAAc,EAgBlB,OA/Ca,IAiCTg2B,GAlCW,IAkCeA,IAA6BnuC,OAAOC,SAAS42C,IACzEC,EAzByB,IAyBZzI,EACb0I,EAzB2B,IAyBZ1I,EACfl2B,EAzB0B,IAyBZk2B,GArCD,IAsCJF,GACT2I,EAAavlC,QAvBmB,EAuBXslC,GACrBE,EAAexlC,QAtBmB,EAsBXslC,GACvB1+B,EAAc5G,QAxBmB,EAwBXslC,IA1CT,IA2CJ1I,IACT2I,EA9B0B,IA8BbjJ,EACbkJ,EA9B4B,IA8BblJ,EACf11B,EA9B2B,IA8Bb01B,GAGT,CACLiJ,WAAYA,EACZC,aAAcA,EACd5+B,YAAaA,GAwMqB6+B,CAAaljC,GArMnD,SAA2BA,EAAOmiC,GAChC,IAAI/gC,EAAWpB,EAAMoB,SAErB,IAAKpB,EAAMmU,SAAWjoB,OAAOC,SAASiV,EAAS89B,SAC7C,OAAO,KAGT,IAAI/qB,EAASnU,EAAMmU,QAAU,CAC3BjT,EAAGE,EAAS89B,QACZ/9B,EAAGC,EAAS+9B,SAEV/qB,EAAO+tB,EAAY9tB,wBACnB8V,EAAS/V,EAAK3pB,MAAQ03C,EAAY3sB,aAAe,EACjD4U,EAAShW,EAAK1pB,OAASy3C,EAAY1sB,cAAgB,EAKvD,MAAO,CACLtB,OAAQA,EACRlT,aANiB,CACjBC,GAAIiT,EAAOjT,EAAIkT,EAAKriB,KAAOowC,EAAYgB,YAAchZ,EACrDhpB,GAAIgT,EAAOhT,EAAIiT,EAAKpiB,IAAMmwC,EAAYiB,WAAahZ,IAqLIiZ,CAAkBrjC,EAAOmiC,GAAc,CAC1FE,SAAS,EACTF,YAAaA,QAKZb,EA5KyC,GA4L9CgC,EAAgC,CAClC3/B,OAAQ,KACR4/B,YAAa,KACbr4B,kBAAmB,GACnByvB,QAASA,EACT9xB,YAAa,OACb63B,SAAU,GAGRvH,EAA0C,WAC5C,SAASqK,IACP,IAAI7E,EAAUj1C,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,KAC9E0K,EAAU1K,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,GAElFV,OAAO7B,EAAgC,EAAvC6B,CAA0C1D,KAAMk+C,GAEhDl+C,KAAK8O,QAAUpL,OAAOgF,OAAO,GAAIs1C,EAA+BlvC,GAChE9O,KAAKqe,OAAS,IAAI89B,IAClBn8C,KAAKm+C,cAAgBn+C,KAAKm+C,cAAc7jC,KAAKta,MAC7CA,KAAKo+C,cAAgBp+C,KAAKo+C,cAAc9jC,KAAKta,MAC7CA,KAAK6mB,WAAWwyB,GAChB,IAAIh7B,EAASvP,EAAQuP,OAEjBA,GACFre,KAAK0e,GAAGL,GA+PZ,OA3PA3a,OAAO5B,EAA6B,EAApC4B,CAAuCw6C,EAAc,CAAC,CACpD35C,IAAK,aACLvC,MAAO,SAAoBq3C,GACzB,IAAI1kC,EAAQ3U,KAQZ,GANIA,KAAKq5C,SACPr5C,KAAKunB,UAGPvnB,KAAKq5C,QAAUA,EAEVA,EAAL,CAIA,IAAIvqC,EAAU9O,KAAK8O,QACfuvC,EAAevvC,EAAQumC,QAkB3B,IAAK,IAAIiJ,KAjBTt+C,KAAKk1C,QAAU,IAAImJ,EAAahF,EAAS,CACvC91B,YAAazU,EAAQyU,YACrB06B,YAAanvC,EAAQmvC,aAAe1I,IACnC72B,GAAG,eAAgB1e,KAAKm+C,eAEtBrvC,EAAQmvC,aACXv6C,OAAOD,KAAKwyC,GAA2B3xC,SAAQ,SAAUoM,GACvD,IAAI6tC,EAAa5pC,EAAMugC,QAAQ3uB,IAAI7V,GAE/B6tC,GACFtI,EAA0BvlC,GAAMpM,SAAQ,SAAUk6C,GAChDD,EAAWE,cAAcD,SAMN1vC,EAAQ8W,kBAAmB,CACpD,IAAI24B,EAAav+C,KAAKk1C,QAAQ3uB,IAAI+3B,GAElC,GAAIC,EAAY,CACd,IAAIG,EAAmB5vC,EAAQ8W,kBAAkB04B,UAC1CI,EAAiBhJ,OACxB6I,EAAWlC,IAAIqC,IAInB1+C,KAAK2+C,WAAa,IAAIxF,EAAuBE,EAASr5C,KAAKo+C,cAAe,CACxE1I,QAAQ,IAEV11C,KAAK4+C,UAAY,IAAIzE,EAAqBd,EAASr5C,KAAKo+C,cAAe,CACrE1I,QAAQ,IAEV11C,KAAK6+C,SAAW,IAAI7D,EAAmB3B,EAASr5C,KAAKo+C,cAAe,CAClE1I,QAAQ,EACR0F,SAAUtsC,EAAQssC,WAEpBp7C,KAAK8+C,iBAAmB,IAAIpD,EAAmCrC,EAASr5C,KAAKo+C,cAAe,CAC1F1I,QAAQ,IAGV,IACIzjC,EADAC,EAAYxO,OAAO6kC,EAA2C,EAAlD7kC,CAAqD1D,KAAKqe,QAG1E,IACE,IAAKnM,EAAUlI,MAAOiI,EAAQC,EAAUtQ,KAAKmP,MAAO,CAClD,IAAIguC,EAAcr7C,OAAOnC,EAA+B,EAAtCmC,CAAyCuO,EAAMjQ,MAAO,GACpEg9C,EAAaD,EAAY,GACzBE,EAAiBF,EAAY,GAE5BE,EAAevC,YAClB18C,KAAKk/C,kBAAkBD,EAAeX,gBAAgB,GAEtDt+C,KAAKk1C,QAAQx2B,GAAGsgC,EAAYC,EAAe5kC,eAG/C,MAAOjJ,GACPc,EAAUlB,EAAEI,GACZ,QACAc,EAAUhB,QAGb,CACD3M,IAAK,UACLvC,MAAO,WACDhC,KAAKq5C,UACPr5C,KAAK2+C,WAAWp3B,UAChBvnB,KAAK4+C,UAAUr3B,UACfvnB,KAAK6+C,SAASt3B,UACdvnB,KAAK8+C,iBAAiBv3B,UACtBvnB,KAAKk1C,QAAQ3tB,UACbvnB,KAAK2+C,WAAa,KAClB3+C,KAAK4+C,UAAY,KACjB5+C,KAAK6+C,SAAW,KAChB7+C,KAAK8+C,iBAAmB,KACxB9+C,KAAKk1C,QAAU,KACfl1C,KAAKq5C,QAAU,QAGlB,CACD90C,IAAK,KACLvC,MAAO,SAAY0Y,EAAO45B,EAASz+B,GACjC7V,KAAKm/C,iBAAiBzkC,EAAO45B,EAASz+B,GAAM,KAE7C,CACDtR,IAAK,OACLvC,MAAO,SAAc0Y,EAAO45B,EAASz+B,GACnC7V,KAAKm/C,iBAAiBzkC,EAAO45B,EAASz+B,GAAM,KAE7C,CACDtR,IAAK,QACLvC,MAAO,SAAe0Y,EAAO45B,EAASz+B,GACpC7V,KAAKm/C,iBAAiBzkC,EAAO45B,EAASz+B,GAAM,GAAO,KAEpD,CACDtR,IAAK,MACLvC,MAAO,SAAa0Y,EAAO45B,GACzBt0C,KAAKo/C,oBAAoB1kC,EAAO45B,KAEjC,CACD/vC,IAAK,oBACLvC,MAAO,SAA2B0O,EAAM6N,GACtC,IAAI22B,EAAUl1C,KAAKk1C,QAEnB,GAAKA,EAAL,CAIA,IAAIqJ,EAAarJ,EAAQ3uB,IAAI7V,GAE7B,GAAI6tC,GAAcA,EAAWzvC,QAAQ4mC,SAAWn3B,EAAS,CACvDggC,EAAWlC,IAAI,CACb3G,OAAQn3B,IAEV,IAAI8gC,EAAsB/I,EAAwB5lC,GAE9C2uC,IAAwBr/C,KAAK8O,QAAQmvC,aACvCoB,EAAoB/6C,SAAQ,SAAUk6C,GACpC,IAAIc,EAAkBpK,EAAQ3uB,IAAIi4B,GAE9BjgC,GACF+gC,EAAgBC,eAAe7uC,GAC/B6tC,EAAWiB,mBAAmBhB,IAE9Bc,EAAgBE,mBAAmB9uC,MAM3C1Q,KAAK2+C,WAAWc,gBAAgB/uC,EAAM6N,GACtCve,KAAK4+C,UAAUa,gBAAgB/uC,EAAM6N,GACrCve,KAAK6+C,SAASY,gBAAgB/uC,EAAM6N,GACpCve,KAAK8+C,iBAAiBW,gBAAgB/uC,EAAM6N,MAE7C,CACDha,IAAK,mBACLvC,MAAO,SAA0B0Y,EAAO45B,EAASz+B,EAAMge,EAAMylB,GAC3D,GAAqB,kBAAV5+B,EAAX,CAUA,IAAIw6B,EAAUl1C,KAAKk1C,QACf72B,EAASre,KAAKqe,OACd2gC,EAAatG,EAAsBh+B,IAAUA,EAC7CukC,EAAiB5gC,EAAOkI,IAAIy4B,GAE3BC,IACHA,EAAiB,IAAIlD,EAA+B/7C,MACpDqe,EAAOg+B,IAAI2C,EAAYC,GACvBA,EAAeX,eAAiB1H,EAAqBoI,IAAeA,EAEhE9J,GACFA,EAAQx2B,GAAGsgC,EAAYC,EAAe5kC,cAI1C4kC,EAAenlB,IAAIpf,EAAO45B,EAASz+B,EAAMge,EAAMylB,GAE1C2F,EAAevC,WAClB18C,KAAKk/C,kBAAkBD,EAAeX,gBAAgB,QAzBtD,IAAK,IAAI7/B,KAFT5I,EAAOy+B,EAEe55B,EACpB1a,KAAKm/C,iBAAiB1gC,EAAW/D,EAAM+D,GAAY5I,EAAMge,EAAMylB,KA2BpE,CACD/0C,IAAK,sBACLvC,MAAO,SAA6B0Y,EAAO45B,GACzC,GAAqB,kBAAV55B,EAAX,CAQA,IAAI2D,EAASre,KAAKqe,OACd2gC,EAAatG,EAAsBh+B,IAAUA,EAC7CukC,EAAiB5gC,EAAOkI,IAAIy4B,GAEhC,GAAKC,IAILA,EAAellB,OAAOrf,EAAO45B,GAEzB2K,EAAevC,WAAW,CAC5B,IAII3nC,EAJAupC,EAAiBW,EAAeX,eAChCoB,GAAmB,EAEnB1qC,EAAatR,OAAO6kC,EAA2C,EAAlD7kC,CAAqD2a,EAAOshC,UAG7E,IACE,IAAK3qC,EAAWhL,MAAO+K,EAASC,EAAWpT,KAAKmP,MAAO,CACrD,IAAI6uC,EAAK7qC,EAAO/S,MAEhB,GAAI49C,EAAGtB,iBAAmBA,IAAmBsB,EAAGlD,UAAW,CACzDgD,GAAmB,EACnB,QAGJ,MAAOtuC,GACP4D,EAAWhE,EAAEI,GACb,QACA4D,EAAW9D,IAGRwuC,GACH1/C,KAAKk/C,kBAAkBZ,GAAgB,SAxCzC,IAAK,IAAI7/B,KAAa/D,EACpB1a,KAAKo/C,oBAAoB3gC,EAAW/D,EAAM+D,MA2C/C,CACDla,IAAK,gBACLvC,MAAO,SAAuB0Y,GAC5B,IAAIoB,EAAWpB,EAAMoB,SACjB+jC,EAAQtJ,EAAoBz6B,EAAStM,MAErCqwC,GACF7/C,KAAKk1C,QAAQ4K,KAAKD,EAAOnlC,KAG5B,CACDnW,IAAK,gBACLvC,MAAO,SAAuB0Y,GAC5B1a,KAAKk1C,QAAQ4K,KAAKplC,EAAMlL,KAAMkL,OAI3BwjC,EA9QqC,IAuRxC,KACA,SAAUh+C,EAAQC,EAAqBC,GAE7C,cAC4B,SAAS2/C,GACN3/C,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAO6/C,KAC9E,IAAIC,EAAyE7/C,EAAoB,IAC7F8/C,EAAsE9/C,EAAoB,IAC1F+/C,EAAyE//C,EAAoB,IAC7FggD,EAA0ChgD,EAAoB,GAE9DigD,EAA8CjgD,EAAoB,MAClEkgD,EAAkDlgD,EAAoB,MAgB/F,IAAI2L,EAAY,CACdzB,UAAW81C,EAAgD,OAC3DG,GAAIH,EAAgD,OACpDI,qBAAsBJ,EAAgD,OACtEK,aAAcL,EAAgD,OAC9DM,mBAAoBN,EAA8C,KAClEO,sBAAuBP,EAA8C,KACrEQ,UAAWR,EAA8C,KACzDS,iBAAkBT,EAA8C,KAChEU,WAAYV,EAAgD,OAC5DzwC,SAAUywC,EAAmD,UAAE,CAACA,EAAgD,OAAGA,EAAgD,SACnKW,oBAAqBX,EAA8C,KACnEl0C,QAASk0C,EAA8C,KACvDY,YAAaZ,EAA8C,KAC3Da,OAAQb,EAA8C,KACtDxyC,QAASwyC,EAA8C,KACvDj7C,MAAOi7C,EAAgD,OACvDh7C,OAAQg7C,EAAgD,OACxDz0C,UAAWy0C,EAAgD,OAC3D96C,UAAW86C,EAAgD,OAC3D/6C,SAAU+6C,EAAgD,OAC1D76C,KAAM66C,EAAgD,OACtD36C,QAAS26C,EAAgD,OACzDz6C,MAAOy6C,EAAgD,OACvDv6C,SAAUu6C,EAAgD,QAExD9zC,EAAe,CACjBhC,UAAW+1C,EAA8D,EAAEa,KAC3EV,qBAqBF,WACE,IAAIW,EAAc,KAElB,GAAsB,qBAAXh2C,QAA0BA,OAAO+Y,SAAU,CACpD,IAAIk9B,EAAQj2C,OAAO+Y,SAASm9B,OAAOD,MAAM,0BACzCD,EAAcC,GAASA,EAAM,GAG1BD,GAAkC,qBAAZpB,IACzBoB,EAAcA,GAAez9C,OAAO,CAAC49C,SAAW,aAAaC,WAAa,GAAGC,qBAAkBzyC,EAAU0yC,qBAAkB1yC,EAAU2yC,qBAAkB3yC,EAAU4yC,cAAe,IAAOC,mBAAqBl+C,OAAO,CAAC49C,SAAW,aAAaC,WAAa,GAAGC,qBAAkBzyC,EAAU0yC,qBAAkB1yC,EAAU2yC,qBAAkB3yC,EAAU4yC,cAAe,IAAOE,+BAGxW,OAAOV,GAAe,WAjCAW,GACtBrB,aAAc,yBACdE,uBAAuB,EACvBD,oBAAoB,EACpBE,WAAW,EACXE,WAAY,GACZnxC,SAAU,kCACVoxC,qBAAqB,EACrB70C,SAAS,EACT80C,aAAa,EACbC,OA9CF,aA+CErzC,QA7CF,SAAwB8M,GAClBA,GACF1M,QAAQF,MAAM4M,EAAM5M,QA4CtB3I,MAAO,EACPC,OAAQ,EACRE,UAAW,EACXD,SAAU,EACVE,KAAM,EACNE,QAAS,EACTE,MAAO,EACPE,SAAU,KAiBZ,SAASk8C,EAAeh5C,GACtB,IAAIi5C,EAAY59C,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,YAEhF2E,EAAMk5C,OACR7B,EAAwD,eAAEr0C,EAAWhD,EAAO,OAAQi5C,GAIxF,IAAIhC,EAAS,WACX,SAASA,EAAOj3C,GACd,IAAI4L,EAAQ3U,KAqBZ,GAnBA0D,OAAOu8C,EAAwF,EAA/Fv8C,CAAkG1D,KAAMggD,GAExGt8C,OAAOy8C,EAAwF,EAA/Fz8C,CAAkG1D,KAAM,QAASsM,GAEjH5I,OAAOy8C,EAAwF,EAA/Fz8C,CAAkG1D,KAAM,QAAS,GAEjH0D,OAAOy8C,EAAwF,EAA/Fz8C,CAAkG1D,KAAM,SAAU,GAElH0D,OAAOy8C,EAAwF,EAA/Fz8C,CAAkG1D,KAAM,kBAAkB,WACxH2U,EAAM5L,MAAMk4C,OAAO,CACjBzxC,KAAM,OACNrL,OAAQwQ,EAAM+f,UAIlBhxB,OAAOy8C,EAAwF,EAA/Fz8C,CAAkG1D,KAAM,gBAAgB,SAAU0a,GAChI/F,EAAM5L,MAAM6E,QAAQ8M,OAGjB3R,EAAM2E,SACT,MAAM,IAAIrK,MAAM,wBAGlBrD,KAAK0N,SAAW3E,EAAM2E,SAEjBsyC,EAAOkC,cACVlC,EAAOkC,aAAc,EAErBliD,KAAKmiD,iBAAiBniD,KAAK0N,SAASob,UAGtC9oB,KAAKoiD,YAAYr5C,GA8SnB,OA3SArF,OAAOw8C,EAAqF,EAA5Fx8C,CAA+Fs8C,EAAQ,CAAC,CACtGz7C,IAAK,WACLvC,MAAO,WAGL,OAFAhC,KAAKqiD,WAEEriD,OAER,CACDuE,IAAK,WACLvC,MAAO,SAAkB+G,GAGvB,OAFA/I,KAAKsiD,QAAQtiD,KAAK+I,MAAOA,GAElB/I,OAER,CACDuE,IAAK,SACLvC,MAAO,WACL,IAAIgB,EAAMhD,KAAK00B,KAEX1xB,EAAIoJ,QACFpJ,EAAIu/C,SACNv/C,EAAIu/C,OAAOC,SAEXx/C,EAAIu/C,OAAS,MAGfv/C,EAAIoqB,aAGP,CACD7oB,IAAK,SACLvC,MAAO,WACL,OAAOhC,KAAK00B,OAEb,CACDnwB,IAAK,SACLvC,MAAO,SAAgB+G,GACrB/I,KAAK00B,KAAOsrB,EAAOyC,SAEnB,IAAIC,EAAe1iD,KAAK00B,KAAKiuB,eAEzBC,EAAe75C,EAAMuB,UAGzB,IAFAs4C,EAAa/oB,UAAUC,IAAI,gBAEpB4oB,EAAaG,WAAWtgD,OAAS,GACtCqgD,EAAaE,YAAYJ,EAAaG,WAAW,IAGnD7iD,KAAK00B,KAAKC,WAAaiuB,EACvB5C,EAAOyC,SAAW,KAEd15C,EAAM4G,UACR3P,KAAK00B,KAAKquB,SAASr/C,OAAO48C,EAAwE,EAA/E58C,CAAkFqF,EAAM4G,UAAW,CACpHqzC,MAAM,IAINhjD,KAAK00B,KAAKuuB,gBACZjjD,KAAKkjD,iBAELljD,KAAK00B,KAAKb,KAAK,YAAa7zB,KAAKkjD,kBAGpC,CACD3+C,IAAK,UACLvC,MAAO,SAAiB+G,GACtB,GAAIA,EAAM63C,WAAaZ,EAAOyC,SAC5BziD,KAAKmjD,OAAOp6C,OACP,CACL,GAAIA,EAAMw3C,GAAI,CACZ,IAAIrjB,EAAakmB,kBAAkB9yC,UAAU4sB,WAE7CkmB,kBAAkB9yC,UAAU4sB,WAAa,WAEvC,OADAkmB,kBAAkB9yC,UAAU4sB,WAAaA,EAClCn0B,EAAMw3C,IAIjB,IAAIO,EAAa,CACfx2C,UAAWvB,EAAMuB,UACjBukB,OAAQ,CAAC,EAAG,GACZtpB,KAAM,EACNI,MAAO,EACPF,QAAS,EACTb,QAAS,GACTwH,MAAO1I,OAAO48C,EAAwE,EAA/E58C,CAAkFqF,EAAM4G,UAC/F0zC,aAAa,EACbC,aAAa,EACb5C,mBAAoB33C,EAAM23C,mBAC1BC,sBAAuB53C,EAAM43C,uBAG3B53C,EAAM83C,mBACRC,EAAWD,iBAAmB93C,EAAM83C,kBAGtC7gD,KAAK00B,KAAO,IAAI10B,KAAK0N,SAASyuC,IAAIz4C,OAAOgF,OAAO,GAAIo4C,EAAY/3C,EAAM+3C,aAEtE9gD,KAAK00B,KAAKb,KAAK,OAAQ7zB,KAAKkjD,gBAE5BljD,KAAK00B,KAAKhW,GAAG,QAAS1e,KAAKujD,cAG7B,OAAOvjD,OAER,CACDuE,IAAK,WACLvC,MAAO,WACAhC,KAAK00B,OAIN10B,KAAK+I,MAAM63C,YAAcZ,EAAOyC,UAClCzC,EAAOyC,SAAWziD,KAAK00B,KAEvB10B,KAAK00B,KAAK/V,IAAI,OAAQ3e,KAAKkjD,gBAE3BljD,KAAK00B,KAAK/V,IAAI,QAAS3e,KAAKujD,cAE5BvjD,KAAK00B,KAAK/V,IAAI,YAAa3e,KAAKkjD,iBAEhCljD,KAAK00B,KAAKqF,SAGZ/5B,KAAK00B,KAAO,QAEb,CACDnwB,IAAK,cACLvC,MAAO,SAAqB+G,GAC1B,IAAIqT,EAASpc,KAGb+hD,EADAh5C,EAAQrF,OAAOgF,OAAO,GAAI4D,EAAcvD,GAClB,UACtB/I,KAAK0N,SAASyzC,YAAcp4C,EAAMy3C,sBAAwBl0C,EAAak0C,qBACvExgD,KAAK0N,SAAS81C,WAAaz6C,EAAM03C,aAEjCzgD,KAAKyjD,QAAQ16C,GAEb,IACIuB,EADSvB,EACUuB,UACvB5G,OAAOtC,eAAekJ,EAAW,cAAe,CAC9Cic,IAAK,WACH,OAAOnK,EAAOjX,SAGlBzB,OAAOtC,eAAekJ,EAAW,cAAe,CAC9Cic,IAAK,WACH,OAAOnK,EAAOjX,SAGlBzB,OAAOtC,eAAekJ,EAAW,eAAgB,CAC/Cic,IAAK,WACH,OAAOnK,EAAOhX,UAGlB1B,OAAOtC,eAAekJ,EAAW,eAAgB,CAC/Cic,IAAK,WACH,OAAOnK,EAAOhX,UAIlB,IAAIs+C,EAAS1jD,KAAK00B,KAAKivB,YAEnBD,IACFA,EAAOt3C,MAAMivC,QAAU,QAGzBr7C,KAAK4jD,mBAAmB,GAAI76C,GAE5B/I,KAAK6jD,eAAe,GAAI96C,GAExB/I,KAAK+I,MAAQA,IAEd,CACDxE,IAAK,UACLvC,MAAO,SAAiB8hD,EAAUh7C,GAChC,GAAK9I,KAAK00B,KAAV,CAKAqtB,EADAj5C,EAAWpF,OAAOgF,OAAO,GAAI1I,KAAK+I,MAAOD,GAChB,UAEzB,IAAIi7C,EAAkB/jD,KAAK4jD,mBAAmBE,EAAUh7C,GAEpDk7C,EAAchkD,KAAK6jD,eAAeC,EAAUh7C,GAEhD9I,KAAKikD,gBAAgBH,EAAUh7C,GAE1BA,EAASk4C,cAAgB+C,IAAmBC,GAC/ChkD,KAAK88B,SAGP98B,KAAK+I,MAAQD,KAEd,CACDvE,IAAK,kBACLvC,MAAO,SAAyB8hD,EAAUh7C,GACrBg7C,EAASn0C,WAAa7G,EAAS6G,UAGhD3P,KAAK00B,KAAKquB,SAASr/C,OAAO48C,EAAwE,EAA/E58C,CAAkFoF,EAAS6G,UAAW,CACvHqzC,MAAOl6C,EAASi4C,wBAIrB,CACDx8C,IAAK,iBACLvC,MAAO,SAAwB8hD,EAAUh7C,GACvC,IAAIk7C,EAAcF,EAAS3+C,QAAU2D,EAAS3D,OAAS2+C,EAAS1+C,SAAW0D,EAAS1D,OASpF,OAPI4+C,IACFhkD,KAAKmF,MAAQ2D,EAAS3D,MACtBnF,KAAKoF,OAAS0D,EAAS1D,OAEvBpF,KAAK00B,KAAKwvB,UAGLF,IAER,CACDz/C,IAAK,qBACLvC,MAAO,SAA4B8hD,EAAUh7C,GAC3C,IAAIud,EAAermB,KAAKmkD,cAAcL,GAElCtrB,EAAex4B,KAAKmkD,cAAcr7C,GAElCi7C,EAAkBvrB,EAAanzB,WAAaghB,EAAahhB,UAAYmzB,EAAalzB,YAAc+gB,EAAa/gB,WAAakzB,EAAajzB,OAAS8gB,EAAa9gB,MAAQizB,EAAa7yB,QAAU0gB,EAAa1gB,OAAS6yB,EAAa/yB,UAAY4gB,EAAa5gB,SAAW+yB,EAAa3yB,WAAawgB,EAAaxgB,SAU9S,OARIk+C,IACF/jD,KAAK00B,KAAK0vB,OAAOpkD,KAAKqkD,wBAAwB7rB,IAE1CA,EAAa3yB,WAAawgB,EAAaxgB,WACzC7F,KAAK00B,KAAK7D,UAAUhrB,SAAW2yB,EAAa3yB,WAIzCk+C,IAER,CACDx/C,IAAK,gBACLvC,MAAO,SAAuB+G,GAC5B,IAAI7D,EAAO6D,EAAM4C,WAAa5C,EAC1BzD,EAAYJ,EAAKI,UACjBD,EAAWH,EAAKG,SAChBE,EAAOL,EAAKK,KACZG,EAAaR,EAAKS,MAClBA,OAAuB,IAAfD,EAAwB,EAAIA,EACpCF,EAAeN,EAAKO,QACpBA,OAA2B,IAAjBD,EAA0B,EAAIA,EACxCI,EAAgBV,EAAKW,SAGzB,MAAO,CACLP,UAAWA,EACXD,SAAUA,EACVE,KAAMA,EACNI,MAAOA,EACPF,QAASA,EACTI,cAR+B,IAAlBD,EAA2B,IAAMA,KAWjD,CACDrB,IAAK,mBACLvC,MAAO,WACL,IAAIk5B,EAAgB92B,UAAU7B,OAAS,QAAsBwM,IAAjB3K,UAAU,GAAmBA,UAAU,GAAK,SAExF,GAA+E,qBAApEi8C,EAA8D,EAIzE,IACE,IAAIiE,EAAcjE,EAA8D,EAAE7mB,cAAc,OAChG8qB,EAAYn4C,UAAY,eACxBm4C,EAAYl4C,MAAMqnB,QAAU,OAC5B4sB,EAA8D,EAAEa,KAAK4B,YAAYwB,GACjF,IAAIC,EAAgE,WAAlDp5C,OAAOq5C,iBAAiBF,GAAa14C,SAEvD,IAAK24C,EAAa,CAChB,IAAIE,EAAOpE,EAA8D,EAAE7mB,cAAc,QACzFirB,EAAKC,aAAa,MAAO,cACzBD,EAAKC,aAAa,OAAQ,YAC1BD,EAAKC,aAAa,OAAQ,8CAA8C5vC,OAAOomB,EAAe,mBAC9FmlB,EAA8D,EAAEsE,KAAK7B,YAAY2B,IAEnF,MAAO32C,OAEV,CACDvJ,IAAK,0BACLvC,MAAO,SAAiC2J,GACtC,MAAO,CACLkjB,OAAQ,CAACljB,EAAUrG,UAAWqG,EAAUtG,UACxCE,KAAMoG,EAAUpG,KAChBE,QAASkG,EAAUlG,QACnBE,MAAOgG,EAAUhG,WAKhBq6C,EAjVI,GAoVbt8C,OAAOy8C,EAAwF,EAA/Fz8C,CAAkGs8C,EAAQ,eAAe,GAEzHt8C,OAAOy8C,EAAwF,EAA/Fz8C,CAAkGs8C,EAAQ,YAAaj0C,GAEvHrI,OAAOy8C,EAAwF,EAA/Fz8C,CAAkGs8C,EAAQ,eAAgB1zC,GAE1H5I,OAAOy8C,EAAwF,EAA/Fz8C,CAAkGs8C,EAAQ,WAAY,QAGzFxvC,KAAKxQ,KAAMI,EAAoB,MAItD,KACA,SAAUF,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOykD,KAC9E,IAAIC,EAAyEzkD,EAAoB,IAGtH,SAASkD,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKxD,KAAKgE,MAAMR,EAAMG,GAGxB,OAAOH,EAGT,SAASS,EAAcC,GACrB,IAAK,IAAI3B,EAAI,EAAGA,EAAI4B,UAAU7B,OAAQC,IAAK,CACzC,IAAI6B,EAAyB,MAAhBD,UAAU5B,GAAa4B,UAAU5B,GAAK,GAE/CA,EAAI,EACNc,EAAQI,OAAOW,IAAS,GAAMC,SAAQ,SAAUC,GAC9Cb,OAAOmhD,EAAwF,EAA/FnhD,CAAkGS,EAAQI,EAAKF,EAAOE,OAE/Gb,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BH,IAEjEf,EAAQI,OAAOW,IAASC,SAAQ,SAAUC,GACxCb,OAAOtC,eAAe+C,EAAQI,EAAKb,OAAOK,yBAAyBM,EAAQE,OAKjF,OAAOJ,EAGT,SAAS2L,EAA2BC,EAAGC,GACrC,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIlO,MAAMF,QAAQgO,KAAOE,EAqD7B,SAAqCF,EAAGK,GACtC,IAAKL,EAAG,OACR,GAAiB,kBAANA,EAAgB,OAAOM,EAAkBN,EAAGK,GACvD,IAAIxO,EAAI8B,OAAO4M,UAAUC,SAASC,KAAKT,GAAG7F,MAAM,GAAI,GAC1C,WAANtI,GAAkBmO,EAAEU,cAAa7O,EAAImO,EAAEU,YAAYC,MACvD,GAAU,QAAN9O,GAAqB,QAANA,EAAa,OAAOK,MAAM0O,KAAKZ,GAClD,GAAU,cAANnO,GAAqB,2CAA2CgP,KAAKhP,GAAI,OAAOyO,EAAkBN,EAAGK,GA3DzES,CAA4Bd,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAExN,OAAqB,CAChH0N,IAAIF,EAAIE,GACZ,IAAIzN,EAAI,EAEJsO,EAAI,aAER,MAAO,CACL9G,EAAG8G,EACHlP,EAAG,WACD,OAAIY,GAAKuN,EAAExN,OAAe,CACxBwO,MAAM,GAED,CACLA,MAAM,EACN/O,MAAO+N,EAAEvN,OAGbwO,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGJ,GAIP,MAAM,IAAIK,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLtH,EAAG,WACDiG,EAAKF,EAAEG,OAAOC,aAEhBvO,EAAG,WACD,IAAI2P,EAAOtB,EAAGuB,OAEd,OADAH,EAAmBE,EAAKR,KACjBQ,GAETP,EAAG,SAAWS,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBpB,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIqB,EAAQ,MAAMF,KAe1B,SAASf,EAAkBqB,EAAKC,IACnB,MAAPA,GAAeA,EAAMD,EAAInP,UAAQoP,EAAMD,EAAInP,QAE/C,IAAK,IAAIC,EAAI,EAAGoP,EAAO,IAAI3P,MAAM0P,GAAMnP,EAAImP,EAAKnP,IAC9CoP,EAAKpP,GAAKkP,EAAIlP,GAGhB,OAAOoP,EAGT,IAAIkzC,EAAW,CAAC,OAAQ,SAAU,eAAgB,UAAW,UAAW,SAAU,UAClF,SAASF,EAAex4C,GACtB,IAAKA,EACH,OAAO,KAGT,GAAqB,kBAAVA,EACT,OAAOA,EAGLA,EAAM24C,OACR34C,EAAQA,EAAM24C,QAGhB,IAGI9yC,EAHA+yC,EAAa,GAEb9yC,EAAYpC,EAA2B1D,EAAMmY,QAGjD,IACE,IAAKrS,EAAUlI,MAAOiI,EAAQC,EAAUtQ,KAAKmP,MAAO,CAClD,IAAIk0C,EAAQhzC,EAAMjQ,MAClBgjD,EAAWC,EAAMz4C,IAAMy4C,GAEzB,MAAO7zC,GACPc,EAAUlB,EAAEI,GACZ,QACAc,EAAUhB,IAGZ,IAAIqT,EAASnY,EAAMmY,OAAOvhB,KAAI,SAAUiiD,GACtC,IAAIC,EAAWF,EAAWC,EAAMp4C,KAC5Bs4C,EAAkB,KAOtB,GALI,gBAAiBF,UACnBE,EAAkBjhD,EAAc,GAAI+gD,IACb5B,YAGrB6B,EAAU,QACZC,EAAkBA,GAAmBjhD,EAAc,GAAI+gD,IAChCp4C,IAEvB,IACIkI,EADAC,EAAalF,EAA2Bg1C,GAG5C,IACE,IAAK9vC,EAAWhL,MAAO+K,EAASC,EAAWpT,KAAKmP,MAAO,CACrD,IAAItB,EAAWsF,EAAO/S,MAElByN,KAAYy1C,IACdC,EAAgB11C,GAAYy1C,EAASz1C,KAGzC,MAAO2B,GACP4D,EAAWhE,EAAEI,GACb,QACA4D,EAAW9D,KAIf,OAAOi0C,GAAmBF,KAE5B,OAAO/gD,EAAcA,EAAc,GAAIkI,GAAQ,GAAI,CACjDmY,OAAQA,MAMN,KACA,SAAUrkB,EAAQklD,EAAShlD,GAEjC,IAAIilD,GAKJ,SAAWl6C,EAAQyoC,EAAU0R,EAAYv2C,GACvC,aAEA,IAkGIrG,EAlGA68C,EAAkB,CAAC,GAAI,SAAU,MAAO,KAAM,KAAM,KACpDC,EAAe5R,EAASpa,cAAc,OAEtC5J,EAAQntB,KAAKmtB,MACbltB,EAAMD,KAAKC,IACXyU,EAAMtD,KAAKsD,IASf,SAASsuC,EAAkBC,EAAIvpC,EAASnR,GACtC,OAAOsR,WAAWqpC,EAAOD,EAAI16C,GAAUmR,GAazC,SAASypC,EAAeC,EAAKH,EAAI16C,GAC/B,QAAI/I,MAAMF,QAAQ8jD,KAChBC,EAAKD,EAAK76C,EAAQ06C,GAAK16C,IAChB,GAaX,SAAS86C,EAAKC,EAAK51C,EAAUnF,GAC3B,IAAIxI,EAEJ,GAAKujD,EAIL,GAAIA,EAAIzhD,QACNyhD,EAAIzhD,QAAQ6L,EAAUnF,QACjB,GAAI+6C,EAAIxjD,SAAWwM,EAGxB,IAFAvM,EAAI,EAEGA,EAAIujD,EAAIxjD,QACb4N,EAASK,KAAKxF,EAAS+6C,EAAIvjD,GAAIA,EAAGujD,GAClCvjD,SAGF,IAAKA,KAAKujD,EACRA,EAAI/9B,eAAexlB,IAAM2N,EAASK,KAAKxF,EAAS+6C,EAAIvjD,GAAIA,EAAGujD,GAajE,SAASC,EAAUC,EAAQv1C,EAAMtN,GAC/B,IAAI8iD,EAAqB,sBAAwBx1C,EAAO,KAAOtN,EAAU,SACzE,OAAO,WACL,IAAI4N,EAAI,IAAI3N,MAAM,mBACd8iD,EAAQn1C,GAAKA,EAAEm1C,MAAQn1C,EAAEm1C,MAAMC,QAAQ,kBAAmB,IAAIA,QAAQ,cAAe,IAAIA,QAAQ,6BAA8B,kBAAoB,sBACnJ9mB,EAAMn0B,EAAO6C,UAAY7C,EAAO6C,QAAQ2b,MAAQxe,EAAO6C,QAAQsxB,KAMnE,OAJIA,GACFA,EAAI9uB,KAAKrF,EAAO6C,QAASk4C,EAAoBC,GAGxCF,EAAOhiD,MAAMjE,KAAMoE,YAe5BsE,EAD2B,oBAAlBhF,OAAOgF,OACP,SAAgBvE,GACvB,GAAIA,IAAW4K,GAAwB,OAAX5K,EAC1B,MAAM,IAAIgN,UAAU,8CAKtB,IAFA,IAAIk1C,EAAS3iD,OAAOS,GAEXmiD,EAAQ,EAAGA,EAAQliD,UAAU7B,OAAQ+jD,IAAS,CACrD,IAAIjiD,EAASD,UAAUkiD,GAEvB,GAAIjiD,IAAW0K,GAAwB,OAAX1K,EAC1B,IAAK,IAAIkiD,KAAWliD,EACdA,EAAO2jB,eAAeu+B,KACxBF,EAAOE,GAAWliD,EAAOkiD,IAMjC,OAAOF,GAGA3iD,OAAOgF,OAYlB,IAAI89C,EAASR,GAAU,SAAgBS,EAAMC,EAAKC,GAIhD,IAHA,IAAIljD,EAAOC,OAAOD,KAAKijD,GACnBlkD,EAAI,EAEDA,EAAIiB,EAAKlB,UACTokD,GAASA,GAASF,EAAKhjD,EAAKjB,MAAQuM,KACvC03C,EAAKhjD,EAAKjB,IAAMkkD,EAAIjjD,EAAKjB,KAG3BA,IAGF,OAAOikD,IACN,SAAU,iBASTE,EAAQX,GAAU,SAAeS,EAAMC,GACzC,OAAOF,EAAOC,EAAMC,GAAK,KACxB,QAAS,iBAQZ,SAASE,EAAQ98B,EAAO+8B,EAAMC,GAC5B,IACIC,EADAC,EAAQH,EAAKv2C,WAEjBy2C,EAASj9B,EAAMxZ,UAAY5M,OAAO2nC,OAAO2b,IAClCv2C,YAAcqZ,EACrBi9B,EAAOryC,OAASsyC,EAEZF,GACFp+C,EAAOq+C,EAAQD,GAWnB,SAASnB,EAAOD,EAAI16C,GAClB,OAAO,WACL,OAAO06C,EAAGzhD,MAAM+G,EAAS5G,YAY7B,SAAS6iD,EAASC,EAAKz5B,GACrB,MAvMkB,mBAuMPy5B,EACFA,EAAIjjD,MAAMwpB,GAAOA,EAAK,IAAkB1e,EAAW0e,GAGrDy5B,EAUT,SAASC,EAAYC,EAAMC,GACzB,OAAOD,IAASr4C,EAAYs4C,EAAOD,EAUrC,SAASE,EAAkBnjD,EAAQojD,EAAOjT,GACxCwR,EAAK0B,EAASD,IAAQ,SAAU/3C,GAC9BrL,EAAOqyB,iBAAiBhnB,EAAM8kC,GAAS,MAW3C,SAASmT,EAAqBtjD,EAAQojD,EAAOjT,GAC3CwR,EAAK0B,EAASD,IAAQ,SAAU/3C,GAC9BrL,EAAOuyB,oBAAoBlnB,EAAM8kC,GAAS,MAY9C,SAASoT,EAAUC,EAAMC,GACvB,KAAOD,GAAM,CACX,GAAIA,GAAQC,EACV,OAAO,EAGTD,EAAOA,EAAK3K,WAGd,OAAO,EAUT,SAAS6K,EAAMC,EAAKj1B,GAClB,OAAOi1B,EAAI/O,QAAQlmB,IAAS,EAS9B,SAAS20B,EAASM,GAChB,OAAOA,EAAIC,OAAOzsB,MAAM,QAW1B,SAAS0sB,EAAQtB,EAAK7zB,EAAMo1B,GAC1B,GAAIvB,EAAI3N,UAAYkP,EAClB,OAAOvB,EAAI3N,QAAQlmB,GAInB,IAFA,IAAIrwB,EAAI,EAEDA,EAAIkkD,EAAInkD,QAAQ,CACrB,GAAI0lD,GAAavB,EAAIlkD,GAAGylD,IAAcp1B,IAASo1B,GAAavB,EAAIlkD,KAAOqwB,EACrE,OAAOrwB,EAGTA,IAGF,OAAQ,EAUZ,SAAS0lD,EAAQnC,GACf,OAAO9jD,MAAMqO,UAAUpG,MAAMsG,KAAKu1C,EAAK,GAWzC,SAASoC,EAAYzB,EAAKniD,EAAK6jD,GAK7B,IAJA,IAAIC,EAAU,GACV1I,EAAS,GACTn9C,EAAI,EAEDA,EAAIkkD,EAAInkD,QAAQ,CACrB,IAAI2kD,EAAM3iD,EAAMmiD,EAAIlkD,GAAG+B,GAAOmiD,EAAIlkD,GAE9BwlD,EAAQrI,EAAQuH,GAAO,GACzBmB,EAAQpoD,KAAKymD,EAAIlkD,IAGnBm9C,EAAOn9C,GAAK0kD,EACZ1kD,IAaF,OAVI4lD,IAIAC,EAHG9jD,EAGO8jD,EAAQD,MAAK,SAAyB/lD,EAAGC,GACjD,OAAOD,EAAEkC,GAAOjC,EAAEiC,MAHV8jD,EAAQD,QAQfC,EAUT,SAASC,EAASvC,EAAKwC,GAKrB,IAJA,IAAIC,EAAQ11C,EACR21C,EAAYF,EAAS,GAAGG,cAAgBH,EAASr+C,MAAM,GACvD1H,EAAI,EAEDA,EAAI+iD,EAAgBhjD,QAAQ,CAIjC,IAFAuQ,GADA01C,EAASjD,EAAgB/iD,IACTgmD,EAASC,EAAYF,KAEzBxC,EACV,OAAOjzC,EAGTtQ,IAGF,OAAOuM,EAQT,IAAI45C,EAAY,EAYhB,SAASC,EAAoBvP,GAC3B,IAAIwP,EAAMxP,EAAQyP,eAAiBzP,EACnC,OAAOwP,EAAIE,aAAeF,EAAIG,cAAgB79C,EAGhD,IACI89C,EAAiB,iBAAkB99C,EACnC+9C,EAAyBZ,EAASn9C,EAAQ,kBAAoB4D,EAC9Do6C,EAAqBF,GAHN,wCAGoCr4C,KAAKqoB,UAAUmwB,WAClEC,EAAmB,QAEnBC,EAAmB,QAanBC,EAAqBC,GAErBC,EAAW,CAAC,IAAK,KACjBC,EAAkB,CAAC,UAAW,WASlC,SAASC,EAAMzU,EAASrZ,GACtB,IAAI+tB,EAAO5pD,KACXA,KAAKk1C,QAAUA,EACfl1C,KAAK67B,SAAWA,EAChB77B,KAAKq5C,QAAUnE,EAAQmE,QACvBr5C,KAAKmE,OAAS+wC,EAAQpmC,QAAQ+6C,YAG9B7pD,KAAK8pD,WAAa,SAAUvV,GACtB0S,EAAS/R,EAAQpmC,QAAQ4mC,OAAQ,CAACR,KACpC0U,EAAKtV,QAAQC,IAIjBv0C,KAAK+pD,OA6DP,SAASC,EAAa9U,EAASH,EAAWkV,GACxC,IAAIC,EAAcD,EAAM9U,SAAS5yC,OAC7B4nD,EAAqBF,EAAM7U,gBAAgB7yC,OAC3C6nD,EApGY,EAoGFrV,GAA2BmV,EAAcC,IAAuB,EAC1EE,EAAsB,GAAZtV,GAA0CmV,EAAcC,IAAuB,EAC7FF,EAAMG,UAAYA,EAClBH,EAAMI,UAAYA,EAEdD,IACFlV,EAAQoV,QAAU,IAKpBL,EAAMlV,UAAYA,EAepB,SAA0BG,EAAS+U,GACjC,IAAIK,EAAUpV,EAAQoV,QAClBnV,EAAW8U,EAAM9U,SACjBoV,EAAiBpV,EAAS5yC,OAEzB+nD,EAAQE,aACXF,EAAQE,WAAaC,EAAqBR,IAIxCM,EAAiB,IAAMD,EAAQI,cACjCJ,EAAQI,cAAgBD,EAAqBR,GACjB,IAAnBM,IACTD,EAAQI,eAAgB,GAG1B,IAAIF,EAAaF,EAAQE,WACrBE,EAAgBJ,EAAQI,cACxB/uC,EAAe+uC,EAAgBA,EAAc77B,OAAS27B,EAAW37B,OACjEA,EAASo7B,EAAMp7B,OAASjQ,EAAUu2B,GACtC8U,EAAMU,UAAYxzC,IAClB8yC,EAAMhpC,UAAYgpC,EAAMU,UAAYH,EAAWG,UAC/CV,EAAMhY,MAAQ2Y,EAASjvC,EAAckT,GACrCo7B,EAAMY,SAAWC,EAAYnvC,EAAckT,GAqB7C,SAAwBy7B,EAASL,GAC/B,IAAIp7B,EAASo7B,EAAMp7B,OACfqV,EAASomB,EAAQS,aAAe,GAChCC,EAAYV,EAAQU,WAAa,GACjCC,EAAYX,EAAQW,WAAa,GA9KrB,IAgLZhB,EAAMlV,WA9KI,IA8KyBkW,EAAUlW,YAC/CiW,EAAYV,EAAQU,UAAY,CAC9BpvC,EAAGqvC,EAAUvhD,QAAU,EACvBmS,EAAGovC,EAAUthD,QAAU,GAEzBu6B,EAASomB,EAAQS,YAAc,CAC7BnvC,EAAGiT,EAAOjT,EACVC,EAAGgT,EAAOhT,IAIdouC,EAAMvgD,OAASshD,EAAUpvC,GAAKiT,EAAOjT,EAAIsoB,EAAOtoB,GAChDquC,EAAMtgD,OAASqhD,EAAUnvC,GAAKgT,EAAOhT,EAAIqoB,EAAOroB,GAtChDqvC,CAAeZ,EAASL,GACxBA,EAAMkB,gBAAkBC,EAAanB,EAAMvgD,OAAQugD,EAAMtgD,QACzD,IAAI0hD,EAAkBC,EAAYrB,EAAMhpC,UAAWgpC,EAAMvgD,OAAQugD,EAAMtgD,QACvEsgD,EAAMsB,iBAAmBF,EAAgBzvC,EACzCquC,EAAMuB,iBAAmBH,EAAgBxvC,EACzCouC,EAAMoB,gBAAkB3oD,EAAI2oD,EAAgBzvC,GAAKlZ,EAAI2oD,EAAgBxvC,GAAKwvC,EAAgBzvC,EAAIyvC,EAAgBxvC,EAC9GouC,EAAM3hD,MAAQoiD,GA8NEp4C,EA9NuBo4C,EAAcvV,SA8N9B5iC,EA9NwC4iC,EA+NxD2V,EAAYv4C,EAAI,GAAIA,EAAI,GAAIm3C,GAAmBoB,EAAYx4C,EAAM,GAAIA,EAAM,GAAIo3C,IA/NX,EAC3EO,EAAMtpC,SAAW+pC,EAiNnB,SAAqBp4C,EAAOC,GAC1B,OAAOq4C,EAASr4C,EAAI,GAAIA,EAAI,GAAIm3C,GAAmBkB,EAASt4C,EAAM,GAAIA,EAAM,GAAIo3C,GAlN/C+B,CAAYf,EAAcvV,SAAUA,GAAY,EACjF8U,EAAMyB,YAAepB,EAAQW,UAAoChB,EAAM9U,SAAS5yC,OAAS+nD,EAAQW,UAAUS,YAAczB,EAAM9U,SAAS5yC,OAAS+nD,EAAQW,UAAUS,YAA1HzB,EAAM9U,SAAS5yC,OAuC1D,SAAkC+nD,EAASL,GACzC,IAEIxqC,EACAE,EACAC,EACA+rC,EALAC,EAAOtB,EAAQuB,cAAgB5B,EAC/BhpC,EAAYgpC,EAAMU,UAAYiB,EAAKjB,UAMvC,GA1MiB,GA0MbV,EAAMlV,YAA8B9zB,EA9MnB,IA8MmD2qC,EAAKnsC,WAAa1Q,GAAY,CACpG,IAAIrF,EAASugD,EAAMvgD,OAASkiD,EAAKliD,OAC7BC,EAASsgD,EAAMtgD,OAASiiD,EAAKjiD,OAC7BskC,EAAIqd,EAAYrqC,EAAWvX,EAAQC,GACvCgW,EAAYsuB,EAAEryB,EACdgE,EAAYquB,EAAEpyB,EACd4D,EAAW/c,EAAIurC,EAAEryB,GAAKlZ,EAAIurC,EAAEpyB,GAAKoyB,EAAEryB,EAAIqyB,EAAEpyB,EACzC8vC,EAAYP,EAAa1hD,EAAQC,GACjC2gD,EAAQuB,aAAe5B,OAGvBxqC,EAAWmsC,EAAKnsC,SAChBE,EAAYisC,EAAKjsC,UACjBC,EAAYgsC,EAAKhsC,UACjB+rC,EAAYC,EAAKD,UAGnB1B,EAAMxqC,SAAWA,EACjBwqC,EAAMtqC,UAAYA,EAClBsqC,EAAMrqC,UAAYA,EAClBqqC,EAAM0B,UAAYA,EAlElBG,CAAyBxB,EAASL,GA2NpC,IAAkB33C,EAAOC,EAzNvB,IAAIpO,EAAS+wC,EAAQmE,QAEjBqO,EAAUuC,EAAMnuC,SAAS3X,OAAQA,KACnCA,EAAS8lD,EAAMnuC,SAAS3X,QAG1B8lD,EAAM9lD,OAASA,EAtDf4nD,CAAiB7W,EAAS+U,GAE1B/U,EAAQ4K,KAAK,eAAgBmK,GAC7B/U,EAAQ8W,UAAU/B,GAClB/U,EAAQoV,QAAQW,UAAYhB,EAqH9B,SAASQ,EAAqBR,GAM5B,IAHA,IAAI9U,EAAW,GACX3yC,EAAI,EAEDA,EAAIynD,EAAM9U,SAAS5yC,QACxB4yC,EAAS3yC,GAAK,CACZo3C,QAAShqB,EAAMq6B,EAAM9U,SAAS3yC,GAAGo3C,SACjCC,QAASjqB,EAAMq6B,EAAM9U,SAAS3yC,GAAGq3C,UAEnCr3C,IAGF,MAAO,CACLmoD,UAAWxzC,IACXg+B,SAAUA,EACVtmB,OAAQjQ,EAAUu2B,GAClBzrC,OAAQugD,EAAMvgD,OACdC,OAAQsgD,EAAMtgD,QAUlB,SAASiV,EAAUu2B,GACjB,IAAIoV,EAAiBpV,EAAS5yC,OAE9B,GAAuB,IAAnBgoD,EACF,MAAO,CACL3uC,EAAGgU,EAAMulB,EAAS,GAAGyE,SACrB/9B,EAAG+T,EAAMulB,EAAS,GAAG0E,UAQzB,IAJA,IAAIj+B,EAAI,EACJC,EAAI,EACJrZ,EAAI,EAEDA,EAAI+nD,GACT3uC,GAAKu5B,EAAS3yC,GAAGo3C,QACjB/9B,GAAKs5B,EAAS3yC,GAAGq3C,QACjBr3C,IAGF,MAAO,CACLoZ,EAAGgU,EAAMhU,EAAI2uC,GACb1uC,EAAG+T,EAAM/T,EAAI0uC,IAYjB,SAASe,EAAYrqC,EAAWrF,EAAGC,GACjC,MAAO,CACLD,EAAGA,EAAIqF,GAAa,EACpBpF,EAAGA,EAAIoF,GAAa,GAWxB,SAASmqC,EAAaxvC,EAAGC,GACvB,OAAID,IAAMC,EApTS,EAwTfnZ,EAAIkZ,IAAMlZ,EAAImZ,GACTD,EAAI,EAxTM,EACC,EA0TbC,EAAI,EAzTM,EACE,GAmUrB,SAASivC,EAAYmB,EAAIC,EAAInjD,GACtBA,IACHA,EAAQ0gD,GAGV,IAAI7tC,EAAIswC,EAAGnjD,EAAM,IAAMkjD,EAAGljD,EAAM,IAC5B8S,EAAIqwC,EAAGnjD,EAAM,IAAMkjD,EAAGljD,EAAM,IAChC,OAAOtG,KAAKgoC,KAAK7uB,EAAIA,EAAIC,EAAIA,GAW/B,SAAS+uC,EAASqB,EAAIC,EAAInjD,GACnBA,IACHA,EAAQ0gD,GAGV,IAAI7tC,EAAIswC,EAAGnjD,EAAM,IAAMkjD,EAAGljD,EAAM,IAC5B8S,EAAIqwC,EAAGnjD,EAAM,IAAMkjD,EAAGljD,EAAM,IAChC,OAA0B,IAAnBtG,KAAK0pD,MAAMtwC,EAAGD,GAAWnZ,KAAKk9B,GA7TvCgqB,EAAMr5C,UAAY,CAKhBgkC,QAAS,aAKTyV,KAAM,WACJ/pD,KAAKosD,MAAQ9E,EAAkBtnD,KAAKq5C,QAASr5C,KAAKosD,KAAMpsD,KAAK8pD,YAC7D9pD,KAAKqsD,UAAY/E,EAAkBtnD,KAAKmE,OAAQnE,KAAKqsD,SAAUrsD,KAAK8pD,YACpE9pD,KAAKssD,OAAShF,EAAkBsB,EAAoB5oD,KAAKq5C,SAAUr5C,KAAKssD,MAAOtsD,KAAK8pD,aAMtFviC,QAAS,WACPvnB,KAAKosD,MAAQ3E,EAAqBznD,KAAKq5C,QAASr5C,KAAKosD,KAAMpsD,KAAK8pD,YAChE9pD,KAAKqsD,UAAY5E,EAAqBznD,KAAKmE,OAAQnE,KAAKqsD,SAAUrsD,KAAK8pD,YACvE9pD,KAAKssD,OAAS7E,EAAqBmB,EAAoB5oD,KAAKq5C,SAAUr5C,KAAKssD,MAAOtsD,KAAK8pD,cAiU3F,IAAI9V,EAAkB,CACpBC,UA/XgB,EAgYhBC,UA/Xe,EAgYfC,QA/Xc,GAiYZoY,EAAuB,YACvBC,EAAsB,oBAO1B,SAAS1X,KACP90C,KAAKosD,KAAOG,EACZvsD,KAAKssD,MAAQE,EACbxsD,KAAKg1C,SAAU,EAEf2U,EAAM1lD,MAAMjE,KAAMoE,WAGpBwiD,EAAQ9R,GAAY6U,EAAO,CAKzBrV,QAAS,SAAmBC,GAC1B,IAAIQ,EAAYf,EAAgBO,EAAG/kC,MAzZrB,EA2ZVulC,GAAyC,IAAdR,EAAGE,SAChCz0C,KAAKg1C,SAAU,GA3ZJ,EA8ZTD,GAAuC,IAAbR,EAAGU,QAC/BF,EA9ZU,GAkaP/0C,KAAKg1C,UAlaE,EAsaRD,IACF/0C,KAAKg1C,SAAU,GAGjBh1C,KAAK67B,SAAS77B,KAAKk1C,QAASH,EAAW,CACrCI,SAAU,CAACZ,GACXa,gBAAiB,CAACb,GAClB1vB,YAAaykC,EACbxtC,SAAUy4B,QAIhB,IAAIkY,GAAoB,CACtB3lC,YArbgB,EAsbhBC,YArbe,EAsbfC,UArbc,EAsbd0lC,cArbiB,EAsbjBC,WAtbiB,GAybfC,GAAyB,CAC3B,EAAGvD,EACH,EAlcmB,MAmcnB,EAAGC,EACH,EAlcsB,UAqcpBuD,GAAyB,cACzBC,GAAwB,sCAa5B,SAAS1Y,KACPp0C,KAAKosD,KAAOS,GACZ7sD,KAAKssD,MAAQQ,GACbnD,EAAM1lD,MAAMjE,KAAMoE,WAClBpE,KAAKw0C,MAAQx0C,KAAKk1C,QAAQoV,QAAQyC,cAAgB,GAfhD5hD,EAAO6hD,iBAAmB7hD,EAAO8hD,eACnCJ,GAAyB,gBACzBC,GAAwB,6CAgB1BlG,EAAQxS,GAAmBuV,EAAO,CAKhCrV,QAAS,SAAmBC,GAC1B,IAAIC,EAAQx0C,KAAKw0C,MACb0Y,GAAgB,EAChBC,EAAsB5Y,EAAG/kC,KAAKvF,cAAcm8C,QAAQ,KAAM,IAC1DrR,EAAY0X,GAAkBU,GAC9BtoC,EAAc+nC,GAAuBrY,EAAG1vB,cAAgB0vB,EAAG1vB,YAC3DuoC,EAAUvoC,GAAewkC,EAEzBgE,EAAarF,EAAQxT,EAAOD,EAAGK,UAAW,aArehC,EAueVG,IAA0C,IAAdR,EAAGE,QAAgB2Y,GAC7CC,EAAa,IACf7Y,EAAMv0C,KAAKs0C,GACX8Y,EAAa7Y,EAAMjyC,OAAS,GAET,GAAZwyC,IACTmY,GAAgB,GAIdG,EAAa,IAKjB7Y,EAAM6Y,GAAc9Y,EACpBv0C,KAAK67B,SAAS77B,KAAKk1C,QAASH,EAAW,CACrCI,SAAUX,EACVY,gBAAiB,CAACb,GAClB1vB,YAAaA,EACb/I,SAAUy4B,IAGR2Y,GAEF1Y,EAAMgI,OAAO6Q,EAAY,OAI/B,IAAIC,GAAyB,CAC3B9W,WArgBgB,EAsgBhBC,UArgBe,EAsgBfC,SArgBc,EAsgBd6W,YArgBiB,GAugBfC,GAA6B,aAC7BC,GAA6B,4CAOjC,SAASC,KACP1tD,KAAKqsD,SAAWmB,GAChBxtD,KAAKssD,MAAQmB,GACbztD,KAAK2tD,SAAU,EACfhE,EAAM1lD,MAAMjE,KAAMoE,WAoCpB,SAASwpD,GAAuBrZ,EAAI/kC,GAClC,IAAIq+C,EAAM3F,EAAQ3T,EAAGuZ,SACjBC,EAAU7F,EAAQ3T,EAAGyZ,gBAMzB,OAJW,GAAPx+C,IACFq+C,EAAM1F,EAAY0F,EAAI/4C,OAAOi5C,GAAU,cAAc,IAGhD,CAACF,EAAKE,GAzCfnH,EAAQ8G,GAAkB/D,EAAO,CAC/BrV,QAAS,SAAmBC,GAC1B,IAAI/kC,EAAO89C,GAAuB/Y,EAAG/kC,MAMrC,GAjiBc,IA6hBVA,IACFxP,KAAK2tD,SAAU,GAGZ3tD,KAAK2tD,QAAV,CAIA,IAAIG,EAAUF,GAAuBp9C,KAAKxQ,KAAMu0C,EAAI/kC,GAEzC,GAAPA,GAAqCs+C,EAAQ,GAAGvrD,OAASurD,EAAQ,GAAGvrD,SAAW,IACjFvC,KAAK2tD,SAAU,GAGjB3tD,KAAK67B,SAAS77B,KAAKk1C,QAAS1lC,EAAM,CAChC2lC,SAAU2Y,EAAQ,GAClB1Y,gBAAiB0Y,EAAQ,GACzBjpC,YAAawkC,EACbvtC,SAAUy4B,QAsBhB,IAAI0Z,GAAkB,CACpBzX,WAtkBgB,EAukBhBC,UAtkBe,EAukBfC,SAtkBc,EAukBd6W,YAtkBiB,GAwkBfW,GAAsB,4CAO1B,SAASC,KACPnuD,KAAKqsD,SAAW6B,GAChBluD,KAAKouD,UAAY,GACjBzE,EAAM1lD,MAAMjE,KAAMoE,WA2BpB,SAASiqD,GAAW9Z,EAAI/kC,GACtB,IAAI8+C,EAAapG,EAAQ3T,EAAGuZ,SACxBM,EAAYpuD,KAAKouD,UAErB,GAAW,EAAP5+C,GAA2D,IAAtB8+C,EAAW/rD,OAElD,OADA6rD,EAAUE,EAAW,GAAGC,aAAc,EAC/B,CAACD,EAAYA,GAGtB,IAAI9rD,EACAgsD,EACAR,EAAiB9F,EAAQ3T,EAAGyZ,gBAC5BS,EAAuB,GACvBtqD,EAASnE,KAAKmE,OAMlB,GAJAqqD,EAAgBF,EAAWzqD,QAAO,SAAU6qD,GAC1C,OAAOhH,EAAUgH,EAAMvqD,OAAQA,MAhoBjB,IAmoBZqL,EAGF,IAFAhN,EAAI,EAEGA,EAAIgsD,EAAcjsD,QACvB6rD,EAAUI,EAAchsD,GAAG+rD,aAAc,EACzC/rD,IAOJ,IAFAA,EAAI,EAEGA,EAAIwrD,EAAezrD,QACpB6rD,EAAUJ,EAAexrD,GAAG+rD,aAC9BE,EAAqBxuD,KAAK+tD,EAAexrD,IAIhC,GAAPgN,UACK4+C,EAAUJ,EAAexrD,GAAG+rD,YAGrC/rD,IAGF,OAAKisD,EAAqBlsD,OAInB,CACP4lD,EAAYqG,EAAc15C,OAAO25C,GAAuB,cAAc,GAAOA,QAL7E,EApEF7H,EAAQuH,GAAYxE,EAAO,CACzBrV,QAAS,SAAoBC,GAC3B,IAAI/kC,EAAOy+C,GAAgB1Z,EAAG/kC,MAC1Bs+C,EAAUO,GAAW79C,KAAKxQ,KAAMu0C,EAAI/kC,GAEnCs+C,GAIL9tD,KAAK67B,SAAS77B,KAAKk1C,QAAS1lC,EAAM,CAChC2lC,SAAU2Y,EAAQ,GAClB1Y,gBAAiB0Y,EAAQ,GACzBjpC,YAAawkC,EACbvtC,SAAUy4B,OA4EhB,SAASoa,KACPhF,EAAM1lD,MAAMjE,KAAMoE,WAClB,IAAIkwC,EAAUqR,EAAO3lD,KAAKs0C,QAASt0C,MACnCA,KAAK0uD,MAAQ,IAAIP,GAAWnuD,KAAKk1C,QAASZ,GAC1Ct0C,KAAK4uD,MAAQ,IAAI9Z,GAAW90C,KAAKk1C,QAASZ,GAC1Ct0C,KAAK6uD,aAAe,KACpB7uD,KAAK8uD,YAAc,GAqCrB,SAASC,GAAcha,EAAWia,GA5tBhB,EA6tBZja,GACF/0C,KAAK6uD,aAAeG,EAAU5Z,gBAAgB,GAAGmZ,WACjDU,GAAaz+C,KAAKxQ,KAAMgvD,IACH,GAAZja,GACTka,GAAaz+C,KAAKxQ,KAAMgvD,GAI5B,SAASC,GAAaD,GACpB,IAAIN,EAAQM,EAAU5Z,gBAAgB,GAEtC,GAAIsZ,EAAMH,aAAevuD,KAAK6uD,aAAc,CAC1C,IAAIK,EAAY,CACdtzC,EAAG8yC,EAAM9U,QACT/9B,EAAG6yC,EAAM7U,SAEX75C,KAAK8uD,YAAY7uD,KAAKivD,GACtB,IAAIC,EAAMnvD,KAAK8uD,YAUfxyC,YARsB,WACpB,IAAI9Z,EAAI2sD,EAAIpW,QAAQmW,GAEhB1sD,GAAK,GACP2sD,EAAI3S,OAAOh6C,EAAG,KAtEF,OA8EpB,SAAS4sD,GAAiBJ,GAIxB,IAHA,IAAIpzC,EAAIozC,EAAUlzC,SAAS89B,QACvB/9B,EAAImzC,EAAUlzC,SAAS+9B,QAElBr3C,EAAI,EAAGA,EAAIxC,KAAK8uD,YAAYvsD,OAAQC,IAAK,CAChD,IAAIO,EAAI/C,KAAK8uD,YAAYtsD,GACrB6sD,EAAK5sD,KAAKC,IAAIkZ,EAAI7Y,EAAE6Y,GACpB0zC,EAAK7sD,KAAKC,IAAImZ,EAAI9Y,EAAE8Y,GAExB,GAAIwzC,GAtFa,IAsFWC,GAtFX,GAuFf,OAAO,EAIX,OAAO,EAhFT1I,EAAQ+H,GAAiBhF,EAAO,CAO9BrV,QAAS,SAAoBY,EAASqa,EAAYC,GAChD,IAAIpC,EAAUoC,EAAU3qC,aAAewkC,EACnCoG,EAAUD,EAAU3qC,aAAeykC,EAEvC,KAAImG,GAAWD,EAAUE,oBAAsBF,EAAUE,mBAAmBC,kBAA5E,CAKA,GAAIvC,EACF2B,GAAcv+C,KAAKxQ,KAAMuvD,EAAYC,QAChC,GAAIC,GAAWL,GAAiB5+C,KAAKxQ,KAAMwvD,GAChD,OAGFxvD,KAAK67B,SAASqZ,EAASqa,EAAYC,KAMrCjoC,QAAS,WACPvnB,KAAK0uD,MAAMnnC,UACXvnB,KAAK4uD,MAAMrnC,aAqDf,IAAIqoC,GAAwBtH,EAAS9C,EAAap5C,MAAO,eACrDyjD,GAAsBD,KAA0B7gD,EAEhD+gD,GAAuB,UACvBC,GAAoB,OACpBC,GAA4B,eAE5BC,GAAoB,OACpBC,GAAqB,QACrBC,GAAqB,QACrBC,GAwIJ,WACE,IAAKP,GACH,OAAO,EAGT,IAAIQ,EAAW,GACXC,EAAcnlD,EAAOolD,KAAOplD,EAAOolD,IAAIC,SAM3C,MALA,CAAC,OAAQ,eAAgB,QAAS,QAAS,cAAe,QAAQlsD,SAAQ,SAAU4iD,GAGlFmJ,EAASnJ,IAAOoJ,GAAcnlD,EAAOolD,IAAIC,SAAS,eAAgBtJ,MAE7DmJ,EApJcI,GASvB,SAASC,GAAYxb,EAASlzC,GAC5BhC,KAAKk1C,QAAUA,EACfl1C,KAAKq8C,IAAIr6C,GAGX0uD,GAAYpgD,UAAY,CAKtB+rC,IAAK,SAAar6C,GAEZA,GAAS8tD,KACX9tD,EAAQhC,KAAK2wD,WAGXd,IAAuB7vD,KAAKk1C,QAAQmE,QAAQjtC,OAASgkD,GAAiBpuD,KACxEhC,KAAKk1C,QAAQmE,QAAQjtC,MAAMwjD,IAAyB5tD,GAGtDhC,KAAK4wD,QAAU5uD,EAAMiI,cAAc89C,QAMrC8I,OAAQ,WACN7wD,KAAKq8C,IAAIr8C,KAAKk1C,QAAQpmC,QAAQyU,cAOhCotC,QAAS,WACP,IAAIC,EAAU,GAMd,OALA9K,EAAK9lD,KAAKk1C,QAAQ+I,aAAa,SAAUM,GACnC0I,EAAS1I,EAAWzvC,QAAQ4mC,OAAQ,CAAC6I,MACvCqS,EAAUA,EAAQ97C,OAAOypC,EAAWuS,sBA4D5C,SAA2BF,GAEzB,GAAI/I,EAAM+I,EAASX,IACjB,OAAOA,GAGT,IAAIc,EAAUlJ,EAAM+I,EAASV,IACzBc,EAAUnJ,EAAM+I,EAAST,IAK7B,GAAIY,GAAWC,EACb,OAAOf,GAIT,GAAIc,GAAWC,EACb,OAAOD,EAAUb,GAAqBC,GAIxC,GAAItI,EAAM+I,EAASZ,IACjB,OAAOA,GAGT,OAAOD,GAnFEkB,CAAkBL,EAAQM,KAAK,OAOxCC,gBAAiB,SAAyBlH,GACxC,IAAInuC,EAAWmuC,EAAMnuC,SACjB6vC,EAAY1B,EAAMkB,gBAEtB,GAAInrD,KAAKk1C,QAAQoV,QAAQ8G,UACvBt1C,EAASwE,qBADX,CAKA,IAAIswC,EAAU5wD,KAAK4wD,QACfS,EAAUxJ,EAAM+I,EAASX,MAAuBG,GAAkC,KAClFY,EAAUnJ,EAAM+I,EAAST,MAAwBC,GAAiBD,SAClEY,EAAUlJ,EAAM+I,EAASV,MAAwBE,GAAiBF,SAEtE,GAAImB,EAAS,CAEX,IAAIC,EAAyC,IAA1BrH,EAAM9U,SAAS5yC,OAC9BgvD,EAAgBtH,EAAMY,SAAW,EACjC2G,EAAiBvH,EAAMhpC,UAAY,IAEvC,GAAIqwC,GAAgBC,GAAiBC,EACnC,OAIJ,IAAIT,IAAWC,EAKf,OAAIK,GAAWL,GAr2BQS,EAq2BG9F,GAAoCoF,GAAWpF,EAAYpC,EAC5EvpD,KAAK0xD,WAAW51C,QADzB,IASF41C,WAAY,SAAoB51C,GAC9B9b,KAAKk1C,QAAQoV,QAAQ8G,WAAY,EACjCt1C,EAASwE,mBAiFb,IAMIqxC,GAAe,GAQnB,SAASC,GAAW9iD,GAClB9O,KAAK8O,QAAUpG,EAAO,GAAI1I,KAAK6xD,SAAU/iD,GAAW,IACpD9O,KAAKwM,GAj/BEm8C,IAk/BP3oD,KAAKk1C,QAAU,KAEfl1C,KAAK8O,QAAQ4mC,OAASyR,EAAYnnD,KAAK8O,QAAQ4mC,QAAQ,GACvD11C,KAAKoX,MApBc,EAqBnBpX,KAAK8xD,aAAe,GACpB9xD,KAAK+xD,YAAc,GA8OrB,SAASC,GAAS56C,GAChB,OAhQoB,GAgQhBA,EACK,SAnQO,EAoQLA,EACF,MAtQS,EAuQPA,EACF,OAzQO,EA0QLA,EACF,QAGF,GAST,SAAS66C,GAAatG,GACpB,OA3tCmB,IA2tCfA,EACK,OA7tCQ,GA8tCNA,EACF,KAjuCU,GAkuCRA,EACF,OAluCW,GAmuCTA,EACF,QAGF,GAUT,SAASuG,GAA6B5S,EAAiBf,GACrD,IAAIrJ,EAAUqJ,EAAWrJ,QAEzB,OAAIA,EACKA,EAAQ3uB,IAAI+4B,GAGdA,EAST,SAAS6S,KACPP,GAAW3tD,MAAMjE,KAAMoE,WA6DzB,SAASguD,KACPD,GAAeluD,MAAMjE,KAAMoE,WAC3BpE,KAAKqyD,GAAK,KACVryD,KAAKsyD,GAAK,KAyEZ,SAASC,KACPJ,GAAeluD,MAAMjE,KAAMoE,WAmC7B,SAASouD,KACPZ,GAAW3tD,MAAMjE,KAAMoE,WACvBpE,KAAKyyD,OAAS,KACdzyD,KAAK0yD,OAAS,KAgEhB,SAASC,KACPR,GAAeluD,MAAMjE,KAAMoE,WA2B7B,SAASwuD,KACPT,GAAeluD,MAAMjE,KAAMoE,WAqD7B,SAASyuD,KACPjB,GAAW3tD,MAAMjE,KAAMoE,WAGvBpE,KAAK8yD,OAAQ,EACb9yD,KAAK+yD,SAAU,EACf/yD,KAAKyyD,OAAS,KACdzyD,KAAK0yD,OAAS,KACd1yD,KAAKgzD,MAAQ,EAkGf,SAASC,GAAO5Z,EAASvqC,GAGvB,OAFAA,EAAUA,GAAW,IACbmvC,YAAckJ,EAAYr4C,EAAQmvC,YAAagV,GAAOpB,SAASqB,QAChE,IAAI7d,GAAQgE,EAASvqC,GAptB9B8iD,GAAWthD,UAAY,CAKrBuhD,SAAU,GAOVxV,IAAK,SAAavtC,GAIhB,OAHApG,EAAO1I,KAAK8O,QAASA,GAErB9O,KAAKk1C,SAAWl1C,KAAKk1C,QAAQ3xB,YAAYstC,SAClC7wD,MAQTy+C,cAAe,SAAuBa,GACpC,GAAIsG,EAAetG,EAAiB,gBAAiBt/C,MACnD,OAAOA,KAGT,IAAI8xD,EAAe9xD,KAAK8xD,aAQxB,OALKA,GAFLxS,EAAkB4S,GAA6B5S,EAAiBt/C,OAE9BwM,MAChCslD,EAAaxS,EAAgB9yC,IAAM8yC,EACnCA,EAAgBb,cAAcz+C,OAGzBA,MAQTmzD,kBAAmB,SAA2B7T,GAC5C,OAAIsG,EAAetG,EAAiB,oBAAqBt/C,QAIzDs/C,EAAkB4S,GAA6B5S,EAAiBt/C,aACzDA,KAAK8xD,aAAaxS,EAAgB9yC,KAJhCxM,MAaXu/C,eAAgB,SAAwBD,GACtC,GAAIsG,EAAetG,EAAiB,iBAAkBt/C,MACpD,OAAOA,KAGT,IAAI+xD,EAAc/xD,KAAK+xD,YAQvB,OAL+C,IAA3C/J,EAAQ+J,EAFZzS,EAAkB4S,GAA6B5S,EAAiBt/C,SAG9D+xD,EAAY9xD,KAAKq/C,GACjBA,EAAgBC,eAAev/C,OAG1BA,MAQTw/C,mBAAoB,SAA4BF,GAC9C,GAAIsG,EAAetG,EAAiB,qBAAsBt/C,MACxD,OAAOA,KAGTs/C,EAAkB4S,GAA6B5S,EAAiBt/C,MAChE,IAAIsmD,EAAQ0B,EAAQhoD,KAAK+xD,YAAazS,GAMtC,OAJIgH,GAAS,GACXtmD,KAAK+xD,YAAYvV,OAAO8J,EAAO,GAG1BtmD,MAOTozD,mBAAoB,WAClB,OAAOpzD,KAAK+xD,YAAYxvD,OAAS,GAQnC8wD,iBAAkB,SAA0B/T,GAC1C,QAASt/C,KAAK8xD,aAAaxS,EAAgB9yC,KAQ7CszC,KAAM,SAAcmK,GAClB,IAAIL,EAAO5pD,KACPoX,EAAQpX,KAAKoX,MAEjB,SAAS0oC,EAAKplC,GACZkvC,EAAK1U,QAAQ4K,KAAKplC,EAAOuvC,GAIvB7yC,EArJU,GAsJZ0oC,EAAK8J,EAAK96C,QAAQ4L,MAAQs3C,GAAS56C,IAGrC0oC,EAAK8J,EAAK96C,QAAQ4L,OAEduvC,EAAMqJ,iBAERxT,EAAKmK,EAAMqJ,iBAITl8C,GAjKU,GAkKZ0oC,EAAK8J,EAAK96C,QAAQ4L,MAAQs3C,GAAS56C,KAUvCm8C,QAAS,SAAiBtJ,GACxB,GAAIjqD,KAAKwzD,UACP,OAAOxzD,KAAK8/C,KAAKmK,GAInBjqD,KAAKoX,MAAQu6C,IAOf6B,QAAS,WAGP,IAFA,IAAIhxD,EAAI,EAEDA,EAAIxC,KAAK+xD,YAAYxvD,QAAQ,CAClC,KAAkC,GAA5BvC,KAAK+xD,YAAYvvD,GAAG4U,OACxB,OAAO,EAGT5U,IAGF,OAAO,GAOTwpD,UAAW,SAAmBwD,GAG5B,IAAIiE,EAAiB/qD,EAAO,GAAI8mD,GAEhC,IAAKvI,EAASjnD,KAAK8O,QAAQ4mC,OAAQ,CAAC11C,KAAMyzD,IAGxC,OAFAzzD,KAAK0zD,aACL1zD,KAAKoX,MAAQu6C,IAKE,GAAb3xD,KAAKoX,QACPpX,KAAKoX,MA3NU,GA8NjBpX,KAAKoX,MAAQpX,KAAK+/C,QAAQ0T,GAGT,GAAbzzD,KAAKoX,OACPpX,KAAKuzD,QAAQE,IAWjB1T,QAAS,SAAiByP,KAQ1BsB,eAAgB,aAOhB4C,MAAO,cAqET9M,EAAQuL,GAAgBP,GAAY,CAKlCC,SAAU,CAKR1c,SAAU,GASZwe,SAAU,SAAkB1J,GAC1B,IAAI2J,EAAiB5zD,KAAK8O,QAAQqmC,SAClC,OAA0B,IAAnBye,GAAwB3J,EAAM9U,SAAS5yC,SAAWqxD,GAS3D7T,QAAS,SAAiBkK,GACxB,IAAI7yC,EAAQpX,KAAKoX,MACb29B,EAAYkV,EAAMlV,UAClB8e,EAAuB,EAARz8C,EACfvE,EAAU7S,KAAK2zD,SAAS1J,GAE5B,OAAI4J,IA5yCW,EA4yCM9e,IAA6BliC,GAhWhC,GAiWTuE,EACEy8C,GAAgBhhD,EA/yCf,EAgzCNkiC,EArWQ,EAsWH39B,EAxWG,EAyWCA,EAxWC,EA4WPA,EA7WK,EAgXPu6C,MAgBX/K,EAAQwL,GAAeD,GAAgB,CAKrCN,SAAU,CACRn3C,MAAO,MACP+6B,UAAW,GACXN,SAAU,EACVwW,UAz0CgBmI,IA20ClBhD,eAAgB,WACd,IAAInF,EAAY3rD,KAAK8O,QAAQ68C,UACzBiF,EAAU,GAUd,OAz1CuBa,EAi1CnB9F,GACFiF,EAAQ3wD,KAAKkwD,IAGXxE,EAAYpC,GACdqH,EAAQ3wD,KAAKiwD,IAGRU,GAETmD,cAAe,SAAuB9J,GACpC,IAAIn7C,EAAU9O,KAAK8O,QACfklD,GAAW,EACXnJ,EAAWZ,EAAMY,SACjBc,EAAY1B,EAAM0B,UAClB/vC,EAAIquC,EAAMvgD,OACVmS,EAAIouC,EAAMtgD,OAed,OAbMgiD,EAAY78C,EAAQ68C,YAn2CH8F,EAo2CjB3iD,EAAQ68C,WACVA,EAAkB,IAAN/vC,EA12CC,EA02C0BA,EAAI,EAz2C9B,EACC,EAy2Cdo4C,EAAWp4C,GAAK5b,KAAKqyD,GACrBxH,EAAWpoD,KAAKC,IAAIunD,EAAMvgD,UAE1BiiD,EAAkB,IAAN9vC,EA92CC,EA82C0BA,EAAI,EA32ChC,EACE,GA22Cbm4C,EAAWn4C,GAAK7b,KAAKsyD,GACrBzH,EAAWpoD,KAAKC,IAAIunD,EAAMtgD,UAI9BsgD,EAAM0B,UAAYA,EACXqI,GAAYnJ,EAAW/7C,EAAQ2mC,WAAakW,EAAY78C,EAAQ68C,WAEzEgI,SAAU,SAAkB1J,GAC1B,OAAOkI,GAAe7hD,UAAUqjD,SAASnjD,KAAKxQ,KAAMiqD,KAjbtC,EAibiDjqD,KAAKoX,SAjbtD,EAib+EpX,KAAKoX,QAAwBpX,KAAK+zD,cAAc9J,KAE/InK,KAAM,SAAcmK,GAClBjqD,KAAKqyD,GAAKpI,EAAMvgD,OAChB1J,KAAKsyD,GAAKrI,EAAMtgD,OAChB,IAAIgiD,EAAYsG,GAAahI,EAAM0B,WAE/BA,IACF1B,EAAMqJ,gBAAkBtzD,KAAK8O,QAAQ4L,MAAQixC,GAG/C3rD,KAAK0U,OAAOorC,KAAKtvC,KAAKxQ,KAAMiqD,MAchCrD,EAAQ2L,GAAiBJ,GAAgB,CAKvCN,SAAU,CACRn3C,MAAO,QACP+6B,UAAW,EACXN,SAAU,GAEZ2b,eAAgB,WACd,MAAO,CAACb,KAEV0D,SAAU,SAAkB1J,GAC1B,OAAOjqD,KAAK0U,OAAOi/C,SAASnjD,KAAKxQ,KAAMiqD,KAAWxnD,KAAKC,IAAIunD,EAAM3hD,MAAQ,GAAKtI,KAAK8O,QAAQ2mC,WAxd7E,EAwd0Fz1C,KAAKoX,QAE/G0oC,KAAM,SAAcmK,GAClB,GAAoB,IAAhBA,EAAM3hD,MAAa,CACrB,IAAI2rD,EAAQhK,EAAM3hD,MAAQ,EAAI,KAAO,MACrC2hD,EAAMqJ,gBAAkBtzD,KAAK8O,QAAQ4L,MAAQu5C,EAG/Cj0D,KAAK0U,OAAOorC,KAAKtvC,KAAKxQ,KAAMiqD,MAgBhCrD,EAAQ4L,GAAiBZ,GAAY,CAKnCC,SAAU,CACRn3C,MAAO,QACPy6B,SAAU,EACVl+B,KAAM,IAENw+B,UAAW,GAGbqb,eAAgB,WACd,MAAO,CAACf,KAEVhQ,QAAS,SAAiBkK,GACxB,IAAIn7C,EAAU9O,KAAK8O,QACfolD,EAAgBjK,EAAM9U,SAAS5yC,SAAWuM,EAAQqmC,SAClDgf,EAAgBlK,EAAMY,SAAW/7C,EAAQ2mC,UACzC2e,EAAYnK,EAAMhpC,UAAYnS,EAAQmI,KAI1C,GAHAjX,KAAK0yD,OAASzI,GAGTkK,IAAkBD,GAAmC,GAAlBjK,EAAMlV,YAA2Cqf,EACvFp0D,KAAK0zD,aACA,GAr9CO,EAq9CHzJ,EAAMlV,UACf/0C,KAAK0zD,QACL1zD,KAAKyyD,OAAShN,GAAkB,WAC9BzlD,KAAKoX,MA3gBK,EA4gBVpX,KAAKuzD,YACJzkD,EAAQmI,KAAMjX,WACZ,GAz9CK,EAy9CDiqD,EAAMlV,UACf,OA/gBY,EAkhBd,OAAO4c,IAET+B,MAAO,WACLW,aAAar0D,KAAKyyD,SAEpB3S,KAAM,SAAcmK,GAvhBJ,IAwhBVjqD,KAAKoX,QAIL6yC,GAv+CQ,EAu+CCA,EAAMlV,UACjB/0C,KAAKk1C,QAAQ4K,KAAK9/C,KAAK8O,QAAQ4L,MAAQ,KAAMuvC,IAE7CjqD,KAAK0yD,OAAO/H,UAAYxzC,IACxBnX,KAAKk1C,QAAQ4K,KAAK9/C,KAAK8O,QAAQ4L,MAAO1a,KAAK0yD,aAejD9L,EAAQ+L,GAAkBR,GAAgB,CAKxCN,SAAU,CACRn3C,MAAO,SACP+6B,UAAW,EACXN,SAAU,GAEZ2b,eAAgB,WACd,MAAO,CAACb,KAEV0D,SAAU,SAAkB1J,GAC1B,OAAOjqD,KAAK0U,OAAOi/C,SAASnjD,KAAKxQ,KAAMiqD,KAAWxnD,KAAKC,IAAIunD,EAAMtpC,UAAY3gB,KAAK8O,QAAQ2mC,WA/jB5E,EA+jByFz1C,KAAKoX,UAchHwvC,EAAQgM,GAAiBT,GAAgB,CAKvCN,SAAU,CACRn3C,MAAO,QACP+6B,UAAW,GACXh2B,SAAU,GACVksC,UAAWmI,GACX3e,SAAU,GAEZ2b,eAAgB,WACd,OAAOsB,GAAc9hD,UAAUwgD,eAAetgD,KAAKxQ,OAErD2zD,SAAU,SAAkB1J,GAC1B,IACIxqC,EADAksC,EAAY3rD,KAAK8O,QAAQ68C,UAW7B,OARgB,GAAZA,EACFlsC,EAAWwqC,EAAMoB,gBAniDIoG,EAoiDZ9F,EACTlsC,EAAWwqC,EAAMsB,iBACRI,EAAYpC,IACrB9pC,EAAWwqC,EAAMuB,kBAGZxrD,KAAK0U,OAAOi/C,SAASnjD,KAAKxQ,KAAMiqD,IAAU0B,EAAY1B,EAAMkB,iBAAmBlB,EAAMY,SAAW7qD,KAAK8O,QAAQ2mC,WAAawU,EAAMyB,aAAe1rD,KAAK8O,QAAQqmC,UAAYzyC,EAAI+c,GAAYzf,KAAK8O,QAAQ2Q,UAjjDhM,EAijD4MwqC,EAAMlV,WAEhO+K,KAAM,SAAcmK,GAClB,IAAI0B,EAAYsG,GAAahI,EAAMkB,iBAE/BQ,GACF3rD,KAAKk1C,QAAQ4K,KAAK9/C,KAAK8O,QAAQ4L,MAAQixC,EAAW1B,GAGpDjqD,KAAKk1C,QAAQ4K,KAAK9/C,KAAK8O,QAAQ4L,MAAOuvC,MAyB1CrD,EAAQiM,GAAejB,GAAY,CAKjCC,SAAU,CACRn3C,MAAO,MACPy6B,SAAU,EACVa,KAAM,EACNse,SAAU,IAEVr9C,KAAM,IAENw+B,UAAW,EAEX8e,aAAc,IAGhBzD,eAAgB,WACd,MAAO,CAACd,KAEVjQ,QAAS,SAAiBkK,GACxB,IAAIn7C,EAAU9O,KAAK8O,QACfolD,EAAgBjK,EAAM9U,SAAS5yC,SAAWuM,EAAQqmC,SAClDgf,EAAgBlK,EAAMY,SAAW/7C,EAAQ2mC,UACzC+e,EAAiBvK,EAAMhpC,UAAYnS,EAAQmI,KAG/C,GAFAjX,KAAK0zD,QA/mDS,EAinDVzJ,EAAMlV,WAA0C,IAAf/0C,KAAKgzD,MACxC,OAAOhzD,KAAKy0D,cAKd,GAAIN,GAAiBK,GAAkBN,EAAe,CACpD,GAtnDU,GAsnDNjK,EAAMlV,UACR,OAAO/0C,KAAKy0D,cAGd,IAAIC,GAAgB10D,KAAK8yD,OAAQ7I,EAAMU,UAAY3qD,KAAK8yD,MAAQhkD,EAAQwlD,SACpEK,GAAiB30D,KAAK+yD,SAAWjI,EAAY9qD,KAAK+yD,QAAS9I,EAAMp7B,QAAU/f,EAAQylD,aAevF,GAdAv0D,KAAK8yD,MAAQ7I,EAAMU,UACnB3qD,KAAK+yD,QAAU9I,EAAMp7B,OAEhB8lC,GAAkBD,EAGrB10D,KAAKgzD,OAAS,EAFdhzD,KAAKgzD,MAAQ,EAKfhzD,KAAK0yD,OAASzI,EAKG,IAFFjqD,KAAKgzD,MAAQlkD,EAAQknC,KAKlC,OAAKh2C,KAAKozD,sBAGRpzD,KAAKyyD,OAAShN,GAAkB,WAC9BzlD,KAAKoX,MAtsBC,EAusBNpX,KAAKuzD,YACJzkD,EAAQwlD,SAAUt0D,MA1sBb,GAEA,EA8sBd,OAAO2xD,IAET8C,YAAa,WAIX,OAHAz0D,KAAKyyD,OAAShN,GAAkB,WAC9BzlD,KAAKoX,MAAQu6C,KACZ3xD,KAAK8O,QAAQwlD,SAAUt0D,MACnB2xD,IAET+B,MAAO,WACLW,aAAar0D,KAAKyyD,SAEpB3S,KAAM,WAztBU,GA0tBV9/C,KAAKoX,QACPpX,KAAK0yD,OAAOkC,SAAW50D,KAAKgzD,MAC5BhzD,KAAKk1C,QAAQ4K,KAAK9/C,KAAK8O,QAAQ4L,MAAO1a,KAAK0yD,YAqBjDO,GAAO4B,QAAU,QAMjB5B,GAAOpB,SAAW,CAOhBiD,WAAW,EAQXvxC,YAAausC,GAMbpa,QAAQ,EASRmU,YAAa,KAObkL,WAAY,KAOZ7B,OAAQ,CACR,CAACP,GAAkB,CACjBjd,QAAQ,IACN,CAAC6c,GAAiB,CACpB7c,QAAQ,GACP,CAAC,WAAY,CAACkd,GAAiB,CAChCjH,UA7uDuB8F,IA8uDrB,CAACW,GAAe,CAClBzG,UA/uDuB8F,GAgvDtB,CAAC,UAAW,CAACoB,IAAgB,CAACA,GAAe,CAC9Cn4C,MAAO,YACPs7B,KAAM,GACL,CAAC,QAAS,CAACwc,KAOdwC,SAAU,CAMRC,WAAY,OAOZC,YAAa,OASbC,aAAc,OAOdC,eAAgB,OAOhBC,SAAU,OAQVC,kBAAmB,kBAYvB,SAASjgB,GAAQgE,EAASvqC,GApvD1B,IAA6BomC,EAqvD3Bl1C,KAAK8O,QAAUpG,EAAO,GAAIuqD,GAAOpB,SAAU/iD,GAAW,IACtD9O,KAAK8O,QAAQ+6C,YAAc7pD,KAAK8O,QAAQ+6C,aAAexQ,EACvDr5C,KAAKi8C,SAAW,GAChBj8C,KAAKsqD,QAAU,GACftqD,KAAKi+C,YAAc,GACnBj+C,KAAKu1D,YAAc,GACnBv1D,KAAKq5C,QAAUA,EACfr5C,KAAKiqD,MA5uDE,KAhBoB/U,EA4vDMl1C,MA1vDR8O,QAAQimD,aAItB7L,EACF9U,GACE+U,EACFgF,GACGlF,EAGH0F,GAFA7Z,KAKOI,EAAS8U,GA6uDzBhqD,KAAKujB,YAAc,IAAImtC,GAAY1wD,KAAMA,KAAK8O,QAAQyU,aACtDiyC,GAAex1D,MAAM,GACrB8lD,EAAK9lD,KAAK8O,QAAQmvC,aAAa,SAAUwX,GACvC,IAAIlX,EAAav+C,KAAK85B,IAAI,IAAI27B,EAAK,GAAGA,EAAK,KAC3CA,EAAK,IAAMlX,EAAWE,cAAcgX,EAAK,IACzCA,EAAK,IAAMlX,EAAWgB,eAAekW,EAAK,MACzCz1D,MAiQL,SAASw1D,GAAetgB,EAASpb,GAC/B,IAMIhnB,EANAumC,EAAUnE,EAAQmE,QAEjBA,EAAQjtC,QAKb05C,EAAK5Q,EAAQpmC,QAAQkmD,UAAU,SAAUhzD,EAAO0O,GAC9CoC,EAAOw1C,EAASjP,EAAQjtC,MAAOsE,GAE3BopB,GACFob,EAAQqgB,YAAYziD,GAAQumC,EAAQjtC,MAAM0G,GAC1CumC,EAAQjtC,MAAM0G,GAAQ9Q,GAEtBq3C,EAAQjtC,MAAM0G,GAAQoiC,EAAQqgB,YAAYziD,IAAS,MAIlDgnB,IACHob,EAAQqgB,YAAc,KAlR1BlgB,GAAQ/kC,UAAY,CAMlB+rC,IAAK,SAAavtC,GAchB,OAbApG,EAAO1I,KAAK8O,QAASA,GAEjBA,EAAQyU,aACVvjB,KAAKujB,YAAYstC,SAGf/hD,EAAQ+6C,cAEV7pD,KAAKiqD,MAAM1iC,UACXvnB,KAAKiqD,MAAM9lD,OAAS2K,EAAQ+6C,YAC5B7pD,KAAKiqD,MAAMF,QAGN/pD,MAST01D,KAAM,SAAcC,GAClB31D,KAAKsqD,QAAQsL,QAAUD,EAxDT,EADP,GAkET3J,UAAW,SAAmBwD,GAC5B,IAAIlF,EAAUtqD,KAAKsqD,QAEnB,IAAIA,EAAQsL,QAAZ,CAMA,IAAIrX,EADJv+C,KAAKujB,YAAY4tC,gBAAgB3B,GAEjC,IAAIvR,EAAcj+C,KAAKi+C,YAInB4X,EAAgBvL,EAAQuL,gBAGvBA,GAAiBA,GAx7BR,EAw7ByBA,EAAcz+C,SACnDy+C,EAAgBvL,EAAQuL,cAAgB,MAK1C,IAFA,IAAIrzD,EAAI,EAEDA,EAAIy7C,EAAY17C,QACrBg8C,EAAaN,EAAYz7C,GAzFb,IAgGR8nD,EAAQsL,SACXC,GAAiBtX,GAAcsX,IAChCtX,EAAW8U,iBAAiBwC,GAI1BtX,EAAWmV,QAFXnV,EAAWyN,UAAUwD,IAOlBqG,GAAoC,GAAnBtX,EAAWnnC,QAC/By+C,EAAgBvL,EAAQuL,cAAgBtX,GAG1C/7C,MASJ+jB,IAAK,SAAag4B,GAChB,GAAIA,aAAsBqT,GACxB,OAAOrT,EAKT,IAFA,IAAIN,EAAcj+C,KAAKi+C,YAEdz7C,EAAI,EAAGA,EAAIy7C,EAAY17C,OAAQC,IACtC,GAAIy7C,EAAYz7C,GAAGsM,QAAQ4L,OAAS6jC,EAClC,OAAON,EAAYz7C,GAIvB,OAAO,MASTs3B,IAAK,SAAaykB,GAChB,GAAIqH,EAAerH,EAAY,MAAOv+C,MACpC,OAAOA,KAIT,IAAI81D,EAAW91D,KAAKumB,IAAIg4B,EAAWzvC,QAAQ4L,OAS3C,OAPIo7C,GACF91D,KAAK+5B,OAAO+7B,GAGd91D,KAAKi+C,YAAYh+C,KAAKs+C,GACtBA,EAAWrJ,QAAUl1C,KACrBA,KAAKujB,YAAYstC,SACVtS,GAQTxkB,OAAQ,SAAgBwkB,GACtB,GAAIqH,EAAerH,EAAY,SAAUv+C,MACvC,OAAOA,KAKT,GAFAu+C,EAAav+C,KAAKumB,IAAIg4B,GAEN,CACd,IAAIN,EAAcj+C,KAAKi+C,YACnBqI,EAAQ0B,EAAQ/J,EAAaM,IAElB,IAAX+H,IACFrI,EAAYzB,OAAO8J,EAAO,GAC1BtmD,KAAKujB,YAAYstC,UAIrB,OAAO7wD,MAST0e,GAAI,SAAYL,EAAQi2B,GACtB,GAAIj2B,IAAWtP,GAIXulC,IAAYvlC,EAAhB,CAIA,IAAIktC,EAAWj8C,KAAKi8C,SAKpB,OAJA6J,EAAK0B,EAASnpC,IAAS,SAAU3D,GAC/BuhC,EAASvhC,GAASuhC,EAASvhC,IAAU,GACrCuhC,EAASvhC,GAAOza,KAAKq0C,MAEhBt0C,OAST2e,IAAK,SAAaN,EAAQi2B,GACxB,GAAIj2B,IAAWtP,EAAf,CAIA,IAAIktC,EAAWj8C,KAAKi8C,SAQpB,OAPA6J,EAAK0B,EAASnpC,IAAS,SAAU3D,GAC1B45B,EAGH2H,EAASvhC,IAAUuhC,EAASvhC,GAAO8hC,OAAOwL,EAAQ/L,EAASvhC,GAAQ45B,GAAU,UAFtE2H,EAASvhC,MAKb1a,OAQT8/C,KAAM,SAAcplC,EAAO0O,GAErBppB,KAAK8O,QAAQgmD,WAyErB,SAAyBp6C,EAAO0O,GAC9B,IAAI2sC,EAAeniB,EAASoiB,YAAY,SACxCD,EAAaE,UAAUv7C,GAAO,GAAM,GACpCq7C,EAAaG,QAAU9sC,EACvBA,EAAKjlB,OAAOgyD,cAAcJ,GA5EtBK,CAAgB17C,EAAO0O,GAIzB,IAAI6yB,EAAWj8C,KAAKi8C,SAASvhC,IAAU1a,KAAKi8C,SAASvhC,GAAOxQ,QAE5D,GAAK+xC,GAAaA,EAAS15C,OAA3B,CAIA6mB,EAAK5Z,KAAOkL,EAEZ0O,EAAK9I,eAAiB,WACpB8I,EAAKtN,SAASwE,kBAKhB,IAFA,IAAI9d,EAAI,EAEDA,EAAIy5C,EAAS15C,QAClB05C,EAASz5C,GAAG4mB,GACZ5mB,MAQJ+kB,QAAS,WACPvnB,KAAKq5C,SAAWmc,GAAex1D,MAAM,GACrCA,KAAKi8C,SAAW,GAChBj8C,KAAKsqD,QAAU,GACftqD,KAAKiqD,MAAM1iC,UACXvnB,KAAKq5C,QAAU,OA8CnB3wC,EAAOuqD,GAAQ,CACboD,YAjnEgB,EAknEhBC,WAjnEe,EAknEfC,UAjnEc,EAknEdC,aAjnEiB,EAknEjBC,eA3qCmB,EA4qCnBC,YA3qCgB,EA4qChBC,cA3qCkB,EA4qClBC,YA3qCgB,EA4qChBC,iBA5qCgB,EA6qChBC,gBA3qCoB,GA4qCpBnF,aAAcA,GACdoF,eAxnEmB,EAynEnBtF,eAxnEmB,EAynEnBuF,gBAxnEoB,EAynEpBxN,aAxnEiB,EAynEjByN,eAxnEmB,GAynEnBnD,qBAxnEyBrC,EAynEzBlI,mBAAoBA,EACpB2N,cAxnEkBpD,GAynElBze,QAASA,GACTsU,MAAOA,EACP+G,YAAaA,GACbvC,WAAYA,GACZrZ,WAAYA,GACZV,kBAAmBA,GACnBua,gBAAiBA,GACjBjB,iBAAkBA,GAClBkE,WAAYA,GACZO,eAAgBA,GAChBpc,IAAK8c,GACLrd,IAAK4c,GACLvc,MAAO+c,GACPhd,MAAO2c,GACP5c,OAAQgd,GACR7c,MAAO0c,GACP9zC,GAAI4oC,EACJ3oC,IAAK8oC,EACL3B,KAAMA,EACNa,MAAOA,EACPH,OAAQA,EACR99C,OAAQA,EACRk+C,QAASA,EACTjB,OAAQA,EACR2C,SAAUA,KAIuB,qBAAXn9C,EAAyBA,EAAyB,qBAATy+C,KAAuBA,KAAO,IAEpFqJ,OAASA,IAGhB5N,EAAgC,WAChC,OAAO4N,IACNziD,KAAK40C,EAAShlD,EAAqBglD,EAASllD,MACb6O,IAAc7O,EAAOklD,QAAUC,GA3kFrE,CA6kFGl6C,OAAQyoC,WAIL,KACA,SAAU1zC,EAAQC,EAAqBC,GAE7C,cAC4B,SAASszC,GAAwCtzC,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOipD,KAClHhpD,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOg3D,KAGpE/2D,EAAoBC,EAAEF,EAAqB,KAAK,WAAa,OAAOi3D,KACnG,IAAIhO,EAAiC,qBAAdnwB,WAA6BA,UAAUmwB,UAAYnwB,UAAUmwB,UAAUn/C,cAAgB,GAC1GktD,EAA4B,qBAAXhsD,OAAyBA,OAASuoC,EAInD0jB,GAH4B,qBAAX1jB,GAAkCvoC,OACnB,qBAAbyoC,UAA2BA,UAE3B,GAEvB,IACE,IAAI9kC,EAAU,CACZwqC,cAEE,OADA8d,GAAmB,GACZ,IAIXD,EAAQ3gC,iBAAiB,OAAQ1nB,EAASA,GAC1CqoD,EAAQzgC,oBAAoB,OAAQ5nB,EAASA,GAC7C,MAAOsC,OAGoBZ,KAAKxQ,KAAMI,EAAoB"},"input":"(this[\"webpackJsonp@minimal/minimal-kit-react\"] = this[\"webpackJsonp@minimal/minimal-kit-react\"] || []).push([[1],{\n\n/***/ 1822:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"l\", function() { return /* reexport */ interactive_map; });\n__webpack_require__.d(__webpack_exports__, \"j\", function() { return /* reexport */ components_source; });\n__webpack_require__.d(__webpack_exports__, \"d\", function() { return /* reexport */ components_layer; });\n__webpack_require__.d(__webpack_exports__, \"f\", function() { return /* reexport */ marker; });\n__webpack_require__.d(__webpack_exports__, \"h\", function() { return /* reexport */ popup; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* reexport */ fullscreen_control; });\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* reexport */ geolocate_control; });\n__webpack_require__.d(__webpack_exports__, \"g\", function() { return /* reexport */ navigation_control; });\n__webpack_require__.d(__webpack_exports__, \"i\", function() { return /* reexport */ scale_control; });\n__webpack_require__.d(__webpack_exports__, \"e\", function() { return /* reexport */ linear_interpolator_LinearInterpolator; });\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ viewport_fly_to_interpolator_ViewportFlyToInterpolator; });\n__webpack_require__.d(__webpack_exports__, \"k\", function() { return /* reexport */ esm[\"a\" /* WebMercatorViewport */]; });\n\n// UNUSED EXPORTS: InteractiveMap, StaticMap, BaseControl, AttributionControl, CanvasOverlay, HTMLOverlay, SVGOverlay, TRANSITION_EVENTS, TransitionInterpolator, MapController, setRTLTextPlugin, MapContext, _useMapControl, _MapContext\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(53);\n\n// EXTERNAL MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/index.js + 8 modules\nvar esm = __webpack_require__(1889);\n\n// CONCATENATED MODULE: ./node_modules/viewport-mercator-project/module.js\n\n\n// EXTERNAL MODULE: ./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\nvar ResizeObserver_es = __webpack_require__(2112);\n\n// EXTERNAL MODULE: ./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js\nvar mapbox_mapbox = __webpack_require__(2662);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(2081);\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(70);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/math-utils.js\nvar EPSILON = 1e-7;\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nfunction equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return Math.abs(a - b) <= EPSILON;\n}\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/assert.js\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/map-state.js\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\nvar MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 85\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\n\nvar map_state_MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        transitionDuration = _ref.transitionDuration,\n        transitionEasing = _ref.transitionEasing,\n        transitionInterpolator = _ref.transitionInterpolator,\n        transitionInterruption = _ref.transitionInterruption,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startRotatePos = _ref.startRotatePos,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    Object(classCallCheck[\"a\" /* default */])(this, MapState);\n\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n\n  Object(createClass[\"a\" /* default */])(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = Object(slicedToArray[\"a\" /* default */])(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n          _ref5$deltaAngleX = _ref5.deltaAngleX,\n          deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n          _ref5$deltaAngleY = _ref5.deltaAngleY,\n          deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n          startRotatePos = _this$_state.startRotatePos,\n          startBearing = _this$_state.startBearing,\n          startPitch = _this$_state.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var newRotation;\n\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n\n      return this._getUpdatedMapState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      assert(scale > 0, '`scale` must be a positive number');\n      var _this$_state2 = this._state,\n          startZoom = _this$_state2.startZoom,\n          startZoomLngLat = _this$_state2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      assert(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n\n      var zoomedViewport = new esm[\"a\" /* WebMercatorViewport */](Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = Object(slicedToArray[\"a\" /* default */])(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, Object(esm[\"n\" /* normalizeViewportProps */])(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new esm[\"a\" /* WebMercatorViewport */](this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new esm[\"a\" /* WebMercatorViewport */](this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n          maxZoom = _this$_viewportProps.maxZoom,\n          minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n          minPitch = _this$_viewportProps2.minPitch,\n          maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps3 = this._viewportProps,\n          width = _this$_viewportProps3.width,\n          height = _this$_viewportProps3.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n\n  return MapState;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/map-constraints.js\n\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\nfunction checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : MAPBOX_LIMITS;\n\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/map-context.js\n\n\n\nfunction map_context_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction map_context_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      map_context_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      map_context_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\nvar MapContext = Object(react[\"createContext\"])({\n  viewport: null,\n  map: null,\n  container: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null\n});\nvar MapContextProvider = MapContext.Provider;\n\nfunction WrappedProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n\n  var _useState = Object(react[\"useState\"])(null),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  var context = Object(react[\"useContext\"])(MapContext);\n  value = map_context_objectSpread(map_context_objectSpread({\n    setMap: setMap\n  }, context), {}, {\n    map: context && context.map || map\n  }, value);\n  return react[\"createElement\"](MapContextProvider, {\n    value: value\n  }, children);\n}\n\nMapContext.Provider = WrappedProvider;\n/* harmony default export */ var map_context = (MapContext);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? react[\"useLayoutEffect\"] : react[\"useEffect\"];\n/* harmony default export */ var use_isomorphic_layout_effect = (useIsomorphicLayoutEffect);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/terrain.js\nfunction getTerrainElevation(map, _ref) {\n  var longitude = _ref.longitude,\n      latitude = _ref.latitude;\n\n  if (map && map.queryTerrainElevation) {\n    return map.queryTerrainElevation([longitude, latitude]) || 0;\n  }\n\n  return 0;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/static-map.js\n\n\n\nfunction static_map_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction static_map_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      static_map_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      static_map_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n\nfunction noop() {}\n\nfunction getViewport(_ref) {\n  var map = _ref.map,\n      props = _ref.props,\n      width = _ref.width,\n      height = _ref.height;\n\n  var viewportProps = static_map_objectSpread(static_map_objectSpread(static_map_objectSpread({}, props), props.viewState), {}, {\n    width: width,\n    height: height\n  });\n\n  viewportProps.position = [0, 0, getTerrainElevation(map, viewportProps)];\n  return new esm[\"a\" /* WebMercatorViewport */](viewportProps);\n}\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar propTypes = Object.assign({}, mapbox_mapbox[\"a\" /* default */].propTypes, {\n  width: prop_types[\"oneOfType\"]([prop_types[\"number\"], prop_types[\"string\"]]),\n  height: prop_types[\"oneOfType\"]([prop_types[\"number\"], prop_types[\"string\"]]),\n  onResize: prop_types[\"func\"],\n  disableTokenWarning: prop_types[\"bool\"],\n  visible: prop_types[\"bool\"],\n  className: prop_types[\"string\"],\n  style: prop_types[\"object\"],\n  visibilityConstraints: prop_types[\"object\"]\n});\nvar defaultProps = Object.assign({}, mapbox_mapbox[\"a\" /* default */].defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\n\nfunction NoTokenWarning() {\n  var style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return react[\"createElement\"](\"div\", {\n    key: \"warning\",\n    id: \"no-token-warning\",\n    style: style\n  }, react[\"createElement\"](\"h3\", {\n    key: \"header\"\n  }, NO_TOKEN_WARNING), react[\"createElement\"](\"div\", {\n    key: \"text\"\n  }, \"For information on setting up your basemap, read\"), react[\"createElement\"](\"a\", {\n    key: \"link\",\n    href: TOKEN_DOC_URL\n  }, \"Note on Map Tokens\"));\n}\n\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: function getMap() {\n      return mapboxRef.current && mapboxRef.current.getMap();\n    },\n    queryRenderedFeatures: function queryRenderedFeatures(geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\n\nvar StaticMap = Object(react[\"forwardRef\"])(function (props, ref) {\n  var _useState = Object(react[\"useState\"])(true),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      accessTokenValid = _useState2[0],\n      setTokenState = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])({\n    width: 0,\n    height: 0\n  }),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  var mapboxRef = Object(react[\"useRef\"])(null);\n  var mapDivRef = Object(react[\"useRef\"])(null);\n  var containerRef = Object(react[\"useRef\"])(null);\n  var overlayRef = Object(react[\"useRef\"])(null);\n  var context = Object(react[\"useContext\"])(map_context);\n  use_isomorphic_layout_effect(function () {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n\n    var mapbox = new mapbox_mapbox[\"a\" /* default */](static_map_objectSpread(static_map_objectSpread(static_map_objectSpread({}, props), size), {}, {\n      mapboxgl: mapbox_gl_default.a,\n      container: mapDivRef.current,\n      onError: function onError(evt) {\n        var statusCode = evt.error && evt.error.status || evt.status;\n\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          console.error(NO_TOKEN_WARNING);\n          setTokenState(false);\n        }\n\n        props.onError(evt);\n      }\n    }));\n    mapboxRef.current = mapbox;\n\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n\n    var resizeObserver = new ResizeObserver_es[\"default\"](function (entries) {\n      if (entries[0].contentRect) {\n        var _entries$0$contentRec = entries[0].contentRect,\n            _width = _entries$0$contentRec.width,\n            _height = _entries$0$contentRec.height;\n        setSize({\n          width: _width,\n          height: _height\n        });\n        props.onResize({\n          width: _width,\n          height: _height\n        });\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n    return function () {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n  use_isomorphic_layout_effect(function () {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps(static_map_objectSpread(static_map_objectSpread({}, props), size));\n    }\n  });\n  var map = mapboxRef.current && mapboxRef.current.getMap();\n  Object(react[\"useImperativeHandle\"])(ref, function () {\n    return getRefHandles(mapboxRef);\n  }, []);\n  var preventScroll = Object(react[\"useCallback\"])(function (_ref2) {\n    var target = _ref2.target;\n\n    if (target === overlayRef.current) {\n      target.scrollTo(0, 0);\n    }\n  }, []);\n  var overlays = map && react[\"createElement\"](MapContextProvider, {\n    value: static_map_objectSpread(static_map_objectSpread({}, context), {}, {\n      viewport: context.viewport || getViewport(static_map_objectSpread({\n        map: map,\n        props: props\n      }, size)),\n      map: map,\n      container: context.container || containerRef.current\n    })\n  }, react[\"createElement\"](\"div\", {\n    key: \"map-overlays\",\n    className: \"overlays\",\n    ref: overlayRef,\n    style: CONTAINER_STYLE,\n    onScroll: preventScroll\n  }, props.children));\n  var className = props.className,\n      width = props.width,\n      height = props.height,\n      style = props.style,\n      visibilityConstraints = props.visibilityConstraints;\n  var mapContainerStyle = Object.assign({\n    position: 'relative'\n  }, style, {\n    width: width,\n    height: height\n  });\n  var visible = props.visible && checkVisibilityConstraints(props.viewState || props, visibilityConstraints);\n  var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n  return react[\"createElement\"](\"div\", {\n    key: \"map-container\",\n    ref: containerRef,\n    style: mapContainerStyle\n  }, react[\"createElement\"](\"div\", {\n    key: \"map-mapbox\",\n    ref: mapDivRef,\n    style: mapStyle,\n    className: className\n  }), overlays, !accessTokenValid && !props.disableTokenWarning && react[\"createElement\"](NoTokenWarning, null));\n});\n\nStaticMap.supported = function () {\n  return mapbox_gl_default.a && mapbox_gl_default.a.supported();\n};\n\nStaticMap.propTypes = propTypes;\nStaticMap.defaultProps = defaultProps;\n/* harmony default export */ var static_map = (StaticMap);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\n\n\n\nvar transition_interpolator_TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    Object(classCallCheck[\"a\" /* default */])(this, TransitionInterpolator);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"propNames\", []);\n  }\n\n  Object(createClass[\"a\" /* default */])(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      assert(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(157);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\nvar possibleConstructorReturn = __webpack_require__(161);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js\nvar WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nfunction mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nfunction isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nfunction getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n\n  return endValue;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js\n\n\n\n\n\n\n\n\nfunction viewport_fly_to_interpolator_createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = viewport_fly_to_interpolator_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction viewport_fly_to_interpolator_unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return viewport_fly_to_interpolator_arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return viewport_fly_to_interpolator_arrayLikeToArray(o, minLen);\n}\n\nfunction viewport_fly_to_interpolator_arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return Object(possibleConstructorReturn[\"a\" /* default */])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n\n\n\n\n\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\nvar viewport_fly_to_interpolator_ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  Object(inherits[\"a\" /* default */])(ViewportFlyToInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(ViewportFlyToInterpolator);\n\n  function ViewportFlyToInterpolator() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, ViewportFlyToInterpolator);\n\n    _this = _super.call(this);\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      var _iterator = viewport_fly_to_interpolator_createForOfIteratorHelper(REQUIRED_PROPS),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = viewport_fly_to_interpolator_createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n\n          var _startValue = startProps[_key] || 0;\n\n          var _endValue = endProps[_key] || 0;\n\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = getEndValueByShortestPath(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = Object(esm[\"e\" /* flyToViewport */])(startProps, endProps, t, this.props);\n\n      var _iterator3 = viewport_fly_to_interpolator_createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n\n      if (transitionDuration === 'auto') {\n        transitionDuration = Object(esm[\"i\" /* getFlyToDuration */])(startProps, endProps, this.props);\n      }\n\n      return transitionDuration;\n    }\n  }]);\n\n  return ViewportFlyToInterpolator;\n}(transition_interpolator_TransitionInterpolator);\n\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js\n\n\n\n\n\n\n\nfunction linear_interpolator_createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = linear_interpolator_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction linear_interpolator_unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return linear_interpolator_arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return linear_interpolator_arrayLikeToArray(o, minLen);\n}\n\nfunction linear_interpolator_arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction linear_interpolator_createSuper(Derived) {\n  var hasNativeReflectConstruct = linear_interpolator_isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return Object(possibleConstructorReturn[\"a\" /* default */])(this, result);\n  };\n}\n\nfunction linear_interpolator_isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n\n\n\n\n\nvar linear_interpolator_VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar linear_interpolator_LinearInterpolator = function (_TransitionInterpolat) {\n  Object(inherits[\"a\" /* default */])(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = linear_interpolator_createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, LinearInterpolator);\n\n    _this = _super.call(this);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n\n    _this.propNames = opts.transitionProps || linear_interpolator_VIEWPORT_TRANSITION_PROPS;\n\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new esm[\"a\" /* WebMercatorViewport */](startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new esm[\"a\" /* WebMercatorViewport */](endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n\n      var _iterator = linear_interpolator_createForOfIteratorHelper(this.propNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      var _iterator2 = linear_interpolator_createForOfIteratorHelper(this.propNames),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new esm[\"a\" /* WebMercatorViewport */](Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n          lngLat: endProps.aroundLngLat,\n          pos: lerp(startProps.around, endProps.around, t)\n        }),\n            _WebMercatorViewport$2 = Object(slicedToArray[\"a\" /* default */])(_WebMercatorViewport$, 2),\n            longitude = _WebMercatorViewport$2[0],\n            latitude = _WebMercatorViewport$2[1];\n\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(transition_interpolator_TransitionInterpolator);\n\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/transition/index.js\n\n\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/transition-manager.js\n\n\n\n\n\n\n\nvar transition_manager_noop = function noop() {};\n\nfunction cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nvar TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new linear_interpolator_LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: transition_manager_noop,\n  onTransitionInterrupt: transition_manager_noop,\n  onTransitionEnd: transition_manager_noop\n};\n\nvar transition_manager_TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, TransitionManager);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"_animationFrame\", null);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || transition_manager_noop;\n    this.onStateChange = opts.onStateChange || transition_manager_noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  Object(createClass[\"a\" /* default */])(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      assert(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n\n      this._onTransitionFrame();\n\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new map_state_MapState(Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\nObject(defineProperty[\"a\" /* default */])(transition_manager_TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n\n\n// EXTERNAL MODULE: ./node_modules/mjolnir.js/dist/esm/index.js + 10 modules\nvar dist_esm = __webpack_require__(2261);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/map-controller.js\n\n\n\n\nfunction map_controller_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction map_controller_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      map_controller_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      map_controller_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nvar LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new linear_interpolator_LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\n\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\n\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar map_controller_MapController = function () {\n  function MapController() {\n    var _this = this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, MapController);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"events\", []);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"scrollZoom\", true);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"dragPan\", true);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"dragRotate\", true);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"doubleClickZoom\", true);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"touchZoom\", true);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"touchRotate\", false);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"keyboard\", true);\n\n    Object(defineProperty[\"a\" /* default */])(this, \"_interactionState\", {\n      isDragging: false\n    });\n\n    Object(defineProperty[\"a\" /* default */])(this, \"_events\", {});\n\n    Object(defineProperty[\"a\" /* default */])(this, \"_setInteractionState\", function (newState) {\n      Object.assign(_this._interactionState, newState);\n\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._interactionState);\n      }\n    });\n\n    Object(defineProperty[\"a\" /* default */])(this, \"_onTransition\", function (newViewport, oldViewport) {\n      _this.onViewportChange(newViewport, _this._interactionState, oldViewport);\n    });\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new transition_manager_TransitionManager({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n\n  Object(createClass[\"a\" /* default */])(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n      var eventStartBlocked = this._eventStartBlocked;\n\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n\n        case 'tripanmove':\n          return this._onTriplePan(event);\n\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this2 = this;\n\n      var timer = setTimeout(function () {\n        if (_this2._eventStartBlocked === timer) {\n          _this2._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState, extraProps, interactionState) {\n      var oldViewport = this.mapState instanceof map_state_MapState ? this.mapState.getViewportProps() : this.mapState;\n\n      var newViewport = map_controller_objectSpread(map_controller_objectSpread({}, newMapState.getViewportProps()), extraProps);\n\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n      this._state = newMapState.getState();\n\n      this._setInteractionState(interactionState);\n\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, this._interactionState, oldViewport);\n      }\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new map_state_MapState(map_controller_objectSpread(map_controller_objectSpread(map_controller_objectSpread({}, this.mapStateProps), this._state), overrides));\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n          onStateChange = options.onStateChange,\n          _options$eventManager = options.eventManager,\n          eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n          _options$isInteractiv = options.isInteractive,\n          isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n          _options$scrollZoom = options.scrollZoom,\n          scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n          _options$dragPan = options.dragPan,\n          dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n          _options$dragRotate = options.dragRotate,\n          dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n          _options$doubleClickZ = options.doubleClickZoom,\n          doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n          _options$touchZoom = options.touchZoom,\n          touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n          _options$touchRotate = options.touchRotate,\n          touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n          _options$keyboard = options.keyboard,\n          keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var prevOptions = this.mapStateProps || {};\n      var dimensionChanged = prevOptions.height !== options.height || prevOptions.width !== options.width;\n      this.mapStateProps = options;\n\n      if (dimensionChanged) {\n        this.mapState = prevOptions;\n        this.updateViewport(new map_state_MapState(options));\n      }\n\n      this._transitionManager.processViewportChange(options);\n\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this3 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this3._events[eventName] !== enabled) {\n            _this3._events[eventName] = enabled;\n\n            if (enabled) {\n              _this3.eventManager.on(eventName, _this3.handleEvent);\n            } else {\n              _this3.eventManager.off(eventName, _this3.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n      var newMapState = this._panRotate ? this.mapState.rotateStart({\n        pos: pos\n      }) : this.mapState.panStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      if (this.dragPan) {\n        var _this$dragPan$inertia = this.dragPan.inertia,\n            inertia = _this$dragPan$inertia === void 0 ? DEFAULT_INERTIA : _this$dragPan$inertia;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.pan({\n            pos: endPos\n          }).panEnd();\n          this.updateViewport(newControllerState, map_controller_objectSpread(map_controller_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      if (this.dragRotate) {\n        var _this$dragRotate$iner = this.dragRotate.inertia,\n            inertia = _this$dragRotate$iner === void 0 ? DEFAULT_INERTIA : _this$dragRotate$iner;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.rotate({\n            pos: endPos\n          }).rotateEnd();\n          this.updateViewport(newControllerState, map_controller_objectSpread(map_controller_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      var _this$scrollZoom = this.scrollZoom,\n          _this$scrollZoom$spee = _this$scrollZoom.speed,\n          speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n          _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n          smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n\n      if (newMapState.getViewportProps().zoom === this.mapStateProps.zoom) {\n        return false;\n      }\n\n      this.updateViewport(newMapState, map_controller_objectSpread(map_controller_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n        transitionInterpolator: new linear_interpolator_LinearInterpolator({\n          around: pos\n        }),\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isPanning: true,\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      var newMapState = this.mapState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newMapState = newMapState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: Boolean(this.touchZoom),\n        isZooming: Boolean(this.touchZoom),\n        isRotating: Boolean(this.touchRotate)\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchZoom) {\n        var _this$touchZoom$inert = this.touchZoom.inertia,\n            inertia = _this$touchZoom$inert === void 0 ? DEFAULT_INERTIA : _this$touchZoom$inert;\n        var _lastPinchEvent = this._lastPinchEvent;\n\n        if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n          var pos = this.getCenter(event);\n\n          var _newMapState = this.mapState.rotateEnd();\n\n          var z = Math.log2(event.scale);\n\n          var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n\n          var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n          _newMapState = _newMapState.zoom({\n            pos: pos,\n            scale: endScale\n          }).zoomEnd();\n          this.updateViewport(_newMapState, map_controller_objectSpread(map_controller_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionInterpolator: new linear_interpolator_LinearInterpolator({\n              around: pos\n            }),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          });\n          this.blockEvents(inertia);\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchRotate) {\n        var _this$touchRotate$ine = this.touchRotate.inertia,\n            inertia = _this$touchRotate$ine === void 0 ? DEFAULT_INERTIA : _this$touchRotate$ine;\n\n        if (inertia && event.velocityY) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n\n          var _newMapState2 = this.mapState.rotate({\n            pos: endPos\n          });\n\n          this.updateViewport(_newMapState2, map_controller_objectSpread(map_controller_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          this.blockEvents(inertia);\n          return false;\n        }\n      }\n\n      var newMapState = this.mapState.rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new linear_interpolator_LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n          _this$keyboard$zoomSp = _this$keyboard.zoomSpeed,\n          zoomSpeed = _this$keyboard$zoomSp === void 0 ? 2 : _this$keyboard$zoomSp,\n          _this$keyboard$moveSp = _this$keyboard.moveSpeed,\n          moveSpeed = _this$keyboard$moveSp === void 0 ? 100 : _this$keyboard$moveSp,\n          _this$keyboard$rotate = _this$keyboard.rotateSpeedX,\n          rotateSpeedX = _this$keyboard$rotate === void 0 ? 15 : _this$keyboard$rotate,\n          _this$keyboard$rotate2 = _this$keyboard.rotateSpeedY,\n          rotateSpeedY = _this$keyboard$rotate2 === void 0 ? 10 : _this$keyboard$rotate2;\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n\n  return MapController;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/interactive-map.js\n\n\n\n\nfunction interactive_map_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction interactive_map_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      interactive_map_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      interactive_map_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\n\n\n\n\n\nvar interactive_map_propTypes = Object.assign({}, static_map.propTypes, {\n  maxZoom: prop_types[\"number\"],\n  minZoom: prop_types[\"number\"],\n  maxPitch: prop_types[\"number\"],\n  minPitch: prop_types[\"number\"],\n  onViewStateChange: prop_types[\"func\"],\n  onViewportChange: prop_types[\"func\"],\n  onInteractionStateChange: prop_types[\"func\"],\n  transitionDuration: prop_types[\"oneOfType\"]([prop_types[\"number\"], prop_types[\"string\"]]),\n  transitionInterpolator: prop_types[\"object\"],\n  transitionInterruption: prop_types[\"number\"],\n  transitionEasing: prop_types[\"func\"],\n  onTransitionStart: prop_types[\"func\"],\n  onTransitionInterrupt: prop_types[\"func\"],\n  onTransitionEnd: prop_types[\"func\"],\n  scrollZoom: prop_types[\"oneOfType\"]([prop_types[\"bool\"], prop_types[\"object\"]]),\n  dragPan: prop_types[\"oneOfType\"]([prop_types[\"bool\"], prop_types[\"object\"]]),\n  dragRotate: prop_types[\"oneOfType\"]([prop_types[\"bool\"], prop_types[\"object\"]]),\n  doubleClickZoom: prop_types[\"bool\"],\n  touchZoom: prop_types[\"oneOfType\"]([prop_types[\"bool\"], prop_types[\"object\"]]),\n  touchRotate: prop_types[\"oneOfType\"]([prop_types[\"bool\"], prop_types[\"object\"]]),\n  keyboard: prop_types[\"oneOfType\"]([prop_types[\"bool\"], prop_types[\"object\"]]),\n  onHover: prop_types[\"func\"],\n  onClick: prop_types[\"func\"],\n  onDblClick: prop_types[\"func\"],\n  onContextMenu: prop_types[\"func\"],\n  onMouseDown: prop_types[\"func\"],\n  onMouseMove: prop_types[\"func\"],\n  onMouseUp: prop_types[\"func\"],\n  onTouchStart: prop_types[\"func\"],\n  onTouchMove: prop_types[\"func\"],\n  onTouchEnd: prop_types[\"func\"],\n  onMouseEnter: prop_types[\"func\"],\n  onMouseLeave: prop_types[\"func\"],\n  onMouseOut: prop_types[\"func\"],\n  onWheel: prop_types[\"func\"],\n  touchAction: prop_types[\"string\"],\n  eventRecognizerOptions: prop_types[\"object\"],\n  clickRadius: prop_types[\"number\"],\n  interactiveLayerIds: prop_types[\"array\"],\n  getCursor: prop_types[\"func\"],\n  controller: prop_types[\"instanceOf\"](map_controller_MapController)\n});\n\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n      isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\n\nvar interactive_map_defaultProps = Object.assign({}, static_map.defaultProps, MAPBOX_LIMITS, transition_manager_TransitionManager.defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\n\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return event;\n  }\n\n  var pos = [x, y];\n  event.point = pos;\n  var viewport = this.viewport;\n  var location = viewport.unproject(pos, {\n    targetZ: viewport.meterOffset[2]\n  });\n  event.lngLat = [location[0], location[1]];\n  return event;\n}\n\nfunction getFeatures(pos) {\n  var map = this.map;\n\n  if (!map || !pos) {\n    return null;\n  }\n\n  var queryParams = {};\n  var size = this.props.clickRadius;\n\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n\n  try {\n    return map.queryRenderedFeatures(size ? [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]] : pos, queryParams);\n  } catch (_unused) {\n    return null;\n  }\n}\n\nfunction onEvent(callbackName, event) {\n  var func = this.props[callbackName];\n\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\n\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\n\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\n\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n\n  if (!this.state.isDragging) {\n    var _this$props = this.props,\n        onHover = _this$props.onHover,\n        interactiveLayerIds = _this$props.interactiveLayerIds;\n    var features;\n    event = normalizeEvent.call(this, event);\n\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n\n    var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    var isEntering = isHovering && !this.state.isHovering;\n    var isExiting = !isHovering && this.state.isHovering;\n\n    if (onHover || isEntering) {\n      event.features = features;\n\n      if (onHover) {\n        onHover(event);\n      }\n    }\n\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n\n    if (isEntering || isExiting) {\n      this.setState({\n        isHovering: isHovering\n      });\n    }\n  }\n}\n\nfunction onPointerClick(event) {\n  var _this$props2 = this.props,\n      onClick = _this$props2.onClick,\n      onNativeClick = _this$props2.onNativeClick,\n      onDblClick = _this$props2.onDblClick,\n      doubleClickZoom = _this$props2.doubleClickZoom;\n  var callbacks = [];\n  var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    default:\n  }\n\n  callbacks = callbacks.filter(Boolean);\n\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n  }\n}\n\nfunction interactive_map_getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\n\nvar InteractiveMap = Object(react[\"forwardRef\"])(function (props, ref) {\n  var parentContext = Object(react[\"useContext\"])(map_context);\n  var controller = Object(react[\"useMemo\"])(function () {\n    return props.controller || new map_controller_MapController();\n  }, []);\n  var eventManager = Object(react[\"useMemo\"])(function () {\n    return new dist_esm[\"a\" /* EventManager */](null, {\n      touchAction: props.touchAction,\n      recognizerOptions: props.eventRecognizerOptions\n    });\n  }, []);\n  var eventCanvasRef = Object(react[\"useRef\"])(null);\n  var staticMapRef = Object(react[\"useRef\"])(null);\n\n  var _thisRef = Object(react[\"useRef\"])({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n\n  thisRef.setState = function (newState) {\n    thisRef.state = interactive_map_objectSpread(interactive_map_objectSpread({}, thisRef.state), newState);\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n\n  var inRender = true;\n  var viewportUpdateRequested;\n  var stateUpdateRequested;\n\n  var handleViewportChange = function handleViewportChange(viewState, interactionState, oldViewState) {\n    if (inRender) {\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n\n    var _thisRef$props = thisRef.props,\n        onViewStateChange = _thisRef$props.onViewStateChange,\n        onViewportChange = _thisRef$props.onViewportChange;\n    Object.defineProperty(viewState, 'position', {\n      get: function get() {\n        return [0, 0, getTerrainElevation(thisRef.map, viewState)];\n      }\n    });\n\n    if (onViewStateChange) {\n      onViewStateChange({\n        viewState: viewState,\n        interactionState: interactionState,\n        oldViewState: oldViewState\n      });\n    }\n\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n\n  Object(react[\"useImperativeHandle\"])(ref, function () {\n    return interactive_map_getRefHandles(staticMapRef);\n  }, []);\n  var context = Object(react[\"useMemo\"])(function () {\n    return interactive_map_objectSpread(interactive_map_objectSpread({}, parentContext), {}, {\n      eventManager: eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    });\n  }, [parentContext, eventCanvasRef.current]);\n  context.onViewportChange = handleViewportChange;\n  context.viewport = parentContext.viewport || getViewport(thisRef);\n  thisRef.viewport = context.viewport;\n\n  var handleInteractionStateChange = function handleInteractionStateChange(interactionState) {\n    var _interactionState$isD = interactionState.isDragging,\n        isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({\n        isDragging: isDragging\n      });\n    }\n\n    if (inRender) {\n      stateUpdateRequested = interactionState;\n      return;\n    }\n\n    var onInteractionStateChange = thisRef.props.onInteractionStateChange;\n\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n\n  var updateControllerOpts = function updateControllerOpts() {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions(interactive_map_objectSpread(interactive_map_objectSpread(interactive_map_objectSpread({}, thisRef.props), thisRef.props.viewState), {}, {\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager: eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      }));\n    }\n  };\n\n  var onResize = function onResize(_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({\n      width: width,\n      height: height\n    });\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    eventManager.setElement(eventCanvasRef.current);\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n    return function () {\n      eventManager.destroy();\n    };\n  }, []);\n  use_isomorphic_layout_effect(function () {\n    if (viewportUpdateRequested) {\n      handleViewportChange.apply(void 0, Object(toConsumableArray[\"a\" /* default */])(viewportUpdateRequested));\n    }\n\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n  updateControllerOpts();\n  var width = props.width,\n      height = props.height,\n      style = props.style,\n      getCursor = props.getCursor;\n  var eventCanvasStyle = Object(react[\"useMemo\"])(function () {\n    return interactive_map_objectSpread(interactive_map_objectSpread({\n      position: 'relative'\n    }, style), {}, {\n      width: width,\n      height: height,\n      cursor: getCursor(thisRef.state)\n    });\n  }, [style, width, height, getCursor, thisRef.state]);\n\n  if (!viewportUpdateRequested || !thisRef._child) {\n    thisRef._child = react[\"createElement\"](MapContextProvider, {\n      value: context\n    }, react[\"createElement\"](\"div\", {\n      key: \"event-canvas\",\n      ref: eventCanvasRef,\n      style: eventCanvasStyle\n    }, react[\"createElement\"](static_map, Object(esm_extends[\"a\" /* default */])({}, props, {\n      width: \"100%\",\n      height: \"100%\",\n      style: null,\n      onResize: onResize,\n      ref: staticMapRef\n    }))));\n  }\n\n  inRender = false;\n  return thisRef._child;\n});\nInteractiveMap.supported = static_map.supported;\nInteractiveMap.propTypes = interactive_map_propTypes;\nInteractiveMap.defaultProps = interactive_map_defaultProps;\n/* harmony default export */ var interactive_map = (InteractiveMap);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js\nvar esm_typeof = __webpack_require__(132);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/deep-equal.js\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (Object(esm_typeof[\"a\" /* default */])(a) === 'object' && Object(esm_typeof[\"a\" /* default */])(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/source.js\n\n\n\nfunction source_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction source_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      source_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      source_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\n\nvar source_propTypes = {\n  type: prop_types[\"string\"].isRequired,\n  id: prop_types[\"string\"]\n};\nvar sourceCounter = 0;\n\nfunction createSource(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = source_objectSpread({}, props);\n\n    delete options.id;\n    delete options.children;\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n\n  return null;\n}\n\nfunction updateSource(source, props, prevProps) {\n  assert(props.id === prevProps.id, 'source id changed');\n  assert(props.type === prevProps.type, 'source type changed');\n  var changedKey = '';\n  var changedKeyCount = 0;\n\n  for (var key in props) {\n    if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  var type = props.type;\n\n  if (type === 'geojson') {\n    source.setData(props.data);\n  } else if (type === 'image') {\n    source.updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n    source.setCoordinates(props.coordinates);\n  } else if (type === 'vector' && source.setUrl) {\n    switch (changedKey) {\n      case 'url':\n        source.setUrl(props.url);\n        break;\n\n      case 'tiles':\n        source.setTiles(props.tiles);\n        break;\n\n      default:\n    }\n  } else {\n    console.warn(\"Unable to update <Source> prop: \".concat(changedKey));\n  }\n}\n\nfunction Source(props) {\n  var context = Object(react[\"useContext\"])(map_context);\n  var propsRef = Object(react[\"useRef\"])({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = Object(react[\"useState\"])(0),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = Object(react[\"useMemo\"])(function () {\n    return props.id || \"jsx-source-\".concat(sourceCounter++);\n  }, []);\n  var map = context.map;\n  Object(react[\"useEffect\"])(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n        requestAnimationFrame(function () {\n          if (map.style && map.style._loaded && map.getSource(id)) {\n            map.removeSource(id);\n          }\n        });\n      };\n    }\n\n    return undefined;\n  }, [map, id]);\n  var source = map && map.style && map.getSource(id);\n\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n\n  propsRef.current = props;\n  return source && react[\"Children\"].map(props.children, function (child) {\n    return child && Object(react[\"cloneElement\"])(child, {\n      source: id\n    });\n  }) || null;\n}\n\nSource.propTypes = source_propTypes;\n/* harmony default export */ var components_source = (Source);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/layer.js\n\n\n\n\nfunction layer_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction layer_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      layer_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      layer_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\nvar LAYER_TYPES = ['fill', 'line', 'symbol', 'circle', 'fill-extrusion', 'raster', 'background', 'heatmap', 'hillshade', 'sky'];\nvar layer_propTypes = {\n  type: prop_types[\"oneOf\"](LAYER_TYPES).isRequired,\n  id: prop_types[\"string\"],\n  source: prop_types[\"string\"],\n  beforeId: prop_types[\"string\"]\n};\n\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n      layout = _props$layout === void 0 ? {} : _props$layout,\n      _props$paint = props.paint,\n      paint = _props$paint === void 0 ? {} : _props$paint,\n      filter = props.filter,\n      minzoom = props.minzoom,\n      maxzoom = props.maxzoom,\n      beforeId = props.beforeId,\n      otherProps = Object(objectWithoutProperties[\"a\" /* default */])(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n\n  if (layout !== prevProps.layout) {\n    var prevLayout = prevProps.layout || {};\n\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n\n    for (var _key in prevLayout) {\n      if (!layout.hasOwnProperty(_key)) {\n        map.setLayoutProperty(id, _key, undefined);\n      }\n    }\n  }\n\n  if (paint !== prevProps.paint) {\n    var prevPaint = prevProps.paint || {};\n\n    for (var _key2 in paint) {\n      if (!deepEqual(paint[_key2], prevPaint[_key2])) {\n        map.setPaintProperty(id, _key2, paint[_key2]);\n      }\n    }\n\n    for (var _key3 in prevPaint) {\n      if (!paint.hasOwnProperty(_key3)) {\n        map.setPaintProperty(id, _key3, undefined);\n      }\n    }\n  }\n\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n\n  for (var _key4 in otherProps) {\n    if (!deepEqual(otherProps[_key4], prevProps[_key4])) {\n      map.setLayerProperty(id, _key4, otherProps[_key4]);\n    }\n  }\n}\n\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = layer_objectSpread(layer_objectSpread({}, props), {}, {\n      id: id\n    });\n\n    delete options.beforeId;\n    map.addLayer(options, props.beforeId);\n  }\n}\n\nfunction updateLayer(map, id, props, prevProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error);\n  }\n}\n\nvar layerCounter = 0;\n\nfunction Layer(props) {\n  var context = Object(react[\"useContext\"])(map_context);\n  var propsRef = Object(react[\"useRef\"])({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = Object(react[\"useState\"])(0),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = Object(react[\"useMemo\"])(function () {\n    return props.id || \"jsx-layer-\".concat(layerCounter++);\n  }, []);\n  var map = context.map;\n  Object(react[\"useEffect\"])(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n\n    return undefined;\n  }, [map]);\n  var layer = map && map.style && map.getLayer(id);\n\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n\n  propsRef.current = props;\n  return null;\n}\n\nLayer.propTypes = layer_propTypes;\n/* harmony default export */ var components_layer = (Layer);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/use-map-control.js\n\n\n\nvar mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\nvar mapControlPropTypes = {\n  captureScroll: prop_types[\"bool\"],\n  captureDrag: prop_types[\"bool\"],\n  captureClick: prop_types[\"bool\"],\n  captureDoubleClick: prop_types[\"bool\"],\n  capturePointerMove: prop_types[\"bool\"]\n};\n\nfunction onMount(thisRef) {\n  var ref = thisRef.containerRef.current;\n  var eventManager = thisRef.context.eventManager;\n\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n\n  var events = {\n    wheel: function wheel(evt) {\n      var props = thisRef.props;\n\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: function panstart(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: function anyclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onNativeClick) {\n        props.onNativeClick(evt, thisRef);\n      }\n    },\n    click: function click(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: function dblclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: function pointermove(evt) {\n      var props = thisRef.props;\n\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nfunction useMapControl() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = Object(react[\"useContext\"])(map_context);\n  var containerRef = Object(react[\"useRef\"])(null);\n\n  var _thisRef = Object(react[\"useRef\"])({\n    props: props,\n    state: {},\n    context: context,\n    containerRef: containerRef\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.context = context;\n  Object(react[\"useEffect\"])(function () {\n    return onMount(thisRef);\n  }, [context.eventManager]);\n  return thisRef;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/base-control.js\n\n\n\n\n\n\n\n\n\nfunction base_control_createSuper(Derived) {\n  var hasNativeReflectConstruct = base_control_isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return Object(possibleConstructorReturn[\"a\" /* default */])(this, result);\n  };\n}\n\nfunction base_control_isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n\n\n\n\nfunction Control(props) {\n  var instance = props.instance;\n\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  instance._context = context;\n  instance._containerRef = containerRef;\n  return instance._render();\n}\n\nvar base_control_BaseControl = function (_PureComponent) {\n  Object(inherits[\"a\" /* default */])(BaseControl, _PureComponent);\n\n  var _super = base_control_createSuper(BaseControl);\n\n  function BaseControl() {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, BaseControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_context\", {});\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_containerRef\", Object(react[\"createRef\"])());\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_onScroll\", function (evt) {});\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_onDragStart\", function (evt) {});\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_onDblClick\", function (evt) {});\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_onClick\", function (evt) {});\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"_onPointerMove\", function (evt) {});\n\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(BaseControl, [{\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react[\"createElement\"](Control, Object(esm_extends[\"a\" /* default */])({\n        instance: this\n      }, this.props, {\n        onScroll: this._onScroll,\n        onDragStart: this._onDragStart,\n        onDblClick: this._onDblClick,\n        onClick: this._onClick,\n        onPointerMove: this._onPointerMove\n      }));\n    }\n  }]);\n\n  return BaseControl;\n}(react[\"PureComponent\"]);\n\nObject(defineProperty[\"a\" /* default */])(base_control_BaseControl, \"propTypes\", mapControlPropTypes);\n\nObject(defineProperty[\"a\" /* default */])(base_control_BaseControl, \"defaultProps\", mapControlDefaultProps);\n\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/draggable-control.js\n\n\n\nfunction draggable_control_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction draggable_control_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      draggable_control_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      draggable_control_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\nvar draggableControlPropTypes = Object.assign({}, mapControlPropTypes, {\n  draggable: prop_types[\"bool\"],\n  onDrag: prop_types[\"func\"],\n  onDragEnd: prop_types[\"func\"],\n  onDragStart: prop_types[\"func\"],\n  offsetLeft: prop_types[\"number\"],\n  offsetTop: prop_types[\"number\"]\n});\nvar draggableControlDefaultProps = Object.assign({}, mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nfunction getDragEventPosition(event) {\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n  return [x, y];\n}\n\nfunction getDragEventOffset(event, container) {\n  var _event$center = event.center,\n      x = _event$center.x,\n      y = _event$center.y;\n\n  if (container) {\n    var rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n\n  return null;\n}\n\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  var x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  var y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  return context.viewport.unproject([x, y]);\n}\n\nfunction onDragStart(event, _ref) {\n  var props = _ref.props,\n      callbacks = _ref.callbacks,\n      state = _ref.state,\n      context = _ref.context,\n      containerRef = _ref.containerRef;\n  var draggable = props.draggable;\n\n  if (!draggable) {\n    return;\n  }\n\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  var dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n\n  if (callbacks.onDragStart && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\n\nfunction onDrag(event, _ref2) {\n  var props = _ref2.props,\n      callbacks = _ref2.callbacks,\n      state = _ref2.state,\n      context = _ref2.context;\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n  var dragOffset = state.dragOffset;\n\n  if (callbacks.onDrag && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\n\nfunction onDragEnd(event, _ref3) {\n  var props = _ref3.props,\n      callbacks = _ref3.callbacks,\n      state = _ref3.state,\n      context = _ref3.context;\n  event.stopPropagation();\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\n\nfunction onDragCancel(event, _ref4) {\n  var state = _ref4.state;\n  event.stopPropagation();\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\n\nfunction registerEvents(thisRef) {\n  var eventManager = thisRef.context.eventManager;\n\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n\n  var events = {\n    panmove: function panmove(evt) {\n      return onDrag(evt, thisRef);\n    },\n    panend: function panend(evt) {\n      return onDragEnd(evt, thisRef);\n    },\n    pancancel: function pancancel(evt) {\n      return onDragCancel(evt, thisRef);\n    }\n  };\n  eventManager.watch(events);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nfunction useDraggableControl(props) {\n  var _useState = Object(react[\"useState\"])(null),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      dragPos = _useState2[0],\n      setDragPos = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(null),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      dragOffset = _useState4[0],\n      setDragOffset = _useState4[1];\n\n  var thisRef = useMapControl(draggable_control_objectSpread(draggable_control_objectSpread({}, props), {}, {\n    onDragStart: onDragStart\n  }));\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n  Object(react[\"useEffect\"])(function () {\n    return registerEvents(thisRef);\n  }, [thisRef.context.eventManager, Boolean(dragPos)]);\n  return thisRef;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nvar crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n\n  if (el === null) {\n    return percentage;\n  }\n\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/marker.js\n\n\n\n\n\n\n\nvar marker_propTypes = Object.assign({}, draggableControlPropTypes, {\n  className: prop_types[\"string\"],\n  longitude: prop_types[\"number\"].isRequired,\n  latitude: prop_types[\"number\"].isRequired\n});\nvar marker_defaultProps = Object.assign({}, draggableControlDefaultProps, {\n  className: ''\n});\n\nfunction getPosition(_ref) {\n  var props = _ref.props,\n      state = _ref.state,\n      context = _ref.context;\n  var longitude = props.longitude,\n      latitude = props.latitude,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop;\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  var viewport = context.viewport,\n      map = context.map;\n\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n\n  var altitude = getTerrainElevation(map, {\n    longitude: longitude,\n    latitude: latitude\n  });\n\n  var _viewport$project = viewport.project([longitude, latitude, altitude]),\n      _viewport$project2 = Object(slicedToArray[\"a\" /* default */])(_viewport$project, 2),\n      x = _viewport$project2[0],\n      y = _viewport$project2[1];\n\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\n\nfunction Marker(props) {\n  var thisRef = useDraggableControl(props);\n  var state = thisRef.state,\n      containerRef = thisRef.containerRef;\n  var children = props.children,\n      className = props.className,\n      draggable = props.draggable;\n  var dragPos = state.dragPos;\n\n  var _getPosition = getPosition(thisRef),\n      _getPosition2 = Object(slicedToArray[\"a\" /* default */])(_getPosition, 2),\n      x = _getPosition2[0],\n      y = _getPosition2[1];\n\n  var transform = \"translate(\".concat(crispPixel(x), \"px, \").concat(crispPixel(y), \"px)\");\n  var cursor = draggable ? dragPos ? 'grabbing' : 'grab' : 'auto';\n  var control = Object(react[\"useMemo\"])(function () {\n    var containerStyle = {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: transform,\n      cursor: cursor\n    };\n    return react[\"createElement\"](\"div\", {\n      className: \"mapboxgl-marker \".concat(className),\n      ref: thisRef.containerRef,\n      style: containerStyle\n    }, children);\n  }, [children, className]);\n  var container = containerRef.current;\n\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n\n  return control;\n}\n\nMarker.defaultProps = marker_defaultProps;\nMarker.propTypes = marker_propTypes;\n/* harmony default export */ var marker = (react[\"memo\"](Marker));\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js\nvar ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nfunction getDynamicPosition(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      selfWidth = _ref.selfWidth,\n      selfHeight = _ref.selfHeight,\n      anchor = _ref.anchor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n      anchorX = _ANCHOR_POSITION$anch.x,\n      anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n  if (cutoffY > 0) {\n    var bestAnchorY = anchorY;\n    var minCutoff = cutoffY;\n\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n\n    anchorY = bestAnchorY;\n  }\n\n  var xStep = 0.5;\n\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n  if (cutoffX > 0) {\n    var bestAnchorX = anchorX;\n    var _minCutoff = cutoffX;\n\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n      if (cutoffX < _minCutoff) {\n        _minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n\n    anchorX = bestAnchorX;\n  }\n\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/popup.js\n\n\n\n\n\n\n\n\nvar popup_propTypes = Object.assign({}, mapControlPropTypes, {\n  className: prop_types[\"string\"],\n  longitude: prop_types[\"number\"].isRequired,\n  latitude: prop_types[\"number\"].isRequired,\n  altitude: prop_types[\"number\"],\n  offsetLeft: prop_types[\"number\"],\n  offsetTop: prop_types[\"number\"],\n  tipSize: prop_types[\"number\"],\n  closeButton: prop_types[\"bool\"],\n  closeOnClick: prop_types[\"bool\"],\n  anchor: prop_types[\"oneOf\"](Object.keys(ANCHOR_POSITION)),\n  dynamicPosition: prop_types[\"bool\"],\n  sortByDepth: prop_types[\"bool\"],\n  onClose: prop_types[\"func\"]\n});\nvar popup_defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\n\nfunction popup_getPosition(props, viewport, el, _ref) {\n  var _ref2 = Object(slicedToArray[\"a\" /* default */])(_ref, 2),\n      x = _ref2[0],\n      y = _ref2[1];\n\n  var anchor = props.anchor,\n      dynamicPosition = props.dynamicPosition,\n      tipSize = props.tipSize;\n\n  if (el) {\n    return dynamicPosition ? getDynamicPosition({\n      x: x,\n      y: y,\n      anchor: anchor,\n      padding: tipSize,\n      width: viewport.width,\n      height: viewport.height,\n      selfWidth: el.clientWidth,\n      selfHeight: el.clientHeight\n    }) : anchor;\n  }\n\n  return anchor;\n}\n\nfunction getContainerStyle(props, viewport, el, _ref3, positionType) {\n  var _ref4 = Object(slicedToArray[\"a\" /* default */])(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  var offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      sortByDepth = props.sortByDepth;\n  var anchorPosition = ANCHOR_POSITION[positionType];\n  var left = x + offsetLeft;\n  var top = y + offsetTop;\n  var xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n  var yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n  var style = {\n    position: 'absolute',\n    transform: \"\\n      translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n      translate(\").concat(crispPixel(left), \"px, \").concat(crispPixel(top), \"px)\\n    \"),\n    display: undefined,\n    zIndex: undefined\n  };\n\n  if (!sortByDepth) {\n    return style;\n  }\n\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    style.display = 'none';\n  } else {\n    style.zIndex = Math.floor((1 - z) / 2 * 100000);\n  }\n\n  return style;\n}\n\nfunction Popup(props) {\n  var contentRef = Object(react[\"useRef\"])(null);\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n\n  var _useState = Object(react[\"useState\"])(false),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      setLoaded = _useState2[1];\n\n  Object(react[\"useEffect\"])(function () {\n    setLoaded(true);\n  }, [contentRef.current]);\n  Object(react[\"useEffect\"])(function () {\n    if (context.eventManager && props.closeOnClick) {\n      var clickCallback = function clickCallback() {\n        return thisRef.props.onClose();\n      };\n\n      context.eventManager.on('anyclick', clickCallback);\n      return function () {\n        context.eventManager.off('anyclick', clickCallback);\n      };\n    }\n\n    return undefined;\n  }, [context.eventManager, props.closeOnClick]);\n  var viewport = context.viewport,\n      map = context.map;\n  var className = props.className,\n      longitude = props.longitude,\n      latitude = props.latitude,\n      tipSize = props.tipSize,\n      closeButton = props.closeButton,\n      children = props.children;\n  var altitude = props.altitude;\n\n  if (altitude === undefined) {\n    altitude = getTerrainElevation(map, {\n      longitude: longitude,\n      latitude: latitude\n    });\n  }\n\n  var position = viewport.project([longitude, latitude, altitude]);\n  var positionType = popup_getPosition(props, viewport, contentRef.current, position);\n  var containerStyle = getContainerStyle(props, viewport, containerRef.current, position, positionType);\n  var onClickCloseButton = Object(react[\"useCallback\"])(function (evt) {\n    thisRef.props.onClose();\n    var eventManager = thisRef.context.eventManager;\n\n    if (eventManager) {\n      eventManager.once('click', function (e) {\n        return e.stopPropagation();\n      }, evt.target);\n    }\n  }, []);\n  return react[\"createElement\"](\"div\", {\n    className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n    style: containerStyle,\n    ref: containerRef\n  }, react[\"createElement\"](\"div\", {\n    key: \"tip\",\n    className: \"mapboxgl-popup-tip\",\n    style: {\n      borderWidth: tipSize\n    }\n  }), react[\"createElement\"](\"div\", {\n    key: \"content\",\n    ref: contentRef,\n    className: \"mapboxgl-popup-content\"\n  }, closeButton && react[\"createElement\"](\"button\", {\n    key: \"close-button\",\n    className: \"mapboxgl-popup-close-button\",\n    type: \"button\",\n    onClick: onClickCloseButton\n  }, \"\\xD7\"), children));\n}\n\nPopup.propTypes = popup_propTypes;\nPopup.defaultProps = popup_defaultProps;\n/* harmony default export */ var popup = (react[\"memo\"](Popup));\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/attribution-control.js\n\n\n\nfunction attribution_control_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction attribution_control_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      attribution_control_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      attribution_control_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\nvar attribution_control_propTypes = Object.assign({}, mapControlPropTypes, {\n  toggleLabel: prop_types[\"string\"],\n  className: prop_types[\"string\"],\n  style: prop_types[\"object\"],\n  compact: prop_types[\"bool\"],\n  customAttribution: prop_types[\"oneOfType\"]([prop_types[\"string\"], prop_types[\"arrayOf\"](prop_types[\"string\"])])\n});\nvar attribution_control_defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\n\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  var control = new mapbox_gl_default.a.AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n\n  control._updateAttributions();\n\n  control._updateEditLink();\n\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n  return control;\n}\n\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n\n  control._map.off('sourcedata', control._updateData);\n}\n\nfunction AttributionControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var innerContainerRef = Object(react[\"useRef\"])(null);\n\n  var _useState = Object(react[\"useState\"])(false),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      showCompact = _useState2[0],\n      setShowCompact = _useState2[1];\n\n  Object(react[\"useEffect\"])(function () {\n    var control;\n\n    if (context.map) {\n      control = setupAttributioncontrol({\n        customAttribution: props.customAttribution\n      }, context.map, containerRef.current, innerContainerRef.current);\n    }\n\n    return function () {\n      return control && removeAttributionControl(control);\n    };\n  }, [context.map]);\n  var compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n  Object(react[\"useEffect\"])(function () {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n  var toggleAttribution = Object(react[\"useCallback\"])(function () {\n    return setShowCompact(function (value) {\n      return !value;\n    });\n  }, []);\n  var style = Object(react[\"useMemo\"])(function () {\n    return attribution_control_objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react[\"createElement\"](\"div\", {\n    style: style,\n    className: props.className\n  }, react[\"createElement\"](\"div\", {\n    ref: containerRef,\n    \"aria-pressed\": showCompact,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(compact ? 'mapboxgl-compact' : '', \" \").concat(showCompact ? 'mapboxgl-compact-show' : '')\n  }, react[\"createElement\"](\"button\", {\n    type: \"button\",\n    className: \"mapboxgl-ctrl-attrib-button\",\n    title: props.toggleLabel,\n    onClick: toggleAttribution\n  }), react[\"createElement\"](\"div\", {\n    ref: innerContainerRef,\n    className: \"mapboxgl-ctrl-attrib-inner\",\n    role: \"list\"\n  })));\n}\n\nAttributionControl.propTypes = attribution_control_propTypes;\nAttributionControl.defaultProps = attribution_control_defaultProps;\n/* harmony default export */ var attribution_control = (react[\"memo\"](AttributionControl));\n// EXTERNAL MODULE: ./node_modules/react-map-gl/dist/esm/utils/globals.js\nvar globals = __webpack_require__(2080);\n\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js\n\n\n\nfunction fullscreen_control_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction fullscreen_control_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      fullscreen_control_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      fullscreen_control_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\nvar fullscreen_control_propTypes = Object.assign({}, mapControlPropTypes, {\n  className: prop_types[\"string\"],\n  style: prop_types[\"object\"],\n  container: prop_types[\"object\"],\n  label: prop_types[\"string\"]\n});\nvar fullscreen_control_defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\n\nfunction FullscreenControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = Object(react[\"useState\"])(false),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      isFullscreen = _useState2[0],\n      setIsFullscreen = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(false),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      showButton = _useState4[0],\n      setShowButton = _useState4[1];\n\n  var _useState5 = Object(react[\"useState\"])(null),\n      _useState6 = Object(slicedToArray[\"a\" /* default */])(_useState5, 2),\n      mapboxFullscreenControl = _useState6[0],\n      createMapboxFullscreenControl = _useState6[1];\n\n  Object(react[\"useEffect\"])(function () {\n    var control = new mapbox_gl_default.a.FullscreenControl();\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n\n    var onFullscreenChange = function onFullscreenChange() {\n      var nextState = !control._fullscreen;\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n\n    globals[\"a\" /* document */].addEventListener(control._fullscreenchange, onFullscreenChange);\n    return function () {\n      globals[\"a\" /* document */].removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n\n  var onClickFullscreen = function onClickFullscreen() {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._container = props.container || context.container;\n\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n\n  var style = Object(react[\"useMemo\"])(function () {\n    return fullscreen_control_objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n\n  if (!showButton) {\n    return null;\n  }\n\n  var className = props.className,\n      label = props.label;\n  var type = isFullscreen ? 'shrink' : 'fullscreen';\n  return react[\"createElement\"](\"div\", {\n    style: style,\n    className: className\n  }, react[\"createElement\"](\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, react[\"createElement\"](\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: onClickFullscreen\n  }, react[\"createElement\"](\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nFullscreenControl.propTypes = fullscreen_control_propTypes;\nFullscreenControl.defaultProps = fullscreen_control_defaultProps;\n/* harmony default export */ var fullscreen_control = (react[\"memo\"](FullscreenControl));\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js\nvar supported;\nfunction isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/geolocate-control.js\n\n\n\nfunction geolocate_control_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction geolocate_control_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      geolocate_control_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      geolocate_control_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\n\n\n\n\nvar geolocate_control_noop = function noop() {};\n\nvar geolocate_control_propTypes = Object.assign({}, mapControlPropTypes, {\n  className: prop_types[\"string\"],\n  style: prop_types[\"object\"],\n  label: prop_types[\"string\"],\n  disabledLabel: prop_types[\"string\"],\n  auto: prop_types[\"bool\"],\n  positionOptions: prop_types[\"object\"],\n  fitBoundsOptions: prop_types[\"object\"],\n  trackUserLocation: prop_types[\"bool\"],\n  showUserLocation: prop_types[\"bool\"],\n  showAccuracyCircle: prop_types[\"bool\"],\n  onViewStateChange: prop_types[\"func\"],\n  onViewportChange: prop_types[\"func\"],\n  onGeolocate: prop_types[\"func\"]\n});\nvar geolocate_control_defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 6000\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: false,\n  showUserLocation: true,\n  showAccuracyCircle: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nfunction getBounds(position) {\n  var center = new mapbox_gl_default.a.LngLat(position.coords.longitude, position.coords.latitude);\n  var radius = position.coords.accuracy;\n  var bounds = center.toBounds(radius);\n  return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n}\n\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  var control = new mapbox_gl_default.a.GeolocateControl(props);\n  control._container = globals[\"a\" /* document */].createElement('div');\n  control._map = {\n    on: function on() {},\n    _getUIString: function _getUIString() {\n      return '';\n    }\n  };\n\n  control._setupUI(true);\n\n  control._map = context.map;\n  control._geolocateButton = geolocateButton;\n  var eventManager = context.eventManager;\n\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', function () {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\n\nfunction updateCamera(position, _ref) {\n  var context = _ref.context,\n      props = _ref.props;\n  var bounds = getBounds(position);\n\n  var _context$viewport$fit = context.viewport.fitBounds(bounds, props.fitBoundsOptions),\n      longitude = _context$viewport$fit.longitude,\n      latitude = _context$viewport$fit.latitude,\n      zoom = _context$viewport$fit.zoom;\n\n  var newViewState = Object.assign({}, context.viewport, {\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var mapState = new map_state_MapState(newViewState);\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || geolocate_control_noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || geolocate_control_noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction GeolocateControl(props) {\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n  var geolocateButtonRef = Object(react[\"useRef\"])(null);\n\n  var _useState = Object(react[\"useState\"])(null),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      mapboxGeolocateControl = _useState2[0],\n      createMapboxGeolocateControl = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(false),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      supportsGeolocation = _useState4[0],\n      setSupportsGeolocation = _useState4[1];\n\n  Object(react[\"useEffect\"])(function () {\n    var control;\n\n    if (context.map) {\n      isGeolocationSupported().then(function (result) {\n        setSupportsGeolocation(result);\n\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n\n          control._updateCamera = function (position) {\n            return updateCamera(position, thisRef);\n          };\n\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n\n    return function () {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n  var triggerGeolocate = Object(react[\"useCallback\"])(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n  Object(react[\"useEffect\"])(function () {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n  Object(react[\"useEffect\"])(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n  var className = props.className,\n      label = props.label,\n      disabledLabel = props.disabledLabel,\n      trackUserLocation = props.trackUserLocation;\n  var style = Object(react[\"useMemo\"])(function () {\n    return geolocate_control_objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react[\"createElement\"](\"div\", {\n    style: style,\n    className: className\n  }, react[\"createElement\"](\"div\", {\n    key: \"geolocate-control\",\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, react[\"createElement\"](\"button\", {\n    key: \"geolocate\",\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",\n    ref: geolocateButtonRef,\n    disabled: !supportsGeolocation,\n    \"aria-pressed\": !trackUserLocation,\n    type: \"button\",\n    title: supportsGeolocation ? label : disabledLabel,\n    \"aria-label\": supportsGeolocation ? label : disabledLabel,\n    onClick: triggerGeolocate\n  }, react[\"createElement\"](\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nGeolocateControl.propTypes = geolocate_control_propTypes;\nGeolocateControl.defaultProps = geolocate_control_defaultProps;\n/* harmony default export */ var geolocate_control = (react[\"memo\"](GeolocateControl));\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/version.js\nfunction compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n\n    if (part1 < part2) {\n      return -1;\n    }\n\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/navigation-control.js\n\n\nfunction navigation_control_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction navigation_control_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      navigation_control_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      navigation_control_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\n\n\nvar navigation_control_noop = function noop() {};\n\nvar navigation_control_propTypes = Object.assign({}, mapControlPropTypes, {\n  className: prop_types[\"string\"],\n  style: prop_types[\"object\"],\n  onViewStateChange: prop_types[\"func\"],\n  onViewportChange: prop_types[\"func\"],\n  showCompass: prop_types[\"bool\"],\n  showZoom: prop_types[\"bool\"],\n  zoomInLabel: prop_types[\"string\"],\n  zoomOutLabel: prop_types[\"string\"],\n  compassLabel: prop_types[\"string\"]\n});\nvar navigation_control_defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nfunction navigation_control_updateViewport(context, props, opts) {\n  var viewport = context.viewport;\n  var mapState = new map_state_MapState(Object.assign({}, viewport, opts));\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || navigation_control_noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || navigation_control_noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction renderButton(type, label, callback, children) {\n  return react[\"createElement\"](\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: callback\n  }, children || react[\"createElement\"](\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }));\n}\n\nfunction renderCompass(context) {\n  var uiVersion = Object(react[\"useMemo\"])(function () {\n    return context.map ? getUIVersion(context.map.version) : VERSION_1_6;\n  }, [context.map]);\n  var bearing = context.viewport.bearing;\n  var style = {\n    transform: \"rotate(\".concat(-bearing, \"deg)\")\n  };\n  return uiVersion === VERSION_1_6 ? react[\"createElement\"](\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\",\n    style: style\n  }) : react[\"createElement\"](\"span\", {\n    className: \"mapboxgl-ctrl-compass-arrow\",\n    style: style\n  });\n}\n\nfunction NavigationControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var onZoomIn = function onZoomIn() {\n    navigation_control_updateViewport(context, props, {\n      zoom: context.viewport.zoom + 1\n    });\n  };\n\n  var onZoomOut = function onZoomOut() {\n    navigation_control_updateViewport(context, props, {\n      zoom: context.viewport.zoom - 1\n    });\n  };\n\n  var onResetNorth = function onResetNorth() {\n    navigation_control_updateViewport(context, props, {\n      bearing: 0,\n      pitch: 0\n    });\n  };\n\n  var className = props.className,\n      showCompass = props.showCompass,\n      showZoom = props.showZoom,\n      zoomInLabel = props.zoomInLabel,\n      zoomOutLabel = props.zoomOutLabel,\n      compassLabel = props.compassLabel;\n  var style = Object(react[\"useMemo\"])(function () {\n    return navigation_control_objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react[\"createElement\"](\"div\", {\n    style: style,\n    className: className\n  }, react[\"createElement\"](\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn), showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut), showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))));\n}\n\nNavigationControl.propTypes = navigation_control_propTypes;\nNavigationControl.defaultProps = navigation_control_defaultProps;\n/* harmony default export */ var navigation_control = (react[\"memo\"](NavigationControl));\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/components/scale-control.js\n\n\n\nfunction scale_control_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction scale_control_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      scale_control_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      scale_control_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\n\n\nvar scale_control_propTypes = Object.assign({}, mapControlPropTypes, {\n  className: prop_types[\"string\"],\n  style: prop_types[\"object\"],\n  maxWidth: prop_types[\"number\"],\n  unit: prop_types[\"oneOf\"](['imperial', 'metric', 'nautical'])\n});\nvar scale_control_defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nfunction ScaleControl(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = Object(react[\"useState\"])(null),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      mapboxScaleControl = _useState2[0],\n      createMapboxScaleControl = _useState2[1];\n\n  Object(react[\"useEffect\"])(function () {\n    if (context.map) {\n      var control = new mapbox_gl_default.a.ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n\n    mapboxScaleControl._onMove();\n  }\n\n  var style = Object(react[\"useMemo\"])(function () {\n    return scale_control_objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react[\"createElement\"](\"div\", {\n    style: style,\n    className: props.className\n  }, react[\"createElement\"](\"div\", {\n    ref: containerRef,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n  }));\n}\n\nScaleControl.propTypes = scale_control_propTypes;\nScaleControl.defaultProps = scale_control_defaultProps;\n/* harmony default export */ var scale_control = (react[\"memo\"](ScaleControl));\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js\n\n\n\n\n\nvar canvas_overlay_pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar canvas_overlay_propTypes = Object.assign({}, mapControlPropTypes, {\n  redraw: prop_types[\"func\"].isRequired\n});\nvar canvas_overlay_defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction CanvasOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = Object(react[\"useState\"])(null),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      ctx = _useState2[0],\n      setDrawingContext = _useState2[1];\n\n  Object(react[\"useEffect\"])(function () {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  if (ctx) {\n    ctx.save();\n    ctx.scale(canvas_overlay_pixelRatio, canvas_overlay_pixelRatio);\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx: ctx,\n      isDragging: isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n    ctx.restore();\n  }\n\n  return react[\"createElement\"](\"canvas\", {\n    ref: containerRef,\n    width: viewport.width * canvas_overlay_pixelRatio,\n    height: viewport.height * canvas_overlay_pixelRatio,\n    style: {\n      width: \"\".concat(viewport.width, \"px\"),\n      height: \"\".concat(viewport.height, \"px\"),\n      position: 'absolute',\n      left: 0,\n      top: 0\n    }\n  });\n}\n\nCanvasOverlay.propTypes = canvas_overlay_propTypes;\nCanvasOverlay.defaultProps = canvas_overlay_defaultProps;\n/* harmony default export */ var canvas_overlay = (CanvasOverlay);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js\n\n\nfunction html_overlay_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction html_overlay_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      html_overlay_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      html_overlay_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\nvar html_overlay_propTypes = Object.assign({}, mapControlPropTypes, {\n  redraw: prop_types[\"func\"].isRequired,\n  style: prop_types[\"object\"]\n});\nvar html_overlay_defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction HTMLOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = html_overlay_objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height\n  }, props.style);\n\n  return react[\"createElement\"](\"div\", {\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nHTMLOverlay.propTypes = html_overlay_propTypes;\nHTMLOverlay.defaultProps = html_overlay_defaultProps;\n/* harmony default export */ var html_overlay = (HTMLOverlay);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js\n\n\nfunction svg_overlay_ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction svg_overlay_objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      svg_overlay_ownKeys(Object(source), true).forEach(function (key) {\n        Object(defineProperty[\"a\" /* default */])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      svg_overlay_ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n\n\n\nvar svg_overlay_propTypes = Object.assign({}, mapControlPropTypes, {\n  redraw: prop_types[\"func\"].isRequired,\n  style: prop_types[\"object\"]\n});\nvar svg_overlay_defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction SVGOverlay(props) {\n  var _useMapControl = useMapControl(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = svg_overlay_objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }, props.style);\n\n  return react[\"createElement\"](\"svg\", {\n    width: viewport.width,\n    height: viewport.height,\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nSVGOverlay.propTypes = svg_overlay_propTypes;\nSVGOverlay.defaultProps = svg_overlay_defaultProps;\n/* harmony default export */ var svg_overlay = (SVGOverlay);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js\n\nvar setRTLTextPlugin = mapbox_gl_default.a ? mapbox_gl_default.a.setRTLTextPlugin : function () {};\n/* harmony default export */ var set_rtl_text_plugin = (setRTLTextPlugin);\n// CONCATENATED MODULE: ./node_modules/react-map-gl/dist/esm/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ 1889:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ web_mercator_viewport_WebMercatorViewport; });\n__webpack_require__.d(__webpack_exports__, \"g\", function() { return /* reexport */ get_bounds_getBounds; });\n__webpack_require__.d(__webpack_exports__, \"d\", function() { return /* reexport */ fit_bounds_fitBounds; });\n__webpack_require__.d(__webpack_exports__, \"n\", function() { return /* reexport */ normalizeViewportProps; });\n__webpack_require__.d(__webpack_exports__, \"e\", function() { return /* reexport */ flyToViewport; });\n__webpack_require__.d(__webpack_exports__, \"i\", function() { return /* reexport */ getFlyToDuration; });\n__webpack_require__.d(__webpack_exports__, \"m\", function() { return /* reexport */ lngLatToWorld; });\n__webpack_require__.d(__webpack_exports__, \"p\", function() { return /* reexport */ worldToLngLat; });\n__webpack_require__.d(__webpack_exports__, \"q\", function() { return /* reexport */ worldToPixels; });\n__webpack_require__.d(__webpack_exports__, \"o\", function() { return /* reexport */ pixelsToWorld; });\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* reexport */ altitudeToFovy; });\n__webpack_require__.d(__webpack_exports__, \"f\", function() { return /* reexport */ fovyToAltitude; });\n__webpack_require__.d(__webpack_exports__, \"j\", function() { return /* reexport */ getMeterZoom; });\n__webpack_require__.d(__webpack_exports__, \"h\", function() { return /* reexport */ getDistanceScales; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* reexport */ addMetersToLngLat; });\n__webpack_require__.d(__webpack_exports__, \"l\", function() { return /* reexport */ getViewMatrix; });\n__webpack_require__.d(__webpack_exports__, \"k\", function() { return /* reexport */ getProjectionParameters; });\n\n// UNUSED EXPORTS: default, zoomToScale, scaleToZoom, getProjectionMatrix\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/gl-matrix/esm/vec4.js\nvar vec4 = __webpack_require__(2010);\n\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\n\nfunction createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nfunction transformVector(matrix, vector) {\n  var result = vec4[\"b\" /* transformMat4 */]([], vector, matrix);\n  vec4[\"a\" /* scale */](result, result, 1 / result[3]);\n  return result;\n}\nfunction mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nfunction lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\n\nfunction ieLog2(x) {\n  return Math.log(x) * Math.LOG2E;\n}\n\nvar log2 = Math.log2 || ieLog2;\n// EXTERNAL MODULE: ./node_modules/gl-matrix/esm/mat4.js\nvar mat4 = __webpack_require__(1983);\n\n// EXTERNAL MODULE: ./node_modules/gl-matrix/esm/vec2.js\nvar vec2 = __webpack_require__(1953);\n\n// EXTERNAL MODULE: ./node_modules/gl-matrix/esm/vec3.js\nvar vec3 = __webpack_require__(1984);\n\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/assert.js\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\n\n\n\n\n\n\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEFAULT_ALTITUDE = 1.5;\nfunction zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nfunction scaleToZoom(scale) {\n  return log2(scale);\n}\nfunction lngLatToWorld(_ref) {\n  var _ref2 = Object(slicedToArray[\"a\" /* default */])(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nfunction worldToLngLat(_ref3) {\n  var _ref4 = Object(slicedToArray[\"a\" /* default */])(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nfunction getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nfunction getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\nfunction addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = Object(slicedToArray[\"a\" /* default */])(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = Object(slicedToArray[\"a\" /* default */])(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    highPrecision: true\n  }),\n      unitsPerMeter = _getDistanceScales.unitsPerMeter,\n      unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nfunction getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      scale = _ref7.scale,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = createMat4();\n  mat4[\"o\" /* translate */](vm, vm, [0, 0, -altitude]);\n  mat4[\"k\" /* rotateX */](vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4[\"m\" /* rotateZ */](vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4[\"n\" /* scale */](vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4[\"o\" /* translate */](vm, vm, vec3[\"e\" /* negate */]([], center));\n  }\n\n  return vm;\n}\nfunction getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$fovy = _ref8.fovy,\n      fovy = _ref8$fovy === void 0 ? altitudeToFovy(DEFAULT_ALTITUDE) : _ref8$fovy,\n      altitude = _ref8.altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n\n  if (altitude !== undefined) {\n    fovy = altitudeToFovy(altitude);\n  }\n\n  var halfFov = 0.5 * fovy * DEGREES_TO_RADIANS;\n  var focalDistance = fovyToAltitude(fovy);\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var topHalfSurfaceDistance = Math.sin(halfFov) * focalDistance / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + focalDistance;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: focalDistance,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nfunction getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      fovy = _ref9.fovy,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    fovy: fovy,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4[\"i\" /* perspective */]([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nfunction altitudeToFovy(altitude) {\n  return 2 * Math.atan(0.5 / altitude) * RADIANS_TO_DEGREES;\n}\nfunction fovyToAltitude(fovy) {\n  return 0.5 / Math.tan(0.5 * fovy * DEGREES_TO_RADIANS);\n}\nfunction worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = Object(slicedToArray[\"a\" /* default */])(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nfunction pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = Object(slicedToArray[\"a\" /* default */])(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2[\"c\" /* lerp */]([], coord0, coord1, t);\n}\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js\n\n\n\n\nfunction fit_bounds_fitBounds(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      bounds = _ref.bounds,\n      _ref$minExtent = _ref.minExtent,\n      minExtent = _ref$minExtent === void 0 ? 0 : _ref$minExtent,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 24 : _ref$maxZoom,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n\n  var _bounds = Object(slicedToArray[\"a\" /* default */])(bounds, 2),\n      _bounds$ = Object(slicedToArray[\"a\" /* default */])(_bounds[0], 2),\n      west = _bounds$[0],\n      south = _bounds$[1],\n      _bounds$2 = Object(slicedToArray[\"a\" /* default */])(_bounds[1], 2),\n      east = _bounds$2[0],\n      north = _bounds$2[1];\n\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n\n  var viewport = new web_mercator_viewport_WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = Math.min(maxZoom, viewport.zoom + log2(Math.abs(Math.min(scaleX, scaleY))));\n  assert(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js\n\n\n\nvar get_bounds_DEGREES_TO_RADIANS = Math.PI / 180;\nfunction get_bounds_getBounds(viewport) {\n  var z = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var width = viewport.width,\n      height = viewport.height,\n      unproject = viewport.unproject;\n  var unprojectOps = {\n    targetZ: z\n  };\n  var bottomLeft = unproject([0, height], unprojectOps);\n  var bottomRight = unproject([width, height], unprojectOps);\n  var topLeft;\n  var topRight;\n  var halfFov = viewport.fovy ? 0.5 * viewport.fovy * get_bounds_DEGREES_TO_RADIANS : Math.atan(0.5 / viewport.altitude);\n  var angleToGround = (90 - viewport.pitch) * get_bounds_DEGREES_TO_RADIANS;\n\n  if (halfFov > angleToGround - 0.01) {\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n  var z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  var t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  var coord = vec2[\"c\" /* lerp */]([], coord0, coord1, t);\n  var result = worldToLngLat(coord);\n  result[2] = targetZ;\n  return result;\n}\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js\n\n\n\n\n\n\n\n\n\n\n\n\nvar web_mercator_viewport_WebMercatorViewport = /*#__PURE__*/function () {\n  function WebMercatorViewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      width: 1,\n      height: 1\n    },\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? null : _ref$altitude,\n        _ref$fovy = _ref.fovy,\n        fovy = _ref$fovy === void 0 ? null : _ref$fovy,\n        _ref$position = _ref.position,\n        position = _ref$position === void 0 ? null : _ref$position,\n        _ref$nearZMultiplier = _ref.nearZMultiplier,\n        nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n        _ref$farZMultiplier = _ref.farZMultiplier,\n        farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n\n    Object(classCallCheck[\"a\" /* default */])(this, WebMercatorViewport);\n\n    width = width || 1;\n    height = height || 1;\n\n    if (fovy === null && altitude === null) {\n      altitude = DEFAULT_ALTITUDE;\n      fovy = altitudeToFovy(altitude);\n    } else if (fovy === null) {\n      fovy = altitudeToFovy(altitude);\n    } else if (altitude === null) {\n      altitude = fovyToAltitude(fovy);\n    }\n\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var distanceScales = getDistanceScales({\n      longitude: longitude,\n      latitude: latitude\n    });\n    var center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n\n    if (position) {\n      vec3[\"a\" /* add */](center, center, vec3[\"d\" /* mul */]([], position, distanceScales.unitsPerMeter));\n    }\n\n    this.projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      fovy: fovy,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    this.viewMatrix = getViewMatrix({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.fovy = fovy;\n    this.center = center;\n    this.meterOffset = position || [0, 0, 0];\n    this.distanceScales = distanceScales;\n\n    this._initMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    Object.freeze(this);\n  }\n\n  Object(createClass[\"a\" /* default */])(WebMercatorViewport, [{\n    key: \"_initMatrices\",\n    value: function _initMatrices() {\n      var width = this.width,\n          height = this.height,\n          projectionMatrix = this.projectionMatrix,\n          viewMatrix = this.viewMatrix;\n      var vpm = createMat4();\n      mat4[\"g\" /* multiply */](vpm, vpm, projectionMatrix);\n      mat4[\"g\" /* multiply */](vpm, vpm, viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      var m = createMat4();\n      mat4[\"n\" /* scale */](m, m, [width / 2, -height / 2, 1]);\n      mat4[\"o\" /* translate */](m, m, [1, -1, 0]);\n      mat4[\"g\" /* multiply */](m, m, vpm);\n      var mInverse = mat4[\"e\" /* invert */](createMat4(), m);\n\n      if (!mInverse) {\n        throw new Error('Pixel project matrix not invertible');\n      }\n\n      this.pixelProjectionMatrix = m;\n      this.pixelUnprojectionMatrix = mInverse;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4[\"b\" /* equals */](viewport.projectionMatrix, this.projectionMatrix) && mat4[\"b\" /* equals */](viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = Object(slicedToArray[\"a\" /* default */])(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          _ref3$targetZ = _ref3.targetZ,\n          targetZ = _ref3$targetZ === void 0 ? undefined : _ref3$targetZ;\n\n      var _xyz = Object(slicedToArray[\"a\" /* default */])(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = Object(slicedToArray[\"a\" /* default */])(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _lngLatToWorld = lngLatToWorld(xyz),\n          _lngLatToWorld2 = Object(slicedToArray[\"a\" /* default */])(_lngLatToWorld, 2),\n          X = _lngLatToWorld2[0],\n          Y = _lngLatToWorld2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _worldToLngLat = worldToLngLat(xyz),\n          _worldToLngLat2 = Object(slicedToArray[\"a\" /* default */])(_worldToLngLat, 2),\n          X = _worldToLngLat2[0],\n          Y = _worldToLngLat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return lngLatToWorld(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return worldToLngLat(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref4) {\n      var lngLat = _ref4.lngLat,\n          pos = _ref4.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat);\n      var translate = vec2[\"a\" /* add */]([], toLocation, vec2[\"d\" /* negate */]([], fromLocation));\n      var newCenter = vec2[\"a\" /* add */]([], this.center, translate);\n      return worldToLngLat(newCenter);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref5) {\n      var lngLat = _ref5.lngLat,\n          pos = _ref5.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = fit_bounds_fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds(options) {\n      var corners = this.getBoundingRegion(options);\n      var west = Math.min.apply(Math, Object(toConsumableArray[\"a\" /* default */])(corners.map(function (p) {\n        return p[0];\n      })));\n      var east = Math.max.apply(Math, Object(toConsumableArray[\"a\" /* default */])(corners.map(function (p) {\n        return p[0];\n      })));\n      var south = Math.min.apply(Math, Object(toConsumableArray[\"a\" /* default */])(corners.map(function (p) {\n        return p[1];\n      })));\n      var north = Math.max.apply(Math, Object(toConsumableArray[\"a\" /* default */])(corners.map(function (p) {\n        return p[1];\n      })));\n      return [[west, south], [east, north]];\n    }\n  }, {\n    key: \"getBoundingRegion\",\n    value: function getBoundingRegion() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return get_bounds_getBounds(this, options.z || 0);\n    }\n  }]);\n\n  return WebMercatorViewport;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js\n\n\nvar normalize_viewport_props_TILE_SIZE = 512;\nfunction normalizeViewportProps(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      longitude = _ref.longitude,\n      latitude = _ref.latitude,\n      zoom = _ref.zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n\n  var minZoom = log2(height / normalize_viewport_props_TILE_SIZE);\n\n  if (zoom <= minZoom) {\n    zoom = minZoom;\n    latitude = 0;\n  } else {\n    var halfHeightPixels = height / 2 / Math.pow(2, zoom);\n    var minLatitude = worldToLngLat([0, halfHeightPixels])[1];\n\n    if (latitude < minLatitude) {\n      latitude = minLatitude;\n    } else {\n      var maxLatitude = worldToLngLat([0, normalize_viewport_props_TILE_SIZE - halfHeightPixels])[1];\n\n      if (latitude > maxLatitude) {\n        latitude = maxLatitude;\n      }\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js\n\n\n\n\nvar EPSILON = 0.01;\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nvar DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nfunction flyToViewport(startProps, endProps, t) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var viewport = {};\n\n  var _getFlyToTransitionPa = getFlyToTransitionParams(startProps, endProps, opts),\n      startZoom = _getFlyToTransitionPa.startZoom,\n      startCenterXY = _getFlyToTransitionPa.startCenterXY,\n      uDelta = _getFlyToTransitionPa.uDelta,\n      w0 = _getFlyToTransitionPa.w0,\n      u1 = _getFlyToTransitionPa.u1,\n      S = _getFlyToTransitionPa.S,\n      rho = _getFlyToTransitionPa.rho,\n      rho2 = _getFlyToTransitionPa.rho2,\n      r0 = _getFlyToTransitionPa.r0;\n\n  if (u1 < EPSILON) {\n    var _iterator = Object(createForOfIteratorHelper[\"a\" /* default */])(VIEWPORT_TRANSITION_PROPS),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        var startValue = startProps[key];\n        var endValue = endProps[key];\n        viewport[key] = lerp(startValue, endValue, t);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return viewport;\n  }\n\n  var s = t * S;\n  var w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  var u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  var scaleIncrement = 1 / w;\n  var newZoom = startZoom + scaleToZoom(scaleIncrement);\n  var newCenterWorld = vec2[\"e\" /* scale */]([], uDelta, u);\n  vec2[\"a\" /* add */](newCenterWorld, newCenterWorld, startCenterXY);\n  var newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\nfunction getFlyToDuration(startProps, endProps) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var _opts = opts,\n      screenSpeed = _opts.screenSpeed,\n      speed = _opts.speed,\n      maxDuration = _opts.maxDuration;\n\n  var _getFlyToTransitionPa2 = getFlyToTransitionParams(startProps, endProps, opts),\n      S = _getFlyToTransitionPa2.S,\n      rho = _getFlyToTransitionPa2.rho;\n\n  var length = 1000 * S;\n  var duration;\n\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var rho = opts.curve;\n  var startZoom = startProps.zoom;\n  var startCenter = [startProps.longitude, startProps.latitude];\n  var startScale = zoomToScale(startZoom);\n  var endZoom = endProps.zoom;\n  var endCenter = [endProps.longitude, endProps.latitude];\n  var scale = zoomToScale(endZoom - startZoom);\n  var startCenterXY = lngLatToWorld(startCenter);\n  var endCenterXY = lngLatToWorld(endCenter);\n  var uDelta = vec2[\"f\" /* sub */]([], endCenterXY, startCenterXY);\n  var w0 = Math.max(startProps.width, startProps.height);\n  var w1 = w0 / scale;\n  var u1 = vec2[\"b\" /* length */](uDelta) * startScale;\n\n  var _u1 = Math.max(u1, EPSILON);\n\n  var rho2 = rho * rho;\n  var b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  var b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  var r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  var r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  var S = (r1 - r0) / rho;\n  return {\n    startZoom: startZoom,\n    startCenterXY: startCenterXY,\n    uDelta: uDelta,\n    w0: w0,\n    u1: u1,\n    S: S,\n    rho: rho,\n    rho2: rho2,\n    r0: r0,\n    r1: r1\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@math.gl/web-mercator/dist/esm/index.js\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ 1953:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export create */\n/* unused harmony export clone */\n/* unused harmony export fromValues */\n/* unused harmony export copy */\n/* unused harmony export set */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return add; });\n/* unused harmony export subtract */\n/* unused harmony export multiply */\n/* unused harmony export divide */\n/* unused harmony export ceil */\n/* unused harmony export floor */\n/* unused harmony export min */\n/* unused harmony export max */\n/* unused harmony export round */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return scale; });\n/* unused harmony export scaleAndAdd */\n/* unused harmony export distance */\n/* unused harmony export squaredDistance */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return length; });\n/* unused harmony export squaredLength */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return negate; });\n/* unused harmony export inverse */\n/* unused harmony export normalize */\n/* unused harmony export dot */\n/* unused harmony export cross */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return lerp; });\n/* unused harmony export random */\n/* unused harmony export transformMat2 */\n/* unused harmony export transformMat2d */\n/* unused harmony export transformMat3 */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return transformMat4; });\n/* unused harmony export rotate */\n/* unused harmony export angle */\n/* unused harmony export zero */\n/* unused harmony export str */\n/* unused harmony export exactEquals */\n/* unused harmony export equals */\n/* unused harmony export len */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return sub; });\n/* unused harmony export mul */\n/* unused harmony export div */\n/* unused harmony export dist */\n/* unused harmony export sqrDist */\n/* unused harmony export sqrLen */\n/* unused harmony export forEach */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2011);\n\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](2);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"] != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nfunction fromValues(x, y) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nfunction rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nvar len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nvar sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nvar mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nvar div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nvar dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();\n\n/***/ }),\n\n/***/ 1983:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export create */\n/* unused harmony export clone */\n/* unused harmony export copy */\n/* unused harmony export fromValues */\n/* unused harmony export set */\n/* unused harmony export identity */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return transpose; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return invert; });\n/* unused harmony export adjoint */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return determinant; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return multiply; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return translate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return scale; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return rotate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return rotateX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return rotateY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return rotateZ; });\n/* unused harmony export fromTranslation */\n/* unused harmony export fromScaling */\n/* unused harmony export fromRotation */\n/* unused harmony export fromXRotation */\n/* unused harmony export fromYRotation */\n/* unused harmony export fromZRotation */\n/* unused harmony export fromRotationTranslation */\n/* unused harmony export fromQuat2 */\n/* unused harmony export getTranslation */\n/* unused harmony export getScaling */\n/* unused harmony export getRotation */\n/* unused harmony export fromRotationTranslationScale */\n/* unused harmony export fromRotationTranslationScaleOrigin */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return fromQuat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return frustum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return perspective; });\n/* unused harmony export perspectiveFromFieldOfView */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return ortho; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return lookAt; });\n/* unused harmony export targetTo */\n/* unused harmony export str */\n/* unused harmony export frob */\n/* unused harmony export add */\n/* unused harmony export subtract */\n/* unused harmony export multiplyScalar */\n/* unused harmony export multiplyScalarAndAdd */\n/* unused harmony export exactEquals */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return equals; });\n/* unused harmony export mul */\n/* unused harmony export sub */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2011);\n\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](16);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"] != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"]) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"]) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] && Math.abs(eyey - centery) < _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] && Math.abs(eyez - centerz) < _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"]) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nvar mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nvar sub = subtract;\n\n/***/ }),\n\n/***/ 1984:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export create */\n/* unused harmony export clone */\n/* unused harmony export length */\n/* unused harmony export fromValues */\n/* unused harmony export copy */\n/* unused harmony export set */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return add; });\n/* unused harmony export subtract */\n/* unused harmony export multiply */\n/* unused harmony export divide */\n/* unused harmony export ceil */\n/* unused harmony export floor */\n/* unused harmony export min */\n/* unused harmony export max */\n/* unused harmony export round */\n/* unused harmony export scale */\n/* unused harmony export scaleAndAdd */\n/* unused harmony export distance */\n/* unused harmony export squaredDistance */\n/* unused harmony export squaredLength */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return negate; });\n/* unused harmony export inverse */\n/* unused harmony export normalize */\n/* unused harmony export dot */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return cross; });\n/* unused harmony export lerp */\n/* unused harmony export hermite */\n/* unused harmony export bezier */\n/* unused harmony export random */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return transformMat4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return transformMat3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return transformQuat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return rotateX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return rotateY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return rotateZ; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return angle; });\n/* unused harmony export zero */\n/* unused harmony export str */\n/* unused harmony export exactEquals */\n/* unused harmony export equals */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return sub; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return mul; });\n/* unused harmony export div */\n/* unused harmony export dist */\n/* unused harmony export sqrDist */\n/* unused harmony export len */\n/* unused harmony export sqrLen */\n/* unused harmony export forEach */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2011);\n\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](3);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"] != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction fromValues(x, y, z) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2.0 * Math.PI;\n  var z = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nvar sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nvar mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nvar div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nvar dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nvar len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\n/***/ }),\n\n/***/ 2010:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export create */\n/* unused harmony export clone */\n/* unused harmony export fromValues */\n/* unused harmony export copy */\n/* unused harmony export set */\n/* unused harmony export add */\n/* unused harmony export subtract */\n/* unused harmony export multiply */\n/* unused harmony export divide */\n/* unused harmony export ceil */\n/* unused harmony export floor */\n/* unused harmony export min */\n/* unused harmony export max */\n/* unused harmony export round */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return scale; });\n/* unused harmony export scaleAndAdd */\n/* unused harmony export distance */\n/* unused harmony export squaredDistance */\n/* unused harmony export length */\n/* unused harmony export squaredLength */\n/* unused harmony export negate */\n/* unused harmony export inverse */\n/* unused harmony export normalize */\n/* unused harmony export dot */\n/* unused harmony export cross */\n/* unused harmony export lerp */\n/* unused harmony export random */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return transformMat4; });\n/* unused harmony export transformQuat */\n/* unused harmony export zero */\n/* unused harmony export str */\n/* unused harmony export exactEquals */\n/* unused harmony export equals */\n/* unused harmony export sub */\n/* unused harmony export mul */\n/* unused harmony export div */\n/* unused harmony export dist */\n/* unused harmony export sqrDist */\n/* unused harmony export len */\n/* unused harmony export sqrLen */\n/* unused harmony export forEach */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2011);\n\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](4);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"] != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nfunction fromValues(x, y, z, w) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__[/* ARRAY_TYPE */ \"a\"](4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2 - 1;\n    v2 = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2 - 1;\n    v4 = _common_js__WEBPACK_IMPORTED_MODULE_0__[/* RANDOM */ \"c\"]() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__[/* EPSILON */ \"b\"] * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nvar sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nvar mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nvar div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nvar dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nvar len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();\n\n/***/ }),\n\n/***/ 2011:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return EPSILON; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ARRAY_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return RANDOM; });\n/* unused harmony export setMatrixArrayType */\n/* unused harmony export toRadian */\n/* unused harmony export equals */\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n\n/***/ }),\n\n/***/ 2080:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* unused harmony export window */\n/* unused harmony export global */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return document_; });\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(91)))\n\n/***/ }),\n\n/***/ 2261:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ event_manager_EventManager; });\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(147);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(65);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/hammerjs/hammer.js\nvar hammer = __webpack_require__(2665);\nvar hammer_default = /*#__PURE__*/__webpack_require__.n(hammer);\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\nfunction some(array, predict) {\n  for (var i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction enhancePointerEventInput(PointerEventInput) {\n  var oldHandler = PointerEventInput.prototype.handler;\n\n  PointerEventInput.prototype.handler = function handler(ev) {\n    var store = this.store;\n\n    if (ev.button > 0 && ev.type === 'pointerdown') {\n      if (!some(store, function (e) {\n        return e.pointerId === ev.pointerId;\n      })) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\nfunction enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    var eventType = MOUSE_INPUT_MAP[ev.type];\n\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js\n\n\nenhancePointerEventInput(hammer_default.a.PointerEventInput);\nenhanceMouseInput(hammer_default.a.MouseInput);\nvar Manager = hammer_default.a.Manager;\n/* harmony default export */ var hammer_browser = (hammer_default.a);\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/constants.js\n\nvar RECOGNIZERS = hammer_browser ? [[hammer_browser.Pan, {\n  event: 'tripan',\n  pointers: 3,\n  threshold: 0,\n  enable: false\n}], [hammer_browser.Rotate, {\n  enable: false\n}], [hammer_browser.Pinch, {\n  enable: false\n}], [hammer_browser.Swipe, {\n  enable: false\n}], [hammer_browser.Pan, {\n  threshold: 0,\n  enable: false\n}], [hammer_browser.Press, {\n  enable: false\n}], [hammer_browser.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [hammer_browser.Tap, {\n  event: 'anytap',\n  enable: false\n}], [hammer_browser.Tap, {\n  enable: false\n}]] : null;\nvar RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nvar RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nvar BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nvar INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel']\n};\nvar EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nvar GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};\n// EXTERNAL MODULE: ./node_modules/mjolnir.js/dist/esm/utils/globals.js\nvar globals = __webpack_require__(2666);\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js\n\n\n\n\nvar firefox = globals[\"b\" /* userAgent */].indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\nvar SHIFT_MULTIPLIER = 0.25;\n\nvar wheel_input_WheelInput = /*#__PURE__*/function () {\n  function WheelInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, WheelInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, globals[\"a\" /* passiveSupported */] ? {\n        passive: false\n      } : false);\n    });\n  }\n\n  Object(createClass[\"a\" /* default */])(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      var value = event.deltaY;\n\n      if (globals[\"c\" /* window */].WheelEvent) {\n        if (firefox && event.deltaMode === globals[\"c\" /* window */].WheelEvent.DOM_DELTA_PIXEL) {\n          value /= globals[\"c\" /* window */].devicePixelRatio;\n        }\n\n        if (event.deltaMode === globals[\"c\" /* window */].WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n\n      var wheelPosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n\n      this._onWheel(event, -value, wheelPosition);\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(srcEvent, delta, position) {\n      this.callback({\n        type: EVENT_TYPE,\n        center: position,\n        delta: delta,\n        srcEvent: srcEvent,\n        pointerType: 'mouse',\n        target: srcEvent.target\n      });\n    }\n  }]);\n\n  return WheelInput;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/inputs/move-input.js\n\n\n\nvar MOUSE_EVENTS = INPUT_EVENT_TYPES.MOUSE_EVENTS;\nvar MOVE_EVENT_TYPE = 'pointermove';\nvar OVER_EVENT_TYPE = 'pointerover';\nvar OUT_EVENT_TYPE = 'pointerout';\nvar LEAVE_EVENT_TYPE = 'pointerleave';\n\nvar move_input_MoveInput = /*#__PURE__*/function () {\n  function MoveInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, MoveInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  Object(createClass[\"a\" /* default */])(MoveInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === MOVE_EVENT_TYPE) {\n        this.enableMoveEvent = enabled;\n      }\n\n      if (eventType === OVER_EVENT_TYPE) {\n        this.enableOverEvent = enabled;\n      }\n\n      if (eventType === OUT_EVENT_TYPE) {\n        this.enableOutEvent = enabled;\n      }\n\n      if (eventType === LEAVE_EVENT_TYPE) {\n        this.enableLeaveEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.handleOverEvent(event);\n      this.handleOutEvent(event);\n      this.handleLeaveEvent(event);\n      this.handleMoveEvent(event);\n    }\n  }, {\n    key: \"handleOverEvent\",\n    value: function handleOverEvent(event) {\n      if (this.enableOverEvent) {\n        if (event.type === 'mouseover') {\n          this.callback({\n            type: OVER_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleOutEvent\",\n    value: function handleOutEvent(event) {\n      if (this.enableOutEvent) {\n        if (event.type === 'mouseout') {\n          this.callback({\n            type: OUT_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleLeaveEvent\",\n    value: function handleLeaveEvent(event) {\n      if (this.enableLeaveEvent) {\n        if (event.type === 'mouseleave') {\n          this.callback({\n            type: LEAVE_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleMoveEvent\",\n    value: function handleMoveEvent(event) {\n      if (this.enableMoveEvent) {\n        switch (event.type) {\n          case 'mousedown':\n            if (event.button >= 0) {\n              this.pressed = true;\n            }\n\n            break;\n\n          case 'mousemove':\n            if (event.which === 0) {\n              this.pressed = false;\n            }\n\n            if (!this.pressed) {\n              this.callback({\n                type: MOVE_EVENT_TYPE,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n              });\n            }\n\n            break;\n\n          case 'mouseup':\n            this.pressed = false;\n            break;\n\n          default:\n        }\n      }\n    }\n  }]);\n\n  return MoveInput;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/inputs/key-input.js\n\n\n\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\n\nvar key_input_KeyInput = /*#__PURE__*/function () {\n  function KeyInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, KeyInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  Object(createClass[\"a\" /* default */])(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var targetElement = event.target || event.srcElement;\n\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (this.enableDownEvent && event.type === 'keydown') {\n        this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n\n      if (this.enableUpEvent && event.type === 'keyup') {\n        this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    }\n  }]);\n\n  return KeyInput;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js\n\n\nvar contextmenu_input_EVENT_TYPE = 'contextmenu';\n\nvar contextmenu_input_ContextmenuInput = /*#__PURE__*/function () {\n  function ContextmenuInput(element, callback) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, ContextmenuInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  Object(createClass[\"a\" /* default */])(ContextmenuInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === contextmenu_input_EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      this.callback({\n        type: contextmenu_input_EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    }\n  }]);\n\n  return ContextmenuInput;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/utils/event-utils.js\nvar DOWN_EVENT = 1;\nvar MOVE_EVENT = 2;\nvar UP_EVENT = 4;\nvar event_utils_MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nvar MOUSE_EVENT_WHICH_LEFT = 1;\nvar MOUSE_EVENT_WHICH_MIDDLE = 2;\nvar MOUSE_EVENT_WHICH_RIGHT = 3;\nvar MOUSE_EVENT_BUTTON_LEFT = 0;\nvar MOUSE_EVENT_BUTTON_MIDDLE = 1;\nvar MOUSE_EVENT_BUTTON_RIGHT = 2;\nvar MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nvar MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nvar MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nfunction whichButtons(event) {\n  var eventType = event_utils_MOUSE_EVENTS[event.srcEvent.type];\n\n  if (!eventType) {\n    return null;\n  }\n\n  var _event$srcEvent = event.srcEvent,\n      buttons = _event$srcEvent.buttons,\n      button = _event$srcEvent.button,\n      which = _event$srcEvent.which;\n  var leftButton = false;\n  var middleButton = false;\n  var rightButton = false;\n\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {\n    leftButton: leftButton,\n    middleButton: middleButton,\n    rightButton: rightButton\n  };\n}\nfunction getOffsetPosition(event, rootElement) {\n  var srcEvent = event.srcEvent;\n\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n\n  var center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  var rect = rootElement.getBoundingClientRect();\n  var scaleX = rect.width / rootElement.offsetWidth || 1;\n  var scaleY = rect.height / rootElement.offsetHeight || 1;\n  var offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center: center,\n    offsetCenter: offsetCenter\n  };\n}\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js\n\n\n\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nvar event_registrar_EventRegistrar = /*#__PURE__*/function () {\n  function EventRegistrar(eventManager) {\n    Object(classCallCheck[\"a\" /* default */])(this, EventRegistrar);\n\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  Object(createClass[\"a\" /* default */])(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      if (opts && (typeof opts !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n\n      if (once) {\n        entry.once = true;\n      }\n\n      if (passive) {\n        entry.passive = true;\n      }\n\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n\n        insertPosition--;\n      }\n\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n\n          if (entries.length === 0) {\n            handlersByElement.delete(entry.srcElement);\n          }\n        }\n      }\n\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n\n      var mjolnirEvent = this._normalizeEvent(event);\n\n      var target = event.srcEvent.target;\n\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n\n        if (mjolnirEvent.handled) {\n          return;\n        }\n\n        target = target.parentNode;\n      }\n\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n\n      if (entries) {\n        var immediatePropagationStopped = false;\n\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n\n        var entriesToRemove = [];\n\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n              type = _entries$i.type,\n              handler = _entries$i.handler,\n              once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n              _type = _entriesToRemove$_i.type,\n              _handler = _entriesToRemove$_i.handler;\n          this.remove(_type, _handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n\n  return EventRegistrar;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/event-manager.js\n\n\n\n\n\n\n\n\n\n\n\nvar event_manager_DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\n\nvar event_manager_EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    Object(classCallCheck[\"a\" /* default */])(this, EventManager);\n\n    this.options = Object.assign({}, event_manager_DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  Object(createClass[\"a\" /* default */])(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n\n      if (this.element) {\n        this.destroy();\n      }\n\n      this.element = element;\n\n      if (!element) {\n        return;\n      }\n\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n\n      if (!options.recognizers) {\n        Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n\n          if (recognizer) {\n            RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n\n      this.wheelInput = new wheel_input_WheelInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new move_input_MoveInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new key_input_KeyInput(element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new contextmenu_input_ContextmenuInput(element, this._onOtherEvent, {\n        enable: false\n      });\n\n      var _iterator = Object(createForOfIteratorHelper[\"a\" /* default */])(this.events),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = Object(slicedToArray[\"a\" /* default */])(_step.value, 2),\n              eventAlias = _step$value[0],\n              eventRegistrar = _step$value[1];\n\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n\n      if (!manager) {\n        return;\n      }\n\n      var recognizer = manager.get(name);\n\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n\n        return;\n      }\n\n      var manager = this.manager,\n          events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        eventRegistrar = new event_registrar_EventRegistrar(this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n\n      eventRegistrar.add(event, handler, opts, once, passive);\n\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n\n        return;\n      }\n\n      var events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        return;\n      }\n\n      eventRegistrar.remove(event, handler);\n\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n\n        var _iterator2 = Object(createForOfIteratorHelper[\"a\" /* default */])(events.values()),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var eh = _step2.value;\n\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = BASIC_EVENT_ALIASES[srcEvent.type];\n\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n\n  return EventManager;\n}();\n\n\n// CONCATENATED MODULE: ./node_modules/mjolnir.js/dist/esm/index.js\n\n\n/***/ }),\n\n/***/ 2662:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {/* unused harmony export getAccessToken */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Mapbox; });\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86);\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70);\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(33);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils_globals__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2080);\n/* harmony import */ var _utils_style_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2663);\n\n\n\n\n\n\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\n\nvar propTypes = {\n  container: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"object\"],\n  gl: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"object\"],\n  mapboxApiAccessToken: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"],\n  mapboxApiUrl: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"],\n  attributionControl: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"bool\"],\n  preserveDrawingBuffer: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"bool\"],\n  reuseMaps: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"bool\"],\n  transformRequest: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"func\"],\n  mapOptions: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"object\"],\n  mapStyle: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"oneOfType\"]([prop_types__WEBPACK_IMPORTED_MODULE_3__[\"string\"], prop_types__WEBPACK_IMPORTED_MODULE_3__[\"object\"]]),\n  preventStyleDiffing: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"bool\"],\n  visible: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"bool\"],\n  asyncRender: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"bool\"],\n  onLoad: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"func\"],\n  onError: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"func\"],\n  width: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  height: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  viewState: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"object\"],\n  longitude: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  latitude: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  zoom: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  bearing: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  pitch: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"],\n  altitude: prop_types__WEBPACK_IMPORTED_MODULE_3__[\"number\"]\n};\nvar defaultProps = {\n  container: _utils_globals__WEBPACK_IMPORTED_MODULE_4__[/* document */ \"a\"].body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nfunction getAccessToken() {\n  var accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).MapboxAccessToken || Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n\n  return accessToken || 'no-token';\n}\n\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n\n  if (props.debug) {\n    prop_types__WEBPACK_IMPORTED_MODULE_3__[\"checkPropTypes\"](propTypes, props, 'prop', component);\n  }\n}\n\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n\n    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(this, Mapbox);\n\n    Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, \"props\", defaultProps);\n\n    Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, \"width\", 0);\n\n    Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, \"height\", 0);\n\n    Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n\n    Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, \"_handleError\", function (event) {\n      _this.props.onError(event);\n    });\n\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n\n          map._frame = null;\n        }\n\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n\n      var oldContainer = this._map.getContainer();\n\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n\n      if (props.mapStyle) {\n        this._map.setStyle(Object(_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__[/* normalizeStyle */ \"a\"])(props.mapStyle), {\n          diff: false\n        });\n      }\n\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: Object(_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__[/* normalizeStyle */ \"a\"])(props.mapStyle),\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n        this._map.once('load', this._fireLoadEvent);\n\n        this._map.on('error', this._handleError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n\n      if (this.props.reuseMaps && !Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n\n        this._map.off('load', this._fireLoadEvent);\n\n        this._map.off('error', this._handleError);\n\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n      this._create(props);\n\n      var _props = props,\n          container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n\n      var canvas = this._map.getCanvas();\n\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n\n      this._updateMapViewport({}, props);\n\n      this._updateMapSize({}, props);\n\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n\n      this._updateMapStyle(oldProps, newProps);\n\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n\n      if (styleChanged) {\n        this._map.setStyle(Object(_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__[/* normalizeStyle */ \"a\"])(newProps.mapStyle), {\n          diff: !newProps.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n\n        this._map.resize();\n      }\n\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n\n      var newViewState = this._getViewState(newProps);\n\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n          longitude = _ref.longitude,\n          latitude = _ref.latitude,\n          zoom = _ref.zoom,\n          _ref$pitch = _ref.pitch,\n          pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n          _ref$bearing = _ref.bearing,\n          bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n          _ref$altitude = _ref.altitude,\n          altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n\n      if (typeof _utils_globals__WEBPACK_IMPORTED_MODULE_4__[/* document */ \"a\"] === 'undefined') {\n        return;\n      }\n\n      try {\n        var testElement = _utils_globals__WEBPACK_IMPORTED_MODULE_4__[/* document */ \"a\"].createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        _utils_globals__WEBPACK_IMPORTED_MODULE_4__[/* document */ \"a\"].body.appendChild(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n        if (!isCssLoaded) {\n          var link = _utils_globals__WEBPACK_IMPORTED_MODULE_4__[/* document */ \"a\"].createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          _utils_globals__WEBPACK_IMPORTED_MODULE_4__[/* document */ \"a\"].head.appendChild(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n\n  return Mapbox;\n}();\n\nObject(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Mapbox, \"initialized\", false);\n\nObject(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Mapbox, \"propTypes\", propTypes);\n\nObject(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Mapbox, \"defaultProps\", defaultProps);\n\nObject(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Mapbox, \"savedMap\", null);\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(92)))\n\n/***/ }),\n\n/***/ 2663:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return normalizeStyle; });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33);\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nfunction normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (style.toJS) {\n    style = style.toJS();\n  }\n\n  var layerIndex = {};\n\n  var _iterator = _createForOfIteratorHelper(style.layers),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}\n\n/***/ }),\n\n/***/ 2665:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = ('ontouchstart' in window);\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined; // magical touchAction value\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  }); // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n\n  freeGlobal.Hammer = Hammer;\n\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return Hammer;\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n})(window, document, 'Hammer');\n\n/***/ }),\n\n/***/ 2666:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return userAgent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return window_; });\n/* unused harmony export global */\n/* unused harmony export document */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return passiveSupported; });\nvar userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\n\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(91)))\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/node_modules/viewport-mercator-project/module.js","../../../src/utils/math-utils.js","../../../src/utils/assert.js","../../../src/utils/map-state.js","../../../src/utils/map-constraints.js","../../../src/components/map-context.js","../../../src/utils/use-isomorphic-layout-effect.js","../../../src/utils/terrain.js","../../../src/components/static-map.js","../../../../src/utils/transition/transition-interpolator.js","../../../../src/utils/transition/transition-utils.js","../../../../src/utils/transition/viewport-fly-to-interpolator.js","../../../../src/utils/transition/linear-interpolator.js","../../../../src/utils/transition/index.js","../../../src/utils/transition-manager.js","../../../src/utils/map-controller.js","../../../src/components/interactive-map.js","../../../src/utils/deep-equal.js","../../../src/components/source.js","../../../src/components/layer.js","../../../src/components/use-map-control.js","../../../src/components/base-control.js","../../../src/components/draggable-control.js","../../../src/utils/crisp-pixel.js","../../../src/components/marker.js","../../../src/utils/dynamic-position.js","../../../src/components/popup.js","../../../src/components/attribution-control.js","../../../src/components/fullscreen-control.js","../../../src/utils/geolocate-utils.js","../../../src/components/geolocate-control.js","../../../src/utils/version.js","../../../src/components/navigation-control.js","../../../src/components/scale-control.js","../../../src/overlays/canvas-overlay.js","../../../src/overlays/html-overlay.js","../../../src/overlays/svg-overlay.js","../../../src/utils/set-rtl-text-plugin.js","../../src/index.js","../../src/math-utils.js","../../src/assert.js","../../src/web-mercator-utils.js","../../src/fit-bounds.js","../../src/get-bounds.js","../../src/web-mercator-viewport.js","../../src/normalize-viewport-props.js","../../src/fly-to-viewport.js","D:/Projects/Cdss apps/Final version/admin/node_modules/gl-matrix/esm/vec2.js","D:/Projects/Cdss apps/Final version/admin/node_modules/gl-matrix/esm/mat4.js","D:/Projects/Cdss apps/Final version/admin/node_modules/gl-matrix/esm/vec3.js","D:/Projects/Cdss apps/Final version/admin/node_modules/gl-matrix/esm/vec4.js","D:/Projects/Cdss apps/Final version/admin/node_modules/gl-matrix/esm/common.js","../../../src/utils/globals.js","../../../src/utils/hammer-overrides.js","../../../src/utils/hammer.browser.js","../../src/constants.js","../../../src/inputs/wheel-input.js","../../../src/inputs/move-input.js","../../../src/inputs/key-input.js","../../../src/inputs/contextmenu-input.js","../../../src/utils/event-utils.js","../../../src/utils/event-registrar.js","../../src/event-manager.js","../../../src/mapbox/mapbox.js","../../../src/utils/style-utils.js","D:/Projects/Cdss apps/Final version/admin/node_modules/hammerjs/hammer.js"],"names":["EPSILON","Array","ArrayBuffer","a","isArray","b","i","equals","Math","lerp","t","message","MAPBOX_LIMITS","minZoom","maxZoom","minPitch","maxPitch","DEFAULT_STATE","pitch","bearing","altitude","PITCH_MOUSE_THRESHOLD","PITCH_ACCEL","MapState","width","height","latitude","longitude","zoom","transitionDuration","transitionEasing","transitionInterpolator","transitionInterruption","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","startZoom","assert","Number","pos","startPos","deltaAngleX","deltaAngleY","newRotation","scale","zoomedViewport","lngLat","newProps","Object","props","clamp","normalizeViewportProps","viewport","deltaScaleX","deltaScaleY","deltaX","deltaY","centerY","startY","s","constraints","type","constraintName","propName","decapitalize","MapContext","createContext","map","container","onViewportChange","onViewStateChange","eventManager","MapContextProvider","value","children","useState","setMap","context","useContext","useIsomorphicLayoutEffect","TOKEN_DOC_URL","NO_TOKEN_WARNING","viewportProps","getTerrainElevation","UNAUTHORIZED_ERROR_CODE","CONTAINER_STYLE","position","overflow","propTypes","Mapbox","PropTypes","onResize","disableTokenWarning","visible","className","style","visibilityConstraints","object","defaultProps","left","top","getMap","mapboxRef","queryRenderedFeatures","options","StaticMap","forwardRef","accessTokenValid","setTokenState","size","setSize","useRef","mapDivRef","containerRef","overlayRef","mapbox","mapboxgl","onError","statusCode","evt","console","resizeObserver","entries","useImperativeHandle","getRefHandles","preventScroll","useCallback","target","overlays","getViewport","current","mapContainerStyle","checkVisibilityConstraints","mapStyle","visibility","TransitionInterpolator","currentProps","nextProps","key","startProps","endProps","start","end","WRAPPED_ANGULAR_PROPS","modulus","divisor","isWrappedAngularProp","endValue","VIEWPORT_TRANSITION_PROPS","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","DEFAULT_OPTS","speed","curve","ViewportFlyToInterpolator","startViewportProps","endViewportProps","startValue","isValid","getEndValueByShortestPath","flyToViewport","getFlyToDuration","LinearInterpolator","opts","transitionProps","aroundLngLat","around","noop","y0","easing","TRANSITION_EVENTS","BREAK","SNAP_TO_END","IGNORE","UPDATE","DEFAULT_PROPS","onTransitionStart","onTransitionInterrupt","onTransitionEnd","TransitionManager","requestAnimationFrame","Date","currentTime","x0","cropEasingFunction","Boolean","cancelAnimationFrame","duration","initialProps","interactionState","inTransition","isZooming","isPanning","isRotating","interpolator","interruption","startTime","animation","propsInTransition","shouldEnd","mapState","NO_TRANSITION_PROPS","LINEAR_TRANSITION_PROPS","DEFAULT_INERTIA","INERTIA_EASING","EVENT_TYPES","WHEEL","PAN","PINCH","TRIPLE_PAN","DOUBLE_TAP","KEYBOARD","MapController","isDragging","onStateChange","_setInteractionState","event","eventStartBlocked","x","y","srcEvent","timeout","timer","setTimeout","newMapState","extraProps","oldViewport","newViewport","viewStateChanged","overrides","isInteractive","scrollZoom","dragPan","dragRotate","doubleClickZoom","touchZoom","touchRotate","keyboard","prevOptions","dimensionChanged","eventNames","enabled","inertia","endPos","newControllerState","smooth","delta","rotation","_lastPinchEvent","z","velocityZ","endScale","isZoomOut","funcKey","zoomSpeed","moveSpeed","rotateSpeedX","rotateSpeedY","mapStateProps","onInteractionStateChange","onHover","onClick","onDblClick","onContextMenu","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","onMouseOut","onWheel","touchAction","eventRecognizerOptions","clickRadius","interactiveLayerIds","getCursor","controller","getDefaultCursor","isHovering","onNativeClick","location","targetZ","queryParams","func","normalizeEvent","onEvent","features","getFeatures","isEntering","isExiting","callbacks","isDoubleClickEnabled","cb","staticMapRef","InteractiveMap","parentContext","useMemo","recognizerOptions","eventCanvasRef","_thisRef","state","thisRef","inRender","handleViewportChange","viewportUpdateRequested","get","viewState","oldViewState","handleInteractionStateChange","stateUpdateRequested","updateControllerOpts","useEffect","pointerdown","onPointerDown","pointermove","onPointerMove","pointerup","onPointerUp","pointerleave","click","onPointerClick","anyclick","dblclick","wheel","contextmenu","eventCanvasStyle","cursor","deepEqual","aKeys","bKeys","id","string","sourceCounter","prevProps","changedKey","changedKeyCount","source","url","coordinates","propsRef","setStyleLoaded","forceUpdate","version","updateSource","createSource","child","cloneElement","Source","LAYER_TYPES","beforeId","layout","paint","filter","minzoom","maxzoom","otherProps","prevLayout","prevPaint","diffLayerStyles","layerCounter","layer","updateLayer","createLayer","Layer","mapControlDefaultProps","captureScroll","captureDrag","captureClick","captureDoubleClick","capturePointerMove","mapControlPropTypes","bool","ref","events","panstart","onMount","instance","useMapControl","BaseControl","createRef","_onPointerMove","PureComponent","draggableControlPropTypes","draggable","onDrag","onDragEnd","onDragStart","offsetLeft","offsetTop","number","draggableControlDefaultProps","rect","dragPos","dragOffset","getDragEventPosition","getDragEventOffset","callbackEvent","getDragLngLat","panmove","panend","pancancel","onDragCancel","setDragPos","setDragOffset","registerEvents","pixelRatio","window","crispPixel","crispPercentage","dimension","el","origSize","percentage","isRequired","useDraggableControl","getPosition","transform","control","containerStyle","Marker","React","ANCHOR_POSITION","bottom","right","ANCHOR_TYPES","selfWidth","selfHeight","anchor","padding","anchorX","anchorY","cutoffY","bestAnchorY","minCutoff","xStep","cutoffX","bestAnchorX","anchorPosition","tipSize","closeButton","closeOnClick","dynamicPosition","sortByDepth","onClose","getDynamicPosition","clientHeight","xPercentage","yPercentage","display","zIndex","undefined","contentRef","setLoaded","clickCallback","positionType","getContainerStyle","onClickCloseButton","e","borderWidth","Popup","toggleLabel","compact","customAttribution","innerContainerRef","showCompact","setShowCompact","setupAttributioncontrol","removeAttributionControl","toggleAttribution","AttributionControl","label","isFullscreen","setIsFullscreen","showButton","setShowButton","mapboxFullscreenControl","createMapboxFullscreenControl","onFullscreenChange","nextState","document","onClickFullscreen","FullscreenControl","supported","Promise","name","p","disabledLabel","auto","positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation","showAccuracyCircle","onGeolocate","enableHighAccuracy","center","radius","bounds","on","_getUIString","geolocateButton","getBounds","newViewState","geolocateButtonRef","mapboxGeolocateControl","createMapboxGeolocateControl","supportsGeolocation","setSupportsGeolocation","isGeolocationSupported","setupMapboxGeolocateControl","updateCamera","triggerGeolocate","GeolocateControl","v1","version1","v2","version2","part1","part2","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","VERSION_LEGACY","VERSION_1_6","compareVersions","callback","uiVersion","getUIVersion","onZoomIn","updateViewport","onZoomOut","onResetNorth","renderButton","renderCompass","NavigationControl","maxWidth","unit","mapboxScaleControl","createMapboxScaleControl","ScaleControl","redraw","ctx","setDrawingContext","project","unproject","CanvasOverlay","HTMLOverlay","SVGOverlay","setRTLTextPlugin","result","vec4","step","log2","PI","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","TILE_SIZE","EARTH_CIRCUMFERENCE","DEFAULT_ALTITUDE","lat","lambda2","lng","phi2","latCosine","scaleToZoom","highPrecision","worldSize","unitsPerDegreeX","unitsPerDegreeY","altUnitsPerMeter","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","getDistanceScales","unitsPerMeter2","worldspace","lngLatToWorld","unitsPerMeter","newLngLat","worldToLngLat","newZ","z0","vm","createMat4","mat4","vec3","fovy","altitudeToFovy","nearZMultiplier","farZMultiplier","halfFov","focalDistance","fovyToAltitude","pitchRadians","topHalfSurfaceDistance","farZ","fov","aspect","near","far","getProjectionParameters","projectionMatrix","transformVector","coord","coord0","coord1","z1","vec2","minExtent","offset","nw","se","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","unprojectOps","bottomLeft","bottomRight","angleToGround","topLeft","unprojectOnFarPlane","topRight","pixelUnprojectionMatrix","constructor","zoomToScale","distanceScales","getProjectionMatrix","getViewMatrix","_initMatrices","viewMatrix","vpm","m","mInverse","worldPosition","worldToPixels","y2","xyz","targetZWorld","pixelsToWorld","projectPosition","Z","unprojectPosition","projectFlat","unprojectFlat","getMapCenterByLngLatPosition","fromLocation","toLocation","translate","newCenter","getLocationAtPoint","fitBounds","corners","west","east","south","north","getBoundingRegion","mod","halfHeightPixels","minLatitude","maxLatitude","getFlyToTransitionParams","r0","u1","w","rho","u","w0","scaleIncrement","newZoom","newCenterWorld","maxDuration","length","screenSpeed","startCenter","startScale","endZoom","endCenter","startCenterXY","endCenterXY","uDelta","w1","_u1","rho2","b0","b1","r1","S","create","out","glMatrix","Float32Array","clone","fromValues","copy","set","add","subtract","multiply","divide","ceil","floor","min","max","round","scaleAndAdd","distance","hypot","squaredDistance","squaredLength","negate","inverse","normalize","len","sqrt","dot","cross","ax","ay","random","r","cos","sin","transformMat2","transformMat2d","transformMat3","transformMat4","rotate","rad","p0","p1","sinC","cosC","angle","x1","y1","x2","mag","cosine","acos","zero","str","exactEquals","a0","a1","abs","sub","mul","div","dist","sqrDist","sqrLen","forEach","vec","stride","count","fn","arg","l","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","identity","transpose","a01","a02","a03","a12","a13","a23","invert","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","adjoint","determinant","b2","b3","v","axis","c","b12","b20","b21","b22","rotateX","rotateY","rotateZ","fromTranslation","fromScaling","fromRotation","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","q","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat2","translation","bx","by","bz","bw","az","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","fromQuat","yx","zx","zy","frustum","rl","tb","nf","perspective","f","tan","Infinity","perspectiveFromFieldOfView","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","up","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","frob","multiplyScalar","multiplyScalarAndAdd","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","hermite","d","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","mag1","mag2","A","B","C","D","E","F","G","H","I","J","v3","v4","s1","s2","ix","iy","iz","iw","ARRAY_TYPE","RANDOM","setMatrixArrayType","degree","toRadian","arguments","window_","global_","document_","INPUT_START","INPUT_MOVE","INPUT_END","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","array","predict","oldHandler","PointerEventInput","store","ev","some","MouseInput","eventType","pointers","changedPointers","pointerType","enhancePointerEventInput","hammerjs","enhanceMouseInput","Manager","RECOGNIZERS","Hammer","threshold","enable","taps","RECOGNIZER_COMPATIBLE_MAP","tripan","pinch","pan","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","touchstart","touchmove","touchend","INPUT_EVENT_TYPES","KEY_EVENTS","MOUSE_EVENTS","WHEEL_EVENTS","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panup","pandown","panleft","panright","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","mouseover","mouseout","mouseleave","firefox","userAgent","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WHEEL_DELTA_PER_LINE","SHIFT_MULTIPLIER","passiveSupported","passive","destroy","enableEventType","handleEvent","wheelPosition","clientY","_onWheel","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","LEAVE_EVENT_TYPE","element","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","DOWN_EVENT_TYPE","UP_EVENT_TYPE","targetElement","DOWN_EVENT","MOVE_EVENT","UP_EVENT","MOUSE_EVENT_WHICH_LEFT","MOUSE_EVENT_WHICH_MIDDLE","MOUSE_EVENT_WHICH_RIGHT","MOUSE_EVENT_BUTTON_LEFT","MOUSE_EVENT_BUTTON_MIDDLE","MOUSE_EVENT_BUTTON_RIGHT","MOUSE_EVENT_BUTTONS_LEFT_MASK","MOUSE_EVENT_BUTTONS_RIGHT_MASK","MOUSE_EVENT_BUTTONS_MIDDLE_MASK","which","leftButton","middleButton","rightButton","buttons","button","rootElement","offsetCenter","DEFAULT_OPTIONS","srcElement","priority","isEmpty","once","handlersByElement","entry","handler","handlers","insertPosition","remove","mjolnirEvent","_emit","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","_normalizeEvent","whichButtons","getOffsetPosition","handled","recognizers","tabIndex","setElement","ManagerClass","recognizer","otherName","recognizerOption","eventRegistrar","watch","off","_toggleRecognizer","manager","fallbackRecognizers","otherRecognizer","_addEventHandler","eventAlias","_removeEventHandler","recognizerName","isRecognizerUsed","eh","_onBasicInput","alias","_onOtherEvent","gl","mapboxApiAccessToken","mapboxApiUrl","attributionControl","preserveDrawingBuffer","reuseMaps","transformRequest","mapOptions","preventStyleDiffing","asyncRender","onLoad","getAccessToken","accessToken","match","process","component","_map","oldContainer","newContainer","normalizeStyle","diff","getContext","HTMLCanvasElement","interactive","trackResize","checkPropTypes","canvas","oldProps","viewportChanged","sizeChanged","styleChanged","mapboxVersion","testElement","isCssLoaded","link","refProps","layerIndex","layers","layerRef","normalizedLayer","exportName","VENDOR_PREFIXES","TEST_ELEMENT","createElement","TYPE_FUNCTION","now","setTimeoutContext","bindFn","invokeArrayArg","each","obj","iterator","call","hasOwnProperty","deprecate","method","deprecationMessage","Error","stack","replace","log","warn","apply","assign","TypeError","output","index","nextKey","extend","dest","src","merge","keys","inherit","base","properties","baseP","prototype","childP","_super","boundFn","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","find","indexOf","trim","split","inArray","findByKey","toArray","slice","uniqueArray","sort","results","values","push","sortUniqueArray","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","uniqueId","getWindowForElement","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","test","navigator","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","self","inputTarget","domHandler","init","evEl","evTarget","evWin","createInputInstance","Type","inputClass","TouchInput","TouchMouseInput","inputHandler","input","pointersLen","changedPointersLen","isFirst","isFinal","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","getCenter","timeStamp","deltaTime","getAngle","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","maxPointers","computeIntervalInputData","offsetDelta","prevDelta","last","lastInterval","velocity","velocityX","velocityY","direction","clientX","p2","atan2","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","MEhandler","POINTER_INPUT_MAP","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","pointerEvents","PEhandler","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","TEhandler","touches","normalizeSingleTouches","all","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","MTEhandler","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","TMEhandler","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","eventData","setLastTouch","lastTouch","lts","removeLastTouch","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","compute","actions","update","getTouchAction","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","touchMap","cssSupports","CSS","supports","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","defaults","simultaneous","requireFail","recognizeWith","getRecognizerByNameIfManager","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","stateStr","additionalEvent","tryEmit","canEmit","inputDataClone","reset","directionStr","AttrRecognizer","attrTest","optionPointers","isRecognized","PanRecognizer","pX","pY","directionTest","hasMoved","PinchRecognizer","inOut","PressRecognizer","_timer","_input","time","validPointers","validMovement","validTime","clearTimeout","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","preset","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","oldCssProps","toggleCssProps","item","stop","force","stopped","curRecognizer","existing","data","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","define"],"mappings":"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","file":"x","sourcesContent":["export {WebMercatorViewport as default} from '@math.gl/web-mercator';\nexport * from '@math.gl/web-mercator';\n","const EPSILON = 1e-7;\n\n// Returns true if value is either an array or a typed array\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\n// TODO: use math.gl\nexport function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return Math.abs(a - b) <= EPSILON;\n}\n\nexport function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\n// Interpolate between two numbers or two arrays\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map((ai, i) => lerp(ai, b[i], t));\n  }\n  return t * b + (1 - t) * a;\n}\n","// Replacement for the external assert method to reduce bundle size\n// Note: We don't use the second \"message\" argument in calling code,\n// so no need to support it here\nexport default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}\n","import WebMercatorViewport, {normalizeViewportProps} from 'viewport-mercator-project';\nimport {clamp} from './math-utils';\nimport assert from './assert';\n\n// MAPBOX LIMITS\nexport const MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 85\n};\n\nconst DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\n\nconst PITCH_MOUSE_THRESHOLD = 5;\nconst PITCH_ACCEL = 1.2;\n\nexport default class MapState {\n  constructor({\n    /** Mapbox viewport properties */\n    /** The width of the viewport */\n    width,\n    /** The height of the viewport */\n    height,\n    /** The latitude at the center of the viewport */\n    latitude,\n    /** The longitude at the center of the viewport */\n    longitude,\n    /** The tile zoom level of the map. */\n    zoom,\n    /** The bearing of the viewport in degrees */\n    bearing = DEFAULT_STATE.bearing,\n    /** The pitch of the viewport in degrees */\n    pitch = DEFAULT_STATE.pitch,\n    /**\n     * Specify the altitude of the viewport camera\n     * Unit: map heights, default 1.5\n     * Non-public API, see https://github.com/mapbox/mapbox-gl-js/issues/1137\n     */\n    altitude = DEFAULT_STATE.altitude,\n\n    /** Viewport constraints */\n    maxZoom = MAPBOX_LIMITS.maxZoom,\n    minZoom = MAPBOX_LIMITS.minZoom,\n    maxPitch = MAPBOX_LIMITS.maxPitch,\n    minPitch = MAPBOX_LIMITS.minPitch,\n\n    /** Transition props */\n    transitionDuration,\n    transitionEasing,\n    transitionInterpolator,\n    transitionInterruption,\n\n    /** Interaction states, required to calculate change during transform */\n    /* The point on map being grabbed when the operation first started */\n    startPanLngLat,\n    /* Center of the zoom when the operation first started */\n    startZoomLngLat,\n    /* Cursor position when the rotate operation started */\n    startRotatePos,\n    /** Bearing when current perspective rotate operation started */\n    startBearing,\n    /** Pitch when current perspective rotate operation started */\n    startPitch,\n    /** Zoom when current zoom operation started */\n    startZoom\n  }) {\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n\n    this._viewportProps = this._applyConstraints({\n      width,\n      height,\n      latitude,\n      longitude,\n      zoom,\n      bearing,\n      pitch,\n      altitude,\n      maxZoom,\n      minZoom,\n      maxPitch,\n      minPitch,\n      transitionDuration,\n      transitionEasing,\n      transitionInterpolator,\n      transitionInterruption\n    });\n\n    this._state = {\n      startPanLngLat,\n      startZoomLngLat,\n      startRotatePos,\n      startBearing,\n      startPitch,\n      startZoom\n    };\n  }\n\n  /* Public API */\n\n  getViewportProps() {\n    return this._viewportProps;\n  }\n\n  getState() {\n    return this._state;\n  }\n\n  /**\n   * Start panning\n   * @param {Object} params\n   * @param {[Number, Number]} params.pos - position on screen where the pointer grabs\n   */\n  panStart({pos}) {\n    return this._getUpdatedMapState({\n      startPanLngLat: this._unproject(pos)\n    });\n  }\n\n  /**\n   * Pan\n   * @param {Object} params\n   * @param {[Number, Number]} params.pos - position on screen where the pointer is\n   * @param {[Number, Number]} [params.startPos] - where the pointer grabbed at\n   *   the start of the operation. Must be supplied of `panStart()` was not called\n   */\n  pan({pos, startPos}) {\n    const startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n    if (!startPanLngLat) {\n      return this;\n    }\n\n    const [longitude, latitude] = this._calculateNewLngLat({\n      startPanLngLat,\n      pos\n    });\n\n    return this._getUpdatedMapState({\n      longitude,\n      latitude\n    });\n  }\n\n  /**\n   * End panning\n   * Must call if `panStart()` was called\n   */\n  panEnd() {\n    return this._getUpdatedMapState({\n      startPanLngLat: null\n    });\n  }\n\n  /**\n   * Start rotating\n   * @param {Object} params\n   * @param {[Number, Number]} params.pos - position on screen where the center is\n   */\n  rotateStart({pos}) {\n    return this._getUpdatedMapState({\n      startRotatePos: pos,\n      startBearing: this._viewportProps.bearing,\n      startPitch: this._viewportProps.pitch\n    });\n  }\n\n  /**\n   * Rotate\n   * @param {Object} params\n   * @param {[Number, Number]} params.pos - position on screen where the center is\n   * @param {Number} params.deltaAngleX - the change to bearing.\n   * @param {Number} params.deltaAngleY - the change to pitch.\n   */\n  rotate({pos, deltaAngleX = 0, deltaAngleY = 0}) {\n    const {startRotatePos, startBearing, startPitch} = this._state;\n\n    if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n      return this;\n    }\n\n    let newRotation;\n    if (pos) {\n      newRotation = this._calculateNewPitchAndBearing({\n        ...this._getRotationParams(pos, startRotatePos),\n        startBearing,\n        startPitch\n      });\n    } else {\n      newRotation = {\n        bearing: startBearing + deltaAngleX,\n        pitch: startPitch + deltaAngleY\n      };\n    }\n\n    return this._getUpdatedMapState(newRotation);\n  }\n\n  /**\n   * End rotating\n   * Must call if `rotateStart()` was called\n   */\n  rotateEnd() {\n    return this._getUpdatedMapState({\n      startBearing: null,\n      startPitch: null\n    });\n  }\n\n  /**\n   * Start zooming\n   * @param {Object} params\n   * @param {[Number, Number]} params.pos - position on screen where the center is\n   */\n  zoomStart({pos}) {\n    return this._getUpdatedMapState({\n      startZoomLngLat: this._unproject(pos),\n      startZoom: this._viewportProps.zoom\n    });\n  }\n\n  /**\n   * Zoom\n   * @param {Object} params\n   * @param {[Number, Number]} params.pos - position on screen where the current center is\n   * @param {[Number, Number]} [params.startPos] - the center position at\n   *   the start of the operation. Must be supplied of `zoomStart()` was not called\n   * @param {Number} params.scale - a number between [0, 1] specifying the accumulated\n   *   relative scale.\n   */\n  zoom({pos, startPos, scale}) {\n    assert(scale > 0, '`scale` must be a positive number');\n\n    // Make sure we zoom around the current mouse position rather than map center\n    let {startZoom, startZoomLngLat} = this._state;\n\n    if (!Number.isFinite(startZoom)) {\n      // We have two modes of zoom:\n      // scroll zoom that are discrete events (transform from the current zoom level),\n      // and pinch zoom that are continuous events (transform from the zoom level when\n      // pinch started).\n      // If startZoom state is defined, then use the startZoom state;\n      // otherwise assume discrete zooming\n      startZoom = this._viewportProps.zoom;\n      startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n    }\n\n    // take the start lnglat and put it where the mouse is down.\n    assert(\n      startZoomLngLat,\n      '`startZoomLngLat` prop is required ' +\n        'for zoom behavior to calculate where to position the map.'\n    );\n\n    const zoom = this._calculateNewZoom({scale, startZoom: startZoom || 0});\n\n    const zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {zoom}));\n    const [longitude, latitude] = zoomedViewport.getMapCenterByLngLatPosition({\n      lngLat: startZoomLngLat,\n      pos\n    });\n\n    return this._getUpdatedMapState({\n      zoom,\n      longitude,\n      latitude\n    });\n  }\n\n  /**\n   * End zooming\n   * Must call if `zoomStart()` was called\n   */\n  zoomEnd() {\n    return this._getUpdatedMapState({\n      startZoomLngLat: null,\n      startZoom: null\n    });\n  }\n\n  /* Private methods */\n\n  _getUpdatedMapState(newProps) {\n    // Update _viewportProps\n    return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n  }\n\n  // Apply any constraints (mathematical or defined by _viewportProps) to map state\n  _applyConstraints(props) {\n    // Ensure zoom is within specified range\n    const {maxZoom, minZoom, zoom} = props;\n    props.zoom = clamp(zoom, minZoom, maxZoom);\n\n    // Ensure pitch is within specified range\n    const {maxPitch, minPitch, pitch} = props;\n    props.pitch = clamp(pitch, minPitch, maxPitch);\n\n    Object.assign(props, normalizeViewportProps(props));\n\n    return props;\n  }\n\n  _unproject(pos) {\n    const viewport = new WebMercatorViewport(this._viewportProps);\n    return pos && viewport.unproject(pos);\n  }\n\n  // Calculate a new lnglat based on pixel dragging position\n  _calculateNewLngLat({startPanLngLat, pos}) {\n    const viewport = new WebMercatorViewport(this._viewportProps);\n    return viewport.getMapCenterByLngLatPosition({\n      lngLat: startPanLngLat,\n      pos\n    });\n  }\n\n  // Calculates new zoom\n  _calculateNewZoom({scale, startZoom}) {\n    const {maxZoom, minZoom} = this._viewportProps;\n    const zoom = startZoom + Math.log2(scale);\n    return clamp(zoom, minZoom, maxZoom);\n  }\n\n  // Calculates a new pitch and bearing from a position (coming from an event)\n  _calculateNewPitchAndBearing({deltaScaleX, deltaScaleY, startBearing, startPitch}) {\n    // clamp deltaScaleY to [-1, 1] so that rotation is constrained between minPitch and maxPitch.\n    // deltaScaleX does not need to be clamped as bearing does not have constraints.\n    deltaScaleY = clamp(deltaScaleY, -1, 1);\n\n    const {minPitch, maxPitch} = this._viewportProps;\n\n    const bearing = startBearing + 180 * deltaScaleX;\n    let pitch = startPitch;\n    if (deltaScaleY > 0) {\n      // Gradually increase pitch\n      pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n    } else if (deltaScaleY < 0) {\n      // Gradually decrease pitch\n      pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n    }\n\n    return {\n      pitch,\n      bearing\n    };\n  }\n\n  _getRotationParams(pos, startPos) {\n    const deltaX = pos[0] - startPos[0];\n    const deltaY = pos[1] - startPos[1];\n    const centerY = pos[1];\n    const startY = startPos[1];\n    const {width, height} = this._viewportProps;\n\n    const deltaScaleX = deltaX / width;\n    let deltaScaleY = 0;\n\n    if (deltaY > 0) {\n      if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n        // Move from 0 to -1 as we drag upwards\n        deltaScaleY = (deltaY / (startY - height)) * PITCH_ACCEL;\n      }\n    } else if (deltaY < 0) {\n      if (startY > PITCH_MOUSE_THRESHOLD) {\n        // Move from 0 to 1 as we drag upwards\n        deltaScaleY = 1 - centerY / startY;\n      }\n    }\n    deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n    return {deltaScaleX, deltaScaleY};\n  }\n}\n","import {MAPBOX_LIMITS} from './map-state';\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\n// Checks a visibilityConstraints object to see if the map should be displayed\n// Returns true if props are within the constraints\nexport function checkVisibilityConstraints(props, constraints = MAPBOX_LIMITS) {\n  for (const constraintName in constraints) {\n    // in the format of min* or max*\n    const type = constraintName.slice(0, 3);\n    const propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n  return true;\n}\n","import * as React from 'react';\nimport {createContext, useState, useContext} from 'react';\n\nconst MapContext = createContext({\n  /* Map context */\n\n  // Viewport\n  viewport: null,\n  // mapboxgl.Map instance\n  map: null,\n  // DOM element that contains the map\n  container: null,\n\n  /* Interaction callbacks */\n  onViewportChange: null,\n  onViewStateChange: null,\n\n  // EventManager instance\n  eventManager: null\n});\n\n// Save the original Provider component\nexport const MapContextProvider = MapContext.Provider;\n\n// And replace Provider with our own\nfunction WrappedProvider({value, children}) {\n  const [map, setMap] = useState(null);\n  const context = useContext(MapContext);\n\n  value = {\n    setMap,\n    ...context,\n    map: (context && context.map) || map,\n    ...value\n  };\n\n  return <MapContextProvider value={value}>{children}</MapContextProvider>;\n}\n\nMapContext.Provider = WrappedProvider;\n\nexport default MapContext;\n","// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport {useEffect, useLayoutEffect} from 'react';\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default useIsomorphicLayoutEffect;\n","// Place camera over terrain\nexport function getTerrainElevation(map, {longitude, latitude}) {\n  if (map && map.queryTerrainElevation) {\n    return map.queryTerrainElevation([longitude, latitude]) || 0;\n  }\n  return 0;\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as React from 'react';\nimport {useState, useRef, useCallback, useContext, useImperativeHandle, forwardRef} from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nimport Mapbox from '../mapbox/mapbox';\nimport mapboxgl from '../utils/mapboxgl';\nimport {checkVisibilityConstraints} from '../utils/map-constraints';\nimport {MAPBOX_LIMITS} from '../utils/map-state';\nimport MapContext, {MapContextProvider} from './map-context';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport {getTerrainElevation} from '../utils/terrain';\n\n/* eslint-disable max-len */\nconst TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nconst NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n/* eslint-disable max-len */\n\nfunction noop() {}\n\nexport function getViewport({map, props, width, height}) {\n  const viewportProps = {\n    ...props,\n    ...props.viewState,\n    width,\n    height\n  };\n  viewportProps.position = [0, 0, getTerrainElevation(map, viewportProps)];\n  return new WebMercatorViewport(viewportProps);\n}\n\nconst UNAUTHORIZED_ERROR_CODE = 401;\n\nconst CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\n\nconst propTypes = Object.assign({}, Mapbox.propTypes, {\n  /** The dimensions of the map **/\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** Callback when map size changes **/\n  onResize: PropTypes.func,\n  /** Hide invalid token warning even if request fails */\n  disableTokenWarning: PropTypes.bool,\n  /** Whether the map is visible */\n  visible: PropTypes.bool,\n  /** Custom class name for the map */\n  className: PropTypes.string,\n  /** Custom CSS for the container */\n  style: PropTypes.object,\n\n  /** Advanced features */\n  // Contraints for displaying the map. If not met, then the map is hidden.\n  // Experimental! May be changed in minor version updates.\n  visibilityConstraints: PropTypes.object\n});\n\nconst defaultProps = Object.assign({}, Mapbox.defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\n\nfunction NoTokenWarning() {\n  const style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return (\n    <div\n      key=\"warning\"\n      id=\"no-token-warning\"\n      // @ts-ignore\n      style={style}\n    >\n      <h3 key=\"header\">{NO_TOKEN_WARNING}</h3>\n      <div key=\"text\">For information on setting up your basemap, read</div>\n      <a key=\"link\" href={TOKEN_DOC_URL}>\n        Note on Map Tokens\n      </a>\n    </div>\n  );\n}\n\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: () => mapboxRef.current && mapboxRef.current.getMap(),\n    queryRenderedFeatures: (geometry, options = {}) => {\n      const map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\n\nconst StaticMap = forwardRef((props, ref) => {\n  const [accessTokenValid, setTokenState] = useState(true);\n  const [size, setSize] = useState({width: 0, height: 0});\n  const mapboxRef = useRef(null);\n  const mapDivRef = useRef(null);\n  const containerRef = useRef(null);\n  const overlayRef = useRef(null);\n  const context = useContext(MapContext);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n\n    // Initialize\n    const mapbox = new Mapbox({\n      ...props,\n      ...size,\n      mapboxgl, // Handle to mapbox-gl library\n      container: mapDivRef.current,\n      onError: evt => {\n        const statusCode = (evt.error && evt.error.status) || evt.status;\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          // Mapbox throws unauthorized error - invalid token\n          console.error(NO_TOKEN_WARNING); // eslint-disable-line\n          setTokenState(false);\n        }\n        props.onError(evt);\n      }\n    });\n    mapboxRef.current = mapbox;\n\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n\n    const resizeObserver = new ResizeObserver(entries => {\n      if (entries[0].contentRect) {\n        const {width, height} = entries[0].contentRect;\n        setSize({width, height});\n        props.onResize({width, height});\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n\n    // Clean up\n    return () => {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps({...props, ...size});\n    }\n  });\n\n  const map = mapboxRef.current && mapboxRef.current.getMap();\n\n  // External apps can call methods via ref\n  // Note: this is not a recommended pattern in React FC - Keeping for backward compatibility\n  useImperativeHandle(ref, () => getRefHandles(mapboxRef), []);\n\n  const preventScroll = useCallback(({target}) => {\n    if (target === overlayRef.current) {\n      target.scrollTo(0, 0);\n    }\n  }, []);\n\n  const overlays = map && (\n    <MapContextProvider\n      value={{\n        ...context,\n        viewport: context.viewport || getViewport({map, props, ...size}),\n        map,\n        container: context.container || containerRef.current\n      }}\n    >\n      <div\n        key=\"map-overlays\"\n        className=\"overlays\"\n        ref={overlayRef}\n        // @ts-ignore\n        style={CONTAINER_STYLE}\n        onScroll={preventScroll}\n      >\n        {props.children}\n      </div>\n    </MapContextProvider>\n  );\n\n  const {className, width, height, style, visibilityConstraints} = props;\n  const mapContainerStyle = Object.assign({position: 'relative'}, style, {\n    width,\n    height\n  });\n\n  const visible =\n    props.visible && checkVisibilityConstraints(props.viewState || props, visibilityConstraints);\n\n  const mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n\n  return (\n    <div\n      key=\"map-container\"\n      ref={containerRef}\n      // @ts-ignore\n      style={mapContainerStyle}\n    >\n      <div\n        key=\"map-mapbox\"\n        ref={mapDivRef}\n        // @ts-ignore\n        style={mapStyle}\n        className={className}\n      />\n      {overlays}\n      {!accessTokenValid && !props.disableTokenWarning && <NoTokenWarning />}\n    </div>\n  );\n});\n\nStaticMap.supported = () => mapboxgl && mapboxgl.supported();\nStaticMap.propTypes = propTypes;\nStaticMap.defaultProps = defaultProps;\n\nexport default StaticMap;\n","import {equals} from '../math-utils';\nimport assert from '../assert';\n\nexport default class TransitionInterpolator {\n  propNames = [];\n\n  /**\n   * Checks if two sets of props need transition in between\n   * @param currentProps {object} - a list of viewport props\n   * @param nextProps {object} - a list of viewport props\n   * @returns {boolean} - true if two props are equivalent\n   */\n  arePropsEqual(currentProps, nextProps) {\n    for (const key of this.propNames || []) {\n      if (!equals(currentProps[key], nextProps[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Called before transition starts to validate/pre-process start and end props\n   * @param startProps {object} - a list of starting viewport props\n   * @param endProps {object} - a list of target viewport props\n   * @returns {Object} {start, end} - start and end props to be passed\n   *   to `interpolateProps`\n   */\n  initializeProps(startProps, endProps) {\n    return {start: startProps, end: endProps};\n  }\n\n  /**\n   * Returns viewport props in transition\n   * @param startProps {object} - a list of starting viewport props\n   * @param endProps {object} - a list of target viewport props\n   * @param t {number} - a time factor between [0, 1]\n   * @returns {object} - a list of interpolated viewport props\n   */\n  interpolateProps(startProps, endProps, t) {\n    assert(false, 'interpolateProps is not implemented');\n  }\n\n  /**\n   * Returns transition duration\n   * @param startProps {object} - a list of starting viewport props\n   * @param endProps {object} - a list of target viewport props\n   * @returns {Number} - transition duration in milliseconds\n   */\n  getDuration(startProps, endProps) {\n    return endProps.transitionDuration;\n  }\n}\n","const WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\n\nexport function mod(value, divisor) {\n  const modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\n\nexport function isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nexport function getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n  return endValue;\n}\n","import assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\n\nimport {flyToViewport, getFlyToDuration} from 'viewport-mercator-project';\nimport {isValid, getEndValueByShortestPath} from './transition-utils';\nimport {lerp} from '../math-utils';\n\nconst VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nconst REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nconst LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nconst DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n  // screenSpeed and maxDuration are used only if specified\n};\n\n/**\n * This class adapts mapbox-gl-js Map#flyTo animation so it can be used in\n * react/redux architecture.\n * mapbox-gl-js flyTo : https://www.mapbox.com/mapbox-gl-js/api/#map#flyto.\n * It implements “Smooth and efficient zooming and panning.” algorithm by\n * \"Jarke J. van Wijk and Wim A.A. Nuij\"\n */\nexport default class ViewportFlyToInterpolator extends TransitionInterpolator {\n  propNames = VIEWPORT_TRANSITION_PROPS;\n\n  /**\n   * @param props {Object}\n   - `props.curve` (Number, optional, default: 1.414) - The zooming \"curve\" that will occur along the flight path.\n   - `props.speed` (Number, optional, default: 1.2) - The average speed of the animation defined in relation to `options.curve`, it linearly affects the duration, higher speed returns smaller durations and vice versa.\n   - `props.screenSpeed` (Number, optional) - The average speed of the animation measured in screenfuls per second. Similar to `opts.speed` it linearly affects the duration,  when specified `opts.speed` is ignored.\n   - `props.maxDuration` (Number, optional) - Maximum duration in milliseconds, if calculated duration exceeds this value, `0` is returned.\n   */\n  constructor(props = {}) {\n    super();\n\n    this.props = Object.assign({}, DEFAULT_OPTS, props);\n  }\n\n  initializeProps(startProps, endProps) {\n    const startViewportProps = {};\n    const endViewportProps = {};\n\n    // Check minimum required props\n    for (const key of REQUIRED_PROPS) {\n      const startValue = startProps[key];\n      const endValue = endProps[key];\n      assert(isValid(startValue) && isValid(endValue), `${key} must be supplied for transition`);\n      startViewportProps[key] = startValue;\n      endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n    }\n\n    for (const key of LINEARLY_INTERPOLATED_PROPS) {\n      const startValue = startProps[key] || 0;\n      const endValue = endProps[key] || 0;\n      startViewportProps[key] = startValue;\n      endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n    }\n\n    return {\n      start: startViewportProps,\n      end: endViewportProps\n    };\n  }\n\n  interpolateProps(startProps, endProps, t) {\n    const viewport = flyToViewport(startProps, endProps, t, this.props);\n\n    // Linearly interpolate 'bearing' and 'pitch' if exist.\n    for (const key of LINEARLY_INTERPOLATED_PROPS) {\n      viewport[key] = lerp(startProps[key], endProps[key], t);\n    }\n\n    return viewport;\n  }\n\n  // computes the transition duration\n  getDuration(startProps, endProps) {\n    let {transitionDuration} = endProps;\n    if (transitionDuration === 'auto') {\n      // auto calculate duration based on start and end props\n      transitionDuration = getFlyToDuration(startProps, endProps, this.props);\n    }\n    return transitionDuration;\n  }\n}\n","import WebMercatorViewport from 'viewport-mercator-project';\n\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\n\nimport {isValid, getEndValueByShortestPath} from './transition-utils';\nimport {lerp} from '../math-utils';\n\nconst VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\n/**\n * Performs linear interpolation of two viewports.\n */\nexport default class LinearInterpolator extends TransitionInterpolator {\n  /**\n   * @param opts {Object}\n   *  - opts.transitionProps {Array}] - list of props to apply linear transition to.\n   *  - opts.around {Array} - a screen point to zoom/rotate around\n   */\n  constructor(opts = {}) {\n    super();\n\n    if (Array.isArray(opts)) {\n      // backward compatibility\n      opts = {transitionProps: opts};\n    }\n\n    this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n    if (opts.around) {\n      this.around = opts.around;\n    }\n  }\n\n  initializeProps(startProps, endProps) {\n    const startViewportProps = {};\n    const endViewportProps = {};\n\n    if (this.around) {\n      // anchor point in origin screen coordinates\n      startViewportProps.around = this.around;\n      // anchor point in spherical coordinates\n      const aroundLngLat = new WebMercatorViewport(startProps).unproject(this.around);\n      Object.assign(endViewportProps, endProps, {\n        // anchor point in destination screen coordinates\n        around: new WebMercatorViewport(endProps).project(aroundLngLat),\n        aroundLngLat\n      });\n    }\n\n    for (const key of this.propNames) {\n      const startValue = startProps[key];\n      const endValue = endProps[key];\n      assert(isValid(startValue) && isValid(endValue), `${key} must be supplied for transition`);\n\n      startViewportProps[key] = startValue;\n      endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n    }\n\n    return {\n      start: startViewportProps,\n      end: endViewportProps\n    };\n  }\n\n  interpolateProps(startProps, endProps, t) {\n    const viewport = {};\n    for (const key of this.propNames) {\n      viewport[key] = lerp(startProps[key], endProps[key], t);\n    }\n\n    if (endProps.around) {\n      // zoom around provided point\n      const [longitude, latitude] = new WebMercatorViewport(\n        Object.assign({}, endProps, viewport)\n      ).getMapCenterByLngLatPosition({\n        lngLat: endProps.aroundLngLat,\n        // anchor point in current screen coordinates\n        pos: lerp(startProps.around, endProps.around, t)\n      });\n      viewport.longitude = longitude;\n      viewport.latitude = latitude;\n    }\n\n    return viewport;\n  }\n}\n","export {default as TransitionInterpolator} from './transition-interpolator';\nexport {default as ViewportFlyToInterpolator} from './viewport-fly-to-interpolator';\nexport {default as LinearInterpolator} from './linear-interpolator';\n","/* global requestAnimationFrame, cancelAnimationFrame */\nimport assert from './assert';\nimport {LinearInterpolator} from './transition';\nimport MapState from './map-state';\n\nconst noop = () => {};\n\n// crops the old easing function from x0 to 1 where x0 is the interruption point\n// returns a new easing function with domain [0, 1] and range [0, 1]\nexport function cropEasingFunction(easing, x0) {\n  const y0 = easing(x0);\n  return t => (1 / (1 - y0)) * (easing(t * (1 - x0) + x0) - y0);\n}\n\nexport const TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\n\nconst DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: t => t,\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\n\nexport default class TransitionManager {\n  static defaultProps = DEFAULT_PROPS;\n\n  constructor(opts = {}) {\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  _animationFrame = null;\n\n  // Returns current transitioned viewport.\n  getViewportInTransition() {\n    return this._animationFrame ? this.state.propsInTransition : null;\n  }\n\n  // Process the viewport change, either ignore or trigger a new transiton.\n  // Return true if a new transition is triggered, false otherwise.\n  processViewportChange(nextProps) {\n    const currentProps = this.props;\n    // Set this.props here as '_triggerTransition' calls '_updateViewport' that uses this.props.\n    this.props = nextProps;\n\n    // NOTE: Be cautious re-ordering statements in this function.\n    if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n      return false;\n    }\n\n    if (this._isTransitionEnabled(nextProps)) {\n      const startProps = Object.assign({}, currentProps);\n      const endProps = Object.assign({}, nextProps);\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n          Object.assign(startProps, this.state.endProps);\n        } else {\n          Object.assign(startProps, this.state.propsInTransition);\n        }\n\n        if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n          const currentTime = this.time();\n          const x0 = (currentTime - this.state.startTime) / this.state.duration;\n          endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n          endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n          endProps.transitionInterpolator = startProps.transitionInterpolator;\n        }\n      }\n      endProps.onTransitionStart();\n\n      this._triggerTransition(startProps, endProps);\n\n      return true;\n    }\n\n    if (this._isTransitionInProgress()) {\n      currentProps.onTransitionInterrupt();\n      this._endTransition();\n    }\n\n    return false;\n  }\n\n  // Helper methods\n\n  _isTransitionInProgress() {\n    return Boolean(this._animationFrame);\n  }\n\n  _isTransitionEnabled(props) {\n    const {transitionDuration, transitionInterpolator} = props;\n    return (\n      (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator)\n    );\n  }\n\n  _isUpdateDueToCurrentTransition(props) {\n    if (this.state.propsInTransition) {\n      return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n    }\n    return false;\n  }\n\n  _shouldIgnoreViewportChange(currentProps, nextProps) {\n    if (!currentProps) {\n      return true;\n    }\n    if (this._isTransitionInProgress()) {\n      // Ignore update if it is requested to be ignored\n      return (\n        this.state.interruption === TRANSITION_EVENTS.IGNORE ||\n        // Ignore update if it is due to current active transition.\n        this._isUpdateDueToCurrentTransition(nextProps)\n      );\n    }\n    if (this._isTransitionEnabled(nextProps)) {\n      // Ignore if none of the viewport props changed.\n      return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n    }\n\n    return true;\n  }\n\n  _triggerTransition(startProps, endProps) {\n    assert(this._isTransitionEnabled(endProps));\n\n    if (this._animationFrame) {\n      cancelAnimationFrame(this._animationFrame);\n    }\n\n    // update transitionDuration for 'auto' mode\n    const {transitionInterpolator} = endProps;\n    const duration = transitionInterpolator.getDuration\n      ? transitionInterpolator.getDuration(startProps, endProps)\n      : endProps.transitionDuration;\n\n    if (duration === 0) {\n      return;\n    }\n\n    const initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n\n    const interactionState = {\n      inTransition: true,\n      isZooming: startProps.zoom !== endProps.zoom,\n      isPanning:\n        startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n      isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n    };\n\n    this.state = {\n      // Save current transition props\n      duration,\n      easing: endProps.transitionEasing,\n      interpolator: endProps.transitionInterpolator,\n      interruption: endProps.transitionInterruption,\n\n      startTime: this.time(),\n      startProps: initialProps.start,\n      endProps: initialProps.end,\n      animation: null,\n      propsInTransition: {}\n    };\n    this._onTransitionFrame();\n    this.onStateChange(interactionState);\n  }\n\n  _onTransitionFrame = () => {\n    // _updateViewport() may cancel the animation\n    this._animationFrame = requestAnimationFrame(this._onTransitionFrame);\n    this._updateViewport();\n  };\n\n  _endTransition() {\n    if (this._animationFrame) {\n      cancelAnimationFrame(this._animationFrame);\n      this._animationFrame = null;\n    }\n    this.onStateChange({\n      inTransition: false,\n      isZooming: false,\n      isPanning: false,\n      isRotating: false\n    });\n  }\n\n  _updateViewport() {\n    // NOTE: Be cautious re-ordering statements in this function.\n    const currentTime = this.time();\n    const {startTime, duration, easing, interpolator, startProps, endProps} = this.state;\n    let shouldEnd = false;\n    let t = (currentTime - startTime) / duration;\n    if (t >= 1) {\n      t = 1;\n      shouldEnd = true;\n    }\n    t = easing(t);\n\n    const viewport = interpolator.interpolateProps(startProps, endProps, t);\n    // Normalize viewport props\n    const mapState = new MapState(Object.assign({}, this.props, viewport));\n    this.state.propsInTransition = mapState.getViewportProps();\n\n    this.onViewportChange(this.state.propsInTransition, this.props);\n\n    if (shouldEnd) {\n      this._endTransition();\n      this.props.onTransitionEnd();\n    }\n  }\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/* eslint-disable complexity, max-statements */\nimport MapState from './map-state';\nimport {LinearInterpolator} from './transition';\nimport TransitionManager, {TRANSITION_EVENTS} from './transition-manager';\n\nconst NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport const LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: t => t,\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\n\n// EVENT HANDLING PARAMETERS\nconst DEFAULT_INERTIA = 300;\nconst INERTIA_EASING = t => 1 - (1 - t) * (1 - t);\n\nconst EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\n/**\n * @classdesc\n * A class that handles events and updates mercator style viewport parameters\n */\nexport default class MapController {\n  events = [];\n  scrollZoom = true;\n  dragPan = true;\n  dragRotate = true;\n  doubleClickZoom = true;\n  touchZoom = true;\n  touchRotate = false;\n  keyboard = true;\n\n  _interactionState = {\n    isDragging: false\n  };\n  _events = {};\n\n  constructor() {\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new TransitionManager({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n\n  /**\n   * Callback for events\n   * @param {object} event - a mjolnir.js Event\n   */\n  handleEvent(event) {\n    this.mapState = this.getMapState();\n    const eventStartBlocked = this._eventStartBlocked;\n\n    switch (event.type) {\n      case 'panstart':\n        return eventStartBlocked ? false : this._onPanStart(event);\n      case 'panmove':\n        return this._onPan(event);\n      case 'panend':\n        return this._onPanEnd(event);\n      case 'pinchstart':\n        return eventStartBlocked ? false : this._onPinchStart(event);\n      case 'pinchmove':\n        return this._onPinch(event);\n      case 'pinchend':\n        return this._onPinchEnd(event);\n      case 'tripanstart':\n        return eventStartBlocked ? false : this._onTriplePanStart(event);\n      case 'tripanmove':\n        return this._onTriplePan(event);\n      case 'tripanend':\n        return this._onTriplePanEnd(event);\n      case 'doubletap':\n        return this._onDoubleTap(event);\n      case 'wheel':\n        return this._onWheel(event);\n      case 'keydown':\n        return this._onKeyDown(event);\n      default:\n        return false;\n    }\n  }\n\n  /* Event utils */\n  // Event object: http://hammerjs.github.io/api/#event-object\n  getCenter(event) {\n    const {\n      offsetCenter: {x, y}\n    } = event;\n    return [x, y];\n  }\n\n  isFunctionKeyPressed(event) {\n    const {srcEvent} = event;\n    return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n  }\n\n  // When a multi-touch event ends, e.g. pinch, not all pointers are lifted at the same time.\n  // This triggers a brief `pan` event.\n  // Calling this method will temporarily disable *start events to avoid conflicting transitions.\n  blockEvents(timeout) {\n    /* global setTimeout */\n    const timer = setTimeout(() => {\n      if (this._eventStartBlocked === timer) {\n        this._eventStartBlocked = null;\n      }\n    }, timeout);\n    this._eventStartBlocked = timer;\n  }\n\n  /* Callback util */\n  // formats map state and invokes callback function\n  updateViewport(newMapState, extraProps, interactionState) {\n    // Always trigger callback on initial update (resize)\n    const oldViewport =\n      this.mapState instanceof MapState ? this.mapState.getViewportProps() : this.mapState;\n    const newViewport = {...newMapState.getViewportProps(), ...extraProps};\n\n    const viewStateChanged = Object.keys(newViewport).some(\n      key => oldViewport[key] !== newViewport[key]\n    );\n\n    this._state = newMapState.getState();\n    this._setInteractionState(interactionState);\n\n    // viewState has changed\n    if (viewStateChanged) {\n      this.onViewportChange(newViewport, this._interactionState, oldViewport);\n    }\n  }\n\n  _setInteractionState = newState => {\n    Object.assign(this._interactionState, newState);\n    if (this.onStateChange) {\n      this.onStateChange(this._interactionState);\n    }\n  };\n\n  _onTransition = (newViewport, oldViewport) => {\n    this.onViewportChange(newViewport, this._interactionState, oldViewport);\n  };\n\n  getMapState(overrides) {\n    return new MapState({...this.mapStateProps, ...this._state, ...overrides});\n  }\n\n  isDragging() {\n    return this._interactionState.isDragging;\n  }\n\n  /**\n   * Extract interactivity options\n   */\n  setOptions(options) {\n    const {\n      onViewportChange,\n      onStateChange,\n      eventManager = this.eventManager,\n\n      isInteractive = true,\n      scrollZoom = this.scrollZoom,\n      dragPan = this.dragPan,\n      dragRotate = this.dragRotate,\n      doubleClickZoom = this.doubleClickZoom,\n      touchZoom = this.touchZoom,\n      touchRotate = this.touchRotate,\n      keyboard = this.keyboard\n    } = options;\n\n    this.onViewportChange = onViewportChange;\n    this.onStateChange = onStateChange;\n\n    const prevOptions = this.mapStateProps || {};\n    const dimensionChanged =\n      prevOptions.height !== options.height || prevOptions.width !== options.width;\n\n    this.mapStateProps = options;\n\n    if (dimensionChanged) {\n      // Dimensions changed, normalize the props and fire change event\n      this.mapState = prevOptions;\n      this.updateViewport(new MapState(options));\n    }\n    // Update transition\n    this._transitionManager.processViewportChange(options);\n\n    if (this.eventManager !== eventManager) {\n      // EventManager has changed\n      this.eventManager = eventManager;\n      this._events = {};\n      this.toggleEvents(this.events, true);\n    }\n\n    // Register/unregister events\n    this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n    this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n    this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n    this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n    this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n    this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n\n    // Interaction toggles\n    this.scrollZoom = scrollZoom;\n    this.dragPan = dragPan;\n    this.dragRotate = dragRotate;\n    this.doubleClickZoom = doubleClickZoom;\n    this.touchZoom = touchZoom;\n    this.touchRotate = touchRotate;\n    this.keyboard = keyboard;\n  }\n\n  toggleEvents(eventNames, enabled) {\n    if (this.eventManager) {\n      eventNames.forEach(eventName => {\n        if (this._events[eventName] !== enabled) {\n          this._events[eventName] = enabled;\n          if (enabled) {\n            this.eventManager.on(eventName, this.handleEvent);\n          } else {\n            this.eventManager.off(eventName, this.handleEvent);\n          }\n        }\n      });\n    }\n  }\n\n  /* Event handlers */\n  // Default handler for the `panstart` event.\n  _onPanStart(event) {\n    const pos = this.getCenter(event);\n    this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n    const newMapState = this._panRotate\n      ? this.mapState.rotateStart({pos})\n      : this.mapState.panStart({pos});\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {isDragging: true});\n    return true;\n  }\n\n  // Default handler for the `panmove` event.\n  _onPan(event) {\n    if (!this.isDragging()) {\n      return false;\n    }\n    return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n  }\n\n  // Default handler for the `panend` event.\n  _onPanEnd(event) {\n    if (!this.isDragging()) {\n      return false;\n    }\n    return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n  }\n\n  // Default handler for panning to move.\n  // Called by `_onPan` when panning without function key pressed.\n  _onPanMove(event) {\n    if (!this.dragPan) {\n      return false;\n    }\n    const pos = this.getCenter(event);\n    const newMapState = this.mapState.pan({pos});\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {isPanning: true});\n    return true;\n  }\n\n  _onPanMoveEnd(event) {\n    if (this.dragPan) {\n      const {inertia = DEFAULT_INERTIA} = this.dragPan;\n      if (inertia && event.velocity) {\n        const pos = this.getCenter(event);\n        const endPos = [\n          pos[0] + (event.velocityX * inertia) / 2,\n          pos[1] + (event.velocityY * inertia) / 2\n        ];\n        const newControllerState = this.mapState.pan({pos: endPos}).panEnd();\n        this.updateViewport(\n          newControllerState,\n          {\n            ...LINEAR_TRANSITION_PROPS,\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          },\n          {\n            isDragging: false,\n            isPanning: true\n          }\n        );\n        return true;\n      }\n    }\n    const newMapState = this.mapState.panEnd();\n    this.updateViewport(newMapState, null, {\n      isDragging: false,\n      isPanning: false\n    });\n    return true;\n  }\n\n  // Default handler for panning to rotate.\n  // Called by `_onPan` when panning with function key pressed.\n  _onPanRotate(event) {\n    if (!this.dragRotate) {\n      return false;\n    }\n\n    const pos = this.getCenter(event);\n    const newMapState = this.mapState.rotate({pos});\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {isRotating: true});\n    return true;\n  }\n\n  _onPanRotateEnd(event) {\n    if (this.dragRotate) {\n      const {inertia = DEFAULT_INERTIA} = this.dragRotate;\n      if (inertia && event.velocity) {\n        const pos = this.getCenter(event);\n        const endPos = [\n          pos[0] + (event.velocityX * inertia) / 2,\n          pos[1] + (event.velocityY * inertia) / 2\n        ];\n        const newControllerState = this.mapState.rotate({pos: endPos}).rotateEnd();\n        this.updateViewport(\n          newControllerState,\n          {\n            ...LINEAR_TRANSITION_PROPS,\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          },\n          {\n            isDragging: false,\n            isRotating: true\n          }\n        );\n        return true;\n      }\n    }\n    const newMapState = this.mapState.panEnd();\n    this.updateViewport(newMapState, null, {\n      isDragging: false,\n      isRotating: false\n    });\n    return true;\n  }\n\n  // Default handler for the `wheel` event.\n  _onWheel(event) {\n    if (!this.scrollZoom) {\n      return false;\n    }\n\n    const {speed = 0.01, smooth = false} = this.scrollZoom;\n\n    event.preventDefault();\n\n    const pos = this.getCenter(event);\n    const {delta} = event;\n\n    // Map wheel delta to relative scale\n    let scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n    if (delta < 0 && scale !== 0) {\n      scale = 1 / scale;\n    }\n\n    const newMapState = this.mapState.zoom({pos, scale});\n    if (newMapState.getViewportProps().zoom === this.mapStateProps.zoom) {\n      return false;\n    }\n\n    this.updateViewport(\n      newMapState,\n      {\n        ...LINEAR_TRANSITION_PROPS,\n        transitionInterpolator: new LinearInterpolator({around: pos}),\n        transitionDuration: smooth ? 250 : 1\n      },\n      {\n        isPanning: true,\n        isZooming: true\n      }\n    );\n    return true;\n  }\n\n  // Default handler for the `pinchstart` event.\n  _onPinchStart(event) {\n    const pos = this.getCenter(event);\n    const newMapState = this.mapState.zoomStart({pos}).rotateStart({pos});\n    // hack - hammer's `rotation` field doesn't seem to produce the correct angle\n    this._startPinchRotation = event.rotation;\n    this._lastPinchEvent = event;\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {isDragging: true});\n    return true;\n  }\n\n  // Default handler for the `pinch` event.\n  _onPinch(event) {\n    if (!this.isDragging()) {\n      return false;\n    }\n    if (!this.touchZoom && !this.touchRotate) {\n      return false;\n    }\n\n    let newMapState = this.mapState;\n    if (this.touchZoom) {\n      const {scale} = event;\n      const pos = this.getCenter(event);\n      newMapState = newMapState.zoom({pos, scale});\n    }\n    if (this.touchRotate) {\n      const {rotation} = event;\n      newMapState = newMapState.rotate({\n        deltaAngleX: this._startPinchRotation - rotation\n      });\n    }\n\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n      isDragging: true,\n      isPanning: Boolean(this.touchZoom),\n      isZooming: Boolean(this.touchZoom),\n      isRotating: Boolean(this.touchRotate)\n    });\n    this._lastPinchEvent = event;\n    return true;\n  }\n\n  // Default handler for the `pinchend` event.\n  _onPinchEnd(event) {\n    if (!this.isDragging()) {\n      return false;\n    }\n    if (this.touchZoom) {\n      const {inertia = DEFAULT_INERTIA} = this.touchZoom;\n      const {_lastPinchEvent} = this;\n      if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n        const pos = this.getCenter(event);\n        let newMapState = this.mapState.rotateEnd();\n        const z = Math.log2(event.scale);\n        const velocityZ =\n          (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n        const endScale = Math.pow(2, z + (velocityZ * inertia) / 2);\n        newMapState = newMapState.zoom({pos, scale: endScale}).zoomEnd();\n\n        this.updateViewport(\n          newMapState,\n          {\n            ...LINEAR_TRANSITION_PROPS,\n            transitionInterpolator: new LinearInterpolator({around: pos}),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          },\n          {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          }\n        );\n        this.blockEvents(inertia);\n        return true;\n      }\n    }\n\n    const newMapState = this.mapState.zoomEnd().rotateEnd();\n    this._state.startPinchRotation = 0;\n    this.updateViewport(newMapState, null, {\n      isDragging: false,\n      isPanning: false,\n      isZooming: false,\n      isRotating: false\n    });\n    this._startPinchRotation = null;\n    this._lastPinchEvent = null;\n    return true;\n  }\n\n  _onTriplePanStart(event) {\n    const pos = this.getCenter(event);\n    const newMapState = this.mapState.rotateStart({pos});\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {isDragging: true});\n    return true;\n  }\n\n  _onTriplePan(event) {\n    if (!this.isDragging()) {\n      return false;\n    }\n    if (!this.touchRotate) {\n      return false;\n    }\n\n    const pos = this.getCenter(event);\n    pos[0] -= event.deltaX;\n\n    const newMapState = this.mapState.rotate({pos});\n    this.updateViewport(newMapState, NO_TRANSITION_PROPS, {isRotating: true});\n    return true;\n  }\n\n  _onTriplePanEnd(event) {\n    if (!this.isDragging()) {\n      return false;\n    }\n    if (this.touchRotate) {\n      const {inertia = DEFAULT_INERTIA} = this.touchRotate;\n      if (inertia && event.velocityY) {\n        const pos = this.getCenter(event);\n        const endPos = [pos[0], (pos[1] += (event.velocityY * inertia) / 2)];\n        const newMapState = this.mapState.rotate({pos: endPos});\n        this.updateViewport(\n          newMapState,\n          {\n            ...LINEAR_TRANSITION_PROPS,\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          },\n          {\n            isDragging: false,\n            isRotating: true\n          }\n        );\n        this.blockEvents(inertia);\n        return false;\n      }\n    }\n    const newMapState = this.mapState.rotateEnd();\n    this.updateViewport(newMapState, null, {\n      isDragging: false,\n      isRotating: false\n    });\n    return true;\n  }\n\n  // Default handler for the `doubletap` event.\n  _onDoubleTap(event) {\n    if (!this.doubleClickZoom) {\n      return false;\n    }\n    const pos = this.getCenter(event);\n    const isZoomOut = this.isFunctionKeyPressed(event);\n\n    const newMapState = this.mapState.zoom({pos, scale: isZoomOut ? 0.5 : 2});\n    this.updateViewport(\n      newMapState,\n      Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new LinearInterpolator({around: pos})\n      }),\n      {isZooming: true}\n    );\n    return true;\n  }\n\n  // Default handler for the `keydown` event\n  _onKeyDown(event) {\n    if (!this.keyboard) {\n      return false;\n    }\n    const funcKey = this.isFunctionKeyPressed(event);\n    const {zoomSpeed = 2, moveSpeed = 100, rotateSpeedX = 15, rotateSpeedY = 10} = this.keyboard;\n\n    const {mapStateProps} = this;\n    let newMapState;\n\n    switch (event.srcEvent.keyCode) {\n      case 189: // -\n        if (funcKey) {\n          newMapState = this.getMapState({zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1});\n        } else {\n          newMapState = this.getMapState({zoom: mapStateProps.zoom - Math.log2(zoomSpeed)});\n        }\n        break;\n      case 187: // +\n        if (funcKey) {\n          newMapState = this.getMapState({zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1});\n        } else {\n          newMapState = this.getMapState({zoom: mapStateProps.zoom + Math.log2(zoomSpeed)});\n        }\n        break;\n      case 37: // left\n        if (funcKey) {\n          newMapState = this.getMapState({\n            bearing: mapStateProps.bearing - rotateSpeedX\n          });\n        } else {\n          newMapState = this.mapState.pan({pos: [moveSpeed, 0], startPos: [0, 0]});\n        }\n        break;\n      case 39: // right\n        if (funcKey) {\n          newMapState = this.getMapState({\n            bearing: mapStateProps.bearing + rotateSpeedX\n          });\n        } else {\n          newMapState = this.mapState.pan({pos: [-moveSpeed, 0], startPos: [0, 0]});\n        }\n        break;\n      case 38: // up\n        if (funcKey) {\n          newMapState = this.getMapState({pitch: mapStateProps.pitch + rotateSpeedY});\n        } else {\n          newMapState = this.mapState.pan({pos: [0, moveSpeed], startPos: [0, 0]});\n        }\n        break;\n      case 40: // down\n        if (funcKey) {\n          newMapState = this.getMapState({pitch: mapStateProps.pitch - rotateSpeedY});\n        } else {\n          newMapState = this.mapState.pan({pos: [0, -moveSpeed], startPos: [0, 0]});\n        }\n        break;\n      default:\n        return false;\n    }\n    return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n  }\n}\n","import * as React from 'react';\nimport {useContext, useRef, useMemo, useEffect, useImperativeHandle, forwardRef} from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport StaticMap, {getViewport} from './static-map';\nimport {MAPBOX_LIMITS} from '../utils/map-state';\n\nimport TransitionManager from '../utils/transition-manager';\nimport MapContext, {MapContextProvider} from './map-context';\n\nimport {EventManager} from 'mjolnir.js';\nimport MapController from '../utils/map-controller';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport {getTerrainElevation} from '../utils/terrain';\n\nconst propTypes = Object.assign({}, StaticMap.propTypes, {\n  // Additional props on top of StaticMap\n\n  /** Viewport constraints */\n  // Max zoom level\n  maxZoom: PropTypes.number,\n  // Min zoom level\n  minZoom: PropTypes.number,\n  // Max pitch in degrees\n  maxPitch: PropTypes.number,\n  // Min pitch in degrees\n  minPitch: PropTypes.number,\n\n  // Callbacks fired when the user interacted with the map. The object passed to the callbacks\n  // contains viewport properties such as `longitude`, `latitude`, `zoom` etc.\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onInteractionStateChange: PropTypes.func,\n\n  /** Viewport transition **/\n  // transition duration for viewport change\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  // TransitionInterpolator instance, can be used to perform custom transitions.\n  transitionInterpolator: PropTypes.object,\n  // type of interruption of current transition on update.\n  transitionInterruption: PropTypes.number,\n  // easing function\n  transitionEasing: PropTypes.func,\n  // transition status update functions\n  onTransitionStart: PropTypes.func,\n  onTransitionInterrupt: PropTypes.func,\n  onTransitionEnd: PropTypes.func,\n\n  /** Enables control event handling */\n  // Scroll to zoom\n  scrollZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  // Drag to pan\n  dragPan: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  // Drag to rotate\n  dragRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  // Double click to zoom\n  doubleClickZoom: PropTypes.bool,\n  // Multitouch zoom\n  touchZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  // Multitouch rotate\n  touchRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  // Keyboard\n  keyboard: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n\n  /** Event callbacks */\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onDblClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onWheel: PropTypes.func,\n\n  /** Custom touch-action CSS for the event canvas. Defaults to 'none' */\n  touchAction: PropTypes.string,\n\n  /** Custom hammer.js recognizer options */\n  eventRecognizerOptions: PropTypes.object,\n\n  /** Radius to detect features around a clicked point. Defaults to 0. */\n  clickRadius: PropTypes.number,\n\n  /** List of layers that are interactive */\n  interactiveLayerIds: PropTypes.array,\n\n  /** Accessor that returns a cursor style to show interactive state */\n  getCursor: PropTypes.func,\n\n  // A map control instance to replace the default map controller\n  // The object must expose a method: `setOptions(opts)`\n  controller: PropTypes.instanceOf(MapController)\n});\n\nconst getDefaultCursor = ({isDragging, isHovering}) =>\n  isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n\nconst defaultProps = Object.assign(\n  {},\n  StaticMap.defaultProps,\n  MAPBOX_LIMITS,\n  TransitionManager.defaultProps,\n  {\n    onViewStateChange: null,\n    onViewportChange: null,\n    onClick: null,\n    onNativeClick: null,\n    onHover: null,\n    onContextMenu: event => event.preventDefault(),\n\n    scrollZoom: true,\n    dragPan: true,\n    dragRotate: true,\n    doubleClickZoom: true,\n    touchZoom: true,\n    touchRotate: false,\n    keyboard: true,\n\n    touchAction: 'none',\n    eventRecognizerOptions: {},\n    clickRadius: 0,\n    getCursor: getDefaultCursor\n  }\n);\n\n/* Event handlers */\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n\n  const {\n    offsetCenter: {x, y}\n  } = event;\n  // https://github.com/visgl/react-map-gl/issues/1449\n  // TODO - fix in mjolnir.js\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return event;\n  }\n  const pos = [x, y];\n\n  event.point = pos;\n\n  const {viewport} = this;\n  const location = viewport.unproject(pos, {targetZ: viewport.meterOffset[2]});\n  event.lngLat = [location[0], location[1]];\n\n  return event;\n}\n\nfunction getFeatures(pos) {\n  const {map} = this;\n\n  if (!map || !pos) {\n    return null;\n  }\n\n  const queryParams = {};\n  const size = this.props.clickRadius;\n\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n\n  try {\n    // This may fail if map is still loading\n    return map.queryRenderedFeatures(\n      size\n        ? // Radius enables point features, like marker symbols, to be clicked.\n          [\n            [pos[0] - size, pos[1] + size],\n            [pos[0] + size, pos[1] - size]\n          ]\n        : pos,\n      queryParams\n    );\n  } catch {\n    return null;\n  }\n}\n\nfunction onEvent(callbackName, event) {\n  const func = this.props[callbackName];\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\n\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\n\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\n\n// eslint-disable-next-line complexity\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n\n  if (!this.state.isDragging) {\n    const {onHover, interactiveLayerIds} = this.props;\n    let features;\n    event = normalizeEvent.call(this, event);\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n\n    const isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    const isEntering = isHovering && !this.state.isHovering;\n    const isExiting = !isHovering && this.state.isHovering;\n\n    if (onHover || isEntering) {\n      event.features = features;\n\n      // backward compatibility: v3 `onHover` interface\n      if (onHover) {\n        onHover(event);\n      }\n    }\n\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n    if (isEntering || isExiting) {\n      this.setState({isHovering});\n    }\n  }\n}\n\nfunction onPointerClick(event) {\n  const {onClick, onNativeClick, onDblClick, doubleClickZoom} = this.props;\n  let callbacks = [];\n  const isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n  // `click` is only fired on single click. `anyclick` is fired twice if double clicking.\n  // `click` has a delay period after pointer up that prevents it from firing when\n  // double clicking. `anyclick` is always fired immediately after pointer up.\n  // If double click is turned off by the user, we want to immediately fire the\n  // onClick event. Otherwise, we wait to make sure it's a single click.\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n      break;\n\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n      break;\n\n    default:\n  }\n\n  callbacks = callbacks.filter(Boolean);\n\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    // backward compatibility: v3 `onClick` interface\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(cb => cb(event));\n  }\n}\n/* End of event handers */\n\nfunction getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\n\n/* eslint-disable max-statements */\nconst InteractiveMap = forwardRef((props, ref) => {\n  const parentContext = useContext(MapContext);\n  const controller = useMemo(() => props.controller || new MapController(), []);\n  const eventManager = useMemo(\n    () =>\n      new EventManager(null, {\n        touchAction: props.touchAction,\n        recognizerOptions: props.eventRecognizerOptions\n      }),\n    []\n  );\n  const eventCanvasRef = useRef(null);\n  const staticMapRef = useRef(null);\n\n  // Event handlers are registered once but need access to the latest props\n  // This is an anti-pattern, though it maintains a persistent reference to the latest props/state of this component\n  const _thisRef = useRef({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n  const thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n  thisRef.setState = newState => {\n    thisRef.state = {...thisRef.state, ...newState};\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n\n  let inRender = true;\n  let viewportUpdateRequested;\n  let stateUpdateRequested;\n\n  const handleViewportChange = (viewState, interactionState, oldViewState) => {\n    if (inRender) {\n      // Do not call the callbacks during render - may result in \"cannot update during an existing state transition\" error.\n      // Defer the update until after render\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n    const {onViewStateChange, onViewportChange} = thisRef.props;\n\n    /* eslint-disable accessor-pairs */\n    Object.defineProperty(viewState, 'position', {\n      get: () => [0, 0, getTerrainElevation(thisRef.map, viewState)]\n    });\n\n    if (onViewStateChange) {\n      onViewStateChange({viewState, interactionState, oldViewState});\n    }\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n\n  useImperativeHandle(ref, () => getRefHandles(staticMapRef), []);\n\n  const context = useMemo(\n    () => ({\n      ...parentContext,\n      eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    }),\n    [parentContext, eventCanvasRef.current]\n  );\n  context.onViewportChange = handleViewportChange;\n  context.viewport = parentContext.viewport || getViewport(thisRef);\n  thisRef.viewport = context.viewport;\n\n  const handleInteractionStateChange = interactionState => {\n    const {isDragging = false} = interactionState;\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({isDragging});\n    }\n\n    if (inRender) {\n      // Do not call the callbacks during render - may result in \"cannot update during an existing state transition\" error.\n      // Defer the update until after render\n      stateUpdateRequested = interactionState;\n      return;\n    }\n\n    const {onInteractionStateChange} = thisRef.props;\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n\n  const updateControllerOpts = () => {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions({\n        ...thisRef.props,\n        ...thisRef.props.viewState,\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      });\n    }\n  };\n\n  const onResize = ({width, height}) => {\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({width, height});\n  };\n\n  useEffect(() => {\n    eventManager.setElement(eventCanvasRef.current);\n    // Register event handlers\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n\n    // Clean up on unmount\n    return () => {\n      eventManager.destroy();\n    };\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (viewportUpdateRequested) {\n      // Perform deferred updates\n      handleViewportChange(...viewportUpdateRequested);\n    }\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n\n  updateControllerOpts();\n\n  const {width, height, style, getCursor} = props;\n\n  const eventCanvasStyle = useMemo(\n    () => ({\n      position: 'relative',\n      ...style,\n      width,\n      height,\n      cursor: getCursor(thisRef.state)\n    }),\n    [style, width, height, getCursor, thisRef.state]\n  );\n\n  if (!viewportUpdateRequested || !thisRef._child) {\n    // Only rerender if no viewport update has been requested during render.\n    // Otherwise return the last rendered child, and invoke the callback when we're done.\n    thisRef._child = (\n      <MapContextProvider value={context}>\n        <div key=\"event-canvas\" ref={eventCanvasRef} style={eventCanvasStyle}>\n          <StaticMap\n            {...props}\n            width=\"100%\"\n            height=\"100%\"\n            style={null}\n            onResize={onResize}\n            ref={staticMapRef}\n          />\n        </div>\n      </MapContextProvider>\n    );\n  }\n\n  inRender = false;\n  return thisRef._child;\n});\n\nInteractiveMap.supported = StaticMap.supported;\nInteractiveMap.propTypes = propTypes;\nInteractiveMap.defaultProps = defaultProps;\n\nexport default InteractiveMap;\n","/* eslint-disable complexity */\nexport default function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (!a || !b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n  if (typeof a === 'object' && typeof b === 'object') {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    for (const key of aKeys) {\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as React from 'react';\nimport {useContext, useEffect, useMemo, useState, useRef} from 'react';\nimport {cloneElement} from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string\n};\n\nlet sourceCounter = 0;\n\nfunction createSource(map, id, props) {\n  if (map.style && map.style._loaded) {\n    const options = {...props};\n    delete options.id;\n    delete options.children;\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n  return null;\n}\n\n/* eslint-disable complexity */\nfunction updateSource(source, props, prevProps) {\n  assert(props.id === prevProps.id, 'source id changed');\n  assert(props.type === prevProps.type, 'source type changed');\n\n  let changedKey = '';\n  let changedKeyCount = 0;\n\n  for (const key in props) {\n    if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  const {type} = props;\n  if (type === 'geojson') {\n    source.setData(props.data);\n  } else if (type === 'image') {\n    source.updateImage({url: props.url, coordinates: props.coordinates});\n  } else if (\n    (type === 'canvas' || type === 'video') &&\n    changedKeyCount === 1 &&\n    changedKey === 'coordinates'\n  ) {\n    source.setCoordinates(props.coordinates);\n  } else if (type === 'vector' && source.setUrl) {\n    // Added in 1.12.0:\n    // vectorTileSource.setTiles\n    // vectorTileSource.setUrl\n    switch (changedKey) {\n      case 'url':\n        source.setUrl(props.url);\n        break;\n      case 'tiles':\n        source.setTiles(props.tiles);\n        break;\n      default:\n    }\n  } else {\n    // eslint-disable-next-line\n    console.warn(`Unable to update <Source> prop: ${changedKey}`);\n  }\n}\n/* eslint-enable complexity */\n\nfunction Source(props) {\n  const context = useContext(MapContext);\n  const propsRef = useRef({id: props.id, type: props.type});\n  const [, setStyleLoaded] = useState(0);\n\n  const id = useMemo(() => props.id || `jsx-source-${sourceCounter++}`, []);\n  const {map} = context;\n\n  useEffect(() => {\n    if (map) {\n      const forceUpdate = () => setStyleLoaded(version => version + 1);\n      map.on('styledata', forceUpdate);\n\n      return () => {\n        map.off('styledata', forceUpdate);\n        /* global requestAnimationFrame */\n        // Do not remove source immediately because the\n        // dependent <Layer>s' componentWillUnmount() might not have been called\n        // Removing source before dependent layers will throw error\n        // TODO - find a more robust solution\n        requestAnimationFrame(() => {\n          if (map.style && map.style._loaded && map.getSource(id)) {\n            map.removeSource(id);\n          }\n        });\n      };\n    }\n    return undefined;\n  }, [map, id]);\n\n  let source = map && map.style && map.getSource(id);\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n  propsRef.current = props;\n\n  return (\n    (source &&\n      React.Children.map(\n        props.children,\n        child =>\n          child &&\n          cloneElement(child, {\n            source: id\n          })\n      )) ||\n    null\n  );\n}\n\nSource.propTypes = propTypes;\nexport default Source;\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {useContext, useEffect, useMemo, useState, useRef} from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\n\nconst LAYER_TYPES = [\n  'fill',\n  'line',\n  'symbol',\n  'circle',\n  'fill-extrusion',\n  'raster',\n  'background',\n  'heatmap',\n  'hillshade',\n  'sky'\n];\n\nconst propTypes = {\n  type: PropTypes.oneOf(LAYER_TYPES).isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\n\n/* eslint-disable complexity, max-statements */\nfunction diffLayerStyles(map, id, props, prevProps) {\n  const {layout = {}, paint = {}, filter, minzoom, maxzoom, beforeId, ...otherProps} = props;\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n  if (layout !== prevProps.layout) {\n    const prevLayout = prevProps.layout || {};\n    for (const key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n    for (const key in prevLayout) {\n      if (!layout.hasOwnProperty(key)) {\n        map.setLayoutProperty(id, key, undefined);\n      }\n    }\n  }\n  if (paint !== prevProps.paint) {\n    const prevPaint = prevProps.paint || {};\n    for (const key in paint) {\n      if (!deepEqual(paint[key], prevPaint[key])) {\n        map.setPaintProperty(id, key, paint[key]);\n      }\n    }\n    for (const key in prevPaint) {\n      if (!paint.hasOwnProperty(key)) {\n        map.setPaintProperty(id, key, undefined);\n      }\n    }\n  }\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n  for (const key in otherProps) {\n    if (!deepEqual(otherProps[key], prevProps[key])) {\n      map.setLayerProperty(id, key, otherProps[key]);\n    }\n  }\n}\n\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    const options = {...props, id};\n    delete options.beforeId;\n\n    map.addLayer(options, props.beforeId);\n  }\n}\n\nfunction updateLayer(map, id, props, prevProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error); // eslint-disable-line\n  }\n}\n/* eslint-enable complexity, max-statements */\n\nlet layerCounter = 0;\n\nfunction Layer(props) {\n  const context = useContext(MapContext);\n  const propsRef = useRef({id: props.id, type: props.type});\n  const [, setStyleLoaded] = useState(0);\n\n  const id = useMemo(() => props.id || `jsx-layer-${layerCounter++}`, []);\n  const {map} = context;\n\n  useEffect(() => {\n    if (map) {\n      const forceUpdate = () => setStyleLoaded(version => version + 1);\n      map.on('styledata', forceUpdate);\n\n      return () => {\n        map.off('styledata', forceUpdate);\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n    return undefined;\n  }, [map]);\n\n  const layer = map && map.style && map.getLayer(id);\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n\n  // Store last rendered props\n  propsRef.current = props;\n\n  return null;\n}\n\nLayer.propTypes = propTypes;\n\nexport default Layer;\n","import {useContext, useRef, useEffect} from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\n\nexport const mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\n\nexport const mapControlPropTypes = {\n  /** Event handling */\n  captureScroll: PropTypes.bool,\n  // Stop map pan & rotate\n  captureDrag: PropTypes.bool,\n  // Stop map click\n  captureClick: PropTypes.bool,\n  // Stop map double click\n  captureDoubleClick: PropTypes.bool,\n  // Stop map pointer move\n  capturePointerMove: PropTypes.bool\n};\n\nfunction onMount(thisRef) {\n  const ref = thisRef.containerRef.current;\n  const {eventManager} = thisRef.context;\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n\n  const events = {\n    wheel: evt => {\n      const {props} = thisRef;\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: evt => {\n      const {props} = thisRef;\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: evt => {\n      const {props} = thisRef;\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n      if (props.onNativeClick) {\n        props.onNativeClick(evt, thisRef);\n      }\n    },\n    click: evt => {\n      const {props} = thisRef;\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: evt => {\n      const {props} = thisRef;\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: evt => {\n      const {props} = thisRef;\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n\n  // Clean up\n  return () => {\n    eventManager.off(events);\n  };\n}\n\nexport default function useMapControl(props = {}) {\n  const context = useContext(MapContext);\n  const containerRef = useRef(null);\n  const _thisRef = useRef({props, state: {}, context, containerRef});\n  const thisRef = _thisRef.current;\n\n  thisRef.props = props;\n  thisRef.context = context;\n\n  useEffect(() => onMount(thisRef), [context.eventManager]);\n\n  return thisRef;\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as React from 'react';\nimport {PureComponent, createRef} from 'react';\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nfunction Control(props) {\n  const {instance} = props;\n  const {context, containerRef} = useMapControl(props);\n\n  instance._context = context;\n  instance._containerRef = containerRef;\n\n  return instance._render();\n}\n\n/*\n * This class is kept for backward compatibility\n */\nexport default class BaseControl extends PureComponent {\n  static propTypes = mapControlPropTypes;\n  static defaultProps = mapControlDefaultProps;\n\n  _context = {};\n  _containerRef = createRef();\n\n  _onScroll = evt => {};\n\n  _onDragStart = evt => {};\n\n  _onDblClick = evt => {};\n\n  _onClick = evt => {};\n\n  _onPointerMove = evt => {};\n\n  _render() {\n    throw new Error('_render() not implemented');\n  }\n\n  render() {\n    return (\n      <Control\n        instance={this}\n        {...this.props}\n        onScroll={this._onScroll}\n        onDragStart={this._onDragStart}\n        onDblClick={this._onDblClick}\n        onClick={this._onClick}\n        onPointerMove={this._onPointerMove}\n      />\n    );\n  }\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as PropTypes from 'prop-types';\nimport {useState, useEffect} from 'react';\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nexport const draggableControlPropTypes = Object.assign({}, mapControlPropTypes, {\n  draggable: PropTypes.bool,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragStart: PropTypes.func,\n  // Offset from the left\n  offsetLeft: PropTypes.number,\n  // Offset from the top\n  offsetTop: PropTypes.number\n});\n\nexport const draggableControlDefaultProps = Object.assign({}, mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nfunction getDragEventPosition(event) {\n  const {\n    offsetCenter: {x, y}\n  } = event;\n  return [x, y];\n}\n\n/**\n * Returns offset of top-left of marker from drag start event\n * (used for positioning marker relative to next mouse coordinates)\n */\nfunction getDragEventOffset(event, container) {\n  const {\n    center: {x, y}\n  } = event;\n  if (container) {\n    const rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n  return null;\n}\n\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  const x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  const y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  // Unproject x/y value while respecting offset coordinates\n  return context.viewport.unproject([x, y]);\n}\n\nfunction onDragStart(event, {props, callbacks, state, context, containerRef}) {\n  const {draggable} = props;\n  if (!draggable) {\n    return;\n  }\n  event.stopPropagation();\n\n  const dragPos = getDragEventPosition(event);\n  const dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n\n  if (callbacks.onDragStart && dragOffset) {\n    const callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\n\nfunction onDrag(event, {props, callbacks, state, context}) {\n  event.stopPropagation();\n\n  const dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n\n  const {dragOffset} = state;\n  if (callbacks.onDrag && dragOffset) {\n    const callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\n\nfunction onDragEnd(event, {props, callbacks, state, context}) {\n  event.stopPropagation();\n\n  const {dragPos, dragOffset} = state;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    const callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\n\nfunction onDragCancel(event, {state}) {\n  event.stopPropagation();\n\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\n\nfunction registerEvents(thisRef) {\n  const {eventManager} = thisRef.context;\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n\n  // panstart is already attached by parent class BaseControl,\n  // here we just add listeners for subsequent drag events\n  const events = {\n    panmove: evt => onDrag(evt, thisRef),\n    panend: evt => onDragEnd(evt, thisRef),\n    pancancel: evt => onDragCancel(evt, thisRef)\n  };\n  eventManager.watch(events);\n\n  // Clean up\n  return () => {\n    eventManager.off(events);\n  };\n}\n\nexport default function useDraggableControl(props) {\n  const [dragPos, setDragPos] = useState(null);\n  const [dragOffset, setDragOffset] = useState(null);\n\n  const thisRef = useMapControl({\n    ...props,\n    onDragStart\n  });\n\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n\n  useEffect(() => registerEvents(thisRef), [thisRef.context.eventManager, Boolean(dragPos)]);\n\n  return thisRef;\n}\n","/* global window */\nconst pixelRatio = (typeof window !== 'undefined' && window.devicePixelRatio) || 1;\n\nexport const crispPixel = size => Math.round(size * pixelRatio) / pixelRatio;\n\nexport const crispPercentage = (el, percentage, dimension = 'x') => {\n  if (el === null) {\n    return percentage;\n  }\n  const origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return (crispPixel((percentage / 100) * origSize) / origSize) * 100;\n};\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as React from 'react';\nimport {useMemo} from 'react';\nimport * as PropTypes from 'prop-types';\nimport useDraggableControl, {\n  draggableControlDefaultProps,\n  draggableControlPropTypes\n} from './draggable-control';\nimport {crispPixel} from '../utils/crisp-pixel';\nimport {getTerrainElevation} from '../utils/terrain';\n\nconst propTypes = Object.assign({}, draggableControlPropTypes, {\n  // Custom className\n  className: PropTypes.string,\n  // Longitude of the anchor point\n  longitude: PropTypes.number.isRequired,\n  // Latitude of the anchor point\n  latitude: PropTypes.number.isRequired\n});\n\nconst defaultProps = Object.assign({}, draggableControlDefaultProps, {\n  className: ''\n});\n\nfunction getPosition({props, state, context}) {\n  const {longitude, latitude, offsetLeft, offsetTop} = props;\n  const {dragPos, dragOffset} = state;\n  const {viewport, map} = context;\n\n  // If dragging, just return the current drag position\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n\n  const altitude = getTerrainElevation(map, {longitude, latitude});\n\n  // Otherwise return the projected lat/lng with offset\n  let [x, y] = viewport.project([longitude, latitude, altitude]);\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\n\n/*\n * PureComponent doesn't update when context changes.\n * The only way is to implement our own shouldComponentUpdate here. Considering\n * the parent component (StaticMap or InteractiveMap) is pure, and map re-render\n * is almost always triggered by a viewport change, we almost definitely need to\n * recalculate the marker's position when the parent re-renders.\n */\nfunction Marker(props) {\n  const thisRef = useDraggableControl(props);\n  const {state, containerRef} = thisRef;\n\n  const {children, className, draggable} = props;\n  const {dragPos} = state;\n\n  const [x, y] = getPosition(thisRef);\n  const transform = `translate(${crispPixel(x)}px, ${crispPixel(y)}px)`;\n  const cursor = draggable ? (dragPos ? 'grabbing' : 'grab') : 'auto';\n\n  // Perf: avoid rerendering if only the viewport changed\n  const control = useMemo(() => {\n    const containerStyle = {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform,\n      cursor\n    };\n\n    return (\n      <div\n        className={`mapboxgl-marker ${className}`}\n        ref={thisRef.containerRef}\n        // @ts-ignore\n        style={containerStyle}\n      >\n        {children}\n      </div>\n    );\n  }, [children, className]);\n\n  const container = containerRef.current;\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n\n  return control;\n}\n\nMarker.defaultProps = defaultProps;\nMarker.propTypes = propTypes;\n\nexport default React.memo(Marker);\n","export const ANCHOR_POSITION = {\n  top: {x: 0.5, y: 0},\n  'top-left': {x: 0, y: 0},\n  'top-right': {x: 1, y: 0},\n  bottom: {x: 0.5, y: 1},\n  'bottom-left': {x: 0, y: 1},\n  'bottom-right': {x: 1, y: 1},\n  left: {x: 0, y: 0.5},\n  right: {x: 1, y: 0.5}\n};\n\nconst ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\n\n/**\n * Calculate the dynamic position for a popup to fit in a container.\n * @param {Object} opts\n * @param {Number} opts.x - x position of the anchor on screen\n * @param {Number} opts.y - y position of the anchor on screen\n * @param {Number} opts.width - width of the container\n * @param {Number} opts.height - height of the container\n * @param {Number} opts.padding - extra space from the edge in pixels\n * @param {Number} opts.selfWidth - width of the popup\n * @param {Number} opts.selfHeight - height of the popup\n * @param {String} opts.anchor - type of the anchor, one of 'top', 'bottom',\n    'left', 'right', 'top-left', 'top-right', 'bottom-left' , and  'bottom-right'\n * @returns {String} position - one of 'top', 'bottom',\n    'left', 'right', 'top-left', 'top-right', 'bottom-left' , and  'bottom-right'\n */\n// eslint-disable-next-line complexity,max-statements\nexport function getDynamicPosition({\n  x,\n  y,\n  width,\n  height,\n  selfWidth,\n  selfHeight,\n  anchor,\n  padding = 0\n}) {\n  let {x: anchorX, y: anchorY} = ANCHOR_POSITION[anchor];\n\n  // anchorY: top - 0, center - 0.5, bottom - 1\n  let top = y - anchorY * selfHeight;\n  let bottom = top + selfHeight;\n  let cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n  if (cutoffY > 0) {\n    // Needs vertical adjustment\n    let bestAnchorY = anchorY;\n    let minCutoff = cutoffY;\n    // Test anchorY at 0.5 step between [0, 1]\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n    anchorY = bestAnchorY;\n  }\n\n  // If needed, adjust anchorX at 0.5 step between [0, 1]\n  let xStep = 0.5;\n  if (anchorY === 0.5) {\n    // If y is centered, then x cannot also be centered\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  // anchorX: left - 0, center - 0.5, right - 1\n  let left = x - anchorX * selfWidth;\n  let right = left + selfWidth;\n  let cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n  if (cutoffX > 0) {\n    // Needs horizontal adjustment\n    let bestAnchorX = anchorX;\n    let minCutoff = cutoffX;\n    // Test anchorX at xStep between [0, 1]\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n      if (cutoffX < minCutoff) {\n        minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n    anchorX = bestAnchorX;\n  }\n\n  // Find the name of the new anchor position\n  return (\n    ANCHOR_TYPES.find(positionType => {\n      const anchorPosition = ANCHOR_POSITION[positionType];\n      return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n    }) || anchor\n  );\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as React from 'react';\nimport {useRef, useState, useEffect, useCallback} from 'react';\nimport * as PropTypes from 'prop-types';\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nimport {getDynamicPosition, ANCHOR_POSITION} from '../utils/dynamic-position';\nimport {getTerrainElevation} from '../utils/terrain';\nimport {crispPercentage, crispPixel} from '../utils/crisp-pixel';\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  // Custom className\n  className: PropTypes.string,\n  // Longitude of the anchor point\n  longitude: PropTypes.number.isRequired,\n  // Latitude of the anchor point\n  latitude: PropTypes.number.isRequired,\n  // Altitude of the anchor point\n  altitude: PropTypes.number,\n  // Offset from the left\n  offsetLeft: PropTypes.number,\n  // Offset from the top\n  offsetTop: PropTypes.number,\n  // Size of the tip\n  tipSize: PropTypes.number,\n  // Whether to show close button\n  closeButton: PropTypes.bool,\n  // Whether to close on click\n  closeOnClick: PropTypes.bool,\n  // The popup's location relative to the coordinate\n  anchor: PropTypes.oneOf(Object.keys(ANCHOR_POSITION)),\n  // Whether the popup anchor should be auto-adjusted to fit within the container\n  dynamicPosition: PropTypes.bool,\n  // Whether popups should be sorted by depth. Useful when using multiple popups with tilted map.\n  sortByDepth: PropTypes.bool,\n  // Callback when component is closed\n  onClose: PropTypes.func\n});\n\nconst defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: () => {}\n});\n\nfunction getPosition(props, viewport, el, [x, y]) {\n  const {anchor, dynamicPosition, tipSize} = props;\n\n  if (el) {\n    return dynamicPosition\n      ? getDynamicPosition({\n          x,\n          y,\n          anchor,\n          padding: tipSize,\n          width: viewport.width,\n          height: viewport.height,\n          selfWidth: el.clientWidth,\n          selfHeight: el.clientHeight\n        })\n      : anchor;\n  }\n\n  return anchor;\n}\n\nfunction getContainerStyle(props, viewport, el, [x, y, z], positionType) {\n  const {offsetLeft, offsetTop, sortByDepth} = props;\n  const anchorPosition = ANCHOR_POSITION[positionType];\n  const left = x + offsetLeft;\n  const top = y + offsetTop;\n\n  const xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n  const yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n  const style = {\n    position: 'absolute',\n    transform: `\n      translate(${xPercentage}%, ${yPercentage}%)\n      translate(${crispPixel(left)}px, ${crispPixel(top)}px)\n    `,\n    display: undefined,\n    zIndex: undefined\n  };\n\n  if (!sortByDepth) {\n    return style;\n  }\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    // clipped\n    style.display = 'none';\n  } else {\n    // use z-index to rearrange components\n    style.zIndex = Math.floor(((1 - z) / 2) * 100000);\n  }\n\n  return style;\n}\n\n/*\n * PureComponent doesn't update when context changes.\n * The only way is to implement our own shouldComponentUpdate here. Considering\n * the parent component (StaticMap or InteractiveMap) is pure, and map re-render\n * is almost always triggered by a viewport change, we almost definitely need to\n * recalculate the popup's position when the parent re-renders.\n */\nfunction Popup(props) {\n  const contentRef = useRef(null);\n  const thisRef = useMapControl(props);\n  const {context, containerRef} = thisRef;\n  const [, setLoaded] = useState(false);\n\n  useEffect(() => {\n    // Container just got a size, re-calculate position\n    setLoaded(true);\n  }, [contentRef.current]);\n\n  useEffect(() => {\n    if (context.eventManager && props.closeOnClick) {\n      const clickCallback = () => thisRef.props.onClose();\n      context.eventManager.on('anyclick', clickCallback);\n\n      return () => {\n        context.eventManager.off('anyclick', clickCallback);\n      };\n    }\n    return undefined;\n  }, [context.eventManager, props.closeOnClick]);\n\n  const {viewport, map} = context;\n  const {className, longitude, latitude, tipSize, closeButton, children} = props;\n\n  let {altitude} = props;\n  if (altitude === undefined) {\n    altitude = getTerrainElevation(map, {longitude, latitude});\n  }\n\n  const position = viewport.project([longitude, latitude, altitude]);\n\n  const positionType = getPosition(props, viewport, contentRef.current, position);\n  const containerStyle = getContainerStyle(\n    props,\n    viewport,\n    containerRef.current,\n    position,\n    positionType\n  );\n\n  const onClickCloseButton = useCallback(evt => {\n    thisRef.props.onClose();\n\n    const {eventManager} = thisRef.context;\n    if (eventManager) {\n      // Using with InteractiveMap\n      // After we call `onClose` on `anyclick`, this component will be unmounted\n      // at which point we unregister the event listeners and stop blocking propagation.\n      // Then after a short delay a `click` event will fire\n      // Attach a one-time event listener here to prevent it from triggering `onClick` of the base map\n      eventManager.once('click', e => e.stopPropagation(), evt.target);\n    }\n  }, []);\n\n  return (\n    <div\n      className={`mapboxgl-popup mapboxgl-popup-anchor-${positionType} ${className}`}\n      // @ts-ignore\n      style={containerStyle}\n      ref={containerRef}\n    >\n      <div key=\"tip\" className=\"mapboxgl-popup-tip\" style={{borderWidth: tipSize}} />\n      <div key=\"content\" ref={contentRef} className=\"mapboxgl-popup-content\">\n        {closeButton && (\n          <button\n            key=\"close-button\"\n            className=\"mapboxgl-popup-close-button\"\n            type=\"button\"\n            onClick={onClickCloseButton}\n          >\n            ×\n          </button>\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = propTypes;\nPopup.defaultProps = defaultProps;\n\nexport default React.memo(Popup);\n","import * as React from 'react';\nimport {useEffect, useCallback, useState, useRef, useMemo} from 'react';\nimport * as PropTypes from 'prop-types';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  toggleLabel: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  compact: PropTypes.bool,\n  customAttribution: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)])\n});\n\nconst defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\n\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  const control = new mapboxgl.AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n\n  // from AttributionControl.onAdd()\n  control._updateAttributions();\n  control._updateEditLink();\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n\n  return control;\n}\n\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n  control._map.off('sourcedata', control._updateData);\n}\n\nfunction AttributionControl(props) {\n  const {context, containerRef} = useMapControl(props);\n  const innerContainerRef = useRef(null);\n  const [showCompact, setShowCompact] = useState(false);\n\n  useEffect(() => {\n    let control;\n    if (context.map) {\n      control = setupAttributioncontrol(\n        {\n          customAttribution: props.customAttribution\n        },\n        context.map,\n        containerRef.current,\n        innerContainerRef.current\n      );\n    }\n\n    return () => control && removeAttributionControl(control);\n  }, [context.map]);\n\n  const compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n\n  useEffect(() => {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n\n  const toggleAttribution = useCallback(() => setShowCompact(value => !value), []);\n  const style = useMemo(() => ({position: 'absolute', ...props.style}), [props.style]);\n\n  return (\n    <div style={style} className={props.className}>\n      <div\n        ref={containerRef}\n        aria-pressed={showCompact}\n        className={`mapboxgl-ctrl mapboxgl-ctrl-attrib ${compact ? 'mapboxgl-compact' : ''} ${\n          showCompact ? 'mapboxgl-compact-show' : ''\n        }`}\n      >\n        <button\n          type=\"button\"\n          className=\"mapboxgl-ctrl-attrib-button\"\n          title={props.toggleLabel}\n          onClick={toggleAttribution}\n        />\n        <div ref={innerContainerRef} className=\"mapboxgl-ctrl-attrib-inner\" role=\"list\" />\n      </div>\n    </div>\n  );\n}\n\nAttributionControl.propTypes = propTypes;\nAttributionControl.defaultProps = defaultProps;\n\nexport default React.memo(AttributionControl);\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {document} from '../utils/globals';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport {useEffect, useState, useMemo} from 'react';\nimport mapboxgl from '../utils/mapboxgl';\n\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  // Custom className\n  className: PropTypes.string,\n  style: PropTypes.object,\n  /* eslint-disable max-len */\n  // `container` is the [compatible DOM element](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullScreen#Compatible_elements)\n  // which should be made full screen. By default, the map container element will be made full screen.\n  /* eslint-enable max-len */\n  container: PropTypes.object,\n  label: PropTypes.string\n});\n\nconst defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\n\nfunction FullscreenControl(props) {\n  const {context, containerRef} = useMapControl(props);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showButton, setShowButton] = useState(false);\n  const [mapboxFullscreenControl, createMapboxFullscreenControl] = useState(null);\n\n  useEffect(() => {\n    const control = new mapboxgl.FullscreenControl();\n\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n\n    const onFullscreenChange = () => {\n      const nextState = !control._fullscreen;\n      // this is a hack\n      // Mapbox use `_fullscreen` flag to toggle fullscreen mode\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n\n    document.addEventListener(control._fullscreenchange, onFullscreenChange);\n\n    return () => {\n      document.removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n\n  const onClickFullscreen = () => {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._container = props.container || context.container;\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n\n  const style = useMemo(() => ({position: 'absolute', ...props.style}), [props.style]);\n\n  if (!showButton) {\n    return null;\n  }\n\n  const {className, label} = props;\n  const type = isFullscreen ? 'shrink' : 'fullscreen';\n\n  return (\n    <div style={style} className={className}>\n      <div className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" ref={containerRef}>\n        <button\n          key={type}\n          className={`mapboxgl-ctrl-icon mapboxgl-ctrl-${type}`}\n          type=\"button\"\n          title={label}\n          onClick={onClickFullscreen}\n        >\n          <span className=\"mapboxgl-ctrl-icon\" aria-hidden=\"true\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nFullscreenControl.propTypes = propTypes;\nFullscreenControl.defaultProps = defaultProps;\n\nexport default React.memo(FullscreenControl);\n","/* global window */\nlet supported;\n\nexport function isGeolocationSupported() {\n  // not necessary to check again\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    // navigator.permissions has incomplete browser support\n    // http://caniuse.com/#feat=permissions-api\n    // Test for the case where a browser disables Geolocation because of an\n    // insecure origin\n    return window.navigator.permissions.query({name: 'geolocation'}).then(p => {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}\n","import * as React from 'react';\nimport {useRef, useEffect, useState, useCallback, useMemo} from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport {document} from '../utils/globals';\nimport mapboxgl from '../utils/mapboxgl';\n\nimport MapState from '../utils/map-state';\nimport {LINEAR_TRANSITION_PROPS} from '../utils/map-controller';\nimport {isGeolocationSupported} from '../utils/geolocate-utils';\n\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nconst noop = () => {};\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  // Custom className\n  className: PropTypes.string,\n  style: PropTypes.object,\n  // Custom label assigned to the control\n  label: PropTypes.string,\n  disabledLabel: PropTypes.string,\n  // Auto trigger instead of waiting for click\n  auto: PropTypes.bool,\n\n  // mapbox geolocate options\n  // https://docs.mapbox.com/mapbox-gl-js/api/#geolocatecontrol\n  positionOptions: PropTypes.object,\n  fitBoundsOptions: PropTypes.object,\n  trackUserLocation: PropTypes.bool,\n  showUserLocation: PropTypes.bool,\n  showAccuracyCircle: PropTypes.bool,\n\n  // Callbacks fired when the user interacted with the map. The object passed to the callbacks\n  // contains viewport properties such as `longitude`, `latitude`, `zoom` etc.\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n\n  onGeolocate: PropTypes.func\n});\n\nconst defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n\n  // mapbox geolocate options\n  positionOptions: {enableHighAccuracy: false, timeout: 6000},\n  fitBoundsOptions: {maxZoom: 15},\n  trackUserLocation: false,\n  showUserLocation: true,\n  showAccuracyCircle: true,\n\n  onGeolocate: () => {}\n});\n\nfunction getBounds(position) {\n  const center = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);\n  const radius = position.coords.accuracy;\n  const bounds = center.toBounds(radius);\n\n  return [\n    [bounds._ne.lng, bounds._ne.lat],\n    [bounds._sw.lng, bounds._sw.lat]\n  ];\n}\n\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  const control = new mapboxgl.GeolocateControl(props);\n\n  // Dummy placeholders so that _setupUI does not crash\n  control._container = document.createElement('div');\n  control._map = {\n    on: () => {},\n    _getUIString: () => ''\n  };\n  control._setupUI(true);\n  control._map = context.map;\n\n  // replace mapbox internal UI elements with ours\n  control._geolocateButton = geolocateButton;\n\n  // From _setupUI\n  // when the camera is changed (and it's not as a result of the Geolocation Control) change\n  // the watch mode to background watch, so that the marker is updated but not the camera.\n  const {eventManager} = context;\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', () => {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\n\nfunction updateCamera(position, {context, props}) {\n  const bounds = getBounds(position);\n  const {longitude, latitude, zoom} = context.viewport.fitBounds(bounds, props.fitBoundsOptions);\n\n  const newViewState = Object.assign({}, context.viewport, {\n    longitude,\n    latitude,\n    zoom\n  });\n  const mapState = new MapState(newViewState);\n  const viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n\n  const onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  const onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n\n  // Call new style callback\n  onViewStateChange({viewState});\n\n  // Call old style callback\n  onViewportChange(viewState);\n}\n\nfunction GeolocateControl(props) {\n  const thisRef = useMapControl(props);\n  const {context, containerRef} = thisRef;\n  const geolocateButtonRef = useRef(null);\n  const [mapboxGeolocateControl, createMapboxGeolocateControl] = useState(null);\n  const [supportsGeolocation, setSupportsGeolocation] = useState(false);\n\n  useEffect(() => {\n    let control;\n\n    if (context.map) {\n      isGeolocationSupported().then(result => {\n        setSupportsGeolocation(result);\n\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n          // Overwrite Mapbox's GeolocateControl internal method\n          control._updateCamera = position => updateCamera(position, thisRef);\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n\n    return () => {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n\n  const triggerGeolocate = useCallback(() => {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n\n  useEffect(() => {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n\n  useEffect(() => {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n\n  const {className, label, disabledLabel, trackUserLocation} = props;\n\n  const style = useMemo(() => ({position: 'absolute', ...props.style}), [props.style]);\n\n  return (\n    <div style={style} className={className}>\n      <div key=\"geolocate-control\" className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" ref={containerRef}>\n        <button\n          key=\"geolocate\"\n          className={`mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate`}\n          ref={geolocateButtonRef}\n          disabled={!supportsGeolocation}\n          aria-pressed={!trackUserLocation}\n          type=\"button\"\n          title={supportsGeolocation ? label : disabledLabel}\n          aria-label={supportsGeolocation ? label : disabledLabel}\n          onClick={triggerGeolocate}\n        >\n          <span className=\"mapboxgl-ctrl-icon\" aria-hidden=\"true\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nGeolocateControl.propTypes = propTypes;\nGeolocateControl.defaultProps = defaultProps;\n\nexport default React.memo(GeolocateControl);\n","// Helper function for version comparison\n// A version is a string in the format of \"{major}.{minor}.{patch}\"\n// Empty/missing version is treated as \"0.0.0\"\n// If version1 is smaller than version2, return -1\n// If version1 is larger than version2, return 1\n// If equal, return 0\nexport function compareVersions(version1, version2) {\n  const v1 = (version1 || '').split('.').map(Number);\n  const v2 = (version2 || '').split('.').map(Number);\n\n  for (let i = 0; i < 3; i++) {\n    const part1 = v1[i] || 0;\n    const part2 = v2[i] || 0;\n    if (part1 < part2) {\n      return -1;\n    }\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}\n","import * as React from 'react';\nimport {useMemo} from 'react';\nimport * as PropTypes from 'prop-types';\n\nimport MapState from '../utils/map-state';\nimport {LINEAR_TRANSITION_PROPS} from '../utils/map-controller';\n\nimport {compareVersions} from '../utils/version';\n\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nconst noop = () => {};\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  // Custom className\n  className: PropTypes.string,\n  style: PropTypes.object,\n  // Callbacks fired when the user interacted with the map. The object passed to the callbacks\n  // contains viewport properties such as `longitude`, `latitude`, `zoom` etc.\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  // Show/hide compass button\n  showCompass: PropTypes.bool,\n  // Show/hide zoom buttons\n  showZoom: PropTypes.bool,\n  // Custom labels assigned to the controls\n  zoomInLabel: PropTypes.string,\n  zoomOutLabel: PropTypes.string,\n  compassLabel: PropTypes.string\n});\n\nconst defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\n\n// Mapbox version flags. CSS classes were changed in certain versions.\nconst VERSION_LEGACY = 1;\nconst VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nfunction updateViewport(context, props, opts) {\n  const {viewport} = context;\n  const mapState = new MapState(Object.assign({}, viewport, opts));\n  const viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n\n  const onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  const onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n\n  // Call new style callback\n  onViewStateChange({viewState});\n\n  // Call old style callback\n  onViewportChange(viewState);\n}\n\nfunction renderButton(type, label, callback, children) {\n  return (\n    <button\n      key={type}\n      className={`mapboxgl-ctrl-icon mapboxgl-ctrl-${type}`}\n      type=\"button\"\n      title={label}\n      onClick={callback}\n    >\n      {children || <span className=\"mapboxgl-ctrl-icon\" aria-hidden=\"true\" />}\n    </button>\n  );\n}\n\nfunction renderCompass(context) {\n  const uiVersion = useMemo(() => (context.map ? getUIVersion(context.map.version) : VERSION_1_6), [\n    context.map\n  ]);\n\n  const {bearing} = context.viewport;\n  const style = {transform: `rotate(${-bearing}deg)`};\n\n  return uiVersion === VERSION_1_6 ? (\n    <span className=\"mapboxgl-ctrl-icon\" aria-hidden=\"true\" style={style} />\n  ) : (\n    <span className=\"mapboxgl-ctrl-compass-arrow\" style={style} />\n  );\n}\n\n/*\n * PureComponent doesn't update when context changes, so\n * implementing our own shouldComponentUpdate here.\n */\nfunction NavigationControl(props) {\n  const {context, containerRef} = useMapControl(props);\n\n  const onZoomIn = () => {\n    updateViewport(context, props, {zoom: context.viewport.zoom + 1});\n  };\n\n  const onZoomOut = () => {\n    updateViewport(context, props, {zoom: context.viewport.zoom - 1});\n  };\n\n  const onResetNorth = () => {\n    updateViewport(context, props, {bearing: 0, pitch: 0});\n  };\n\n  const {className, showCompass, showZoom, zoomInLabel, zoomOutLabel, compassLabel} = props;\n  const style = useMemo(() => ({position: 'absolute', ...props.style}), [props.style]);\n\n  return (\n    <div style={style} className={className}>\n      <div className=\"mapboxgl-ctrl mapboxgl-ctrl-group\" ref={containerRef}>\n        {showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn)}\n        {showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut)}\n        {showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))}\n      </div>\n    </div>\n  );\n}\n\nNavigationControl.propTypes = propTypes;\nNavigationControl.defaultProps = defaultProps;\n\nexport default React.memo(NavigationControl);\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport * as React from 'react';\nimport {useEffect, useState, useMemo} from 'react';\nimport * as PropTypes from 'prop-types';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, {mapControlDefaultProps, mapControlPropTypes} from './use-map-control';\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  maxWidth: PropTypes.number,\n  unit: PropTypes.oneOf(['imperial', 'metric', 'nautical'])\n});\n\nconst defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nfunction ScaleControl(props) {\n  const {context, containerRef} = useMapControl(props);\n  const [mapboxScaleControl, createMapboxScaleControl] = useState(null);\n\n  useEffect(() => {\n    if (context.map) {\n      const control = new mapboxgl.ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n    mapboxScaleControl._onMove();\n  }\n\n  const style = useMemo(() => ({position: 'absolute', ...props.style}), [props.style]);\n\n  return (\n    <div style={style} className={props.className}>\n      <div ref={containerRef} className=\"mapboxgl-ctrl mapboxgl-ctrl-scale\" />\n    </div>\n  );\n}\n\nScaleControl.propTypes = propTypes;\nScaleControl.defaultProps = defaultProps;\n\nexport default React.memo(ScaleControl);\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport * as React from 'react';\nimport {useState, useEffect} from 'react';\nimport * as PropTypes from 'prop-types';\nimport useMapControl, {mapControlPropTypes} from '../components/use-map-control';\n\n/* global window */\nconst pixelRatio = (typeof window !== 'undefined' && window.devicePixelRatio) || 1;\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  redraw: PropTypes.func.isRequired\n});\n\nconst defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction CanvasOverlay(props) {\n  const {context, containerRef} = useMapControl(props);\n  const [ctx, setDrawingContext] = useState(null);\n\n  useEffect(() => {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n\n  const {viewport, isDragging} = context;\n\n  if (ctx) {\n    ctx.save();\n    ctx.scale(pixelRatio, pixelRatio);\n\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx,\n      isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n\n    ctx.restore();\n  }\n\n  return (\n    <canvas\n      ref={containerRef}\n      width={viewport.width * pixelRatio}\n      height={viewport.height * pixelRatio}\n      style={{\n        width: `${viewport.width}px`,\n        height: `${viewport.height}px`,\n        position: 'absolute',\n        left: 0,\n        top: 0\n      }}\n    />\n  );\n}\n\nCanvasOverlay.propTypes = propTypes;\nCanvasOverlay.defaultProps = defaultProps;\n\nexport default CanvasOverlay;\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport useMapControl, {mapControlPropTypes} from '../components/use-map-control';\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  redraw: PropTypes.func.isRequired,\n  style: PropTypes.object\n});\n\nconst defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction HTMLOverlay(props) {\n  const {context, containerRef} = useMapControl(props);\n  const {viewport, isDragging} = context;\n  const style = {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height,\n    ...props.style\n  };\n\n  return (\n    <div ref={containerRef} style={style}>\n      {props.redraw({\n        width: viewport.width,\n        height: viewport.height,\n        isDragging,\n        project: viewport.project,\n        unproject: viewport.unproject\n      })}\n    </div>\n  );\n}\n\nHTMLOverlay.propTypes = propTypes;\nHTMLOverlay.defaultProps = defaultProps;\n\nexport default HTMLOverlay;\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport useMapControl, {mapControlPropTypes} from '../components/use-map-control';\n\nconst propTypes = Object.assign({}, mapControlPropTypes, {\n  redraw: PropTypes.func.isRequired,\n  style: PropTypes.object\n});\n\nconst defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction SVGOverlay(props) {\n  const {context, containerRef} = useMapControl(props);\n  const {viewport, isDragging} = context;\n  const style = {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    ...props.style\n  };\n\n  return (\n    <svg width={viewport.width} height={viewport.height} ref={containerRef} style={style}>\n      {props.redraw({\n        width: viewport.width,\n        height: viewport.height,\n        isDragging,\n        project: viewport.project,\n        unproject: viewport.unproject\n      })}\n    </svg>\n  );\n}\n\nSVGOverlay.propTypes = propTypes;\nSVGOverlay.defaultProps = defaultProps;\n\nexport default SVGOverlay;\n","import mapboxgl from './mapboxgl';\n\n// mapboxgl's setRTLTextPlugin, but does not crash in SSR\nconst setRTLTextPlugin = mapboxgl ? mapboxgl.setRTLTextPlugin : () => {};\nexport default setRTLTextPlugin;\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport {default as EventManager} from './event-manager';\n","import * as vec4 from 'gl-matrix/vec4';\n\n// Helper, avoids low-precision 32 bit matrices from gl-matrix mat4.create()\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\n\n// Transforms a vec4 with a projection matrix\nexport function transformVector(matrix, vector) {\n  const result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\n\nexport function mod(value, divisor) {\n  const modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\n\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\n\nfunction ieLog2(x) {\n  return Math.log(x) * Math.LOG2E;\n}\n// Handle missing log2 in IE 11\nexport const log2 = Math.log2 || ieLog2;\n","// Replacement for the external assert method to reduce bundle size\n// Note: We don't use the second \"message\" argument in calling code,\n// so no need to support it here\nexport default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}\n","// TODO - THE UTILITIES IN THIS FILE SHOULD BE IMPORTED FROM WEB-MERCATOR-VIEWPORT MODULE\n\nimport {createMat4, transformVector, log2} from './math-utils';\n\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\n\n// CONSTANTS\nconst PI = Math.PI;\nconst PI_4 = PI / 4;\nconst DEGREES_TO_RADIANS = PI / 180;\nconst RADIANS_TO_DEGREES = 180 / PI;\nconst TILE_SIZE = 512;\n// Average circumference (40075 km equatorial, 40007 km meridional)\nconst EARTH_CIRCUMFERENCE = 40.03e6;\n\n// Mapbox default altitude\nexport const DEFAULT_ALTITUDE = 1.5;\n\n/** Util functions **/\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\n\nexport function scaleToZoom(scale) {\n  return log2(scale);\n}\n\n/**\n * Project [lng,lat] on sphere onto [x,y] on 512*512 Mercator Zoom 0 tile.\n * Performs the nonlinear part of the web mercator projection.\n * Remaining projection is done with 4x4 matrices which also handles\n * perspective.\n *\n * @param lngLat - [lng, lat] coordinates\n *   Specifies a point on the sphere to project onto the map.\n * @return [x,y] coordinates.\n */\nexport function lngLatToWorld([lng, lat]) {\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n\n  const lambda2 = lng * DEGREES_TO_RADIANS;\n  const phi2 = lat * DEGREES_TO_RADIANS;\n  const x = (TILE_SIZE * (lambda2 + PI)) / (2 * PI);\n  const y = (TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5)))) / (2 * PI);\n  return [x, y];\n}\n\n// Unproject world point [x,y] on map onto {lat, lon} on sphere\nexport function worldToLngLat([x, y]) {\n  const lambda2 = (x / TILE_SIZE) * (2 * PI) - PI;\n  const phi2 = 2 * (Math.atan(Math.exp((y / TILE_SIZE) * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\n\n// Returns the zoom level that gives a 1 meter pixel at a certain latitude\n// 1 = C*cos(y)/2^z/TILE_SIZE = C*cos(y)/2^(z+9)\nexport function getMeterZoom({latitude}) {\n  assert(Number.isFinite(latitude));\n  const latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\n\n/**\n * Calculate distance scales in meters around current lat/lon, both for\n * degrees and pixels.\n * In mercator projection mode, the distance scales vary significantly\n * with latitude.\n */\n\nexport function getDistanceScales({latitude, longitude, highPrecision = false}) {\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n\n  const result = {};\n  const worldSize = TILE_SIZE;\n  const latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n\n  /**\n   * Number of pixels occupied by one degree longitude around current lat/lon:\n     unitsPerDegreeX = d(lngLatToWorld([lng, lat])[0])/d(lng)\n       = scale * TILE_SIZE * DEGREES_TO_RADIANS / (2 * PI)\n     unitsPerDegreeY = d(lngLatToWorld([lng, lat])[1])/d(lat)\n       = -scale * TILE_SIZE * DEGREES_TO_RADIANS / cos(lat * DEGREES_TO_RADIANS)  / (2 * PI)\n   */\n  const unitsPerDegreeX = worldSize / 360;\n  const unitsPerDegreeY = unitsPerDegreeX / latCosine;\n\n  /**\n   * Number of pixels occupied by one meter around current lat/lon:\n   */\n  const altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n\n  /**\n   * LngLat: longitude -> east and latitude -> north (bottom left)\n   * UTM meter offset: x -> east and y -> north (bottom left)\n   * World space: x -> east and y -> south (top left)\n   *\n   * Y needs to be flipped when converting delta degree/meter to delta pixels\n   */\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  /**\n   * Taylor series 2nd order for 1/latCosine\n     f'(a) * (x - a)\n       = d(1/cos(lat * DEGREES_TO_RADIANS))/d(lat) * dLat\n       = DEGREES_TO_RADIANS * tan(lat * DEGREES_TO_RADIANS) / cos(lat * DEGREES_TO_RADIANS) * dLat\n   */\n  if (highPrecision) {\n    const latCosine2 = (DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS)) / latCosine;\n    const unitsPerDegreeY2 = (unitsPerDegreeX * latCosine2) / 2;\n    const altUnitsPerDegree2 = (worldSize / EARTH_CIRCUMFERENCE) * latCosine2;\n    const altUnitsPerMeter2 = (altUnitsPerDegree2 / unitsPerDegreeY) * altUnitsPerMeter;\n\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  // Main results, used for converting meters to latlng deltas and scaling offsets\n  return result;\n}\n\n/**\n * Offset a lng/lat position by meterOffset (northing, easting)\n */\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  const [longitude, latitude, z0] = lngLatZ;\n  const [x, y, z] = xyz;\n\n  const {unitsPerMeter, unitsPerMeter2} = getDistanceScales({\n    longitude,\n    latitude,\n    highPrecision: true\n  });\n\n  const worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n\n  // @ts-ignore\n  const newLngLat = worldToLngLat(worldspace);\n  const newZ = (z0 || 0) + (z || 0);\n\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\n\n// ATTRIBUTION:\n// view and projection matrix creation is intentionally kept compatible with\n// mapbox-gl's implementation to ensure that seamless interoperation\n// with mapbox and react-map-gl. See: https://github.com/mapbox/mapbox-gl-js\n\nexport function getViewMatrix({\n  // Viewport props\n  height,\n  pitch,\n  bearing,\n  altitude,\n  // Pre-calculated parameters\n  scale,\n  center = null\n}) {\n  // VIEW MATRIX: PROJECTS MERCATOR WORLD COORDINATES\n  // Note that mercator world coordinates typically need to be flipped\n  //\n  // Note: As usual, matrix operation orders should be read in reverse\n  // since vectors will be multiplied from the right during transformation\n  const vm = createMat4();\n\n  // Move camera to altitude (along the pitch & bearing direction)\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n\n  // Rotate by bearing, and then by pitch (which tilts the view)\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\n\n// PROJECTION MATRIX PARAMETERS\n// Variable fov (in radians)\nexport function getProjectionParameters({\n  width,\n  height,\n  fovy = altitudeToFovy(DEFAULT_ALTITUDE),\n  altitude,\n  pitch = 0,\n  nearZMultiplier = 1,\n  farZMultiplier = 1\n}) {\n  // For back-compatibility allow field of view to be\n  // derived from altitude\n  if (altitude !== undefined) {\n    fovy = altitudeToFovy(altitude);\n  }\n  const halfFov = 0.5 * fovy * DEGREES_TO_RADIANS;\n  const focalDistance = fovyToAltitude(fovy);\n\n  // Find the distance from the center point to the center top\n  // in focal distance units using law of sines.\n  const pitchRadians = pitch * DEGREES_TO_RADIANS;\n  const topHalfSurfaceDistance =\n    (Math.sin(halfFov) * focalDistance) /\n    Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n\n  // Calculate z value of the farthest fragment that should be rendered.\n  const farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + focalDistance;\n\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\n\n// PROJECTION MATRIX: PROJECTS FROM CAMERA (VIEW) SPACE TO CLIPSPACE\n// To match mapbox's z buffer:\n// <= 0.28 - nearZMultiplier: 0.1, farZmultiplier: 1\n// >= 0.29 - nearZMultiplier: 1 / height, farZMultiplier: 1.01\nexport function getProjectionMatrix({\n  width,\n  height,\n  pitch,\n  altitude,\n  fovy,\n  nearZMultiplier,\n  farZMultiplier\n}) {\n  const {fov, aspect, near, far} = getProjectionParameters({\n    width,\n    height,\n    altitude,\n    fovy,\n    pitch,\n    nearZMultiplier,\n    farZMultiplier\n  });\n\n  const projectionMatrix = mat4.perspective(\n    [],\n    fov, // fov in radians\n    aspect, // aspect ratio\n    near, // near plane\n    far // far plane\n  );\n\n  return projectionMatrix;\n}\n\n// Utility function to calculate the field of view such that\n// the focal distance is equal to the ground distance. This\n// is how mapbox's z fov is calculated\nexport function altitudeToFovy(altitude) {\n  return 2 * Math.atan(0.5 / altitude) * RADIANS_TO_DEGREES;\n}\n\nexport function fovyToAltitude(fovy) {\n  return 0.5 / Math.tan(0.5 * fovy * DEGREES_TO_RADIANS);\n}\n\n// Project flat coordinates to pixels on screen.\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  const [x, y, z = 0] = xyz;\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\n\n// Unproject pixels on screen to flat coordinates.\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix, targetZ = 0) {\n  const [x, y, z] = xyz;\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    // Has depth component\n    const coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  // since we don't know the correct projected z value for the point,\n  // unproject two points to get a line and then find the point on that line with z=0\n  const coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  const coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n\n  const z0 = coord0[2];\n  const z1 = coord1[2];\n\n  const t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}\n","// @ts-nocheck TODO padding\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nimport {log2} from './math-utils';\n\n// Returns map settings {latitude, longitude, zoom}\n// that will contain the provided corners within the provided width.\n// Only supports non-perspective mode.\n\nexport default function fitBounds({\n  width,\n  height,\n  bounds,\n  minExtent = 0, // 0.01 would be about 1000 meters (degree is ~110KM)\n  maxZoom = 24, // ~x4,000,000 => About 10 meter extents\n  // options\n  padding = 0,\n  offset = [0, 0]\n}) {\n  const [[west, south], [east, north]] = bounds;\n\n  if (Number.isFinite(padding)) {\n    const p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    // Make sure all the required properties are set\n    assert(\n      Number.isFinite(padding.top) &&\n        Number.isFinite(padding.bottom) &&\n        Number.isFinite(padding.left) &&\n        Number.isFinite(padding.right)\n    );\n  }\n\n  const viewport = new WebMercatorViewport({\n    width,\n    height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n\n  const nw = viewport.project([west, north]);\n  const se = viewport.project([east, south]);\n\n  // width/height on the Web Mercator plane\n  const size = [\n    Math.max(Math.abs(se[0] - nw[0]), minExtent),\n    Math.max(Math.abs(se[1] - nw[1]), minExtent)\n  ];\n\n  const targetSize = [\n    width - padding.left - padding.right - Math.abs(offset[0]) * 2,\n    height - padding.top - padding.bottom - Math.abs(offset[1]) * 2\n  ];\n\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n\n  // scale = screen pixels per unit on the Web Mercator plane\n  const scaleX = targetSize[0] / size[0];\n  const scaleY = targetSize[1] / size[1];\n\n  // Find how much we need to shift the center\n  const offsetX = (padding.right - padding.left) / 2 / scaleX;\n  const offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n\n  const center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n\n  const centerLngLat = viewport.unproject(center);\n  const zoom = Math.min(maxZoom, viewport.zoom + log2(Math.abs(Math.min(scaleX, scaleY))));\n\n  assert(Number.isFinite(zoom));\n\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom\n  };\n}\n","import {worldToLngLat} from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nimport {transformVector} from './math-utils';\n\nconst DEGREES_TO_RADIANS = Math.PI / 180;\n\n/*\n * Returns the quad at the intersection of the frustum and the given z plane\n * @param {WebMercatorViewport} viewport\n * @param {Number} z - elevation in meters\n */\nexport default function getBounds(viewport, z = 0) {\n  const {width, height, unproject} = viewport;\n  const unprojectOps = {targetZ: z};\n  const bottomLeft = unproject([0, height], unprojectOps);\n  const bottomRight = unproject([width, height], unprojectOps);\n  let topLeft;\n  let topRight;\n\n  const halfFov = viewport.fovy\n    ? 0.5 * viewport.fovy * DEGREES_TO_RADIANS\n    : Math.atan(0.5 / viewport.altitude);\n  const angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n  // The top plane is parallel to the ground if halfFov == angleToGround\n  if (halfFov > angleToGround - 0.01) {\n    // intersect with the far plane\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    // intersect with the top plane\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\n/*\n * Find a point on the far clipping plane of the viewport\n * @param {WebMercatorViewport} viewport\n * @param {Number} x - projected x in screen space\n * @param {Number} targetZ - the elevation of the point in meters\n */\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  const {pixelUnprojectionMatrix} = viewport;\n  const coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  const coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n\n  const z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  const t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  const coord = vec2.lerp([], coord0, coord1, t);\n\n  const result = worldToLngLat(coord);\n  result[2] = targetZ;\n  return result;\n}\n","// View and Projection Matrix calculations for mapbox-js style map view properties\nimport {createMat4} from './math-utils';\n\nimport {\n  zoomToScale,\n  pixelsToWorld,\n  lngLatToWorld,\n  worldToLngLat,\n  worldToPixels,\n  altitudeToFovy,\n  fovyToAltitude,\n  DEFAULT_ALTITUDE,\n  getProjectionMatrix,\n  getDistanceScales,\n  getViewMatrix\n} from './web-mercator-utils';\nimport fitBounds from './fit-bounds';\nimport getBounds from './get-bounds';\n\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\n\nexport default class WebMercatorViewport {\n  // eslint-disable-next-line max-statements\n  constructor(\n    {\n      // Map state\n      width,\n      height,\n      latitude = 0,\n      longitude = 0,\n      zoom = 0,\n      pitch = 0,\n      bearing = 0,\n      altitude = null,\n      fovy = null,\n      position = null,\n      nearZMultiplier = 0.02,\n      farZMultiplier = 1.01\n    } = {width: 1, height: 1}\n  ) {\n    // Silently allow apps to send in 0,0 to facilitate isomorphic render etc\n    width = width || 1;\n    height = height || 1;\n\n    // `fovy` & `altitude` are independent parameters, one for the\n    // projection and the latter for the view matrix. In the past,\n    // the `fovy` was always derived from the `altitude`\n    if (fovy === null && altitude === null) {\n      altitude = DEFAULT_ALTITUDE;\n      fovy = altitudeToFovy(altitude);\n    } else if (fovy === null) {\n      fovy = altitudeToFovy(altitude);\n    } else if (altitude === null) {\n      altitude = fovyToAltitude(fovy);\n    }\n\n    const scale = zoomToScale(zoom);\n    // Altitude - prevent division by 0\n    // TODO - just throw an Error instead?\n    altitude = Math.max(0.75, altitude);\n\n    const distanceScales = getDistanceScales({longitude, latitude});\n\n    const center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n\n    if (position) {\n      vec3.add(center, center, vec3.mul([], position, distanceScales.unitsPerMeter));\n    }\n\n    this.projectionMatrix = getProjectionMatrix({\n      width,\n      height,\n      pitch,\n      fovy,\n      nearZMultiplier,\n      farZMultiplier\n    });\n\n    this.viewMatrix = getViewMatrix({\n      height,\n      scale,\n      center,\n      pitch,\n      bearing,\n      altitude\n    });\n\n    // Save parameters\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.fovy = fovy;\n    this.center = center;\n    this.meterOffset = position || [0, 0, 0];\n\n    this.distanceScales = distanceScales;\n\n    this._initMatrices();\n\n    // Bind methods for easy access\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n\n    Object.freeze(this);\n  }\n\n  _initMatrices() {\n    const {width, height, projectionMatrix, viewMatrix} = this;\n\n    // Note: As usual, matrix operations should be applied in \"reverse\" order\n    // since vectors will be multiplied in from the right during transformation\n    const vpm = createMat4();\n    mat4.multiply(vpm, vpm, projectionMatrix);\n    mat4.multiply(vpm, vpm, viewMatrix);\n    this.viewProjectionMatrix = vpm;\n\n    // Calculate matrices and scales needed for projection\n    /**\n     * Builds matrices that converts preprojected lngLats to screen pixels\n     * and vice versa.\n     * Note: Currently returns bottom-left coordinates!\n     * Note: Starts with the GL projection matrix and adds steps to the\n     *       scale and translate that matrix onto the window.\n     * Note: WebGL controls clip space to screen projection with gl.viewport\n     *       and does not need this step.\n     */\n    const m = createMat4();\n\n    // matrix for conversion from location to screen coordinates\n    mat4.scale(m, m, [width / 2, -height / 2, 1]);\n    mat4.translate(m, m, [1, -1, 0]);\n    mat4.multiply(m, m, vpm);\n\n    const mInverse = mat4.invert(createMat4(), m);\n    if (!mInverse) {\n      throw new Error('Pixel project matrix not invertible');\n    }\n\n    this.pixelProjectionMatrix = m;\n    this.pixelUnprojectionMatrix = mInverse;\n  }\n\n  // Two viewports are equal if width and height are identical, and if\n  // their view and projection matrices are (approximately) equal.\n  equals(viewport) {\n    if (!(viewport instanceof WebMercatorViewport)) {\n      return false;\n    }\n\n    return (\n      viewport.width === this.width &&\n      viewport.height === this.height &&\n      mat4.equals(viewport.projectionMatrix, this.projectionMatrix) &&\n      mat4.equals(viewport.viewMatrix, this.viewMatrix)\n    );\n  }\n\n  // Projects xyz (possibly latitude and longitude) to pixel coordinates in window\n  // using viewport projection parameters\n  project(xyz, {topLeft = true} = {}) {\n    const worldPosition = this.projectPosition(xyz);\n    const coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n    const [x, y] = coord;\n    const y2 = topLeft ? y : this.height - y;\n    return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n  }\n\n  // Unproject pixel coordinates on screen onto world coordinates,\n  // (possibly [lon, lat]) on map.\n  unproject(xyz, {topLeft = true, targetZ = undefined} = {}) {\n    const [x, y, z] = xyz;\n\n    const y2 = topLeft ? y : this.height - y;\n    const targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n    const coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n    const [X, Y, Z] = this.unprojectPosition(coord);\n\n    if (Number.isFinite(z)) {\n      return [X, Y, Z];\n    }\n    return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n  }\n\n  // NON_LINEAR PROJECTION HOOKS\n  // Used for web meractor projection\n\n  projectPosition(xyz) {\n    const [X, Y] = lngLatToWorld(xyz);\n    const Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n    return [X, Y, Z];\n  }\n\n  unprojectPosition(xyz) {\n    const [X, Y] = worldToLngLat(xyz);\n    const Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n    return [X, Y, Z];\n  }\n\n  // Project [lng,lat] on sphere onto [x,y] on 512*512 Mercator Zoom 0 tile.\n  projectFlat(lngLat) {\n    return lngLatToWorld(lngLat);\n  }\n\n  // Unproject world point [x,y] on map onto {lat, lon} on sphere\n  unprojectFlat(xy) {\n    return worldToLngLat(xy);\n  }\n\n  // Get the map center that place a given [lng, lat] coordinate at screen point [x, y]\n  getMapCenterByLngLatPosition({lngLat, pos}) {\n    const fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n    const toLocation = lngLatToWorld(lngLat);\n\n    const translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n    const newCenter = vec2.add([], this.center, translate);\n\n    return worldToLngLat(newCenter);\n  }\n\n  // Legacy method name\n  getLocationAtPoint({lngLat, pos}) {\n    return this.getMapCenterByLngLatPosition({lngLat, pos});\n  }\n\n  // Returns a new viewport that fit around the given rectangle.\n  fitBounds(bounds, options = {}) {\n    const {width, height} = this;\n    const {longitude, latitude, zoom} = fitBounds(Object.assign({width, height, bounds}, options));\n    return new WebMercatorViewport({width, height, longitude, latitude, zoom});\n  }\n\n  getBounds(options) {\n    const corners = this.getBoundingRegion(options);\n\n    const west = Math.min(...corners.map((p) => p[0]));\n    const east = Math.max(...corners.map((p) => p[0]));\n    const south = Math.min(...corners.map((p) => p[1]));\n    const north = Math.max(...corners.map((p) => p[1]));\n    return [\n      [west, south],\n      [east, north]\n    ];\n  }\n\n  getBoundingRegion(options = {}) {\n    return getBounds(this, options.z || 0);\n  }\n}\n","import {worldToLngLat} from './web-mercator-utils';\nimport {mod, log2} from './math-utils';\n\n// defined by mapbox-gl\nconst TILE_SIZE = 512;\n\n// Apply mathematical constraints to viewport props\n// eslint-disable-next-line complexity\nexport default function normalizeViewportProps({\n  width,\n  height,\n  longitude,\n  latitude,\n  zoom,\n  pitch = 0,\n  bearing = 0\n}) {\n  // Normalize degrees\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n\n  // Constrain zoom and shift center at low zoom levels\n  const minZoom = log2(height / TILE_SIZE);\n  if (zoom <= minZoom) {\n    zoom = minZoom;\n    latitude = 0;\n  } else {\n    // Eliminate white space above and below the map\n    const halfHeightPixels = height / 2 / Math.pow(2, zoom);\n    const minLatitude = worldToLngLat([0, halfHeightPixels])[1];\n    if (latitude < minLatitude) {\n      latitude = minLatitude;\n    } else {\n      const maxLatitude = worldToLngLat([0, TILE_SIZE - halfHeightPixels])[1];\n      if (latitude > maxLatitude) {\n        latitude = maxLatitude;\n      }\n    }\n  }\n\n  return {width, height, longitude, latitude, zoom, pitch, bearing};\n}\n","import {lerp} from './math-utils';\nimport {scaleToZoom, zoomToScale, lngLatToWorld, worldToLngLat} from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\n\nconst EPSILON = 0.01;\nconst VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nconst DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n  // screenSpeed and maxDuration are used only if specified\n};\n\n/**\n * mapbox-gl-js flyTo : https://www.mapbox.com/mapbox-gl-js/api/#map#flyto.\n * It implements “Smooth and efficient zooming and panning.” algorithm by\n * \"Jarke J. van Wijk and Wim A.A. Nuij\"\n */\nexport default function flyToViewport(startProps, endProps, t, opts = {}) {\n  // Equations from above paper are referred where needed.\n\n  const viewport = {};\n\n  const {startZoom, startCenterXY, uDelta, w0, u1, S, rho, rho2, r0} = getFlyToTransitionParams(\n    startProps,\n    endProps,\n    opts\n  );\n\n  // If change in center is too small, do linear interpolaiton.\n  if (u1 < EPSILON) {\n    for (const key of VIEWPORT_TRANSITION_PROPS) {\n      const startValue = startProps[key];\n      const endValue = endProps[key];\n      viewport[key] = lerp(startValue, endValue, t);\n    }\n    return viewport;\n  }\n\n  const s = t * S;\n\n  const w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  const u = (w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2)) / u1;\n\n  const scaleIncrement = 1 / w; // Using w method for scaling.\n  const newZoom = startZoom + scaleToZoom(scaleIncrement);\n\n  const newCenterWorld = vec2.scale([], uDelta, u);\n  vec2.add(newCenterWorld, newCenterWorld, startCenterXY);\n\n  const newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\n\n// returns transition duration in milliseconds\nexport function getFlyToDuration(startProps, endProps, opts = {}) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  const {screenSpeed, speed, maxDuration} = opts;\n  const {S, rho} = getFlyToTransitionParams(startProps, endProps, opts);\n  const length = 1000 * S;\n  let duration;\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\n// Private Methods\n\n// Calculate all parameters that are static for given startProps and endProps\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  const rho = opts.curve;\n  const startZoom = startProps.zoom;\n  const startCenter = [startProps.longitude, startProps.latitude];\n  const startScale = zoomToScale(startZoom);\n  const endZoom = endProps.zoom;\n  const endCenter = [endProps.longitude, endProps.latitude];\n  const scale = zoomToScale(endZoom - startZoom);\n\n  const startCenterXY = lngLatToWorld(startCenter);\n  const endCenterXY = lngLatToWorld(endCenter);\n  const uDelta = vec2.sub([], endCenterXY, startCenterXY);\n\n  const w0 = Math.max(startProps.width, startProps.height);\n  const w1 = w0 / scale;\n  const u1 = vec2.length(uDelta) * startScale;\n  // u0 is treated as '0' in Eq (9).\n\n  // If u1 is too small, will generate invalid number\n  const _u1 = Math.max(u1, EPSILON);\n\n  // Implement Equation (9) from above algorithm.\n  const rho2 = rho * rho;\n  const b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  const b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  const r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  const r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  const S = (r1 - r0) / rho;\n\n  return {startZoom, startCenterXY, uDelta, w0, u1, S, rho, rho2, r0, r1};\n}\n","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n// Purpose: include this in your module to avoids adding dependencies on\n// micro modules like 'global'\n\n/* global window, global, document, navigator */\nexport const userAgent =\n  typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\n\nconst window_ = typeof window !== 'undefined' ? window : global;\nconst global_ = typeof global !== 'undefined' ? global : window;\nconst document_ = typeof document !== 'undefined' ? document : {};\n\nexport {window_ as window, global_ as global, document_ as document};\n\n/*\n * Detect whether passive option is supported by the current browser.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   #Safely_detecting_option_support\n */\nlet passiveSupported = false;\n\n/* eslint-disable accessor-pairs, no-empty */\ntry {\n  const options = {\n    // This function will be called when the browser\n    // attempts to access the passive property.\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n  };\n\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\nexport {passiveSupported};\n","/**\n * This file contains overrides the default\n * hammer.js functions to add our own utility\n */\n\n/* Hammer.js constants */\nconst INPUT_START = 1;\nconst INPUT_MOVE = 2;\nconst INPUT_END = 4;\nconst MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\n/**\n * Helper function that returns true if any element in an array meets given criteria.\n * Because older browsers do not support `Array.prototype.some`\n * @params array {Array}\n * @params predict {Function}\n */\nfunction some(array, predict) {\n  for (let i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/* eslint-disable no-invalid-this */\nexport function enhancePointerEventInput(PointerEventInput) {\n  const oldHandler = PointerEventInput.prototype.handler;\n\n  // overrides PointerEventInput.handler to accept right mouse button\n  PointerEventInput.prototype.handler = function handler(ev) {\n    const store = this.store;\n\n    // Allow non-left mouse buttons through\n    if (ev.button > 0 && ev.type === 'pointerdown') {\n      if (!some(store, e => e.pointerId === ev.pointerId)) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\n\n// overrides MouseInput.handler to accept right mouse button\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    let eventType = MOUSE_INPUT_MAP[ev.type];\n\n    // on start we want to have the mouse button down\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    // mouse must be down\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}\n","import hammerjs from 'hammerjs';\nimport {enhancePointerEventInput, enhanceMouseInput} from './hammer-overrides';\n\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\n\nexport const Manager = hammerjs.Manager;\n\nexport default hammerjs;\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport Hammer from './utils/hammer';\n\n// This module contains constants that must be conditionally required\n// due to `window`/`document` references downstream.\nexport const RECOGNIZERS = Hammer\n  ? [\n      [Hammer.Pan, {event: 'tripan', pointers: 3, threshold: 0, enable: false}],\n      [Hammer.Rotate, {enable: false}],\n      [Hammer.Pinch, {enable: false}],\n      [Hammer.Swipe, {enable: false}],\n      [Hammer.Pan, {threshold: 0, enable: false}],\n      [Hammer.Press, {enable: false}],\n      [Hammer.Tap, {event: 'doubletap', taps: 2, enable: false}],\n      // TODO - rename to 'tap' and 'singletap' in the next major release\n      [Hammer.Tap, {event: 'anytap', enable: false}],\n      [Hammer.Tap, {enable: false}]\n    ]\n  : null;\n\n// Recognize the following gestures even if a given recognizer succeeds\nexport const RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\n\n// Recognize the folling gestures only if a given recognizer fails\nexport const RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\n\n/**\n * Only one set of basic input events will be fired by Hammer.js:\n * either pointer, touch, or mouse, depending on system support.\n * In order to enable an application to be agnostic of system support,\n * alias basic input events into \"classes\" of events: down, move, and up.\n * See `_onBasicInput()` for usage of these aliases.\n */\nexport const BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\n\nexport const INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: [\n    // Chrome, Safari\n    'wheel',\n    // IE\n    'mousewheel'\n  ]\n};\n\n/**\n * \"Gestural\" events are those that have semantic meaning beyond the basic input event,\n * e.g. a click or tap is a sequence of `down` and `up` events with no `move` event in between.\n * Hammer.js handles these with its Recognizer system;\n * this block maps event names to the Recognizers required to detect the events.\n */\nexport const EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\n\n/**\n * Map gestural events typically provided by browsers\n * that are not reported in 'hammer.input' events\n * to corresponding Hammer.js gestures.\n */\nexport const GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {INPUT_EVENT_TYPES} from '../constants';\nimport {window, userAgent, passiveSupported} from '../utils/globals';\n\nconst firefox = userAgent.indexOf('firefox') !== -1;\n\nconst {WHEEL_EVENTS} = INPUT_EVENT_TYPES;\nconst EVENT_TYPE = 'wheel';\n\n// Constants for normalizing input delta\nconst WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nconst WHEEL_DELTA_PER_LINE = 40;\n// Slow down zoom if shift key is held for more precise zooming\nconst SHIFT_MULTIPLIER = 0.25;\n\nexport default class WheelInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n\n    this.options = Object.assign({enable: true}, options);\n\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(event =>\n      element.addEventListener(event, this.handleEvent, passiveSupported ? {passive: false} : false)\n    );\n  }\n\n  destroy() {\n    this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n  }\n\n  /**\n   * Enable this input (begin processing events)\n   * if the specified event type is among those handled by this input.\n   */\n  enableEventType(eventType, enabled) {\n    if (eventType === EVENT_TYPE) {\n      this.options.enable = enabled;\n    }\n  }\n\n  /* eslint-disable complexity, max-statements */\n  handleEvent(event) {\n    if (!this.options.enable) {\n      return;\n    }\n\n    let value = event.deltaY;\n    if (window.WheelEvent) {\n      // Firefox doubles the values on retina screens...\n      if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n        value /= window.devicePixelRatio;\n      }\n      if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n        value *= WHEEL_DELTA_PER_LINE;\n      }\n    }\n\n    const wheelPosition = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n      // This one is definitely a mouse wheel event.\n      // Normalize this value to match trackpad.\n      value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n    }\n\n    if (event.shiftKey && value) {\n      value = value * SHIFT_MULTIPLIER;\n    }\n\n    this._onWheel(event, -value, wheelPosition);\n  }\n\n  _onWheel(srcEvent, delta, position) {\n    this.callback({\n      type: EVENT_TYPE,\n      center: position,\n      delta,\n      srcEvent,\n      pointerType: 'mouse',\n      target: srcEvent.target\n    });\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {INPUT_EVENT_TYPES} from '../constants';\n\nconst {MOUSE_EVENTS} = INPUT_EVENT_TYPES;\nconst MOVE_EVENT_TYPE = 'pointermove';\nconst OVER_EVENT_TYPE = 'pointerover';\nconst OUT_EVENT_TYPE = 'pointerout';\nconst LEAVE_EVENT_TYPE = 'pointerleave';\n\n/**\n * Hammer.js swallows 'move' events (for pointer/touch/mouse)\n * when the pointer is not down. This class sets up a handler\n * specifically for these events to work around this limitation.\n * Note that this could be extended to more intelligently handle\n * move events across input types, e.g. storing multiple simultaneous\n * pointer/touch events, calculating speed/direction, etc.\n */\nexport default class MoveInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n\n    this.options = Object.assign({enable: true}, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n  }\n\n  destroy() {\n    this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n  }\n\n  /**\n   * Enable this input (begin processing events)\n   * if the specified event type is among those handled by this input.\n   */\n  enableEventType(eventType, enabled) {\n    if (eventType === MOVE_EVENT_TYPE) {\n      this.enableMoveEvent = enabled;\n    }\n    if (eventType === OVER_EVENT_TYPE) {\n      this.enableOverEvent = enabled;\n    }\n    if (eventType === OUT_EVENT_TYPE) {\n      this.enableOutEvent = enabled;\n    }\n    if (eventType === LEAVE_EVENT_TYPE) {\n      this.enableLeaveEvent = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    this.handleOverEvent(event);\n    this.handleOutEvent(event);\n    this.handleLeaveEvent(event);\n    this.handleMoveEvent(event);\n  }\n\n  handleOverEvent(event) {\n    if (this.enableOverEvent) {\n      if (event.type === 'mouseover') {\n        this.callback({\n          type: OVER_EVENT_TYPE,\n          srcEvent: event,\n          pointerType: 'mouse',\n          target: event.target\n        });\n      }\n    }\n  }\n\n  handleOutEvent(event) {\n    if (this.enableOutEvent) {\n      if (event.type === 'mouseout') {\n        this.callback({\n          type: OUT_EVENT_TYPE,\n          srcEvent: event,\n          pointerType: 'mouse',\n          target: event.target\n        });\n      }\n    }\n  }\n\n  handleLeaveEvent(event) {\n    if (this.enableLeaveEvent) {\n      if (event.type === 'mouseleave') {\n        this.callback({\n          type: LEAVE_EVENT_TYPE,\n          srcEvent: event,\n          pointerType: 'mouse',\n          target: event.target\n        });\n      }\n    }\n  }\n\n  handleMoveEvent(event) {\n    if (this.enableMoveEvent) {\n      switch (event.type) {\n        case 'mousedown':\n          if (event.button >= 0) {\n            // Button is down\n            this.pressed = true;\n          }\n          break;\n        case 'mousemove':\n          // Move events use `which` to track the button being pressed\n          if (event.which === 0) {\n            // Button is not down\n            this.pressed = false;\n          }\n          if (!this.pressed) {\n            // Drag events are emitted by hammer already\n            // we just need to emit the move event on hover\n            this.callback({\n              type: MOVE_EVENT_TYPE,\n              srcEvent: event,\n              pointerType: 'mouse',\n              target: event.target\n            });\n          }\n          break;\n        case 'mouseup':\n          this.pressed = false;\n          break;\n        default:\n      }\n    }\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {INPUT_EVENT_TYPES} from '../constants';\n\nconst {KEY_EVENTS} = INPUT_EVENT_TYPES;\nconst DOWN_EVENT_TYPE = 'keydown';\nconst UP_EVENT_TYPE = 'keyup';\n\nexport default class KeyInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n\n    this.options = Object.assign({enable: true}, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n\n    this.events = KEY_EVENTS.concat(options.events || []);\n\n    this.handleEvent = this.handleEvent.bind(this);\n\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n  }\n\n  destroy() {\n    this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n  }\n\n  /**\n   * Enable this input (begin processing events)\n   * if the specified event type is among those handled by this input.\n   */\n  enableEventType(eventType, enabled) {\n    if (eventType === DOWN_EVENT_TYPE) {\n      this.enableDownEvent = enabled;\n    }\n    if (eventType === UP_EVENT_TYPE) {\n      this.enableUpEvent = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    // Ignore if focused on text input\n    const targetElement = event.target || event.srcElement;\n    if (\n      (targetElement.tagName === 'INPUT' && targetElement.type === 'text') ||\n      targetElement.tagName === 'TEXTAREA'\n    ) {\n      return;\n    }\n\n    if (this.enableDownEvent && event.type === 'keydown') {\n      this.callback({\n        type: DOWN_EVENT_TYPE,\n        srcEvent: event,\n        key: event.key,\n        target: event.target\n      });\n    }\n\n    if (this.enableUpEvent && event.type === 'keyup') {\n      this.callback({\n        type: UP_EVENT_TYPE,\n        srcEvent: event,\n        key: event.key,\n        target: event.target\n      });\n    }\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nconst EVENT_TYPE = 'contextmenu';\n\nexport default class ContextmenuInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n\n    this.options = Object.assign({enable: true}, options);\n\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  destroy() {\n    this.element.removeEventListener('contextmenu', this.handleEvent);\n  }\n\n  /**\n   * Enable this input (begin processing events)\n   * if the specified event type is among those handled by this input.\n   */\n  enableEventType(eventType, enabled) {\n    if (eventType === EVENT_TYPE) {\n      this.options.enable = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    if (!this.options.enable) {\n      return;\n    }\n\n    this.callback({\n      type: EVENT_TYPE,\n      center: {\n        x: event.clientX,\n        y: event.clientY\n      },\n      srcEvent: event,\n      pointerType: 'mouse',\n      target: event.target\n    });\n  }\n}\n","/* Constants */\nconst DOWN_EVENT = 1;\nconst MOVE_EVENT = 2;\nconst UP_EVENT = 4;\nconst MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\n\n// MouseEvent.which https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\nconst MOUSE_EVENT_WHICH_LEFT = 1;\nconst MOUSE_EVENT_WHICH_MIDDLE = 2;\nconst MOUSE_EVENT_WHICH_RIGHT = 3;\n// MouseEvent.button https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\nconst MOUSE_EVENT_BUTTON_LEFT = 0;\nconst MOUSE_EVENT_BUTTON_MIDDLE = 1;\nconst MOUSE_EVENT_BUTTON_RIGHT = 2;\n// MouseEvent.buttons https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\nconst MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nconst MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nconst MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\n\n/**\n * Extract the involved mouse button\n */\nexport function whichButtons(event) {\n  const eventType = MOUSE_EVENTS[event.srcEvent.type];\n  if (!eventType) {\n    // Not a mouse evet\n    return null;\n  }\n\n  const {buttons, button, which} = event.srcEvent;\n  let leftButton = false;\n  let middleButton = false;\n  let rightButton = false;\n\n  if (\n    // button is up, need to find out which one was pressed before\n    eventType === UP_EVENT ||\n    // moving but does not support `buttons` API\n    (eventType === MOVE_EVENT && !Number.isFinite(buttons))\n  ) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {leftButton, middleButton, rightButton};\n}\n\n/**\n * Calculate event position relative to the root element\n */\nexport function getOffsetPosition(event, rootElement) {\n  const {srcEvent} = event;\n\n  // `center` is a hammer.js event property\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    // Not a gestural event\n    return null;\n  }\n\n  const center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n\n  const rect = rootElement.getBoundingClientRect();\n\n  // Fix scale for map affected by a CSS transform.\n  // See https://stackoverflow.com/a/26893663/3528533\n  const scaleX = rect.width / rootElement.offsetWidth || 1;\n  const scaleY = rect.height / rootElement.offsetHeight || 1;\n\n  // Calculate center relative to the root element\n  const offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n\n  return {center, offsetCenter};\n}\n","import {whichButtons, getOffsetPosition} from './event-utils';\n\nconst DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nexport default class EventRegistrar {\n  constructor(eventManager) {\n    this.eventManager = eventManager;\n    this.handlers = [];\n    // Element -> handler map\n    this.handlersByElement = new Map();\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  // Returns true if there are no non-passive handlers\n  isEmpty() {\n    return !this._active;\n  }\n\n  add(type, handler, opts, once = false, passive = false) {\n    const {handlers, handlersByElement} = this;\n\n    if (opts && (typeof opts !== 'object' || opts.addEventListener)) {\n      // is DOM element, backward compatibility\n      opts = {srcElement: opts};\n    }\n    opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n\n    let entries = handlersByElement.get(opts.srcElement);\n    if (!entries) {\n      entries = [];\n      handlersByElement.set(opts.srcElement, entries);\n    }\n    const entry = {type, handler, srcElement: opts.srcElement, priority: opts.priority};\n    if (once) {\n      entry.once = true;\n    }\n    if (passive) {\n      entry.passive = true;\n    }\n    handlers.push(entry);\n    this._active = this._active || !entry.passive;\n\n    // Sort handlers by descending priority\n    // Handlers with the same priority are excuted in the order of registration\n    let insertPosition = entries.length - 1;\n    while (insertPosition >= 0) {\n      if (entries[insertPosition].priority >= entry.priority) {\n        break;\n      }\n      insertPosition--;\n    }\n    entries.splice(insertPosition + 1, 0, entry);\n  }\n\n  remove(type, handler) {\n    const {handlers, handlersByElement} = this;\n\n    for (let i = handlers.length - 1; i >= 0; i--) {\n      const entry = handlers[i];\n\n      if (entry.type === type && entry.handler === handler) {\n        handlers.splice(i, 1);\n        const entries = handlersByElement.get(entry.srcElement);\n        entries.splice(entries.indexOf(entry), 1);\n        if (entries.length === 0) {\n          handlersByElement.delete(entry.srcElement);\n        }\n      }\n    }\n    this._active = handlers.some(entry => !entry.passive);\n  }\n\n  /**\n   * Handles hammerjs event\n   */\n  handleEvent(event) {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    const mjolnirEvent = this._normalizeEvent(event);\n    let target = event.srcEvent.target;\n\n    while (target && target !== mjolnirEvent.rootElement) {\n      this._emit(mjolnirEvent, target);\n      if (mjolnirEvent.handled) {\n        return;\n      }\n      target = target.parentNode;\n    }\n    this._emit(mjolnirEvent, 'root');\n  }\n\n  /**\n   * Invoke handlers on a particular element\n   */\n  _emit(event, srcElement) {\n    const entries = this.handlersByElement.get(srcElement);\n\n    if (entries) {\n      let immediatePropagationStopped = false;\n\n      // Prevents the current event from bubbling up\n      const stopPropagation = () => {\n        event.handled = true;\n      };\n      // Prevent any remaining listeners from being called\n      const stopImmediatePropagation = () => {\n        event.handled = true;\n        immediatePropagationStopped = true;\n      };\n      const entriesToRemove = [];\n\n      for (let i = 0; i < entries.length; i++) {\n        const {type, handler, once} = entries[i];\n        handler(\n          Object.assign({}, event, {\n            type,\n            stopPropagation,\n            stopImmediatePropagation\n          })\n        );\n        if (once) {\n          entriesToRemove.push(entries[i]);\n        }\n        if (immediatePropagationStopped) {\n          break;\n        }\n      }\n\n      for (let i = 0; i < entriesToRemove.length; i++) {\n        const {type, handler} = entriesToRemove[i];\n        this.remove(type, handler);\n      }\n    }\n  }\n\n  /**\n   * Normalizes hammerjs and custom events to have predictable fields.\n   */\n  _normalizeEvent(event) {\n    const rootElement = this.eventManager.element;\n\n    return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n      handled: false,\n      rootElement\n    });\n  }\n}\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {Manager} from './utils/hammer';\n\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\n\nimport EventRegistrar from './utils/event-registrar';\n\nimport {\n  BASIC_EVENT_ALIASES,\n  EVENT_RECOGNIZER_MAP,\n  GESTURE_EVENT_ALIASES,\n  RECOGNIZERS,\n  RECOGNIZER_COMPATIBLE_MAP,\n  RECOGNIZER_FALLBACK_MAP\n} from './constants';\n\nconst DEFAULT_OPTIONS = {\n  // event handlers\n  events: null,\n  // custom recognizers\n  recognizers: null,\n  recognizerOptions: {},\n  // Manager class\n  Manager,\n  // allow browser default touch action\n  // https://github.com/uber/react-map-gl/issues/506\n  touchAction: 'none',\n  tabIndex: 0\n};\n\n// Unified API for subscribing to events about both\n// basic input events (e.g. 'mousemove', 'touchstart', 'wheel')\n// and gestural input (e.g. 'click', 'tap', 'panstart').\n// Delegates gesture related event registration and handling to Hammer.js.\nexport default class EventManager {\n  constructor(element = null, options = {}) {\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n\n    this.setElement(element);\n\n    // Register all passed events.\n    const {events} = options;\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  setElement(element) {\n    if (this.element) {\n      // unregister all events\n      this.destroy();\n    }\n    this.element = element;\n    if (!element) {\n      return;\n    }\n\n    const {options} = this;\n    const ManagerClass = options.Manager;\n\n    this.manager = new ManagerClass(element, {\n      touchAction: options.touchAction,\n      recognizers: options.recognizers || RECOGNIZERS\n    }).on('hammer.input', this._onBasicInput);\n\n    if (!options.recognizers) {\n      // Set default recognize withs\n      // http://hammerjs.github.io/recognize-with/\n      Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(name => {\n        const recognizer = this.manager.get(name);\n        if (recognizer) {\n          RECOGNIZER_COMPATIBLE_MAP[name].forEach(otherName => {\n            recognizer.recognizeWith(otherName);\n          });\n        }\n      });\n    }\n\n    // Set recognizer options\n    for (const recognizerName in options.recognizerOptions) {\n      const recognizer = this.manager.get(recognizerName);\n      if (recognizer) {\n        const recognizerOption = options.recognizerOptions[recognizerName];\n        // `enable` is managed by the event registrations\n        delete recognizerOption.enable;\n        recognizer.set(recognizerOption);\n      }\n    }\n\n    // Handle events not handled by Hammer.js:\n    // - mouse wheel\n    // - pointer/touch/mouse move\n    this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n      enable: false\n    });\n    this.moveInput = new MoveInput(element, this._onOtherEvent, {\n      enable: false\n    });\n    this.keyInput = new KeyInput(element, this._onOtherEvent, {\n      enable: false,\n      tabIndex: options.tabIndex\n    });\n    this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n      enable: false\n    });\n\n    // Register all existing events\n    for (const [eventAlias, eventRegistrar] of this.events) {\n      if (!eventRegistrar.isEmpty()) {\n        // Enable recognizer for this event.\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n        this.manager.on(eventAlias, eventRegistrar.handleEvent);\n      }\n    }\n  }\n\n  // Tear down internal event management implementations.\n  destroy() {\n    if (this.element) {\n      // wheelInput etc. are created in setElement() and therefore\n      // cannot exist if there is no element\n      this.wheelInput.destroy();\n      this.moveInput.destroy();\n      this.keyInput.destroy();\n      this.contextmenuInput.destroy();\n      this.manager.destroy();\n\n      this.wheelInput = null;\n      this.moveInput = null;\n      this.keyInput = null;\n      this.contextmenuInput = null;\n      this.manager = null;\n      this.element = null;\n    }\n  }\n\n  // Register an event handler function to be called on `event`.\n  on(event, handler, opts) {\n    this._addEventHandler(event, handler, opts, false);\n  }\n\n  // Register an event handler function to be called on `event`, then remove it\n  once(event, handler, opts) {\n    this._addEventHandler(event, handler, opts, true);\n  }\n\n  // Register an event handler function to be called on `event`\n  // This handler does not ask the event to be recognized at all times.\n  // Instead, it only \"intercepts\" the event if some other handler is getting it.\n  watch(event, handler, opts) {\n    this._addEventHandler(event, handler, opts, false, true);\n  }\n\n  /**\n   * Deregister a previously-registered event handler.\n   * @param {string|Object} event   An event name (String) or map of event names to handlers\n   * @param {Function} [handler]    The function to be called on `event`.\n   */\n  off(event, handler) {\n    this._removeEventHandler(event, handler);\n  }\n\n  /*\n   * Enable/disable recognizer for the given event\n   */\n  _toggleRecognizer(name, enabled) {\n    const {manager} = this;\n    if (!manager) {\n      return;\n    }\n    const recognizer = manager.get(name);\n    if (recognizer && recognizer.options.enable !== enabled) {\n      recognizer.set({enable: enabled});\n\n      const fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n      if (fallbackRecognizers && !this.options.recognizers) {\n        // Set default require failures\n        // http://hammerjs.github.io/require-failure/\n        fallbackRecognizers.forEach(otherName => {\n          const otherRecognizer = manager.get(otherName);\n          if (enabled) {\n            // Wait for this recognizer to fail\n            otherRecognizer.requireFailure(name);\n            /**\n             * This seems to be a bug in hammerjs:\n             * requireFailure() adds both ways\n             * dropRequireFailure() only drops one way\n             * https://github.com/hammerjs/hammer.js/blob/master/src/recognizerjs/\n               recognizer-constructor.js#L136\n             */\n            recognizer.dropRequireFailure(otherName);\n          } else {\n            // Do not wait for this recognizer to fail\n            otherRecognizer.dropRequireFailure(name);\n          }\n        });\n      }\n    }\n    this.wheelInput.enableEventType(name, enabled);\n    this.moveInput.enableEventType(name, enabled);\n    this.keyInput.enableEventType(name, enabled);\n    this.contextmenuInput.enableEventType(name, enabled);\n  }\n\n  /**\n   * Process the event registration for a single event + handler.\n   */\n  _addEventHandler(event, handler, opts, once, passive) {\n    if (typeof event !== 'string') {\n      opts = handler;\n      // If `event` is a map, call `on()` for each entry.\n      for (const eventName in event) {\n        this._addEventHandler(eventName, event[eventName], opts, once, passive);\n      }\n      return;\n    }\n\n    const {manager, events} = this;\n    // Alias to a recognized gesture as necessary.\n    const eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n\n    let eventRegistrar = events.get(eventAlias);\n    if (!eventRegistrar) {\n      eventRegistrar = new EventRegistrar(this);\n      events.set(eventAlias, eventRegistrar);\n      // Enable recognizer for this event.\n      eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n      // Listen to the event\n      if (manager) {\n        manager.on(eventAlias, eventRegistrar.handleEvent);\n      }\n    }\n    eventRegistrar.add(event, handler, opts, once, passive);\n    if (!eventRegistrar.isEmpty()) {\n      this._toggleRecognizer(eventRegistrar.recognizerName, true);\n    }\n  }\n\n  /**\n   * Process the event deregistration for a single event + handler.\n   */\n  _removeEventHandler(event, handler) {\n    if (typeof event !== 'string') {\n      // If `event` is a map, call `off()` for each entry.\n      for (const eventName in event) {\n        this._removeEventHandler(eventName, event[eventName]);\n      }\n      return;\n    }\n\n    const {events} = this;\n    // Alias to a recognized gesture as necessary.\n    const eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n\n    const eventRegistrar = events.get(eventAlias);\n\n    if (!eventRegistrar) {\n      return;\n    }\n\n    eventRegistrar.remove(event, handler);\n\n    if (eventRegistrar.isEmpty()) {\n      const {recognizerName} = eventRegistrar;\n      // Disable recognizer if no more handlers are attached to its events\n      let isRecognizerUsed = false;\n      for (const eh of events.values()) {\n        if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n          isRecognizerUsed = true;\n          break;\n        }\n      }\n      if (!isRecognizerUsed) {\n        this._toggleRecognizer(recognizerName, false);\n      }\n    }\n  }\n\n  /**\n   * Handle basic events using the 'hammer.input' Hammer.js API:\n   * Before running Recognizers, Hammer emits a 'hammer.input' event\n   * with the basic event info. This function emits all basic events\n   * aliased to the \"class\" of event received.\n   * See constants.BASIC_EVENT_CLASSES basic event class definitions.\n   */\n  _onBasicInput(event) {\n    const {srcEvent} = event;\n    const alias = BASIC_EVENT_ALIASES[srcEvent.type];\n    if (alias) {\n      // fire all events aliased to srcEvent.type\n      this.manager.emit(alias, event);\n    }\n  }\n\n  /**\n   * Handle events not supported by Hammer.js,\n   * and pipe back out through same (Hammer) channel used by other events.\n   */\n  _onOtherEvent(event) {\n    // console.log('onotherevent', event.type, event)\n    this.manager.emit(event.type, event);\n  }\n}\n","// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/* global window, process, HTMLCanvasElement */\nimport * as PropTypes from 'prop-types';\nimport {document} from '../utils/globals';\nimport {normalizeStyle} from '../utils/style-utils';\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error); // eslint-disable-line\n  }\n}\n\nconst propTypes = {\n  // Creation parameters\n  container: PropTypes.object /** The container to have the map. */,\n  gl: PropTypes.object /** External WebGLContext to use */,\n\n  mapboxApiAccessToken: PropTypes.string /** Mapbox API access token for Mapbox tiles/styles. */,\n  mapboxApiUrl: PropTypes.string,\n  attributionControl: PropTypes.bool /** Show attribution control or not. */,\n  preserveDrawingBuffer: PropTypes.bool /** Useful when you want to export the canvas as a PNG. */,\n  reuseMaps: PropTypes.bool,\n  transformRequest: PropTypes.func /** The transformRequest callback for the map */,\n  mapOptions: PropTypes.object /** Extra options to pass to Mapbox constructor. See #545. **/,\n  mapStyle: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object\n  ]) /** The Mapbox style. A string url to a MapboxGL style */,\n  preventStyleDiffing:\n    PropTypes.bool /** There are known issues with style diffing. As stopgap, add option to prevent style diffing. */,\n\n  visible: PropTypes.bool /** Whether the map is visible */,\n  asyncRender: PropTypes.bool /** Whether mapbox should manage its own render cycle */,\n\n  onLoad: PropTypes.func /** The onLoad callback for the map */,\n  onError: PropTypes.func /** The onError callback for the map */,\n\n  // Map view state\n  width: PropTypes.number /** The width of the map. */,\n  height: PropTypes.number /** The height of the map. */,\n\n  viewState: PropTypes.object /** object containing lng/lat/zoom/bearing/pitch */,\n\n  longitude: PropTypes.number /** The longitude of the center of the map. */,\n  latitude: PropTypes.number /** The latitude of the center of the map. */,\n  zoom: PropTypes.number /** The tile zoom level of the map. */,\n  bearing: PropTypes.number /** Specify the bearing of the viewport */,\n  pitch: PropTypes.number /** Specify the pitch of the viewport */,\n  // Note: Non-public API, see https://github.com/mapbox/mapbox-gl-js/issues/1137\n  altitude: PropTypes.number /** Altitude of the viewport camera. Default 1.5 \"screen heights\" */\n};\n\nconst defaultProps = {\n  container: document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n\n  visible: true,\n  asyncRender: false,\n\n  onLoad: noop,\n  onError: defaultOnError,\n\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\n\n// Try to get access token from URL, env, local storage or config\nexport function getAccessToken() {\n  let accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    const match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    // Note: This depends on bundler plugins (e.g. webpack) importing environment correctly\n    accessToken =\n      accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN; // eslint-disable-line\n  }\n\n  // Prevents mapbox from throwing\n  return accessToken || 'no-token';\n}\n\n// Helper function to merge defaultProps and check prop types\nfunction checkPropTypes(props, component = 'component') {\n  // TODO - check for production (unless done by prop types package?)\n  if (props.debug) {\n    PropTypes.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\n\n// A small wrapper class for mapbox-gl\n// - Provides a prop style interface (that can be trivially used by a React wrapper)\n// - Makes sure mapbox doesn't crash under Node\n// - Handles map reuse (to work around Mapbox resource leak issues)\n// - Provides support for specifying tokens during development\n\nexport default class Mapbox {\n  static initialized = false;\n  static propTypes = propTypes;\n  static defaultProps = defaultProps;\n  static savedMap = null;\n\n  constructor(props) {\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      // Version detection using babel plugin\n      // const VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\n      // TODO - expose version for debug\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  props = defaultProps;\n  width = 0;\n  height = 0;\n\n  finalize() {\n    this._destroy();\n    return this;\n  }\n\n  setProps(props) {\n    this._update(this.props, props);\n    return this;\n  }\n\n  // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n  // render cycle, which is managed by Mapbox's animation loop.\n  // This removes the synchronization issue caused by requestAnimationFrame.\n  redraw() {\n    const map = this._map;\n    // map._render will throw error if style does not exist\n    // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n    //   /src/ui/map.js#L1834\n    if (map.style) {\n      // cancel the scheduled update\n      if (map._frame) {\n        map._frame.cancel();\n        map._frame = null;\n      }\n      // the order is important - render() may schedule another update\n      map._render();\n    }\n  }\n\n  // External apps can access map this way\n  getMap() {\n    return this._map;\n  }\n\n  // PRIVATE API\n  _fireLoadEvent = () => {\n    // @ts-ignore\n    this.props.onLoad({\n      type: 'load',\n      target: this._map\n    });\n  };\n\n  _handleError = event => {\n    // @ts-ignore\n    this.props.onError(event);\n  };\n\n  _reuse(props) {\n    this._map = Mapbox.savedMap;\n    // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n    // intoto the new container from the props.\n    // Step1: reparenting child nodes from old container to new container\n    const oldContainer = this._map.getContainer();\n    const newContainer = props.container;\n    newContainer.classList.add('mapboxgl-map');\n    while (oldContainer.childNodes.length > 0) {\n      newContainer.appendChild(oldContainer.childNodes[0]);\n    }\n    // Step2: replace the internal container with new container from the react component\n    this._map._container = newContainer;\n    Mapbox.savedMap = null;\n\n    // Step3: update style and call onload again\n    if (props.mapStyle) {\n      this._map.setStyle(normalizeStyle(props.mapStyle), {\n        // From the user's perspective, there's no \"diffing\" on initialization\n        // We always rebuild the style from scratch when creating a new Mapbox instance\n        diff: false\n      });\n    }\n\n    // call onload event handler after style fully loaded when style needs update\n    if (this._map.isStyleLoaded()) {\n      this._fireLoadEvent();\n    } else {\n      this._map.once('styledata', this._fireLoadEvent);\n    }\n  }\n\n  _create(props) {\n    // Reuse a saved map, if available\n    if (props.reuseMaps && Mapbox.savedMap) {\n      this._reuse(props);\n    } else {\n      if (props.gl) {\n        const getContext = HTMLCanvasElement.prototype.getContext;\n        // Hijack canvas.getContext to return our own WebGLContext\n        // This will be called inside the mapboxgl.Map constructor\n        HTMLCanvasElement.prototype.getContext = () => {\n          // Unhijack immediately\n          HTMLCanvasElement.prototype.getContext = getContext;\n          return props.gl;\n        };\n      }\n\n      const mapOptions = {\n        container: props.container,\n        center: [0, 0],\n        zoom: 8,\n        pitch: 0,\n        bearing: 0,\n        maxZoom: 24,\n        style: normalizeStyle(props.mapStyle),\n        interactive: false,\n        trackResize: false,\n        attributionControl: props.attributionControl,\n        preserveDrawingBuffer: props.preserveDrawingBuffer\n      };\n      // We don't want to pass a null or no-op transformRequest function.\n      if (props.transformRequest) {\n        mapOptions.transformRequest = props.transformRequest;\n      }\n      this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n      // Attach optional onLoad function\n      this._map.once('load', this._fireLoadEvent);\n      this._map.on('error', this._handleError);\n    }\n\n    return this;\n  }\n\n  _destroy() {\n    if (!this._map) {\n      return;\n    }\n\n    if (this.props.reuseMaps && !Mapbox.savedMap) {\n      Mapbox.savedMap = this._map;\n\n      // deregister the mapbox event listeners\n      this._map.off('load', this._fireLoadEvent);\n      this._map.off('error', this._handleError);\n      this._map.off('styledata', this._fireLoadEvent);\n    } else {\n      this._map.remove();\n    }\n\n    this._map = null;\n  }\n\n  _initialize(props) {\n    props = Object.assign({}, defaultProps, props);\n    checkPropTypes(props, 'Mapbox');\n\n    // Creation only props\n    this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n    this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n    this._create(props);\n\n    // Hijack dimension properties\n    // This eliminates the timing issue between calling resize() and DOM update\n    /* eslint-disable accessor-pairs */\n    const {container} = props;\n    Object.defineProperty(container, 'offsetWidth', {get: () => this.width});\n    Object.defineProperty(container, 'clientWidth', {get: () => this.width});\n    Object.defineProperty(container, 'offsetHeight', {\n      get: () => this.height\n    });\n    Object.defineProperty(container, 'clientHeight', {\n      get: () => this.height\n    });\n\n    // Disable outline style\n    const canvas = this._map.getCanvas();\n    if (canvas) {\n      canvas.style.outline = 'none';\n    }\n\n    this._updateMapViewport({}, props);\n    this._updateMapSize({}, props);\n\n    this.props = props;\n  }\n\n  _update(oldProps, newProps) {\n    if (!this._map) {\n      return;\n    }\n\n    newProps = Object.assign({}, this.props, newProps);\n    checkPropTypes(newProps, 'Mapbox');\n\n    const viewportChanged = this._updateMapViewport(oldProps, newProps);\n    const sizeChanged = this._updateMapSize(oldProps, newProps);\n    this._updateMapStyle(oldProps, newProps);\n\n    if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n      this.redraw();\n    }\n\n    this.props = newProps;\n  }\n\n  _updateMapStyle(oldProps, newProps) {\n    const styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n    if (styleChanged) {\n      this._map.setStyle(normalizeStyle(newProps.mapStyle), {\n        diff: !newProps.preventStyleDiffing\n      });\n    }\n  }\n\n  // Note: needs to be called after render (e.g. in componentDidUpdate)\n  _updateMapSize(oldProps, newProps) {\n    const sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n    if (sizeChanged) {\n      this.width = newProps.width;\n      this.height = newProps.height;\n      this._map.resize();\n    }\n    return sizeChanged;\n  }\n\n  _updateMapViewport(oldProps, newProps) {\n    const oldViewState = this._getViewState(oldProps);\n    const newViewState = this._getViewState(newProps);\n\n    const viewportChanged =\n      newViewState.latitude !== oldViewState.latitude ||\n      newViewState.longitude !== oldViewState.longitude ||\n      newViewState.zoom !== oldViewState.zoom ||\n      newViewState.pitch !== oldViewState.pitch ||\n      newViewState.bearing !== oldViewState.bearing ||\n      newViewState.altitude !== oldViewState.altitude;\n\n    if (viewportChanged) {\n      this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n      // TODO - jumpTo doesn't handle altitude\n      if (newViewState.altitude !== oldViewState.altitude) {\n        this._map.transform.altitude = newViewState.altitude;\n      }\n    }\n    return viewportChanged;\n  }\n\n  _getViewState(props) {\n    const {longitude, latitude, zoom, pitch = 0, bearing = 0, altitude = 1.5} =\n      props.viewState || props;\n    return {longitude, latitude, zoom, pitch, bearing, altitude};\n  }\n\n  _checkStyleSheet(mapboxVersion = '0.47.0') {\n    if (typeof document === 'undefined') {\n      return;\n    }\n\n    // check mapbox styles\n    try {\n      const testElement = document.createElement('div');\n      testElement.className = 'mapboxgl-map';\n      testElement.style.display = 'none';\n      document.body.appendChild(testElement);\n      const isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n      if (!isCssLoaded) {\n        // attempt to insert mapbox stylesheet\n        const link = document.createElement('link');\n        link.setAttribute('rel', 'stylesheet');\n        link.setAttribute('type', 'text/css');\n        link.setAttribute(\n          'href',\n          `https://api.tiles.mapbox.com/mapbox-gl-js/v${mapboxVersion}/mapbox-gl.css`\n        );\n        document.head.appendChild(link);\n      }\n    } catch (error) {\n      // do nothing\n    }\n  }\n\n  _viewStateToMapboxProps(viewState) {\n    return {\n      center: [viewState.longitude, viewState.latitude],\n      zoom: viewState.zoom,\n      bearing: viewState.bearing,\n      pitch: viewState.pitch\n    };\n  }\n}\n","const refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in the styles that would fail Mapbox's diffing\nexport function normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n  if (typeof style === 'string') {\n    return style;\n  }\n  if (style.toJS) {\n    style = style.toJS();\n  }\n  const layerIndex = {};\n\n  for (const layer of style.layers) {\n    layerIndex[layer.id] = layer;\n  }\n\n  const layers = style.layers.map(layer => {\n    const layerRef = layerIndex[layer.ref];\n    let normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = {...layer};\n      // Breaks style diffing :(\n      delete normalizedLayer.interactive;\n    }\n\n    // Style diffing doesn't work with refs so expand them out manually before diffing.\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || {...layer};\n      delete normalizedLayer.ref;\n      // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n      for (const propName of refProps) {\n        if (propName in layerRef) {\n          normalizedLayer[propName] = layerRef[propName];\n        }\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n\n  // Do not mutate the style object provided by the user\n  return {...style, layers};\n}\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n"]},"banner":"For license information please see 1.20a2a15b.chunk.js.LICENSE.txt","extractedComments":"/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n","commentsFilename":"static/js/1.20a2a15b.chunk.js.LICENSE.txt"}