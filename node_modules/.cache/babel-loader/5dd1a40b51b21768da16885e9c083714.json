{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useState,useEffect}from'react';// @mui\nimport{useTheme,styled}from'@mui/material/styles';import{Box,Drawer,Divider,IconButton}from'@mui/material';// hooks\nimport useResponsive from'../../../hooks/useResponsive';// components\nimport Iconify from'../../../components/Iconify';//\nimport ChatRoomAttachment from'./ChatRoomAttachment';import ChatRoomOneParticipant from'./ChatRoomOneParticipant';import ChatRoomGroupParticipant from'./ChatRoomGroupParticipant';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DRAWER_WIDTH=240;var ToggleButtonStyle=styled(function(props){return/*#__PURE__*/_jsx(IconButton,_objectSpread({disableRipple:true},props));})(function(_ref){var theme=_ref.theme;return{right:0,zIndex:9,width:32,height:32,position:'absolute',top:theme.spacing(1),boxShadow:theme.customShadows.z8,backgroundColor:theme.palette.background.paper,border:\"solid 1px \".concat(theme.palette.divider),borderRight:0,borderRadius:\"12px 0 0 12px\",transition:theme.transitions.create('all'),'&:hover':{backgroundColor:theme.palette.background.neutral}};});// ----------------------------------------------------------------------\nexport default function ChatRoom(_ref2){var conversation=_ref2.conversation,participants=_ref2.participants;var theme=useTheme();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),openSidebar=_useState2[0],setOpenSidebar=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showInfo=_useState4[0],setShowInfo=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectUser=_useState6[0],setSelectUser=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),showAttachment=_useState8[0],setShowAttachment=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),showParticipants=_useState10[0],setShowParticipants=_useState10[1];var isDesktop=useResponsive('up','lg');var isGroup=participants.length>1;useEffect(function(){if(!isDesktop){return handleCloseSidebar();}return handleOpenSidebar();},[isDesktop]);var handleOpenSidebar=function handleOpenSidebar(){setOpenSidebar(true);};var handleCloseSidebar=function handleCloseSidebar(){setOpenSidebar(false);};var handleToggleSidebar=function handleToggleSidebar(){setOpenSidebar(function(prev){return!prev;});};var renderContent=/*#__PURE__*/_jsxs(_Fragment,{children:[isGroup?/*#__PURE__*/_jsx(ChatRoomGroupParticipant,{selectUserId:selectUser,participants:participants,isCollapse:showParticipants,onShowPopupUserInfo:function onShowPopupUserInfo(participantId){return setSelectUser(participantId);},onCollapse:function onCollapse(){return setShowParticipants(function(prev){return!prev;});}}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ChatRoomOneParticipant,{participants:participants,isCollapse:showInfo,onCollapse:function onCollapse(){return setShowInfo(function(prev){return!prev;});}})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(ChatRoomAttachment,{conversation:conversation,isCollapse:showAttachment,onCollapse:function onCollapse(){return setShowAttachment(function(prev){return!prev;});}})]});return/*#__PURE__*/_jsxs(Box,{sx:{position:'relative'},children:[/*#__PURE__*/_jsx(ToggleButtonStyle,{onClick:handleToggleSidebar,sx:_objectSpread({},openSidebar&&isDesktop&&{right:DRAWER_WIDTH}),children:/*#__PURE__*/_jsx(Iconify,{width:16,height:16,icon:openSidebar?'eva:arrow-ios-forward-fill':'eva:arrow-ios-back-fill'})}),isDesktop?/*#__PURE__*/_jsx(Drawer,{open:openSidebar,anchor:\"right\",variant:\"persistent\",sx:_objectSpread(_objectSpread({height:1,width:DRAWER_WIDTH,transition:theme.transitions.create('width')},!openSidebar&&{width:'0px'}),{},{'& .MuiDrawer-paper':{position:'static',width:DRAWER_WIDTH}}),children:renderContent}):/*#__PURE__*/_jsx(Drawer,{anchor:\"right\",ModalProps:{keepMounted:true},open:openSidebar,onClose:handleCloseSidebar,sx:{'& .MuiDrawer-paper':{width:DRAWER_WIDTH}},children:renderContent})]});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/chat/ChatRoom.js"],"names":["useState","useEffect","useTheme","styled","Box","Drawer","Divider","IconButton","useResponsive","Iconify","ChatRoomAttachment","ChatRoomOneParticipant","ChatRoomGroupParticipant","DRAWER_WIDTH","ToggleButtonStyle","props","theme","right","zIndex","width","height","position","top","spacing","boxShadow","customShadows","z8","backgroundColor","palette","background","paper","border","divider","borderRight","borderRadius","transition","transitions","create","neutral","ChatRoom","conversation","participants","openSidebar","setOpenSidebar","showInfo","setShowInfo","selectUser","setSelectUser","showAttachment","setShowAttachment","showParticipants","setShowParticipants","isDesktop","isGroup","length","handleCloseSidebar","handleOpenSidebar","handleToggleSidebar","prev","renderContent","participantId","keepMounted"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\n// @mui\nimport { useTheme, styled } from '@mui/material/styles';\nimport { Box, Drawer, Divider, IconButton } from '@mui/material';\n// hooks\nimport useResponsive from '../../../hooks/useResponsive';\n// components\nimport Iconify from '../../../components/Iconify';\n//\nimport ChatRoomAttachment from './ChatRoomAttachment';\nimport ChatRoomOneParticipant from './ChatRoomOneParticipant';\nimport ChatRoomGroupParticipant from './ChatRoomGroupParticipant';\n\n// ----------------------------------------------------------------------\n\nconst DRAWER_WIDTH = 240;\n\nconst ToggleButtonStyle = styled((props) => <IconButton disableRipple {...props} />)(({ theme }) => ({\n  right: 0,\n  zIndex: 9,\n  width: 32,\n  height: 32,\n  position: 'absolute',\n  top: theme.spacing(1),\n  boxShadow: theme.customShadows.z8,\n  backgroundColor: theme.palette.background.paper,\n  border: `solid 1px ${theme.palette.divider}`,\n  borderRight: 0,\n  borderRadius: `12px 0 0 12px`,\n  transition: theme.transitions.create('all'),\n  '&:hover': {\n    backgroundColor: theme.palette.background.neutral,\n  },\n}));\n\n// ----------------------------------------------------------------------\n\nChatRoom.propTypes = {\n  conversation: PropTypes.object.isRequired,\n  participants: PropTypes.array.isRequired,\n};\n\nexport default function ChatRoom({ conversation, participants }) {\n  const theme = useTheme();\n\n  const [openSidebar, setOpenSidebar] = useState(true);\n  const [showInfo, setShowInfo] = useState(true);\n  const [selectUser, setSelectUser] = useState(null);\n  const [showAttachment, setShowAttachment] = useState(true);\n  const [showParticipants, setShowParticipants] = useState(true);\n\n  const isDesktop = useResponsive('up', 'lg');\n\n  const isGroup = participants.length > 1;\n\n  useEffect(() => {\n    if (!isDesktop) {\n      return handleCloseSidebar();\n    }\n    return handleOpenSidebar();\n  }, [isDesktop]);\n\n  const handleOpenSidebar = () => {\n    setOpenSidebar(true);\n  };\n\n  const handleCloseSidebar = () => {\n    setOpenSidebar(false);\n  };\n\n  const handleToggleSidebar = () => {\n    setOpenSidebar((prev) => !prev);\n  };\n\n  const renderContent = (\n    <>\n      {isGroup ? (\n        <ChatRoomGroupParticipant\n          selectUserId={selectUser}\n          participants={participants}\n          isCollapse={showParticipants}\n          onShowPopupUserInfo={(participantId) => setSelectUser(participantId)}\n          onCollapse={() => setShowParticipants((prev) => !prev)}\n        />\n      ) : (\n        <div>\n          <ChatRoomOneParticipant\n            participants={participants}\n            isCollapse={showInfo}\n            onCollapse={() => setShowInfo((prev) => !prev)}\n          />\n        </div>\n      )}\n      <Divider />\n\n      <ChatRoomAttachment\n        conversation={conversation}\n        isCollapse={showAttachment}\n        onCollapse={() => setShowAttachment((prev) => !prev)}\n      />\n    </>\n  );\n\n  return (\n    <Box sx={{ position: 'relative' }}>\n      <ToggleButtonStyle\n        onClick={handleToggleSidebar}\n        sx={{\n          ...(openSidebar && isDesktop && { right: DRAWER_WIDTH }),\n        }}\n      >\n        <Iconify width={16} height={16} icon={openSidebar ? 'eva:arrow-ios-forward-fill' : 'eva:arrow-ios-back-fill'} />\n      </ToggleButtonStyle>\n\n      {isDesktop ? (\n        <Drawer\n          open={openSidebar}\n          anchor=\"right\"\n          variant=\"persistent\"\n          sx={{\n            height: 1,\n            width: DRAWER_WIDTH,\n            transition: theme.transitions.create('width'),\n            ...(!openSidebar && { width: '0px' }),\n            '& .MuiDrawer-paper': {\n              position: 'static',\n              width: DRAWER_WIDTH,\n            },\n          }}\n        >\n          {renderContent}\n        </Drawer>\n      ) : (\n        <Drawer\n          anchor=\"right\"\n          ModalProps={{ keepMounted: true }}\n          open={openSidebar}\n          onClose={handleCloseSidebar}\n          sx={{\n            '& .MuiDrawer-paper': {\n              width: DRAWER_WIDTH,\n            },\n          }}\n        >\n          {renderContent}\n        </Drawer>\n      )}\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}