{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{v4 as uuidv4}from'uuid';import{useRef,useState}from'react';// @mui\nimport{styled}from'@mui/material/styles';import{Stack,Input,Divider,IconButton,InputAdornment}from'@mui/material';// components\nimport Iconify from'../../../components/Iconify';import EmojiPicker from'../../../components/EmojiPicker';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RootStyle=styled('div')(function(_ref){var theme=_ref.theme;return{minHeight:56,display:'flex',position:'relative',alignItems:'center',paddingLeft:theme.spacing(2)};});// ----------------------------------------------------------------------\nexport default function ChatMessageInput(_ref2){var disabled=_ref2.disabled,conversationId=_ref2.conversationId,onSend=_ref2.onSend;var fileInputRef=useRef(null);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleAttach=function handleAttach(){var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};var handleKeyUp=function handleKeyUp(event){if(event.key==='Enter'){handleSend();}};var handleSend=function handleSend(){if(!message){return'';}if(onSend&&conversationId){onSend({conversationId:conversationId,messageId:uuidv4(),message:message,contentType:'text',attachments:[],createdAt:new Date(),senderId:'8864c717-587d-472a-929a-8e5f298024da-0'});}return setMessage('');};return/*#__PURE__*/_jsxs(RootStyle,{children:[/*#__PURE__*/_jsx(Input,{disabled:disabled,fullWidth:true,value:message,disableUnderline:true,onKeyUp:handleKeyUp,onChange:function onChange(event){return setMessage(event.target.value);},placeholder:\"Type a message\",startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(EmojiPicker,{disabled:disabled,value:message,setValue:setMessage})}),endAdornment:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,sx:{flexShrink:0,mr:1.5},children:[/*#__PURE__*/_jsx(IconButton,{disabled:disabled,size:\"small\",onClick:handleAttach,children:/*#__PURE__*/_jsx(Iconify,{icon:\"ic:round-add-photo-alternate\",width:22,height:22})}),/*#__PURE__*/_jsx(IconButton,{disabled:disabled,size:\"small\",onClick:handleAttach,children:/*#__PURE__*/_jsx(Iconify,{icon:\"eva:attach-2-fill\",width:22,height:22})}),/*#__PURE__*/_jsx(IconButton,{disabled:disabled,size:\"small\",children:/*#__PURE__*/_jsx(Iconify,{icon:\"eva:mic-fill\",width:22,height:22})})]})}),/*#__PURE__*/_jsx(Divider,{orientation:\"vertical\",flexItem:true}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",disabled:!message,onClick:handleSend,sx:{mx:1},children:/*#__PURE__*/_jsx(Iconify,{icon:\"ic:round-send\",width:22,height:22})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:fileInputRef,style:{display:'none'}})]});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/chat/ChatMessageInput.js"],"names":["v4","uuidv4","useRef","useState","styled","Stack","Input","Divider","IconButton","InputAdornment","Iconify","EmojiPicker","RootStyle","theme","minHeight","display","position","alignItems","paddingLeft","spacing","ChatMessageInput","disabled","conversationId","onSend","fileInputRef","message","setMessage","handleAttach","current","click","handleKeyUp","event","key","handleSend","messageId","contentType","attachments","createdAt","Date","senderId","target","value","flexShrink","mr","mx"],"mappings":"gKACA,OAASA,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,OAASC,MAAT,CAAiBC,QAAjB,KAAiC,OAAjC,CACA;AACA,OAASC,MAAT,KAAuB,sBAAvB,CACA,OAASC,KAAT,CAAgBC,KAAhB,CAAuBC,OAAvB,CAAgCC,UAAhC,CAA4CC,cAA5C,KAAkE,eAAlE,CACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CAEA;wFAEA,GAAMC,CAAAA,SAAS,CAAGR,MAAM,CAAC,KAAD,CAAN,CAAc,kBAAGS,CAAAA,KAAH,MAAGA,KAAH,OAAgB,CAC9CC,SAAS,CAAE,EADmC,CAE9CC,OAAO,CAAE,MAFqC,CAG9CC,QAAQ,CAAE,UAHoC,CAI9CC,UAAU,CAAE,QAJkC,CAK9CC,WAAW,CAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,CALiC,CAAhB,EAAd,CAAlB,CAQA;AAQA,cAAe,SAASC,CAAAA,gBAAT,OAAgE,IAApCC,CAAAA,QAAoC,OAApCA,QAAoC,CAA1BC,cAA0B,OAA1BA,cAA0B,CAAVC,MAAU,OAAVA,MAAU,CAC7E,GAAMC,CAAAA,YAAY,CAAGtB,MAAM,CAAC,IAAD,CAA3B,CACA,cAA8BC,QAAQ,CAAC,EAAD,CAAtC,wCAAOsB,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,2BACzB,uBAAAH,YAAY,CAACI,OAAb,sEAAsBC,KAAtB,GACD,CAFD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7B,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACzBC,UAAU,GACX,CACF,CAJD,CAMA,GAAMA,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAI,CAACR,OAAL,CAAc,CACZ,MAAO,EAAP,CACD,CACD,GAAIF,MAAM,EAAID,cAAd,CAA8B,CAC5BC,MAAM,CAAC,CACLD,cAAc,CAAdA,cADK,CAELY,SAAS,CAAEjC,MAAM,EAFZ,CAGLwB,OAAO,CAAPA,OAHK,CAILU,WAAW,CAAE,MAJR,CAKLC,WAAW,CAAE,EALR,CAMLC,SAAS,CAAE,GAAIC,CAAAA,IAAJ,EANN,CAOLC,QAAQ,CAAE,wCAPL,CAAD,CAAN,CASD,CACD,MAAOb,CAAAA,UAAU,CAAC,EAAD,CAAjB,CACD,CAhBD,CAkBA,mBACE,MAAC,SAAD,yBACE,KAAC,KAAD,EACE,QAAQ,CAAEL,QADZ,CAEE,SAAS,KAFX,CAGE,KAAK,CAAEI,OAHT,CAIE,gBAAgB,KAJlB,CAKE,OAAO,CAAEK,WALX,CAME,QAAQ,CAAE,kBAACC,KAAD,QAAWL,CAAAA,UAAU,CAACK,KAAK,CAACS,MAAN,CAAaC,KAAd,CAArB,EANZ,CAOE,WAAW,CAAC,gBAPd,CAQE,cAAc,cACZ,KAAC,cAAD,EAAgB,QAAQ,CAAC,OAAzB,uBACE,KAAC,WAAD,EAAa,QAAQ,CAAEpB,QAAvB,CAAiC,KAAK,CAAEI,OAAxC,CAAiD,QAAQ,CAAEC,UAA3D,EADF,EATJ,CAaE,YAAY,cACV,MAAC,KAAD,EAAO,SAAS,CAAC,KAAjB,CAAuB,OAAO,CAAE,CAAhC,CAAmC,EAAE,CAAE,CAAEgB,UAAU,CAAE,CAAd,CAAiBC,EAAE,CAAE,GAArB,CAAvC,wBACE,KAAC,UAAD,EAAY,QAAQ,CAAEtB,QAAtB,CAAgC,IAAI,CAAC,OAArC,CAA6C,OAAO,CAAEM,YAAtD,uBACE,KAAC,OAAD,EAAS,IAAI,CAAC,8BAAd,CAA6C,KAAK,CAAE,EAApD,CAAwD,MAAM,CAAE,EAAhE,EADF,EADF,cAIE,KAAC,UAAD,EAAY,QAAQ,CAAEN,QAAtB,CAAgC,IAAI,CAAC,OAArC,CAA6C,OAAO,CAAEM,YAAtD,uBACE,KAAC,OAAD,EAAS,IAAI,CAAC,mBAAd,CAAkC,KAAK,CAAE,EAAzC,CAA6C,MAAM,CAAE,EAArD,EADF,EAJF,cAOE,KAAC,UAAD,EAAY,QAAQ,CAAEN,QAAtB,CAAgC,IAAI,CAAC,OAArC,uBACE,KAAC,OAAD,EAAS,IAAI,CAAC,cAAd,CAA6B,KAAK,CAAE,EAApC,CAAwC,MAAM,CAAE,EAAhD,EADF,EAPF,GAdJ,EADF,cA6BE,KAAC,OAAD,EAAS,WAAW,CAAC,UAArB,CAAgC,QAAQ,KAAxC,EA7BF,cA+BE,KAAC,UAAD,EAAY,KAAK,CAAC,SAAlB,CAA4B,QAAQ,CAAE,CAACI,OAAvC,CAAgD,OAAO,CAAEQ,UAAzD,CAAqE,EAAE,CAAE,CAAEW,EAAE,CAAE,CAAN,CAAzE,uBACE,KAAC,OAAD,EAAS,IAAI,CAAC,eAAd,CAA8B,KAAK,CAAE,EAArC,CAAyC,MAAM,CAAE,EAAjD,EADF,EA/BF,cAmCE,cAAO,IAAI,CAAC,MAAZ,CAAmB,GAAG,CAAEpB,YAAxB,CAAsC,KAAK,CAAE,CAAET,OAAO,CAAE,MAAX,CAA7C,EAnCF,GADF,CAuCD","sourcesContent":["import PropTypes from 'prop-types';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useRef, useState } from 'react';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Stack, Input, Divider, IconButton, InputAdornment } from '@mui/material';\n// components\nimport Iconify from '../../../components/Iconify';\nimport EmojiPicker from '../../../components/EmojiPicker';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  minHeight: 56,\n  display: 'flex',\n  position: 'relative',\n  alignItems: 'center',\n  paddingLeft: theme.spacing(2),\n}));\n\n// ----------------------------------------------------------------------\n\nChatMessageInput.propTypes = {\n  disabled: PropTypes.bool,\n  conversationId: PropTypes.string,\n  onSend: PropTypes.func,\n};\n\nexport default function ChatMessageInput({ disabled, conversationId, onSend }) {\n  const fileInputRef = useRef(null);\n  const [message, setMessage] = useState('');\n\n  const handleAttach = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleSend();\n    }\n  };\n\n  const handleSend = () => {\n    if (!message) {\n      return '';\n    }\n    if (onSend && conversationId) {\n      onSend({\n        conversationId,\n        messageId: uuidv4(),\n        message,\n        contentType: 'text',\n        attachments: [],\n        createdAt: new Date(),\n        senderId: '8864c717-587d-472a-929a-8e5f298024da-0',\n      });\n    }\n    return setMessage('');\n  };\n\n  return (\n    <RootStyle>\n      <Input\n        disabled={disabled}\n        fullWidth\n        value={message}\n        disableUnderline\n        onKeyUp={handleKeyUp}\n        onChange={(event) => setMessage(event.target.value)}\n        placeholder=\"Type a message\"\n        startAdornment={\n          <InputAdornment position=\"start\">\n            <EmojiPicker disabled={disabled} value={message} setValue={setMessage} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <Stack direction=\"row\" spacing={1} sx={{ flexShrink: 0, mr: 1.5 }}>\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\n              <Iconify icon=\"ic:round-add-photo-alternate\" width={22} height={22} />\n            </IconButton>\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\n              <Iconify icon=\"eva:attach-2-fill\" width={22} height={22} />\n            </IconButton>\n            <IconButton disabled={disabled} size=\"small\">\n              <Iconify icon=\"eva:mic-fill\" width={22} height={22} />\n            </IconButton>\n          </Stack>\n        }\n      />\n\n      <Divider orientation=\"vertical\" flexItem />\n\n      <IconButton color=\"primary\" disabled={!message} onClick={handleSend} sx={{ mx: 1 }}>\n        <Iconify icon=\"ic:round-send\" width={22} height={22} />\n      </IconButton>\n\n      <input type=\"file\" ref={fileInputRef} style={{ display: 'none' }} />\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}