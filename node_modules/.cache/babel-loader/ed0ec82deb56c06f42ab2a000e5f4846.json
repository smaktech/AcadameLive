{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as Yup from'yup';import{useFormik,Form,FormikProvider}from'formik';// @mui\nimport{Grid,Button}from'@mui/material';import{LoadingButton}from'@mui/lab';// redux\nimport{useDispatch,useSelector}from'../../../../redux/store';import{onGotoStep,onBackStep,onNextStep,applyShipping}from'../../../../redux/slices/product';// components\nimport Iconify from'../../../../components/Iconify';//\nimport CheckoutSummary from'./CheckoutSummary';import CheckoutDelivery from'./CheckoutDelivery';import CheckoutBillingInfo from'./CheckoutBillingInfo';import CheckoutPaymentMethods from'./CheckoutPaymentMethods';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DELIVERY_OPTIONS=[{value:0,title:'Standard delivery (Free)',description:'Delivered on Monday, August 12'},{value:2,title:'Fast delivery ($2,00)',description:'Delivered on Monday, August 5'}];var PAYMENT_OPTIONS=[{value:'paypal',title:'Pay with Paypal',description:'You will be redirected to PayPal website to complete your purchase securely.',icons:['https://minimal-assets-api.vercel.app/assets/icons/ic_paypal.svg']},{value:'credit_card',title:'Credit / Debit Card',description:'We support Mastercard, Visa, Discover and Stripe.',icons:['https://minimal-assets-api.vercel.app/assets/icons/ic_mastercard.svg','https://minimal-assets-api.vercel.app/assets/icons/ic_visa.svg']},{value:'cash',title:'Cash on CheckoutDelivery',description:'Pay with cash when your order is delivered.',icons:[]}];var CARDS_OPTIONS=[{value:'ViSa1',label:'**** **** **** 1212 - Jimmy Holland'},{value:'ViSa2',label:'**** **** **** 2424 - Shawn Stokes'},{value:'MasterCard',label:'**** **** **** 4545 - Cole Armstrong'}];export default function CheckoutPayment(){var _useSelector=useSelector(function(state){return state.product;}),checkout=_useSelector.checkout;var dispatch=useDispatch();var total=checkout.total,discount=checkout.discount,subtotal=checkout.subtotal,shipping=checkout.shipping;var handleNextStep=function handleNextStep(){dispatch(onNextStep());};var handleBackStep=function handleBackStep(){dispatch(onBackStep());};var handleGotoStep=function handleGotoStep(step){dispatch(onGotoStep(step));};var handleApplyShipping=function handleApplyShipping(value){dispatch(applyShipping(value));};var PaymentSchema=Yup.object().shape({payment:Yup.mixed().required('Payment is required')});var formik=useFormik({initialValues:{delivery:shipping,payment:''},validationSchema:PaymentSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setErrors,setSubmitting;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors=_ref.setErrors,setSubmitting=_ref.setSubmitting;try{handleNextStep();}catch(error){console.error(error);setSubmitting(false);setErrors(error.message);}case 2:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var isSubmitting=formik.isSubmitting,handleSubmit=formik.handleSubmit;return/*#__PURE__*/_jsx(FormikProvider,{value:formik,children:/*#__PURE__*/_jsx(Form,{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(CheckoutDelivery,{formik:formik,onApplyShipping:handleApplyShipping,deliveryOptions:DELIVERY_OPTIONS}),/*#__PURE__*/_jsx(CheckoutPaymentMethods,{formik:formik,cardOptions:CARDS_OPTIONS,paymentOptions:PAYMENT_OPTIONS}),/*#__PURE__*/_jsx(Button,{type:\"button\",size:\"small\",color:\"inherit\",onClick:handleBackStep,startIcon:/*#__PURE__*/_jsx(Iconify,{icon:'eva:arrow-ios-back-fill'}),children:\"Back\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:4,children:[/*#__PURE__*/_jsx(CheckoutBillingInfo,{onBackStep:handleBackStep}),/*#__PURE__*/_jsx(CheckoutSummary,{enableEdit:true,total:total,subtotal:subtotal,discount:discount,shipping:shipping,onEdit:function onEdit(){return handleGotoStep(0);}}),/*#__PURE__*/_jsx(LoadingButton,{fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"Complete Order\"})]})]})})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/e-commerce/checkout/CheckoutPayment.js"],"names":["Yup","useFormik","Form","FormikProvider","Grid","Button","LoadingButton","useDispatch","useSelector","onGotoStep","onBackStep","onNextStep","applyShipping","Iconify","CheckoutSummary","CheckoutDelivery","CheckoutBillingInfo","CheckoutPaymentMethods","DELIVERY_OPTIONS","value","title","description","PAYMENT_OPTIONS","icons","CARDS_OPTIONS","label","CheckoutPayment","state","product","checkout","dispatch","total","discount","subtotal","shipping","handleNextStep","handleBackStep","handleGotoStep","step","handleApplyShipping","PaymentSchema","object","shape","payment","mixed","required","formik","initialValues","delivery","validationSchema","onSubmit","values","setErrors","setSubmitting","error","console","message","isSubmitting","handleSubmit"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\nimport { useFormik, Form, FormikProvider } from 'formik';\n// @mui\nimport { Grid, Button } from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\n// redux\nimport { useDispatch, useSelector } from '../../../../redux/store';\nimport { onGotoStep, onBackStep, onNextStep, applyShipping } from '../../../../redux/slices/product';\n// components\nimport Iconify from '../../../../components/Iconify';\n//\nimport CheckoutSummary from './CheckoutSummary';\nimport CheckoutDelivery from './CheckoutDelivery';\nimport CheckoutBillingInfo from './CheckoutBillingInfo';\nimport CheckoutPaymentMethods from './CheckoutPaymentMethods';\n\n// ----------------------------------------------------------------------\n\nconst DELIVERY_OPTIONS = [\n  {\n    value: 0,\n    title: 'Standard delivery (Free)',\n    description: 'Delivered on Monday, August 12',\n  },\n  {\n    value: 2,\n    title: 'Fast delivery ($2,00)',\n    description: 'Delivered on Monday, August 5',\n  },\n];\n\nconst PAYMENT_OPTIONS = [\n  {\n    value: 'paypal',\n    title: 'Pay with Paypal',\n    description: 'You will be redirected to PayPal website to complete your purchase securely.',\n    icons: ['https://minimal-assets-api.vercel.app/assets/icons/ic_paypal.svg'],\n  },\n  {\n    value: 'credit_card',\n    title: 'Credit / Debit Card',\n    description: 'We support Mastercard, Visa, Discover and Stripe.',\n    icons: [\n      'https://minimal-assets-api.vercel.app/assets/icons/ic_mastercard.svg',\n      'https://minimal-assets-api.vercel.app/assets/icons/ic_visa.svg',\n    ],\n  },\n  {\n    value: 'cash',\n    title: 'Cash on CheckoutDelivery',\n    description: 'Pay with cash when your order is delivered.',\n    icons: [],\n  },\n];\n\nconst CARDS_OPTIONS = [\n  { value: 'ViSa1', label: '**** **** **** 1212 - Jimmy Holland' },\n  { value: 'ViSa2', label: '**** **** **** 2424 - Shawn Stokes' },\n  { value: 'MasterCard', label: '**** **** **** 4545 - Cole Armstrong' },\n];\n\nexport default function CheckoutPayment() {\n  const { checkout } = useSelector((state) => state.product);\n  const dispatch = useDispatch();\n  const { total, discount, subtotal, shipping } = checkout;\n\n  const handleNextStep = () => {\n    dispatch(onNextStep());\n  };\n\n  const handleBackStep = () => {\n    dispatch(onBackStep());\n  };\n\n  const handleGotoStep = (step) => {\n    dispatch(onGotoStep(step));\n  };\n\n  const handleApplyShipping = (value) => {\n    dispatch(applyShipping(value));\n  };\n\n  const PaymentSchema = Yup.object().shape({\n    payment: Yup.mixed().required('Payment is required'),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      delivery: shipping,\n      payment: '',\n    },\n    validationSchema: PaymentSchema,\n    onSubmit: async (values, { setErrors, setSubmitting }) => {\n      try {\n        handleNextStep();\n      } catch (error) {\n        console.error(error);\n        setSubmitting(false);\n        setErrors(error.message);\n      }\n    },\n  });\n\n  const { isSubmitting, handleSubmit } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={8}>\n            <CheckoutDelivery\n              formik={formik}\n              onApplyShipping={handleApplyShipping}\n              deliveryOptions={DELIVERY_OPTIONS}\n            />\n            <CheckoutPaymentMethods formik={formik} cardOptions={CARDS_OPTIONS} paymentOptions={PAYMENT_OPTIONS} />\n            <Button\n              type=\"button\"\n              size=\"small\"\n              color=\"inherit\"\n              onClick={handleBackStep}\n              startIcon={<Iconify icon={'eva:arrow-ios-back-fill'} />}\n            >\n              Back\n            </Button>\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <CheckoutBillingInfo onBackStep={handleBackStep} />\n            <CheckoutSummary\n              enableEdit\n              total={total}\n              subtotal={subtotal}\n              discount={discount}\n              shipping={shipping}\n              onEdit={() => handleGotoStep(0)}\n            />\n            <LoadingButton fullWidth size=\"large\" type=\"submit\" variant=\"contained\" loading={isSubmitting}>\n              Complete Order\n            </LoadingButton>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}