{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useFormik}from'formik';import{useEffect,useState}from'react';import{filter,includes,orderBy}from'lodash';// @mui\nimport{Backdrop,Container,Typography,CircularProgress,Stack}from'@mui/material';// redux\nimport{useDispatch,useSelector}from'../../redux/store';import{getProducts,filterProducts}from'../../redux/slices/product';// routes\nimport{PATH_DASHBOARD}from'../../routes/paths';// hooks\nimport useSettings from'../../hooks/useSettings';// components\nimport Page from'../../components/Page';import HeaderBreadcrumbs from'../../components/HeaderBreadcrumbs';// sections\nimport{ShopTagFiltered,ShopProductSort,ShopProductList,ShopFilterSidebar,ShopProductSearch}from'../../sections/@dashboard/e-commerce/shop';import CartWidget from'../../sections/@dashboard/e-commerce/CartWidget';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EcommerceShop(){var _useSettings=useSettings(),themeStretch=_useSettings.themeStretch;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openFilter=_useState2[0],setOpenFilter=_useState2[1];var _useSelector=useSelector(function(state){return state.product;}),products=_useSelector.products,sortBy=_useSelector.sortBy,filters=_useSelector.filters;var filteredProducts=applyFilter(products,sortBy,filters);var formik=useFormik({initialValues:{gender:filters.gender,category:filters.category,colors:filters.colors,priceRange:filters.priceRange,rating:filters.rating},onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setSubmitting;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref.setSubmitting;_context.prev=1;_context.next=4;return new Promise(function(resolve){return setTimeout(resolve,500);});case 4:setSubmitting(false);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setSubmitting(false);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var values=formik.values,resetForm=formik.resetForm,handleSubmit=formik.handleSubmit,isSubmitting=formik.isSubmitting;var isDefault=!values.priceRange&&!values.rating&&values.gender.length===0&&values.colors.length===0&&values.category==='All';useEffect(function(){dispatch(getProducts());},[dispatch]);useEffect(function(){dispatch(filterProducts(values));},[dispatch,values]);var handleOpenFilter=function handleOpenFilter(){setOpenFilter(true);};var handleCloseFilter=function handleCloseFilter(){setOpenFilter(false);};var handleResetFilter=function handleResetFilter(){handleSubmit();resetForm();};return/*#__PURE__*/_jsxs(Page,{title:\"Ecommerce: Shop\",children:[values&&/*#__PURE__*/_jsx(Backdrop,{open:isSubmitting,sx:{zIndex:9999},children:/*#__PURE__*/_jsx(CircularProgress,{})}),/*#__PURE__*/_jsxs(Container,{maxWidth:themeStretch?false:'lg',children:[/*#__PURE__*/_jsx(HeaderBreadcrumbs,{heading:\"Shop\",links:[{name:'Dashboard',href:PATH_DASHBOARD.root},{name:'E-Commerce',href:PATH_DASHBOARD.classes.root},{name:'Shop'}]}),/*#__PURE__*/_jsxs(Stack,{spacing:2,direction:{xs:'column',sm:'row'},alignItems:{sm:'center'},justifyContent:\"space-between\",sx:{mb:2},children:[/*#__PURE__*/_jsx(ShopProductSearch,{}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,flexShrink:0,sx:{my:1},children:[/*#__PURE__*/_jsx(ShopFilterSidebar,{formik:formik,isOpenFilter:openFilter,onResetFilter:handleResetFilter,onOpenFilter:handleOpenFilter,onCloseFilter:handleCloseFilter}),/*#__PURE__*/_jsx(ShopProductSort,{})]})]}),/*#__PURE__*/_jsx(Stack,{sx:{mb:3},children:!isDefault&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[/*#__PURE__*/_jsx(\"strong\",{children:filteredProducts.length}),\"\\xA0Products found\"]}),/*#__PURE__*/_jsx(ShopTagFiltered,{filters:filters,formik:formik,isShowReset:openFilter,onResetFilter:handleResetFilter,isDefault:isDefault})]})}),/*#__PURE__*/_jsx(ShopProductList,{products:filteredProducts,isDefault:isDefault}),/*#__PURE__*/_jsx(CartWidget,{})]})]});}// ----------------------------------------------------------------------\nfunction applyFilter(products,sortBy,filters){// SORT BY\nif(sortBy==='featured'){products=orderBy(products,['sold'],['desc']);}if(sortBy==='newest'){products=orderBy(products,['createdAt'],['desc']);}if(sortBy==='priceDesc'){products=orderBy(products,['price'],['desc']);}if(sortBy==='priceAsc'){products=orderBy(products,['price'],['asc']);}// FILTER PRODUCTS\nif(filters.gender.length>0){products=filter(products,function(_product){return includes(filters.gender,_product.gender);});}if(filters.category!=='All'){products=filter(products,function(_product){return _product.category===filters.category;});}if(filters.colors.length>0){products=filter(products,function(_product){return _product.colors.some(function(color){return filters.colors.includes(color);});});}if(filters.priceRange){products=filter(products,function(_product){if(filters.priceRange==='below'){return _product.price<25;}if(filters.priceRange==='between'){return _product.price>=25&&_product.price<=75;}return _product.price>75;});}if(filters.rating){products=filter(products,function(_product){var convertRating=function convertRating(value){if(value==='up4Star')return 4;if(value==='up3Star')return 3;if(value==='up2Star')return 2;return 1;};return _product.totalRating>convertRating(filters.rating);});}return products;}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/pages/dashboard/EcommerceShop.js"],"names":["useFormik","useEffect","useState","filter","includes","orderBy","Backdrop","Container","Typography","CircularProgress","Stack","useDispatch","useSelector","getProducts","filterProducts","PATH_DASHBOARD","useSettings","Page","HeaderBreadcrumbs","ShopTagFiltered","ShopProductSort","ShopProductList","ShopFilterSidebar","ShopProductSearch","CartWidget","EcommerceShop","themeStretch","dispatch","openFilter","setOpenFilter","state","product","products","sortBy","filters","filteredProducts","applyFilter","formik","initialValues","gender","category","colors","priceRange","rating","onSubmit","values","setSubmitting","Promise","resolve","setTimeout","console","error","resetForm","handleSubmit","isSubmitting","isDefault","length","handleOpenFilter","handleCloseFilter","handleResetFilter","zIndex","name","href","root","classes","xs","sm","mb","my","_product","some","color","price","convertRating","value","totalRating"],"mappings":"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","sourcesContent":["import { useFormik } from 'formik';\nimport { useEffect, useState } from 'react';\nimport { filter, includes, orderBy } from 'lodash';\n// @mui\nimport { Backdrop, Container, Typography, CircularProgress, Stack } from '@mui/material';\n// redux\nimport { useDispatch, useSelector } from '../../redux/store';\nimport { getProducts, filterProducts } from '../../redux/slices/product';\n// routes\nimport { PATH_DASHBOARD } from '../../routes/paths';\n// hooks\nimport useSettings from '../../hooks/useSettings';\n// components\nimport Page from '../../components/Page';\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\n// sections\nimport {\n  ShopTagFiltered,\n  ShopProductSort,\n  ShopProductList,\n  ShopFilterSidebar,\n  ShopProductSearch,\n} from '../../sections/@dashboard/e-commerce/shop';\nimport CartWidget from '../../sections/@dashboard/e-commerce/CartWidget';\n\n// ----------------------------------------------------------------------\n\nexport default function EcommerceShop() {\n  const { themeStretch } = useSettings();\n  const dispatch = useDispatch();\n  const [openFilter, setOpenFilter] = useState(false);\n  const { products, sortBy, filters } = useSelector((state) => state.product);\n\n  const filteredProducts = applyFilter(products, sortBy, filters);\n\n  const formik = useFormik({\n    initialValues: {\n      gender: filters.gender,\n      category: filters.category,\n      colors: filters.colors,\n      priceRange: filters.priceRange,\n      rating: filters.rating,\n    },\n    onSubmit: async (values, { setSubmitting }) => {\n      try {\n        await new Promise((resolve) => setTimeout(resolve, 500));\n        setSubmitting(false);\n      } catch (error) {\n        console.error(error);\n        setSubmitting(false);\n      }\n    },\n  });\n\n  const { values, resetForm, handleSubmit, isSubmitting } = formik;\n\n  const isDefault =\n    !values.priceRange &&\n    !values.rating &&\n    values.gender.length === 0 &&\n    values.colors.length === 0 &&\n    values.category === 'All';\n\n  useEffect(() => {\n    dispatch(getProducts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(filterProducts(values));\n  }, [dispatch, values]);\n\n  const handleOpenFilter = () => {\n    setOpenFilter(true);\n  };\n\n  const handleCloseFilter = () => {\n    setOpenFilter(false);\n  };\n\n  const handleResetFilter = () => {\n    handleSubmit();\n    resetForm();\n  };\n\n  return (\n    <Page title=\"Ecommerce: Shop\">\n      {values && (\n        <Backdrop open={isSubmitting} sx={{ zIndex: 9999 }}>\n          <CircularProgress />\n        </Backdrop>\n      )}\n\n      <Container maxWidth={themeStretch ? false : 'lg'}>\n        <HeaderBreadcrumbs\n          heading=\"Shop\"\n          links={[\n            { name: 'Dashboard', href: PATH_DASHBOARD.root },\n            {\n              name: 'E-Commerce',\n              href: PATH_DASHBOARD.classes.root,\n            },\n            { name: 'Shop' },\n          ]}\n        />\n\n        <Stack\n          spacing={2}\n          direction={{ xs: 'column', sm: 'row' }}\n          alignItems={{ sm: 'center' }}\n          justifyContent=\"space-between\"\n          sx={{ mb: 2 }}\n        >\n          <ShopProductSearch />\n\n          <Stack direction=\"row\" spacing={1} flexShrink={0} sx={{ my: 1 }}>\n            <ShopFilterSidebar\n              formik={formik}\n              isOpenFilter={openFilter}\n              onResetFilter={handleResetFilter}\n              onOpenFilter={handleOpenFilter}\n              onCloseFilter={handleCloseFilter}\n            />\n            <ShopProductSort />\n          </Stack>\n        </Stack>\n\n        <Stack sx={{ mb: 3 }}>\n          {!isDefault && (\n            <>\n              <Typography variant=\"body2\" gutterBottom>\n                <strong>{filteredProducts.length}</strong>\n                &nbsp;Products found\n              </Typography>\n\n              <ShopTagFiltered\n                filters={filters}\n                formik={formik}\n                isShowReset={openFilter}\n                onResetFilter={handleResetFilter}\n                isDefault={isDefault}\n              />\n            </>\n          )}\n        </Stack>\n\n        <ShopProductList products={filteredProducts} isDefault={isDefault} />\n        <CartWidget />\n      </Container>\n    </Page>\n  );\n}\n\n// ----------------------------------------------------------------------\n\nfunction applyFilter(products, sortBy, filters) {\n  // SORT BY\n  if (sortBy === 'featured') {\n    products = orderBy(products, ['sold'], ['desc']);\n  }\n  if (sortBy === 'newest') {\n    products = orderBy(products, ['createdAt'], ['desc']);\n  }\n  if (sortBy === 'priceDesc') {\n    products = orderBy(products, ['price'], ['desc']);\n  }\n  if (sortBy === 'priceAsc') {\n    products = orderBy(products, ['price'], ['asc']);\n  }\n  // FILTER PRODUCTS\n  if (filters.gender.length > 0) {\n    products = filter(products, (_product) => includes(filters.gender, _product.gender));\n  }\n  if (filters.category !== 'All') {\n    products = filter(products, (_product) => _product.category === filters.category);\n  }\n  if (filters.colors.length > 0) {\n    products = filter(products, (_product) => _product.colors.some((color) => filters.colors.includes(color)));\n  }\n  if (filters.priceRange) {\n    products = filter(products, (_product) => {\n      if (filters.priceRange === 'below') {\n        return _product.price < 25;\n      }\n      if (filters.priceRange === 'between') {\n        return _product.price >= 25 && _product.price <= 75;\n      }\n      return _product.price > 75;\n    });\n  }\n  if (filters.rating) {\n    products = filter(products, (_product) => {\n      const convertRating = (value) => {\n        if (value === 'up4Star') return 4;\n        if (value === 'up3Star') return 3;\n        if (value === 'up2Star') return 2;\n        return 1;\n      };\n      return _product.totalRating > convertRating(filters.rating);\n    });\n  }\n  return products;\n}\n"]},"metadata":{},"sourceType":"module"}