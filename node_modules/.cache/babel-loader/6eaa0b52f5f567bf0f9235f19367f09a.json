{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import FullCalendar from'@fullcalendar/react';// => request placed at the top\nimport listPlugin from'@fullcalendar/list';import dayGridPlugin from'@fullcalendar/daygrid';import timeGridPlugin from'@fullcalendar/timegrid';import timelinePlugin from'@fullcalendar/timeline';import interactionPlugin from'@fullcalendar/interaction';// ------\nimport{useSnackbar}from'notistack';import{useState,useRef,useEffect}from'react';// @mui\nimport{Card,Button,Container,DialogTitle}from'@mui/material';// redux\nimport{useDispatch,useSelector}from'../../redux/store';import{getEvents,openModal,closeModal,updateEvent,selectEvent,selectRange}from'../../redux/slices/calendar';// routes\nimport{PATH_DASHBOARD}from'../../routes/paths';// hooks\nimport useSettings from'../../hooks/useSettings';import useResponsive from'../../hooks/useResponsive';// components\nimport Page from'../../components/Page';import Iconify from'../../components/Iconify';import{DialogAnimate}from'../../components/animate';import HeaderBreadcrumbs from'../../components/HeaderBreadcrumbs';// sections\nimport{CalendarForm,CalendarStyle,CalendarToolbar}from'../../sections/@dashboard/calendar';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var selectedEventSelector=function selectedEventSelector(state){var _state$calendar=state.calendar,events=_state$calendar.events,selectedEventId=_state$calendar.selectedEventId;if(selectedEventId){return events.find(function(_event){return _event.id===selectedEventId;});}return null;};export default function Calendar(){var _useSettings=useSettings(),themeStretch=_useSettings.themeStretch;var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var dispatch=useDispatch();var isDesktop=useResponsive('up','sm');var calendarRef=useRef(null);var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(isDesktop?'dayGridMonth':'listWeek'),_useState4=_slicedToArray(_useState3,2),view=_useState4[0],setView=_useState4[1];var selectedEvent=useSelector(selectedEventSelector);var _useSelector=useSelector(function(state){return state.calendar;}),events=_useSelector.events,isOpenModal=_useSelector.isOpenModal,selectedRange=_useSelector.selectedRange;useEffect(function(){dispatch(getEvents());},[dispatch]);useEffect(function(){var calendarEl=calendarRef.current;if(calendarEl){var calendarApi=calendarEl.getApi();var newView=isDesktop?'dayGridMonth':'listWeek';calendarApi.changeView(newView);setView(newView);}},[isDesktop]);var handleClickToday=function handleClickToday(){var calendarEl=calendarRef.current;if(calendarEl){var calendarApi=calendarEl.getApi();calendarApi.today();setDate(calendarApi.getDate());}};var handleChangeView=function handleChangeView(newView){var calendarEl=calendarRef.current;if(calendarEl){var calendarApi=calendarEl.getApi();calendarApi.changeView(newView);setView(newView);}};var handleClickDatePrev=function handleClickDatePrev(){var calendarEl=calendarRef.current;if(calendarEl){var calendarApi=calendarEl.getApi();calendarApi.prev();setDate(calendarApi.getDate());}};var handleClickDateNext=function handleClickDateNext(){var calendarEl=calendarRef.current;if(calendarEl){var calendarApi=calendarEl.getApi();calendarApi.next();setDate(calendarApi.getDate());}};var handleSelectRange=function handleSelectRange(arg){var calendarEl=calendarRef.current;if(calendarEl){var calendarApi=calendarEl.getApi();calendarApi.unselect();}dispatch(selectRange(arg.start,arg.end));};var handleSelectEvent=function handleSelectEvent(arg){dispatch(selectEvent(arg.event.id));};var handleResizeEvent=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var event;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event=_ref.event;try{dispatch(updateEvent(event.id,{allDay:event.allDay,start:event.start,end:event.end}));enqueueSnackbar('Update event success',{variant:'success'});}catch(error){console.error(error);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleResizeEvent(_x){return _ref2.apply(this,arguments);};}();var handleDropEvent=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3){var event;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event=_ref3.event;try{dispatch(updateEvent(event.id,{allDay:event.allDay,start:event.start,end:event.end}));enqueueSnackbar('Update event success',{variant:'success'});}catch(error){console.error(error);}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDropEvent(_x2){return _ref4.apply(this,arguments);};}();var handleAddEvent=function handleAddEvent(){dispatch(openModal());};var handleCloseModal=function handleCloseModal(){dispatch(closeModal());};return/*#__PURE__*/_jsx(Page,{title:\"Calendar\",children:/*#__PURE__*/_jsxs(Container,{maxWidth:themeStretch?false:'xl',children:[/*#__PURE__*/_jsx(HeaderBreadcrumbs,{heading:\"Calendar\",links:[{name:'Dashboard',href:PATH_DASHBOARD.root},{name:'Calendar'}],action:/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Iconify,{icon:'eva:plus-fill',width:20,height:20}),onClick:handleAddEvent,children:\"New Event\"})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CalendarStyle,{children:[/*#__PURE__*/_jsx(CalendarToolbar,{date:date,view:view,onNextDate:handleClickDateNext,onPrevDate:handleClickDatePrev,onToday:handleClickToday,onChangeView:handleChangeView}),/*#__PURE__*/_jsx(FullCalendar,{weekends:true,editable:true,droppable:true,selectable:true,events:events,ref:calendarRef,rerenderDelay:10,initialDate:date,initialView:view,dayMaxEventRows:3,eventDisplay:\"block\",headerToolbar:false,allDayMaintainDuration:true,eventResizableFromStart:true,select:handleSelectRange,eventDrop:handleDropEvent,eventClick:handleSelectEvent,eventResize:handleResizeEvent,height:isDesktop?720:'auto',plugins:[listPlugin,dayGridPlugin,timelinePlugin,timeGridPlugin,interactionPlugin]})]})}),/*#__PURE__*/_jsxs(DialogAnimate,{open:isOpenModal,onClose:handleCloseModal,children:[/*#__PURE__*/_jsx(DialogTitle,{children:selectedEvent?'Edit Event':'Add Event'}),/*#__PURE__*/_jsx(CalendarForm,{event:selectedEvent||{},range:selectedRange,onCancel:handleCloseModal})]})]})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/pages/dashboard/Calendar.js"],"names":["FullCalendar","listPlugin","dayGridPlugin","timeGridPlugin","timelinePlugin","interactionPlugin","useSnackbar","useState","useRef","useEffect","Card","Button","Container","DialogTitle","useDispatch","useSelector","getEvents","openModal","closeModal","updateEvent","selectEvent","selectRange","PATH_DASHBOARD","useSettings","useResponsive","Page","Iconify","DialogAnimate","HeaderBreadcrumbs","CalendarForm","CalendarStyle","CalendarToolbar","selectedEventSelector","state","calendar","events","selectedEventId","find","_event","id","Calendar","themeStretch","enqueueSnackbar","dispatch","isDesktop","calendarRef","Date","date","setDate","view","setView","selectedEvent","isOpenModal","selectedRange","calendarEl","current","calendarApi","getApi","newView","changeView","handleClickToday","today","getDate","handleChangeView","handleClickDatePrev","prev","handleClickDateNext","next","handleSelectRange","arg","unselect","start","end","handleSelectEvent","event","handleResizeEvent","allDay","variant","error","console","handleDropEvent","handleAddEvent","handleCloseModal","name","href","root"],"mappings":"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","sourcesContent":["import FullCalendar from '@fullcalendar/react'; // => request placed at the top\nimport listPlugin from '@fullcalendar/list';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport timelinePlugin from '@fullcalendar/timeline';\nimport interactionPlugin from '@fullcalendar/interaction';\n// ------\nimport { useSnackbar } from 'notistack';\nimport { useState, useRef, useEffect } from 'react';\n// @mui\nimport { Card, Button, Container, DialogTitle } from '@mui/material';\n// redux\nimport { useDispatch, useSelector } from '../../redux/store';\nimport { getEvents, openModal, closeModal, updateEvent, selectEvent, selectRange } from '../../redux/slices/calendar';\n// routes\nimport { PATH_DASHBOARD } from '../../routes/paths';\n// hooks\nimport useSettings from '../../hooks/useSettings';\nimport useResponsive from '../../hooks/useResponsive';\n// components\nimport Page from '../../components/Page';\nimport Iconify from '../../components/Iconify';\nimport { DialogAnimate } from '../../components/animate';\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\n// sections\nimport { CalendarForm, CalendarStyle, CalendarToolbar } from '../../sections/@dashboard/calendar';\n\n// ----------------------------------------------------------------------\n\nconst selectedEventSelector = (state) => {\n  const { events, selectedEventId } = state.calendar;\n  if (selectedEventId) {\n    return events.find((_event) => _event.id === selectedEventId);\n  }\n  return null;\n};\n\nexport default function Calendar() {\n  const { themeStretch } = useSettings();\n  const { enqueueSnackbar } = useSnackbar();\n  const dispatch = useDispatch();\n  const isDesktop = useResponsive('up', 'sm');\n\n  const calendarRef = useRef(null);\n  const [date, setDate] = useState(new Date());\n  const [view, setView] = useState(isDesktop ? 'dayGridMonth' : 'listWeek');\n  const selectedEvent = useSelector(selectedEventSelector);\n  const { events, isOpenModal, selectedRange } = useSelector((state) => state.calendar);\n\n  useEffect(() => {\n    dispatch(getEvents());\n  }, [dispatch]);\n\n  useEffect(() => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      const newView = isDesktop ? 'dayGridMonth' : 'listWeek';\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  }, [isDesktop]);\n\n  const handleClickToday = () => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      calendarApi.today();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleChangeView = (newView) => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      calendarApi.changeView(newView);\n      setView(newView);\n    }\n  };\n\n  const handleClickDatePrev = () => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      calendarApi.prev();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleClickDateNext = () => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      calendarApi.next();\n      setDate(calendarApi.getDate());\n    }\n  };\n\n  const handleSelectRange = (arg) => {\n    const calendarEl = calendarRef.current;\n    if (calendarEl) {\n      const calendarApi = calendarEl.getApi();\n      calendarApi.unselect();\n    }\n    dispatch(selectRange(arg.start, arg.end));\n  };\n\n  const handleSelectEvent = (arg) => {\n    dispatch(selectEvent(arg.event.id));\n  };\n\n  const handleResizeEvent = async ({ event }) => {\n    try {\n      dispatch(\n        updateEvent(event.id, {\n          allDay: event.allDay,\n          start: event.start,\n          end: event.end,\n        })\n      );\n      enqueueSnackbar('Update event success', { variant: 'success' });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDropEvent = async ({ event }) => {\n    try {\n      dispatch(\n        updateEvent(event.id, {\n          allDay: event.allDay,\n          start: event.start,\n          end: event.end,\n        })\n      );\n      enqueueSnackbar('Update event success', {\n        variant: 'success',\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleAddEvent = () => {\n    dispatch(openModal());\n  };\n\n  const handleCloseModal = () => {\n    dispatch(closeModal());\n  };\n\n  return (\n    <Page title=\"Calendar\">\n      <Container maxWidth={themeStretch ? false : 'xl'}>\n        <HeaderBreadcrumbs\n          heading=\"Calendar\"\n          links={[{ name: 'Dashboard', href: PATH_DASHBOARD.root }, { name: 'Calendar' }]}\n       \n          action={\n            <Button\n              variant=\"contained\"\n              startIcon={<Iconify icon={'eva:plus-fill'} width={20} height={20} />}\n              onClick={handleAddEvent}\n            >\n              New Event\n            </Button>\n          }\n        />\n\n        <Card>\n          <CalendarStyle>\n            <CalendarToolbar\n              date={date}\n              view={view}\n              onNextDate={handleClickDateNext}\n              onPrevDate={handleClickDatePrev}\n              onToday={handleClickToday}\n              onChangeView={handleChangeView}\n            />\n            <FullCalendar\n              weekends\n              editable\n              droppable\n              selectable\n              events={events}\n              ref={calendarRef}\n              rerenderDelay={10}\n              initialDate={date}\n              initialView={view}\n              dayMaxEventRows={3}\n              eventDisplay=\"block\"\n              headerToolbar={false}\n              allDayMaintainDuration\n              eventResizableFromStart\n              select={handleSelectRange}\n              eventDrop={handleDropEvent}\n              eventClick={handleSelectEvent}\n              eventResize={handleResizeEvent}\n              height={isDesktop ? 720 : 'auto'}\n              plugins={[listPlugin, dayGridPlugin, timelinePlugin, timeGridPlugin, interactionPlugin]}\n            />\n          </CalendarStyle>\n        </Card>\n\n        <DialogAnimate open={isOpenModal} onClose={handleCloseModal}>\n          <DialogTitle>{selectedEvent ? 'Edit Event' : 'Add Event'}</DialogTitle>\n          <CalendarForm event={selectedEvent || {}} range={selectedRange} onCancel={handleCloseModal} />\n        </DialogAnimate>\n      </Container>\n    </Page>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}