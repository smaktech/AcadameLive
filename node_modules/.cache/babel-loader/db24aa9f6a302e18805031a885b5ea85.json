{"ast":null,"code":"import _objectSpread from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{formatDistanceToNowStrict}from'date-fns';// @mui\nimport{styled}from'@mui/material/styles';import{Avatar,Box,Typography}from'@mui/material';// components\nimport Image from'../../../components/Image';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RootStyle=styled('div')(function(_ref){var theme=_ref.theme;return{display:'flex',marginBottom:theme.spacing(3)};});var ContentStyle=styled('div')(function(_ref2){var theme=_ref2.theme;return{maxWidth:320,padding:theme.spacing(1.5),marginTop:theme.spacing(0.5),borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.background.neutral};});var InfoStyle=styled(Typography)(function(_ref3){var theme=_ref3.theme;return{display:'flex',marginBottom:theme.spacing(0.75),color:theme.palette.text.secondary};});// ----------------------------------------------------------------------\nexport default function ChatMessageItem(_ref4){var message=_ref4.message,conversation=_ref4.conversation,onOpenLightbox=_ref4.onOpenLightbox;var sender=conversation.participants.find(function(participant){return participant.id===message.senderId;});var senderDetails=message.senderId==='8864c717-587d-472a-929a-8e5f298024da-0'?{type:'me'}:{avatar:sender===null||sender===void 0?void 0:sender.avatar,name:sender===null||sender===void 0?void 0:sender.name};var isMe=senderDetails.type==='me';var isImage=message.contentType==='image';var firstName=senderDetails.name&&senderDetails.name.split(' ')[0];return/*#__PURE__*/_jsx(RootStyle,{children:/*#__PURE__*/_jsxs(Box,{sx:_objectSpread({display:'flex'},isMe&&{ml:'auto'}),children:[senderDetails.type!=='me'&&/*#__PURE__*/_jsx(Avatar,{alt:senderDetails.name,src:senderDetails.avatar,sx:{width:32,height:32,mr:2}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(InfoStyle,{variant:\"caption\",sx:_objectSpread({},isMe&&{justifyContent:'flex-end'}),children:[!isMe&&\"\".concat(firstName,\",\"),\"\\xA0\",formatDistanceToNowStrict(new Date(message.createdAt),{addSuffix:true})]}),/*#__PURE__*/_jsx(ContentStyle,{sx:_objectSpread(_objectSpread({},isMe&&{color:'grey.800',bgcolor:'primary.lighter'}),isImage&&{p:0}),children:isImage?/*#__PURE__*/_jsx(Image,{alt:\"attachment\",src:message.body,onClick:function onClick(){return onOpenLightbox(message.body);},sx:{borderRadius:1,cursor:'pointer','&:hover':{opacity:0.8}}}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:message.body})})]})]})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/chat/ChatMessageItem.js"],"names":["formatDistanceToNowStrict","styled","Avatar","Box","Typography","Image","RootStyle","theme","display","marginBottom","spacing","ContentStyle","maxWidth","padding","marginTop","borderRadius","shape","backgroundColor","palette","background","neutral","InfoStyle","color","text","secondary","ChatMessageItem","message","conversation","onOpenLightbox","sender","participants","find","participant","id","senderId","senderDetails","type","avatar","name","isMe","isImage","contentType","firstName","split","ml","width","height","mr","justifyContent","Date","createdAt","addSuffix","bgcolor","p","body","cursor","opacity"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Avatar, Box, Typography } from '@mui/material';\n// components\nimport Image from '../../../components/Image';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(3),\n}));\n\nconst ContentStyle = styled('div')(({ theme }) => ({\n  maxWidth: 320,\n  padding: theme.spacing(1.5),\n  marginTop: theme.spacing(0.5),\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.background.neutral,\n}));\n\nconst InfoStyle = styled(Typography)(({ theme }) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(0.75),\n  color: theme.palette.text.secondary,\n}));\n\n// ----------------------------------------------------------------------\n\nChatMessageItem.propTypes = {\n  message: PropTypes.object.isRequired,\n  conversation: PropTypes.object.isRequired,\n  onOpenLightbox: PropTypes.func,\n};\n\nexport default function ChatMessageItem({ message, conversation, onOpenLightbox }) {\n  const sender = conversation.participants.find((participant) => participant.id === message.senderId);\n  const senderDetails =\n    message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0'\n      ? { type: 'me' }\n      : { avatar: sender?.avatar, name: sender?.name };\n\n  const isMe = senderDetails.type === 'me';\n  const isImage = message.contentType === 'image';\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\n\n  return (\n    <RootStyle>\n      <Box\n        sx={{\n          display: 'flex',\n          ...(isMe && {\n            ml: 'auto',\n          }),\n        }}\n      >\n        {senderDetails.type !== 'me' && (\n          <Avatar alt={senderDetails.name} src={senderDetails.avatar} sx={{ width: 32, height: 32, mr: 2 }} />\n        )}\n\n        <div>\n          <InfoStyle\n            variant=\"caption\"\n            sx={{\n              ...(isMe && { justifyContent: 'flex-end' }),\n            }}\n          >\n            {!isMe && `${firstName},`}&nbsp;\n            {formatDistanceToNowStrict(new Date(message.createdAt), {\n              addSuffix: true,\n            })}\n          </InfoStyle>\n\n          <ContentStyle\n            sx={{\n              ...(isMe && { color: 'grey.800', bgcolor: 'primary.lighter' }),\n              ...(isImage && { p: 0 }),\n            }}\n          >\n            {isImage ? (\n              <Image\n                alt=\"attachment\"\n                src={message.body}\n                onClick={() => onOpenLightbox(message.body)}\n                sx={{ borderRadius: 1, cursor: 'pointer', '&:hover': { opacity: 0.8 } }}\n              />\n            ) : (\n              <Typography variant=\"body2\">{message.body}</Typography>\n            )}\n          </ContentStyle>\n        </div>\n      </Box>\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}