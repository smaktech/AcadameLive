{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{apiUrl}from'../../config';import{objToQueryString}from'../../config';//Fetch all subject data using offset and limit!\nfunction getAllSubjects(_x,_x2){return _getAllSubjects.apply(this,arguments);}//api to change the status of the user\nfunction _getAllSubjects(){_getAllSubjects=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page,limit){var queryString,apiLink,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:queryString=objToQueryString({page:page,limit:limit});if(queryString==null)apiLink=apiUrl+'/subjest/filterSubject';else apiLink=apiUrl+'/subject/filterSubject?'+queryString;_context.next=4;return fetch(apiLink,{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 4:data=_context.sent;return _context.abrupt(\"return\",data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getAllSubjects.apply(this,arguments);}function editSubject(_x3,_x4,_x5,_x6){return _editSubject.apply(this,arguments);}//api function for adding a subject \n// async function createSubject(name, status) {\n//   var details = {\n//     \"name\": name,\n//     \"status\": status\n//   };\n//   var formBody = [];\n//   for (var property in details) {\n//     var encodedKey = encodeURIComponent(property);\n//     var encodedValue = encodeURIComponent(details[property]);\n//     formBody.push(encodedKey + \"=\" + encodedValue);\n//   }\n//   formBody = formBody.join(\"&\");\n//   const data = await fetch(apiUrl + '/subject/createSubject', {\n//     method: 'POST',\n//     headers: {\n//       // Accept: 'application/json',\n//       'Content-Type': 'application/x-www-form-urlencoded',\n//     },\n//     body: formBody,\n//   }).then((res) => res.json());\n//   return data;\n// }\nfunction _editSubject(){_editSubject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(subjectID,name,status,subjectIcon){var formData,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// var details = {\n//   \"name\": name,\n//   \"status\": status\n// };\n// var formBody = [];\n// for (var property in details) {\n//   var encodedKey = encodeURIComponent(property);\n//   var encodedValue = encodeURIComponent(details[property]);\n//   formBody.push(encodedKey + \"=\" + encodedValue);\n// }\n// formBody = formBody.join(\"&\");\nformData=new FormData();formData.append('name',name);formData.append('image',subjectIcon);formData.append('status',status);_context2.next=6;return fetch(apiUrl+'/subject/editSubject/'+subjectID,{method:'PATCH',headers:{// Accept: 'application/json',\n// 'Content-Type': 'application/x-www-form-urlencoded',\n},body:formBody}).then(function(res){return res.json();});case 6:data=_context2.sent;return _context2.abrupt(\"return\",data);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _editSubject.apply(this,arguments);}function createSubject(_x7,_x8,_x9){return _createSubject.apply(this,arguments);}//api to delete the user from the database\nfunction _createSubject(){_createSubject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,status,icon){var headers,formData,_iterator,_step,pair,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(name,status,icon);headers=new Headers();headers.append('Access-Control-Allow-Origin',apiUrl);headers.append('Access-Control-Allow-Credentials','true');headers.append('GET','POST','OPTIONS');formData=new FormData();formData.append('name',name);formData.append('image',icon);formData.append('status',status);_iterator=_createForOfIteratorHelper(formData.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){pair=_step.value;console.log(pair[0]+', '+pair[1]);}}catch(err){_iterator.e(err);}finally{_iterator.f();}_context3.next=13;return fetch(\"\".concat(apiUrl,\"/subject/createSubject\"),{method:'POST',headers:headers,body:formData});case 13:data=_context3.sent;console.log(data);return _context3.abrupt(\"return\",data);case 16:case\"end\":return _context3.stop();}}},_callee3);}));return _createSubject.apply(this,arguments);}function deleteSubject(_x10){return _deleteSubject.apply(this,arguments);}//api to get the details of a particular user by sending the userId\nfunction _deleteSubject(){_deleteSubject=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(subjectId){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(apiUrl+'/subject/deleteSubjectById/'+subjectId,{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 2:data=_context4.sent;return _context4.abrupt(\"return\",data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _deleteSubject.apply(this,arguments);}function getSubjectById(_x11){return _getSubjectById.apply(this,arguments);}function _getSubjectById(){_getSubjectById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(subjectId){var data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(apiUrl+'/subject/getSubjectById/'+subjectId,{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 2:data=_context5.sent;return _context5.abrupt(\"return\",data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _getSubjectById.apply(this,arguments);}function getSubjectByFilter(_x12,_x13,_x14,_x15,_x16,_x17,_x18){return _getSubjectByFilter.apply(this,arguments);}function _getSubjectByFilter(){_getSubjectByFilter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(searchString,status,startDate,endDate,page,limit,sortByDate){var queryString,apiLink,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:queryString=objToQueryString({searchString:searchString,status:status,startDate:startDate,endDate:endDate,page:page,limit:limit,sortByDate:sortByDate});if(queryString==null)apiLink=apiUrl+'/subject/filterSubject';else apiLink=apiUrl+'/subject/filterSubject?'+queryString;_context6.next=4;return fetch(apiLink,{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 4:data=_context6.sent;return _context6.abrupt(\"return\",data);case 6:case\"end\":return _context6.stop();}}},_callee6);}));return _getSubjectByFilter.apply(this,arguments);}export{getAllSubjects,editSubject,deleteSubject,getSubjectById,createSubject,getSubjectByFilter};","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/api/Subject/Subject.js"],"names":["apiUrl","objToQueryString","getAllSubjects","page","limit","queryString","apiLink","fetch","method","headers","Accept","then","res","json","data","editSubject","subjectID","name","status","subjectIcon","formData","FormData","append","body","formBody","createSubject","icon","console","log","Headers","entries","pair","deleteSubject","subjectId","getSubjectById","getSubjectByFilter","searchString","startDate","endDate","sortByDate"],"mappings":"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","sourcesContent":["import { apiUrl } from '../../config';\nimport { objToQueryString } from '../../config'\n\n//Fetch all subject data using offset and limit!\nasync function getAllSubjects(page, limit) {\n  const queryString = objToQueryString({\n    page: page,\n    limit: limit,\n  })\n  var apiLink;\n  if (queryString == null)\n    apiLink = apiUrl + '/subjest/filterSubject'\n  else\n    apiLink = apiUrl + '/subject/filterSubject?' + queryString\n  const data = await fetch(apiLink, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n\n//api to change the status of the user\n\nasync function editSubject(subjectID, name, status,subjectIcon) {\n  // var details = {\n  //   \"name\": name,\n  //   \"status\": status\n  // };\n\n  // var formBody = [];\n  // for (var property in details) {\n  //   var encodedKey = encodeURIComponent(property);\n  //   var encodedValue = encodeURIComponent(details[property]);\n  //   formBody.push(encodedKey + \"=\" + encodedValue);\n  // }\n  // formBody = formBody.join(\"&\");\n  const formData = new FormData()\n  formData.append('name', name)\n  formData.append('image', subjectIcon)\n  formData.append('status', status)\n  const data = await fetch(apiUrl + '/subject/editSubject/' + subjectID, {\n    method: 'PATCH',\n    headers: {\n      // Accept: 'application/json',\n      // 'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: formBody,\n  }).then((res) => res.json());\n  return data;\n\n}\n\n//api function for adding a subject \n// async function createSubject(name, status) {\n//   var details = {\n//     \"name\": name,\n//     \"status\": status\n//   };\n\n//   var formBody = [];\n//   for (var property in details) {\n//     var encodedKey = encodeURIComponent(property);\n//     var encodedValue = encodeURIComponent(details[property]);\n//     formBody.push(encodedKey + \"=\" + encodedValue);\n//   }\n//   formBody = formBody.join(\"&\");\n//   const data = await fetch(apiUrl + '/subject/createSubject', {\n//     method: 'POST',\n//     headers: {\n//       // Accept: 'application/json',\n//       'Content-Type': 'application/x-www-form-urlencoded',\n//     },\n//     body: formBody,\n//   }).then((res) => res.json());\n//   return data;\n// }\n\nasync function createSubject(name, status, icon) {\n  console.log(name, status, icon)\n\n  let headers = new Headers();\n  headers.append('Access-Control-Allow-Origin', apiUrl);\n  headers.append('Access-Control-Allow-Credentials', 'true');\n  headers.append('GET', 'POST', 'OPTIONS');\n\n  const formData = new FormData()\n  formData.append('name', name)\n  formData.append('image', icon)\n  formData.append('status', status)\n\n  for (var pair of formData.entries()) {\n    console.log(pair[0] + ', ' + pair[1]);\n  }\n\n  const data = await fetch(`${apiUrl}/subject/createSubject`, {\n    method: 'POST',\n    headers,\n    body: formData\n  })\n  console.log(data)\n  return data;\n}\n\n//api to delete the user from the database\nasync function deleteSubject(subjectId) {\n  const data = await fetch(apiUrl + '/subject/deleteSubjectById/' + subjectId, {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n//api to get the details of a particular user by sending the userId\nasync function getSubjectById(subjectId) {\n  const data = await fetch(apiUrl + '/subject/getSubjectById/' + subjectId, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n\nasync function getSubjectByFilter(searchString, status, startDate, endDate, page, limit, sortByDate) {\n  const queryString = objToQueryString({\n    searchString: searchString,\n    status: status,\n    startDate: startDate,\n    endDate: endDate,\n    page: page,\n    limit: limit,\n    sortByDate: sortByDate\n  })\n  var apiLink;\n  if (queryString == null)\n    apiLink = apiUrl + '/subject/filterSubject'\n  else\n    apiLink = apiUrl + '/subject/filterSubject?' + queryString\n  const data = await fetch(apiLink, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n\n}\n\nexport { getAllSubjects, editSubject, deleteSubject, getSubjectById, createSubject, getSubjectByFilter }"]},"metadata":{},"sourceType":"module"}