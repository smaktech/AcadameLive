{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Cdss apps\\\\Final version\\\\admin\\\\src\\\\sections\\\\@dashboard\\\\chat\\\\ChatMessageItem.js\";\nimport PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns'; // @mui\n\nimport { styled } from '@mui/material/styles';\nimport { Avatar, Box, Typography } from '@mui/material'; // components\n\nimport Image from '../../../components/Image'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    display: 'flex',\n    marginBottom: theme.spacing(3)\n  };\n});\nconst ContentStyle = styled('div')(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    maxWidth: 320,\n    padding: theme.spacing(1.5),\n    marginTop: theme.spacing(0.5),\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: theme.palette.background.neutral\n  };\n});\nconst InfoStyle = styled(Typography)(_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return {\n    display: 'flex',\n    marginBottom: theme.spacing(0.75),\n    color: theme.palette.text.secondary\n  };\n}); // ----------------------------------------------------------------------\n\nChatMessageItem.propTypes = {\n  message: PropTypes.object.isRequired,\n  conversation: PropTypes.object.isRequired,\n  onOpenLightbox: PropTypes.func\n};\nexport default function ChatMessageItem(_ref4) {\n  let {\n    message,\n    conversation,\n    onOpenLightbox\n  } = _ref4;\n  const sender = conversation.participants.find(participant => participant.id === message.senderId);\n  const senderDetails = message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0' ? {\n    type: 'me'\n  } : {\n    avatar: sender === null || sender === void 0 ? void 0 : sender.avatar,\n    name: sender === null || sender === void 0 ? void 0 : sender.name\n  };\n  const isMe = senderDetails.type === 'me';\n  const isImage = message.contentType === 'image';\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\n  return /*#__PURE__*/_jsxDEV(RootStyle, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        ...(isMe && {\n          ml: 'auto'\n        })\n      },\n      children: [senderDetails.type !== 'me' && /*#__PURE__*/_jsxDEV(Avatar, {\n        alt: senderDetails.name,\n        src: senderDetails.avatar,\n        sx: {\n          width: 32,\n          height: 32,\n          mr: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(InfoStyle, {\n          variant: \"caption\",\n          sx: { ...(isMe && {\n              justifyContent: 'flex-end'\n            })\n          },\n          children: [!isMe && `${firstName},`, \"\\xA0\", formatDistanceToNowStrict(new Date(message.createdAt), {\n            addSuffix: true\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContentStyle, {\n          sx: { ...(isMe && {\n              color: 'grey.800',\n              bgcolor: 'primary.lighter'\n            }),\n            ...(isImage && {\n              p: 0\n            })\n          },\n          children: isImage ? /*#__PURE__*/_jsxDEV(Image, {\n            alt: \"attachment\",\n            src: message.body,\n            onClick: () => onOpenLightbox(message.body),\n            sx: {\n              borderRadius: 1,\n              cursor: 'pointer',\n              '&:hover': {\n                opacity: 0.8\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: message.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_c = ChatMessageItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatMessageItem\");","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/chat/ChatMessageItem.js"],"names":["PropTypes","formatDistanceToNowStrict","styled","Avatar","Box","Typography","Image","RootStyle","theme","display","marginBottom","spacing","ContentStyle","maxWidth","padding","marginTop","borderRadius","shape","backgroundColor","palette","background","neutral","InfoStyle","color","text","secondary","ChatMessageItem","propTypes","message","object","isRequired","conversation","onOpenLightbox","func","sender","participants","find","participant","id","senderId","senderDetails","type","avatar","name","isMe","isImage","contentType","firstName","split","ml","width","height","mr","justifyContent","Date","createdAt","addSuffix","bgcolor","p","body","cursor","opacity"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Avatar, Box, Typography } from '@mui/material';\n// components\nimport Image from '../../../components/Image';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(3),\n}));\n\nconst ContentStyle = styled('div')(({ theme }) => ({\n  maxWidth: 320,\n  padding: theme.spacing(1.5),\n  marginTop: theme.spacing(0.5),\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.background.neutral,\n}));\n\nconst InfoStyle = styled(Typography)(({ theme }) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(0.75),\n  color: theme.palette.text.secondary,\n}));\n\n// ----------------------------------------------------------------------\n\nChatMessageItem.propTypes = {\n  message: PropTypes.object.isRequired,\n  conversation: PropTypes.object.isRequired,\n  onOpenLightbox: PropTypes.func,\n};\n\nexport default function ChatMessageItem({ message, conversation, onOpenLightbox }) {\n  const sender = conversation.participants.find((participant) => participant.id === message.senderId);\n  const senderDetails =\n    message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0'\n      ? { type: 'me' }\n      : { avatar: sender?.avatar, name: sender?.name };\n\n  const isMe = senderDetails.type === 'me';\n  const isImage = message.contentType === 'image';\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\n\n  return (\n    <RootStyle>\n      <Box\n        sx={{\n          display: 'flex',\n          ...(isMe && {\n            ml: 'auto',\n          }),\n        }}\n      >\n        {senderDetails.type !== 'me' && (\n          <Avatar alt={senderDetails.name} src={senderDetails.avatar} sx={{ width: 32, height: 32, mr: 2 }} />\n        )}\n\n        <div>\n          <InfoStyle\n            variant=\"caption\"\n            sx={{\n              ...(isMe && { justifyContent: 'flex-end' }),\n            }}\n          >\n            {!isMe && `${firstName},`}&nbsp;\n            {formatDistanceToNowStrict(new Date(message.createdAt), {\n              addSuffix: true,\n            })}\n          </InfoStyle>\n\n          <ContentStyle\n            sx={{\n              ...(isMe && { color: 'grey.800', bgcolor: 'primary.lighter' }),\n              ...(isImage && { p: 0 }),\n            }}\n          >\n            {isImage ? (\n              <Image\n                alt=\"attachment\"\n                src={message.body}\n                onClick={() => onOpenLightbox(message.body)}\n                sx={{ borderRadius: 1, cursor: 'pointer', '&:hover': { opacity: 0.8 } }}\n              />\n            ) : (\n              <Typography variant=\"body2\">{message.body}</Typography>\n            )}\n          </ContentStyle>\n        </div>\n      </Box>\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}