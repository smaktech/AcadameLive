{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useState,useRef}from'react';// @mui\nimport{MobileDateRangePicker}from'@mui/lab';import{styled}from'@mui/material/styles';import{Box,Stack,Drawer,Button,Avatar,Tooltip,Divider,MenuItem,TextField,Typography,OutlinedInput}from'@mui/material';// hooks\nimport useResponsive from'../../../hooks/useResponsive';// components\nimport Iconify from'../../../components/Iconify';import Scrollbar from'../../../components/Scrollbar';import{IconButtonAnimate}from'../../../components/animate';//\nimport KanbanTaskCommentList from'./KanbanTaskCommentList';import KanbanTaskAttachments from'./KanbanTaskAttachments';import KanbanTaskCommentInput from'./KanbanTaskCommentInput';import{useDatePicker,DisplayTime}from'./KanbanTaskAdd';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PRIORITIZES=['low','medium','hight'];var LabelStyle=styled(Typography)(function(_ref){var theme=_ref.theme;return _objectSpread(_objectSpread({},theme.typography.body2),{},{width:140,fontSize:13,flexShrink:0,color:theme.palette.text.secondary});});// ----------------------------------------------------------------------\nexport default function KanbanTaskDetails(_ref2){var card=_ref2.card,isOpen=_ref2.isOpen,onClose=_ref2.onClose,onDeleteTask=_ref2.onDeleteTask;var isDesktop=useResponsive('up','sm');var fileInputRef=useRef(null);var _useState=useState(card.completed),_useState2=_slicedToArray(_useState,2),taskCompleted=_useState2[0],setTaskCompleted=_useState2[1];var _useState3=useState('low'),_useState4=_slicedToArray(_useState3,2),prioritize=_useState4[0],setPrioritize=_useState4[1];var name=card.name,description=card.description,due=card.due,assignee=card.assignee,attachments=card.attachments,comments=card.comments;var _useDatePicker=useDatePicker({date:due}),dueDate=_useDatePicker.dueDate,startTime=_useDatePicker.startTime,endTime=_useDatePicker.endTime,isSameDays=_useDatePicker.isSameDays,isSameMonths=_useDatePicker.isSameMonths,onChangeDueDate=_useDatePicker.onChangeDueDate,openPicker=_useDatePicker.openPicker,onOpenPicker=_useDatePicker.onOpenPicker,onClosePicker=_useDatePicker.onClosePicker;var handleAttach=function handleAttach(){var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};var handleToggleCompleted=function handleToggleCompleted(){setTaskCompleted(function(prev){return!prev;});};var handleChangePrioritize=function handleChangePrioritize(event){setPrioritize(event.target.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Drawer,{open:isOpen,onClose:onClose,anchor:\"right\",PaperProps:{sx:{width:{xs:1,sm:480}}},children:[/*#__PURE__*/_jsxs(Stack,{p:2.5,direction:\"row\",alignItems:\"center\",children:[!isDesktop&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Tooltip,{title:\"Back\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{onClick:onClose,sx:{mr:1},children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:arrow-ios-back-fill',width:20,height:20})})})}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",color:taskCompleted?'primary':'inherit',startIcon:!taskCompleted&&/*#__PURE__*/_jsx(Iconify,{icon:'eva:checkmark-fill',width:16,height:16}),onClick:handleToggleCompleted,children:taskCompleted?'Complete':'Mark complete'}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,justifyContent:\"flex-end\",flexGrow:1,children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Like this\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{size:\"small\",children:/*#__PURE__*/_jsx(Iconify,{icon:'ic:round-thumb-up',width:20,height:20})})}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Attachment\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{size:\"small\",onClick:handleAttach,children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:attach-2-fill',width:20,height:20})})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",style:{display:'none'}})]}),/*#__PURE__*/_jsx(Tooltip,{title:\"Delete task\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{onClick:onDeleteTask,size:\"small\",children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:trash-2-outline',width:20,height:20})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"More actions\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{size:\"small\",children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:more-horizontal-fill',width:20,height:20})})})]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Scrollbar,{children:[/*#__PURE__*/_jsxs(Stack,{spacing:3,sx:{px:2.5,py:3},children:[/*#__PURE__*/_jsx(OutlinedInput,{fullWidth:true,multiline:true,size:\"small\",placeholder:\"Task name\",value:name,sx:{typography:'h6','& .MuiOutlinedInput-notchedOutline':{borderColor:'transparent'}}}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",children:[/*#__PURE__*/_jsx(LabelStyle,{sx:{mt:1.5},children:\"Assignee\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",flexWrap:\"wrap\",alignItems:\"center\",children:[assignee.map(function(user){return/*#__PURE__*/_jsx(Avatar,{alt:user.name,src:user.avatar,sx:{m:0.5,width:36,height:36}},user.id);}),/*#__PURE__*/_jsx(Tooltip,{title:\"Add assignee\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{sx:{p:1,ml:0.5,border:function border(theme){return\"dashed 1px \".concat(theme.palette.divider);}},children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:plus-fill',width:20,height:20})})})]})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(LabelStyle,{children:\" Due date\"}),/*#__PURE__*/_jsxs(_Fragment,{children:[startTime&&endTime?/*#__PURE__*/_jsx(DisplayTime,{startTime:startTime,endTime:endTime,isSameDays:isSameDays,isSameMonths:isSameMonths,onOpenPicker:onOpenPicker,sx:{typography:'body2'}}):/*#__PURE__*/_jsx(Tooltip,{title:\"Add assignee\",children:/*#__PURE__*/_jsx(IconButtonAnimate,{onClick:onOpenPicker,sx:{p:1,ml:0.5,border:function border(theme){return\"dashed 1px \".concat(theme.palette.divider);}},children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:plus-fill',width:20,height:20})})}),/*#__PURE__*/_jsx(MobileDateRangePicker,{open:openPicker,onClose:onClosePicker,onOpen:onOpenPicker,value:dueDate,onChange:onChangeDueDate,renderInput:function renderInput(){}})]})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(LabelStyle,{children:\"Prioritize\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,select:true,size:\"small\",value:prioritize,onChange:handleChangePrioritize,sx:{'& svg':{display:'none'},'& fieldset':{display:'none'},'& .MuiSelect-select':{p:0,display:'flex',alignItems:'center'}},children:PRIORITIZES.map(function(option){return/*#__PURE__*/_jsxs(MenuItem,{value:option,sx:{mx:1,my:0.5,borderRadius:1},children:[/*#__PURE__*/_jsx(Box,{sx:_objectSpread(_objectSpread({mr:1,width:14,height:14,borderRadius:0.5,bgcolor:'error.main'},option==='low'&&{bgcolor:'info.main'}),option==='medium'&&{bgcolor:'warning.main'})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{textTransform:'capitalize'},children:option})]},option);})})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",children:[/*#__PURE__*/_jsx(LabelStyle,{sx:{mt:2},children:\"Description\"}),/*#__PURE__*/_jsx(OutlinedInput,{fullWidth:true,multiline:true,rows:3,size:\"small\",placeholder:\"Task name\",value:description,sx:{typography:'body2'}})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",children:[/*#__PURE__*/_jsx(LabelStyle,{sx:{mt:2},children:\"Attachments\"}),/*#__PURE__*/_jsx(Stack,{direction:\"row\",flexWrap:\"wrap\",children:/*#__PURE__*/_jsx(KanbanTaskAttachments,{attachments:attachments})})]})]}),comments.length>0&&/*#__PURE__*/_jsx(KanbanTaskCommentList,{comments:comments})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(KanbanTaskCommentInput,{})]})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/kanban/KanbanTaskDetails.js"],"names":["useState","useRef","MobileDateRangePicker","styled","Box","Stack","Drawer","Button","Avatar","Tooltip","Divider","MenuItem","TextField","Typography","OutlinedInput","useResponsive","Iconify","Scrollbar","IconButtonAnimate","KanbanTaskCommentList","KanbanTaskAttachments","KanbanTaskCommentInput","useDatePicker","DisplayTime","PRIORITIZES","LabelStyle","theme","typography","body2","width","fontSize","flexShrink","color","palette","text","secondary","KanbanTaskDetails","card","isOpen","onClose","onDeleteTask","isDesktop","fileInputRef","completed","taskCompleted","setTaskCompleted","prioritize","setPrioritize","name","description","due","assignee","attachments","comments","date","dueDate","startTime","endTime","isSameDays","isSameMonths","onChangeDueDate","openPicker","onOpenPicker","onClosePicker","handleAttach","current","click","handleToggleCompleted","prev","handleChangePrioritize","event","target","value","sx","xs","sm","mr","display","px","py","borderColor","mt","map","user","avatar","m","height","id","p","ml","border","divider","alignItems","option","mx","my","borderRadius","bgcolor","textTransform","length"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { useState, useRef } from 'react';\n// @mui\nimport { MobileDateRangePicker } from '@mui/lab';\nimport { styled } from '@mui/material/styles';\nimport {\n  Box,\n  Stack,\n  Drawer,\n  Button,\n  Avatar,\n  Tooltip,\n  Divider,\n  MenuItem,\n  TextField,\n  Typography,\n  OutlinedInput,\n} from '@mui/material';\n// hooks\nimport useResponsive from '../../../hooks/useResponsive';\n// components\nimport Iconify from '../../../components/Iconify';\nimport Scrollbar from '../../../components/Scrollbar';\nimport { IconButtonAnimate } from '../../../components/animate';\n//\nimport KanbanTaskCommentList from './KanbanTaskCommentList';\nimport KanbanTaskAttachments from './KanbanTaskAttachments';\nimport KanbanTaskCommentInput from './KanbanTaskCommentInput';\nimport { useDatePicker, DisplayTime } from './KanbanTaskAdd';\n\n// ----------------------------------------------------------------------\n\nconst PRIORITIZES = ['low', 'medium', 'hight'];\n\nconst LabelStyle = styled(Typography)(({ theme }) => ({\n  ...theme.typography.body2,\n  width: 140,\n  fontSize: 13,\n  flexShrink: 0,\n  color: theme.palette.text.secondary,\n}));\n\n// ----------------------------------------------------------------------\n\nKanbanTaskDetails.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  card: PropTypes.object,\n  onDeleteTask: PropTypes.func,\n};\n\nexport default function KanbanTaskDetails({ card, isOpen, onClose, onDeleteTask }) {\n  const isDesktop = useResponsive('up', 'sm');\n\n  const fileInputRef = useRef(null);\n  const [taskCompleted, setTaskCompleted] = useState(card.completed);\n  const [prioritize, setPrioritize] = useState('low');\n\n  const { name, description, due, assignee, attachments, comments } = card;\n\n  const {\n    dueDate,\n    startTime,\n    endTime,\n    isSameDays,\n    isSameMonths,\n    onChangeDueDate,\n    openPicker,\n    onOpenPicker,\n    onClosePicker,\n  } = useDatePicker({\n    date: due,\n  });\n\n  const handleAttach = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleToggleCompleted = () => {\n    setTaskCompleted((prev) => !prev);\n  };\n\n  const handleChangePrioritize = (event) => {\n    setPrioritize(event.target.value);\n  };\n\n  return (\n    <>\n      <Drawer open={isOpen} onClose={onClose} anchor=\"right\" PaperProps={{ sx: { width: { xs: 1, sm: 480 } } }}>\n        <Stack p={2.5} direction=\"row\" alignItems=\"center\">\n          {!isDesktop && (\n            <>\n              <Tooltip title=\"Back\">\n                <IconButtonAnimate onClick={onClose} sx={{ mr: 1 }}>\n                  <Iconify icon={'eva:arrow-ios-back-fill'} width={20} height={20} />\n                </IconButtonAnimate>\n              </Tooltip>\n            </>\n          )}\n\n          <Button\n            size=\"small\"\n            variant=\"outlined\"\n            color={taskCompleted ? 'primary' : 'inherit'}\n            startIcon={!taskCompleted && <Iconify icon={'eva:checkmark-fill'} width={16} height={16} />}\n            onClick={handleToggleCompleted}\n          >\n            {taskCompleted ? 'Complete' : 'Mark complete'}\n          </Button>\n\n          <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\" flexGrow={1}>\n            <Tooltip title=\"Like this\">\n              <IconButtonAnimate size=\"small\">\n                <Iconify icon={'ic:round-thumb-up'} width={20} height={20} />\n              </IconButtonAnimate>\n            </Tooltip>\n\n            <>\n              <Tooltip title=\"Attachment\">\n                <IconButtonAnimate size=\"small\" onClick={handleAttach}>\n                  <Iconify icon={'eva:attach-2-fill'} width={20} height={20} />\n                </IconButtonAnimate>\n              </Tooltip>\n              <input ref={fileInputRef} type=\"file\" style={{ display: 'none' }} />\n            </>\n\n            <Tooltip title=\"Delete task\">\n              <IconButtonAnimate onClick={onDeleteTask} size=\"small\">\n                <Iconify icon={'eva:trash-2-outline'} width={20} height={20} />\n              </IconButtonAnimate>\n            </Tooltip>\n\n            <Tooltip title=\"More actions\">\n              <IconButtonAnimate size=\"small\">\n                <Iconify icon={'eva:more-horizontal-fill'} width={20} height={20} />\n              </IconButtonAnimate>\n            </Tooltip>\n          </Stack>\n        </Stack>\n\n        <Divider />\n\n        <Scrollbar>\n          <Stack spacing={3} sx={{ px: 2.5, py: 3 }}>\n            <OutlinedInput\n              fullWidth\n              multiline\n              size=\"small\"\n              placeholder=\"Task name\"\n              value={name}\n              sx={{\n                typography: 'h6',\n                '& .MuiOutlinedInput-notchedOutline': { borderColor: 'transparent' },\n              }}\n            />\n            <Stack direction=\"row\">\n              <LabelStyle sx={{ mt: 1.5 }}>Assignee</LabelStyle>\n              <Stack direction=\"row\" flexWrap=\"wrap\" alignItems=\"center\">\n                {assignee.map((user) => (\n                  <Avatar key={user.id} alt={user.name} src={user.avatar} sx={{ m: 0.5, width: 36, height: 36 }} />\n                ))}\n                <Tooltip title=\"Add assignee\">\n                  <IconButtonAnimate sx={{ p: 1, ml: 0.5, border: (theme) => `dashed 1px ${theme.palette.divider}` }}>\n                    <Iconify icon={'eva:plus-fill'} width={20} height={20} />\n                  </IconButtonAnimate>\n                </Tooltip>\n              </Stack>\n            </Stack>\n\n            <Stack direction=\"row\" alignItems=\"center\">\n              <LabelStyle> Due date</LabelStyle>\n              <>\n                {startTime && endTime ? (\n                  <DisplayTime\n                    startTime={startTime}\n                    endTime={endTime}\n                    isSameDays={isSameDays}\n                    isSameMonths={isSameMonths}\n                    onOpenPicker={onOpenPicker}\n                    sx={{ typography: 'body2' }}\n                  />\n                ) : (\n                  <Tooltip title=\"Add assignee\">\n                    <IconButtonAnimate\n                      onClick={onOpenPicker}\n                      sx={{\n                        p: 1,\n                        ml: 0.5,\n                        border: (theme) => `dashed 1px ${theme.palette.divider}`,\n                      }}\n                    >\n                      <Iconify icon={'eva:plus-fill'} width={20} height={20} />\n                    </IconButtonAnimate>\n                  </Tooltip>\n                )}\n\n                <MobileDateRangePicker\n                  open={openPicker}\n                  onClose={onClosePicker}\n                  onOpen={onOpenPicker}\n                  value={dueDate}\n                  onChange={onChangeDueDate}\n                  renderInput={() => {}}\n                />\n              </>\n            </Stack>\n\n            <Stack direction=\"row\" alignItems=\"center\">\n              <LabelStyle>Prioritize</LabelStyle>\n              <TextField\n                fullWidth\n                select\n                size=\"small\"\n                value={prioritize}\n                onChange={handleChangePrioritize}\n                sx={{\n                  '& svg': { display: 'none' },\n                  '& fieldset': { display: 'none' },\n                  '& .MuiSelect-select': { p: 0, display: 'flex', alignItems: 'center' },\n                }}\n              >\n                {PRIORITIZES.map((option) => (\n                  <MenuItem key={option} value={option} sx={{ mx: 1, my: 0.5, borderRadius: 1 }}>\n                    <Box\n                      sx={{\n                        mr: 1,\n                        width: 14,\n                        height: 14,\n                        borderRadius: 0.5,\n                        bgcolor: 'error.main',\n                        ...(option === 'low' && { bgcolor: 'info.main' }),\n                        ...(option === 'medium' && { bgcolor: 'warning.main' }),\n                      }}\n                    />\n                    <Typography variant=\"body2\" sx={{ textTransform: 'capitalize' }}>\n                      {option}\n                    </Typography>\n                  </MenuItem>\n                ))}\n              </TextField>\n            </Stack>\n\n            <Stack direction=\"row\">\n              <LabelStyle sx={{ mt: 2 }}>Description</LabelStyle>\n              <OutlinedInput\n                fullWidth\n                multiline\n                rows={3}\n                size=\"small\"\n                placeholder=\"Task name\"\n                value={description}\n                sx={{ typography: 'body2' }}\n              />\n            </Stack>\n\n            <Stack direction=\"row\">\n              <LabelStyle sx={{ mt: 2 }}>Attachments</LabelStyle>\n              <Stack direction=\"row\" flexWrap=\"wrap\">\n                <KanbanTaskAttachments attachments={attachments} />\n              </Stack>\n            </Stack>\n          </Stack>\n\n          {comments.length > 0 && <KanbanTaskCommentList comments={comments} />}\n        </Scrollbar>\n\n        <Divider />\n\n        <KanbanTaskCommentInput />\n      </Drawer>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}