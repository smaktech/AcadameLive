{"ast":null,"code":"import _objectSpread from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import MapGL,{Layer,Source}from'react-map-gl';import{useState,useCallback,useMemo}from'react';// @mui\nimport{useTheme}from'@mui/material/styles';import{Typography}from'@mui/material';// components\nimport{MapControlPopup,MapControlScale,MapControlGeolocate,MapControlNavigation,MapControlFullscreen}from'../../components/map';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MapHighlightByFilter(_ref){var other=Object.assign({},_ref);var theme=useTheme();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),hoverInfo=_useState2[0],setHoverInfo=_useState2[1];var _useState3=useState({latitude:38.88,longitude:-98,zoom:3,minZoom:2,bearing:0,pitch:0}),_useState4=_slicedToArray(_useState3,2),viewport=_useState4[0],setViewport=_useState4[1];var selectedCounty=hoverInfo&&hoverInfo.countyName||'';var filter=useMemo(function(){return['in','COUNTY',selectedCounty];},[selectedCounty]);var countiesLayer={id:'counties',type:'fill',source:'counties','source-layer':'original',paint:{'fill-outline-color':theme.palette.grey[900],'fill-color':theme.palette.grey[900],'fill-opacity':0.12}};var highlightLayer={id:'counties-highlighted',type:'fill',source:'counties','source-layer':'original',paint:{'fill-outline-color':theme.palette.error.main,'fill-color':theme.palette.error.main,'fill-opacity':0.48}};var onHover=useCallback(function(event){var county=event.features&&event.features[0];setHoverInfo({longitude:event.lngLat[0],latitude:event.lngLat[1],countyName:county&&county.properties.COUNTY});},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MapGL,_objectSpread(_objectSpread(_objectSpread({},viewport),{},{onViewportChange:setViewport,onHover:onHover,interactiveLayerIds:['counties']},other),{},{children:[/*#__PURE__*/_jsx(MapControlScale,{}),/*#__PURE__*/_jsx(MapControlNavigation,{}),/*#__PURE__*/_jsx(MapControlFullscreen,{}),/*#__PURE__*/_jsx(MapControlGeolocate,{}),/*#__PURE__*/_jsxs(Source,{type:\"vector\",url:\"mapbox://mapbox.82pkq93d\",children:[/*#__PURE__*/_jsx(Layer,_objectSpread({beforeId:\"waterway-label\"},countiesLayer)),/*#__PURE__*/_jsx(Layer,_objectSpread(_objectSpread({beforeId:\"waterway-label\"},highlightLayer),{},{filter:filter}))]}),selectedCounty&&/*#__PURE__*/_jsx(MapControlPopup,{longitude:hoverInfo.longitude,latitude:hoverInfo.latitude,closeButton:false,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'common.white'},children:selectedCounty})})]}))});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/map/MapHighlightByFilter.js"],"names":["MapGL","Layer","Source","useState","useCallback","useMemo","useTheme","Typography","MapControlPopup","MapControlScale","MapControlGeolocate","MapControlNavigation","MapControlFullscreen","MapHighlightByFilter","other","theme","hoverInfo","setHoverInfo","latitude","longitude","zoom","minZoom","bearing","pitch","viewport","setViewport","selectedCounty","countyName","filter","countiesLayer","id","type","source","paint","palette","grey","highlightLayer","error","main","onHover","event","county","features","lngLat","properties","COUNTY","color"],"mappings":"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","sourcesContent":["import MapGL, { Layer, Source } from 'react-map-gl';\nimport { useState, useCallback, useMemo } from 'react';\n// @mui\nimport { useTheme } from '@mui/material/styles';\nimport { Typography } from '@mui/material';\n// components\nimport {\n  MapControlPopup,\n  MapControlScale,\n  MapControlGeolocate,\n  MapControlNavigation,\n  MapControlFullscreen,\n} from '../../components/map';\n\n// ----------------------------------------------------------------------\n\nexport default function MapHighlightByFilter({ ...other }) {\n  const theme = useTheme();\n  const [hoverInfo, setHoverInfo] = useState(null);\n  const [viewport, setViewport] = useState({\n    latitude: 38.88,\n    longitude: -98,\n    zoom: 3,\n    minZoom: 2,\n    bearing: 0,\n    pitch: 0,\n  });\n\n  const selectedCounty = (hoverInfo && hoverInfo.countyName) || '';\n  const filter = useMemo(() => ['in', 'COUNTY', selectedCounty], [selectedCounty]);\n\n  const countiesLayer = {\n    id: 'counties',\n    type: 'fill',\n    source: 'counties',\n    'source-layer': 'original',\n    paint: {\n      'fill-outline-color': theme.palette.grey[900],\n      'fill-color': theme.palette.grey[900],\n      'fill-opacity': 0.12,\n    },\n  };\n\n  const highlightLayer = {\n    id: 'counties-highlighted',\n    type: 'fill',\n    source: 'counties',\n    'source-layer': 'original',\n    paint: {\n      'fill-outline-color': theme.palette.error.main,\n      'fill-color': theme.palette.error.main,\n      'fill-opacity': 0.48,\n    },\n  };\n\n  const onHover = useCallback((event) => {\n    const county = event.features && event.features[0];\n    setHoverInfo({\n      longitude: event.lngLat[0],\n      latitude: event.lngLat[1],\n      countyName: county && county.properties.COUNTY,\n    });\n  }, []);\n\n  return (\n    <>\n      <MapGL\n        {...viewport}\n        onViewportChange={setViewport}\n        onHover={onHover}\n        interactiveLayerIds={['counties']}\n        {...other}\n      >\n        <MapControlScale />\n        <MapControlNavigation />\n        <MapControlFullscreen />\n        <MapControlGeolocate />\n\n        <Source type=\"vector\" url=\"mapbox://mapbox.82pkq93d\">\n          <Layer beforeId=\"waterway-label\" {...countiesLayer} />\n          <Layer beforeId=\"waterway-label\" {...highlightLayer} filter={filter} />\n        </Source>\n\n        {selectedCounty && (\n          <MapControlPopup longitude={hoverInfo.longitude} latitude={hoverInfo.latitude} closeButton={false}>\n            <Typography variant=\"body2\" sx={{ color: 'common.white' }}>\n              {selectedCounty}\n            </Typography>\n          </MapControlPopup>\n        )}\n      </MapGL>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}