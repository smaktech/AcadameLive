{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{apiUrl}from'../../config';import{objToQueryString}from'../../config';//Fetch all boards data using offset and limit!\nfunction getAllSubTopic(_x,_x2,_x3){return _getAllSubTopic.apply(this,arguments);}//api to change the status of the user\nfunction _getAllSubTopic(){_getAllSubTopic=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(topicID,page,limit){var queryString,apiLink,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:queryString=objToQueryString({page:page,limit:limit,topicID:topicID});if(queryString==null)apiLink=apiUrl+'/subTopic/filterSubTopic';else apiLink=apiUrl+'/subTopic/filterSubTopic?'+queryString;_context.next=4;return fetch(apiLink,{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 4:data=_context.sent;return _context.abrupt(\"return\",data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _getAllSubTopic.apply(this,arguments);}function editSubTopic(_x4,_x5,_x6,_x7,_x8,_x9,_x10){return _editSubTopic.apply(this,arguments);}//api function for adding a Board \nfunction _editSubTopic(){_editSubTopic=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(subTopicId,name,description,zipFile,pptFile,examID,status){var formData,data,examFormData,subTopicExamData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();formData.append('name',name);formData.append('description',description);formData.append('file',pptFile);formData.append('status',status);_context2.next=7;return fetch(apiUrl+'/subTopic/editSubTopic/'+subTopicId,{method:'PATCH',headers:{// Accept: 'application/json',\n//   'Content-Type': 'application/x-www-form-urlencoded',\n},body:formData}).then(function(res){return res.json();});case 7:data=_context2.sent;if(!(zipFile&&examID)){_context2.next=15;break;}examFormData=new FormData();examFormData.append('exam',zipFile);examFormData.append('name',name);_context2.next=14;return fetch(apiUrl+'/exam/'+examID,{method:'PATCH',headers:{Accept:'application/json'//   'Content-Type': 'application/x-www-form-urlencoded',\n},body:examFormData}).then(function(res){return res.json();});case 14:subTopicExamData=_context2.sent;case 15:return _context2.abrupt(\"return\",data);case 16:case\"end\":return _context2.stop();}}},_callee2);}));return _editSubTopic.apply(this,arguments);}function createSubTopic(_x11,_x12,_x13,_x14,_x15,_x16){return _createSubTopic.apply(this,arguments);}//api to delete the user from the database\nfunction _createSubTopic(){_createSubTopic=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(topicId,name,description,zipFile,pptFile,status){var formData,data,subTopicId,examFormData,subTopicExamData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formData=new FormData();formData.append('name',name);formData.append('description',description);formData.append('file',pptFile);formData.append('status',status);_context3.next=7;return fetch(apiUrl+'/subTopic/createSubTopic/'+topicId,{method:'POST',headers:{Accept:'application/json'//   'Content-Type': 'application/x-www-form-urlencoded',\n},body:formData}).then(function(res){return res.json();});case 7:data=_context3.sent;if(!data.status){_context3.next=16;break;}subTopicId=data.SubTopic._id;examFormData=new FormData();examFormData.append('exam',zipFile);examFormData.append('name',name);_context3.next=15;return fetch(apiUrl+'/exam/'+subTopicId,{method:'POST',headers:{Accept:'application/json'//   'Content-Type': 'application/x-www-form-urlencoded',\n},body:examFormData}).then(function(res){return res.json();});case 15:subTopicExamData=_context3.sent;case 16:return _context3.abrupt(\"return\",data);case 17:case\"end\":return _context3.stop();}}},_callee3);}));return _createSubTopic.apply(this,arguments);}function deleteSubTopic(_x17){return _deleteSubTopic.apply(this,arguments);}//api to get the details of a particular user by sending the userId\nfunction _deleteSubTopic(){_deleteSubTopic=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(subTopicID){var data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(apiUrl+'/subTopic/deleteSubTopicById/'+subTopicID,{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 2:data=_context4.sent;return _context4.abrupt(\"return\",data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _deleteSubTopic.apply(this,arguments);}function getSubTopicById(_x18){return _getSubTopicById.apply(this,arguments);}function _getSubTopicById(){_getSubTopicById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(subTopicID){var data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(apiUrl+'/subTopic/getSubTopicById/'+subTopicID,{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 2:data=_context5.sent;return _context5.abrupt(\"return\",data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _getSubTopicById.apply(this,arguments);}function getSubTopicByFilter(_x19,_x20,_x21,_x22,_x23){return _getSubTopicByFilter.apply(this,arguments);}function _getSubTopicByFilter(){_getSubTopicByFilter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(topicID,searchString,status,startDate,endDate){var queryString,apiLink,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:queryString=objToQueryString({searchString:searchString,status:status,startDate:startDate,endDate:endDate,topicID:topicID});if(queryString==null)apiLink=apiUrl+'/subTopic/filterSubTopic';else apiLink=apiUrl+'/subTopic/filterSubTopic?'+queryString;_context6.next=4;return fetch(apiLink,{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();});case 4:data=_context6.sent;return _context6.abrupt(\"return\",data);case 6:case\"end\":return _context6.stop();}}},_callee6);}));return _getSubTopicByFilter.apply(this,arguments);}export{getAllSubTopic,editSubTopic,createSubTopic,deleteSubTopic,getSubTopicById,getSubTopicByFilter};","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/api/SubTopic/SubTopic.js"],"names":["apiUrl","objToQueryString","getAllSubTopic","topicID","page","limit","queryString","apiLink","fetch","method","headers","Accept","then","res","json","data","editSubTopic","subTopicId","name","description","zipFile","pptFile","examID","status","formData","FormData","append","body","examFormData","subTopicExamData","createSubTopic","topicId","SubTopic","_id","deleteSubTopic","subTopicID","getSubTopicById","getSubTopicByFilter","searchString","startDate","endDate"],"mappings":"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","sourcesContent":["import { apiUrl } from '../../config';\nimport { objToQueryString } from '../../config'\n\n\n//Fetch all boards data using offset and limit!\nasync function getAllSubTopic(topicID, page, limit) {\n  const queryString = objToQueryString({\n    page: page,\n    limit: limit,\n    topicID\n  })\n  var apiLink;\n  if (queryString == null)\n    apiLink = apiUrl + '/subTopic/filterSubTopic'\n  else\n    apiLink = apiUrl + '/subTopic/filterSubTopic?' + queryString\n  const data = await fetch(apiLink, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n\n//api to change the status of the user\nasync function editSubTopic(subTopicId, name, description, zipFile, pptFile, examID, status) {\n\n  const formData = new FormData()\n  formData.append('name', name)\n  formData.append('description', description)\n  formData.append('file', pptFile)\n  formData.append('status', status)\n\n  const data = await fetch(apiUrl + '/subTopic/editSubTopic/' + subTopicId, {\n    method: 'PATCH',\n    headers: {\n      // Accept: 'application/json',\n      //   'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: formData,\n  }).then((res) => res.json());\n\n  if (zipFile && examID) {\n    const examFormData = new FormData()\n    examFormData.append('exam', zipFile)\n    examFormData.append('name', name)\n    const subTopicExamData = await fetch(apiUrl + '/exam/' + examID, {\n      method: 'PATCH',\n      headers: {\n        Accept: 'application/json',\n        //   'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: examFormData,\n    }).then((res) => res.json());\n  }\n  return data;\n\n}\n\n//api function for adding a Board \nasync function createSubTopic(topicId, name, description, zipFile, pptFile, status) {\n\n  const formData = new FormData()\n  formData.append('name', name)\n  formData.append('description', description)\n  formData.append('file', pptFile)\n  formData.append('status', status)\n\n\n  const data = await fetch(apiUrl + '/subTopic/createSubTopic/' + topicId, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      //   'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    body: formData,\n  })\n    .then((res) => res.json());\n  if (data.status) {\n    const subTopicId = data.SubTopic._id\n    const examFormData = new FormData()\n    examFormData.append('exam', zipFile)\n    examFormData.append('name', name)\n    const subTopicExamData = await fetch(apiUrl + '/exam/' + subTopicId, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        //   'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: examFormData,\n    }).then((res) => res.json());\n  }\n  return data;\n}\n\n//api to delete the user from the database\nasync function deleteSubTopic(subTopicID) {\n  const data = await fetch(apiUrl + '/subTopic/deleteSubTopicById/' + subTopicID, {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n//api to get the details of a particular user by sending the userId\nasync function getSubTopicById(subTopicID) {\n  const data = await fetch(apiUrl + '/subTopic/getSubTopicById/' + subTopicID, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n\nasync function getSubTopicByFilter(topicID, searchString, status, startDate, endDate) {\n  const queryString = objToQueryString({\n    searchString: searchString,\n    status: status,\n    startDate: startDate,\n    endDate: endDate,\n    topicID\n  })\n  var apiLink;\n  if (queryString == null)\n    apiLink = apiUrl + '/subTopic/filterSubTopic'\n  else\n    apiLink = apiUrl + '/subTopic/filterSubTopic?' + queryString\n  const data = await fetch(apiLink, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then((res) => res.json());\n  return data;\n}\n\n\nexport { getAllSubTopic, editSubTopic, createSubTopic, deleteSubTopic, getSubTopicById, getSubTopicByFilter }"]},"metadata":{},"sourceType":"module"}