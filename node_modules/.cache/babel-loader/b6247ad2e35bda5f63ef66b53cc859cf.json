{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{findIndex}from'lodash';import{useState}from'react';// @mui\nimport{styled}from'@mui/material/styles';import{Box,Card,IconButton,Typography,CardContent}from'@mui/material';// utils\nimport{fDate}from'../../../../utils/formatTime';import cssStyles from'../../../../utils/cssStyles';// components\nimport Image from'../../../../components/Image';import Iconify from'../../../../components/Iconify';import LightboxModal from'../../../../components/LightboxModal';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CaptionStyle=styled(CardContent)(function(_ref){var theme=_ref.theme;return _objectSpread(_objectSpread({},cssStyles().bgBlur({blur:2,color:theme.palette.grey[900]})),{},{bottom:0,width:'100%',display:'flex',alignItems:'center',position:'absolute',justifyContent:'space-between',color:theme.palette.common.white});});// ----------------------------------------------------------------------\nexport default function ProfileGallery(_ref2){var gallery=_ref2.gallery;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openLightbox=_useState2[0],setOpenLightbox=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedImage=_useState4[0],setSelectedImage=_useState4[1];var imagesLightbox=gallery.map(function(img){return img.imageUrl;});var handleOpenLightbox=function handleOpenLightbox(url){var selectedImage=findIndex(imagesLightbox,function(index){return index===url;});setOpenLightbox(true);setSelectedImage(selectedImage);};return/*#__PURE__*/_jsxs(Box,{sx:{mt:5},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{mb:3},children:\"Gallery\"}),/*#__PURE__*/_jsxs(Card,{sx:{p:3},children:[/*#__PURE__*/_jsx(Box,{sx:{display:'grid',gap:3,gridTemplateColumns:{xs:'repeat(1, 1fr)',sm:'repeat(2, 1fr)',md:'repeat(3, 1fr)'}},children:gallery.map(function(image){return/*#__PURE__*/_jsx(GalleryItem,{image:image,onOpenLightbox:handleOpenLightbox},image.id);})}),/*#__PURE__*/_jsx(LightboxModal,{images:imagesLightbox,mainSrc:imagesLightbox[selectedImage],photoIndex:selectedImage,setPhotoIndex:setSelectedImage,isOpen:openLightbox,onCloseRequest:function onCloseRequest(){return setOpenLightbox(false);}})]})]});}// ----------------------------------------------------------------------\nfunction GalleryItem(_ref3){var image=_ref3.image,onOpenLightbox=_ref3.onOpenLightbox;var imageUrl=image.imageUrl,title=image.title,postAt=image.postAt;return/*#__PURE__*/_jsxs(Card,{sx:{cursor:'pointer',position:'relative'},children:[/*#__PURE__*/_jsx(Image,{alt:\"gallery image\",ratio:\"1/1\",src:imageUrl,onClick:function onClick(){return onOpenLightbox(imageUrl);}}),/*#__PURE__*/_jsxs(CaptionStyle,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:title}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{opacity:0.72},children:fDate(postAt)})]}),/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:more-vertical-fill',width:20,height:20})})]})]});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/user/profile/ProfileGallery.js"],"names":["findIndex","useState","styled","Box","Card","IconButton","Typography","CardContent","fDate","cssStyles","Image","Iconify","LightboxModal","CaptionStyle","theme","bgBlur","blur","color","palette","grey","bottom","width","display","alignItems","position","justifyContent","common","white","ProfileGallery","gallery","openLightbox","setOpenLightbox","selectedImage","setSelectedImage","imagesLightbox","map","img","imageUrl","handleOpenLightbox","url","index","mt","mb","p","gap","gridTemplateColumns","xs","sm","md","image","id","GalleryItem","onOpenLightbox","title","postAt","cursor","opacity"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { findIndex } from 'lodash';\nimport { useState } from 'react';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Box, Card, IconButton, Typography, CardContent } from '@mui/material';\n// utils\nimport { fDate } from '../../../../utils/formatTime';\nimport cssStyles from '../../../../utils/cssStyles';\n// components\nimport Image from '../../../../components/Image';\nimport Iconify from '../../../../components/Iconify';\nimport LightboxModal from '../../../../components/LightboxModal';\n\n// ----------------------------------------------------------------------\n\nconst CaptionStyle = styled(CardContent)(({ theme }) => ({\n  ...cssStyles().bgBlur({ blur: 2, color: theme.palette.grey[900] }),\n  bottom: 0,\n  width: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  position: 'absolute',\n  justifyContent: 'space-between',\n  color: theme.palette.common.white,\n}));\n\n// ----------------------------------------------------------------------\n\nProfileGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n};\n\nexport default function ProfileGallery({ gallery }) {\n  const [openLightbox, setOpenLightbox] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  const imagesLightbox = gallery.map((img) => img.imageUrl);\n\n  const handleOpenLightbox = (url) => {\n    const selectedImage = findIndex(imagesLightbox, (index) => index === url);\n    setOpenLightbox(true);\n    setSelectedImage(selectedImage);\n  };\n  return (\n    <Box sx={{ mt: 5 }}>\n      <Typography variant=\"h4\" sx={{ mb: 3 }}>\n        Gallery\n      </Typography>\n\n      <Card sx={{ p: 3 }}>\n        <Box\n          sx={{\n            display: 'grid',\n            gap: 3,\n            gridTemplateColumns: {\n              xs: 'repeat(1, 1fr)',\n              sm: 'repeat(2, 1fr)',\n              md: 'repeat(3, 1fr)',\n            },\n          }}\n        >\n          {gallery.map((image) => (\n            <GalleryItem key={image.id} image={image} onOpenLightbox={handleOpenLightbox} />\n          ))}\n        </Box>\n\n        <LightboxModal\n          images={imagesLightbox}\n          mainSrc={imagesLightbox[selectedImage]}\n          photoIndex={selectedImage}\n          setPhotoIndex={setSelectedImage}\n          isOpen={openLightbox}\n          onCloseRequest={() => setOpenLightbox(false)}\n        />\n      </Card>\n    </Box>\n  );\n}\n\n// ----------------------------------------------------------------------\n\nGalleryItem.propTypes = {\n  image: PropTypes.object,\n  onOpenLightbox: PropTypes.func,\n};\n\nfunction GalleryItem({ image, onOpenLightbox }) {\n  const { imageUrl, title, postAt } = image;\n  return (\n    <Card sx={{ cursor: 'pointer', position: 'relative' }}>\n      <Image alt=\"gallery image\" ratio=\"1/1\" src={imageUrl} onClick={() => onOpenLightbox(imageUrl)} />\n\n      <CaptionStyle>\n        <div>\n          <Typography variant=\"subtitle1\">{title}</Typography>\n          <Typography variant=\"body2\" sx={{ opacity: 0.72 }}>\n            {fDate(postAt)}\n          </Typography>\n        </div>\n        <IconButton color=\"inherit\">\n          <Iconify icon={'eva:more-vertical-fill'} width={20} height={20} />\n        </IconButton>\n      </CaptionStyle>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}