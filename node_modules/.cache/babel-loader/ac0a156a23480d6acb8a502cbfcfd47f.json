{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{sum}from'lodash';import{Link as RouterLink}from'react-router-dom';import{useFormik,Form,FormikProvider}from'formik';// @mui\nimport{Grid,Card,Button,CardHeader,Typography}from'@mui/material';// redux\nimport{useDispatch,useSelector}from'../../../../redux/store';import{deleteCart,onNextStep,applyDiscount,increaseQuantity,decreaseQuantity}from'../../../../redux/slices/product';// routes\nimport{PATH_DASHBOARD}from'../../../../routes/paths';// components\nimport Iconify from'../../../../components/Iconify';import Scrollbar from'../../../../components/Scrollbar';import EmptyContent from'../../../../components/EmptyContent';//\nimport CheckoutSummary from'./CheckoutSummary';import CheckoutProductList from'./CheckoutProductList';// ----------------------------------------------------------------------\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function CheckoutCart(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.product;}),checkout=_useSelector.checkout;var cart=checkout.cart,total=checkout.total,discount=checkout.discount,subtotal=checkout.subtotal;var isEmptyCart=cart.length===0;var handleDeleteCart=function handleDeleteCart(productId){dispatch(deleteCart(productId));};var handleNextStep=function handleNextStep(){dispatch(onNextStep());};var handleIncreaseQuantity=function handleIncreaseQuantity(productId){dispatch(increaseQuantity(productId));};var handleDecreaseQuantity=function handleDecreaseQuantity(productId){dispatch(decreaseQuantity(productId));};var handleApplyDiscount=function handleApplyDiscount(value){dispatch(applyDiscount(value));};var formik=useFormik({enableReinitialize:true,initialValues:{products:cart},onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setErrors,setSubmitting;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors=_ref.setErrors,setSubmitting=_ref.setSubmitting;try{setSubmitting(true);handleNextStep();}catch(error){console.error(error);setErrors(error.message);}case 2:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var values=formik.values,handleSubmit=formik.handleSubmit;var totalItems=sum(values.products.map(function(item){return item.quantity;}));return/*#__PURE__*/_jsx(FormikProvider,{value:formik,children:/*#__PURE__*/_jsx(Form,{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsxs(Card,{sx:{mb:3},children:[/*#__PURE__*/_jsx(CardHeader,{title:/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Card\",/*#__PURE__*/_jsxs(Typography,{component:\"span\",sx:{color:'text.secondary'},children:[\"\\xA0(\",totalItems,\" item)\"]})]}),sx:{mb:3}}),!isEmptyCart?/*#__PURE__*/_jsx(Scrollbar,{children:/*#__PURE__*/_jsx(CheckoutProductList,{products:values.products,onDelete:handleDeleteCart,onIncreaseQuantity:handleIncreaseQuantity,onDecreaseQuantity:handleDecreaseQuantity})}):/*#__PURE__*/_jsx(EmptyContent,{title:\"Cart is empty\",description:\"Look like you have no items in your shopping cart.\",img:\"https://minimal-assets-api.vercel.app/assets/illustrations/illustration_empty_cart.svg\"})]}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:RouterLink,to:PATH_DASHBOARD.classes.root,startIcon:/*#__PURE__*/_jsx(Iconify,{icon:'eva:arrow-ios-back-fill'}),children:\"Continue Shopping\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:4,children:[/*#__PURE__*/_jsx(CheckoutSummary,{total:total,enableDiscount:true,discount:discount,subtotal:subtotal,onApplyDiscount:handleApplyDiscount}),/*#__PURE__*/_jsx(Button,{fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",disabled:values.products.length===0,children:\"Check Out\"})]})]})})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/e-commerce/checkout/CheckoutCart.js"],"names":["sum","Link","RouterLink","useFormik","Form","FormikProvider","Grid","Card","Button","CardHeader","Typography","useDispatch","useSelector","deleteCart","onNextStep","applyDiscount","increaseQuantity","decreaseQuantity","PATH_DASHBOARD","Iconify","Scrollbar","EmptyContent","CheckoutSummary","CheckoutProductList","CheckoutCart","dispatch","state","product","checkout","cart","total","discount","subtotal","isEmptyCart","length","handleDeleteCart","productId","handleNextStep","handleIncreaseQuantity","handleDecreaseQuantity","handleApplyDiscount","value","formik","enableReinitialize","initialValues","products","onSubmit","values","setErrors","setSubmitting","error","console","message","handleSubmit","totalItems","map","item","quantity","mb","color","classes","root"],"mappings":"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","sourcesContent":["import { sum } from 'lodash';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useFormik, Form, FormikProvider } from 'formik';\n// @mui\nimport { Grid, Card, Button, CardHeader, Typography } from '@mui/material';\n// redux\nimport { useDispatch, useSelector } from '../../../../redux/store';\nimport {\n  deleteCart,\n  onNextStep,\n  applyDiscount,\n  increaseQuantity,\n  decreaseQuantity,\n} from '../../../../redux/slices/product';\n// routes\nimport { PATH_DASHBOARD } from '../../../../routes/paths';\n// components\nimport Iconify from '../../../../components/Iconify';\nimport Scrollbar from '../../../../components/Scrollbar';\nimport EmptyContent from '../../../../components/EmptyContent';\n//\nimport CheckoutSummary from './CheckoutSummary';\nimport CheckoutProductList from './CheckoutProductList';\n\n// ----------------------------------------------------------------------\n\nexport default function CheckoutCart() {\n  const dispatch = useDispatch();\n  const { checkout } = useSelector((state) => state.product);\n  const { cart, total, discount, subtotal } = checkout;\n  const isEmptyCart = cart.length === 0;\n\n  const handleDeleteCart = (productId) => {\n    dispatch(deleteCart(productId));\n  };\n\n  const handleNextStep = () => {\n    dispatch(onNextStep());\n  };\n\n  const handleIncreaseQuantity = (productId) => {\n    dispatch(increaseQuantity(productId));\n  };\n\n  const handleDecreaseQuantity = (productId) => {\n    dispatch(decreaseQuantity(productId));\n  };\n\n  const handleApplyDiscount = (value) => {\n    dispatch(applyDiscount(value));\n  };\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: { products: cart },\n    onSubmit: async (values, { setErrors, setSubmitting }) => {\n      try {\n        setSubmitting(true);\n        handleNextStep();\n      } catch (error) {\n        console.error(error);\n        setErrors(error.message);\n      }\n    },\n  });\n\n  const { values, handleSubmit } = formik;\n  const totalItems = sum(values.products.map((item) => item.quantity));\n\n  return (\n    <FormikProvider value={formik}>\n      <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={8}>\n            <Card sx={{ mb: 3 }}>\n              <CardHeader\n                title={\n                  <Typography variant=\"h6\">\n                    Card\n                    <Typography component=\"span\" sx={{ color: 'text.secondary' }}>\n                      &nbsp;({totalItems} item)\n                    </Typography>\n                  </Typography>\n                }\n                sx={{ mb: 3 }}\n              />\n\n              {!isEmptyCart ? (\n                <Scrollbar>\n                  <CheckoutProductList\n                    products={values.products}\n                    onDelete={handleDeleteCart}\n                    onIncreaseQuantity={handleIncreaseQuantity}\n                    onDecreaseQuantity={handleDecreaseQuantity}\n                  />\n                </Scrollbar>\n              ) : (\n                <EmptyContent\n                  title=\"Cart is empty\"\n                  description=\"Look like you have no items in your shopping cart.\"\n                  img=\"https://minimal-assets-api.vercel.app/assets/illustrations/illustration_empty_cart.svg\"\n                />\n              )}\n            </Card>\n\n            <Button\n              color=\"inherit\"\n              component={RouterLink}\n              to={PATH_DASHBOARD.classes.root}\n              startIcon={<Iconify icon={'eva:arrow-ios-back-fill'} />}\n            >\n              Continue Shopping\n            </Button>\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <CheckoutSummary\n              total={total}\n              enableDiscount\n              discount={discount}\n              subtotal={subtotal}\n              onApplyDiscount={handleApplyDiscount}\n            />\n            <Button fullWidth size=\"large\" type=\"submit\" variant=\"contained\" disabled={values.products.length === 0}>\n              Check Out\n            </Button>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}