{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useRef,useState,useEffect}from'react';// @mui\nimport{Stack,OutlinedInput,MenuItem,Typography,IconButton}from'@mui/material';// components\nimport Iconify from'../../../components/Iconify';import MenuPopover from'../../../components/MenuPopover';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function KanbanColumnToolBar(_ref){var columnName=_ref.columnName,onDelete=_ref.onDelete,onUpdate=_ref.onUpdate;var anchorRef=useRef(null);var renameRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(columnName),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];useEffect(function(){if(open){if(renameRef.current){renameRef.current.focus();}}},[open]);var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleClickRename=function handleClickRename(){handleClose();};var handleChangeColumnName=function handleChangeColumnName(event){setValue(event.target.value);};var handleUpdateColumn=function handleUpdateColumn(event){if(event.key==='Enter'&&renameRef.current){renameRef.current.blur();onUpdate(value);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",alignItems:\"center\",spacing:1,sx:{pt:3},children:[/*#__PURE__*/_jsx(OutlinedInput,{size:\"small\",placeholder:\"Section name\",value:value,onChange:handleChangeColumnName,onKeyUp:handleUpdateColumn,inputRef:renameRef,sx:{typography:'h6',fontWeight:'fontWeightBold','& .MuiOutlinedInput-notchedOutline':{borderColor:'transparent'}}}),/*#__PURE__*/_jsx(IconButton,{ref:anchorRef,size:\"small\",onClick:handleOpen,color:open?'inherit':'default',children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:more-horizontal-fill',width:20,height:20})})]}),/*#__PURE__*/_jsxs(MenuPopover,{open:open,onClose:handleClose,anchorEl:anchorRef.current,sx:{p:1,width:'auto'},children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:handleClickRename,sx:{py:0.75,px:1.5,borderRadius:1},children:[/*#__PURE__*/_jsx(Iconify,{icon:'eva:edit-fill',sx:{width:20,height:20,flexShrink:0,mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Rename section\"})]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:onDelete,sx:{py:0.75,px:1.5,borderRadius:1},children:[/*#__PURE__*/_jsx(Iconify,{icon:'eva:trash-2-outline',sx:{width:20,height:20,flexShrink:0,mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Delete section\"})]})]})]});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/kanban/KanbanColumnToolBar.js"],"names":["useRef","useState","useEffect","Stack","OutlinedInput","MenuItem","Typography","IconButton","Iconify","MenuPopover","KanbanColumnToolBar","columnName","onDelete","onUpdate","anchorRef","renameRef","open","setOpen","value","setValue","current","focus","handleOpen","handleClose","handleClickRename","handleChangeColumnName","event","target","handleUpdateColumn","key","blur","pt","typography","fontWeight","borderColor","p","width","py","px","borderRadius","height","flexShrink","mr"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { useRef, useState, useEffect } from 'react';\n// @mui\nimport { Stack, OutlinedInput, MenuItem, Typography, IconButton } from '@mui/material';\n// components\nimport Iconify from '../../../components/Iconify';\nimport MenuPopover from '../../../components/MenuPopover';\n\n// ----------------------------------------------------------------------\n\nKanbanColumnToolBar.propTypes = {\n  columnName: PropTypes.string,\n  onDelete: PropTypes.func,\n  onUpdate: PropTypes.func,\n};\n\nexport default function KanbanColumnToolBar({ columnName, onDelete, onUpdate }) {\n  const anchorRef = useRef(null);\n  const renameRef = useRef(null);\n  const [open, setOpen] = useState(false);\n  const [value, setValue] = useState(columnName);\n\n  useEffect(() => {\n    if (open) {\n      if (renameRef.current) {\n        renameRef.current.focus();\n      }\n    }\n  }, [open]);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleClickRename = () => {\n    handleClose();\n  };\n\n  const handleChangeColumnName = (event) => {\n    setValue(event.target.value);\n  };\n\n  const handleUpdateColumn = (event) => {\n    if (event.key === 'Enter' && renameRef.current) {\n      renameRef.current.blur();\n      onUpdate(value);\n    }\n  };\n\n  return (\n    <>\n      <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={1} sx={{ pt: 3 }}>\n        <OutlinedInput\n          size=\"small\"\n          placeholder=\"Section name\"\n          value={value}\n          onChange={handleChangeColumnName}\n          onKeyUp={handleUpdateColumn}\n          inputRef={renameRef}\n          sx={{\n            typography: 'h6',\n            fontWeight: 'fontWeightBold',\n            '& .MuiOutlinedInput-notchedOutline': {\n              borderColor: 'transparent',\n            },\n          }}\n        />\n\n        <IconButton ref={anchorRef} size=\"small\" onClick={handleOpen} color={open ? 'inherit' : 'default'}>\n          <Iconify icon={'eva:more-horizontal-fill'} width={20} height={20} />\n        </IconButton>\n      </Stack>\n\n      <MenuPopover open={open} onClose={handleClose} anchorEl={anchorRef.current} sx={{ p: 1, width: 'auto' }}>\n        <MenuItem onClick={handleClickRename} sx={{ py: 0.75, px: 1.5, borderRadius: 1 }}>\n          <Iconify icon={'eva:edit-fill'} sx={{ width: 20, height: 20, flexShrink: 0, mr: 1 }} />\n          <Typography variant=\"body2\">Rename section</Typography>\n        </MenuItem>\n        <MenuItem onClick={onDelete} sx={{ py: 0.75, px: 1.5, borderRadius: 1 }}>\n          <Iconify icon={'eva:trash-2-outline'} sx={{ width: 20, height: 20, flexShrink: 0, mr: 1 }} />\n          <Typography variant=\"body2\">Delete section</Typography>\n        </MenuItem>\n      </MenuPopover>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}