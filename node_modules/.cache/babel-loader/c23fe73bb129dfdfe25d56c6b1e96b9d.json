{"ast":null,"code":"import _objectSpread from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import*as Yup from'yup';import{useState}from'react';import{useSnackbar}from'notistack';import{useFormik,Form,FormikProvider}from'formik';// @mui\nimport{Stack,TextField,IconButton,InputAdornment,Alert}from'@mui/material';import{LoadingButton}from'@mui/lab';// hooks\nimport useAuth from'../../../hooks/useAuth';import useIsMountedRef from'../../../hooks/useIsMountedRef';// components\nimport Iconify from'../../../components/Iconify';import{IconButtonAnimate}from'../../../components/animate';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterForm(){var _useAuth=useAuth(),register=_useAuth.register;var isMountedRef=useIsMountedRef();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar,closeSnackbar=_useSnackbar.closeSnackbar;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var RegisterSchema=Yup.object().shape({firstName:Yup.string().min(2,'Too Short!').max(50,'Too Long!').required('First name required'),lastName:Yup.string().min(2,'Too Short!').max(50,'Too Long!').required('Last name required'),email:Yup.string().email('Email must be a valid email address').required('Email is required'),password:Yup.string().required('Password is required')});var formik=useFormik({initialValues:{firstName:'',lastName:'',email:'',password:''},validationSchema:RegisterSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setErrors,setSubmitting;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors=_ref.setErrors,setSubmitting=_ref.setSubmitting;_context.prev=1;_context.next=4;return register(values.email,values.password,values.firstName,values.lastName);case 4:enqueueSnackbar('Register success',{variant:'success',action:function action(key){return/*#__PURE__*/_jsx(IconButtonAnimate,{size:\"small\",onClick:function onClick(){return closeSnackbar(key);},children:/*#__PURE__*/_jsx(Iconify,{icon:'eva:close-fill'})});}});if(isMountedRef.current){setSubmitting(false);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(_context.t0);if(isMountedRef.current){setErrors({afterSubmit:_context.t0.message});setSubmitting(false);}case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var errors=formik.errors,touched=formik.touched,handleSubmit=formik.handleSubmit,isSubmitting=formik.isSubmitting,getFieldProps=formik.getFieldProps;return/*#__PURE__*/_jsx(FormikProvider,{value:formik,children:/*#__PURE__*/_jsx(Form,{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[errors.afterSubmit&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:errors.afterSubmit}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:2,children:[/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,label:\"First name\"},getFieldProps('firstName')),{},{error:Boolean(touched.firstName&&errors.firstName),helperText:touched.firstName&&errors.firstName})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,label:\"Last name\"},getFieldProps('lastName')),{},{error:Boolean(touched.lastName&&errors.lastName),helperText:touched.lastName&&errors.lastName}))]}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"username\",type:\"email\",label:\"Email address\"},getFieldProps('email')),{},{error:Boolean(touched.email&&errors.email),helperText:touched.email&&errors.email})),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({fullWidth:true,autoComplete:\"current-password\",type:showPassword?'text':'password',label:\"Password\"},getFieldProps('password')),{},{InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",onClick:function onClick(){return setShowPassword(function(prev){return!prev;});},children:/*#__PURE__*/_jsx(Iconify,{icon:showPassword?'eva:eye-fill':'eva:eye-off-fill'})})})},error:Boolean(touched.password&&errors.password),helperText:touched.password&&errors.password})),/*#__PURE__*/_jsx(LoadingButton,{fullWidth:true,size:\"large\",type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"Register\"})]})})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/auth/register/RegisterForm.js"],"names":["Yup","useState","useSnackbar","useFormik","Form","FormikProvider","Stack","TextField","IconButton","InputAdornment","Alert","LoadingButton","useAuth","useIsMountedRef","Iconify","IconButtonAnimate","RegisterForm","register","isMountedRef","enqueueSnackbar","closeSnackbar","showPassword","setShowPassword","RegisterSchema","object","shape","firstName","string","min","max","required","lastName","email","password","formik","initialValues","validationSchema","onSubmit","values","setErrors","setSubmitting","variant","action","key","current","console","error","afterSubmit","message","errors","touched","handleSubmit","isSubmitting","getFieldProps","xs","sm","Boolean","endAdornment","prev"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\nimport { useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport { useFormik, Form, FormikProvider } from 'formik';\n// @mui\nimport { Stack, TextField, IconButton, InputAdornment, Alert } from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\n// hooks\nimport useAuth from '../../../hooks/useAuth';\nimport useIsMountedRef from '../../../hooks/useIsMountedRef';\n// components\nimport Iconify from '../../../components/Iconify';\nimport { IconButtonAnimate } from '../../../components/animate';\n\n// ----------------------------------------------------------------------\n\nexport default function RegisterForm() {\n  const { register } = useAuth();\n  const isMountedRef = useIsMountedRef();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const [showPassword, setShowPassword] = useState(false);\n\n  const RegisterSchema = Yup.object().shape({\n    firstName: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('First name required'),\n    lastName: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Last name required'),\n    email: Yup.string().email('Email must be a valid email address').required('Email is required'),\n    password: Yup.string().required('Password is required'),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n    },\n    validationSchema: RegisterSchema,\n    onSubmit: async (values, { setErrors, setSubmitting }) => {\n      try {\n        await register(values.email, values.password, values.firstName, values.lastName);\n        enqueueSnackbar('Register success', {\n          variant: 'success',\n          action: (key) => (\n            <IconButtonAnimate size=\"small\" onClick={() => closeSnackbar(key)}>\n              <Iconify icon={'eva:close-fill'} />\n            </IconButtonAnimate>\n          ),\n        });\n        if (isMountedRef.current) {\n          setSubmitting(false);\n        }\n      } catch (error) {\n        console.error(error);\n        if (isMountedRef.current) {\n          setErrors({ afterSubmit: error.message });\n          setSubmitting(false);\n        }\n      }\n    },\n  });\n\n  const { errors, touched, handleSubmit, isSubmitting, getFieldProps } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n        <Stack spacing={3}>\n          {errors.afterSubmit && <Alert severity=\"error\">{errors.afterSubmit}</Alert>}\n\n          <Stack direction={{ xs: 'column', sm: 'row' }} spacing={2}>\n            <TextField\n              fullWidth\n              label=\"First name\"\n              {...getFieldProps('firstName')}\n              error={Boolean(touched.firstName && errors.firstName)}\n              helperText={touched.firstName && errors.firstName}\n            />\n\n            <TextField\n              fullWidth\n              label=\"Last name\"\n              {...getFieldProps('lastName')}\n              error={Boolean(touched.lastName && errors.lastName)}\n              helperText={touched.lastName && errors.lastName}\n            />\n          </Stack>\n\n          <TextField\n            fullWidth\n            autoComplete=\"username\"\n            type=\"email\"\n            label=\"Email address\"\n            {...getFieldProps('email')}\n            error={Boolean(touched.email && errors.email)}\n            helperText={touched.email && errors.email}\n          />\n\n          <TextField\n            fullWidth\n            autoComplete=\"current-password\"\n            type={showPassword ? 'text' : 'password'}\n            label=\"Password\"\n            {...getFieldProps('password')}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton edge=\"end\" onClick={() => setShowPassword((prev) => !prev)}>\n                    <Iconify icon={showPassword ? 'eva:eye-fill' : 'eva:eye-off-fill'} />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n            error={Boolean(touched.password && errors.password)}\n            helperText={touched.password && errors.password}\n          />\n\n          <LoadingButton fullWidth size=\"large\" type=\"submit\" variant=\"contained\" loading={isSubmitting}>\n            Register\n          </LoadingButton>\n        </Stack>\n      </Form>\n    </FormikProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}