{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/Cdss apps/Final version/admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useRef,useEffect}from'react';import{useSnackbar}from'notistack';// @mui\nimport{OutlinedInput,Paper,Button,ClickAwayListener}from'@mui/material';// redux\nimport{useDispatch}from'../../../redux/store';import{createColumn}from'../../../redux/slices/kanban';// components\nimport Iconify from'../../../components/Iconify';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function KanbanColumnAdd(){var nameRef=useRef(null);var dispatch=useDispatch();var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];useEffect(function(){if(open){if(nameRef.current){nameRef.current.focus();}}},[open]);var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleChangeName=function handleChangeName(event){setName(event.target.value);};var handleCreateColumn=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{if(name){dispatch(createColumn({name:name}));enqueueSnackbar('Create section success',{variant:'success'});setName('');}handleClose();}catch(error){console.error(error);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleCreateColumn(){return _ref.apply(this,arguments);};}();var handleKeyUp=function handleKeyUp(event){if(event.key==='Enter'){handleCreateColumn();}};return/*#__PURE__*/_jsxs(Paper,{sx:{minWidth:280,width:280},children:[!open&&/*#__PURE__*/_jsx(Button,{fullWidth:true,size:\"large\",color:\"inherit\",variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Iconify,{icon:'eva:plus-fill',width:20,height:20}),onClick:handleOpen,children:\"Add section\"}),open&&/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleCreateColumn,children:/*#__PURE__*/_jsx(OutlinedInput,{fullWidth:true,placeholder:\"New section\",inputRef:nameRef,value:name,onChange:handleChangeName,onKeyUp:handleKeyUp,sx:{typography:'h6'}})})]});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/sections/@dashboard/kanban/KanbanColumnAdd.js"],"names":["useState","useRef","useEffect","useSnackbar","OutlinedInput","Paper","Button","ClickAwayListener","useDispatch","createColumn","Iconify","KanbanColumnAdd","nameRef","dispatch","enqueueSnackbar","name","setName","open","setOpen","current","focus","handleOpen","handleClose","handleChangeName","event","target","value","handleCreateColumn","variant","error","console","handleKeyUp","key","minWidth","width","typography"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport { useSnackbar } from 'notistack';\n// @mui\nimport { OutlinedInput, Paper, Button, ClickAwayListener } from '@mui/material';\n// redux\nimport { useDispatch } from '../../../redux/store';\nimport { createColumn } from '../../../redux/slices/kanban';\n// components\nimport Iconify from '../../../components/Iconify';\n\n// ----------------------------------------------------------------------\n\nexport default function KanbanColumnAdd() {\n  const nameRef = useRef(null);\n  const dispatch = useDispatch();\n  const { enqueueSnackbar } = useSnackbar();\n  const [name, setName] = useState('');\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (open) {\n      if (nameRef.current) {\n        nameRef.current.focus();\n      }\n    }\n  }, [open]);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChangeName = (event) => {\n    setName(event.target.value);\n  };\n\n  const handleCreateColumn = async () => {\n    try {\n      if (name) {\n        dispatch(createColumn({ name }));\n        enqueueSnackbar('Create section success', { variant: 'success' });\n        setName('');\n      }\n      handleClose();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleCreateColumn();\n    }\n  };\n\n  return (\n    <Paper sx={{ minWidth: 280, width: 280 }}>\n      {!open && (\n        <Button\n          fullWidth\n          size=\"large\"\n          color=\"inherit\"\n          variant=\"outlined\"\n          startIcon={<Iconify icon={'eva:plus-fill'} width={20} height={20} />}\n          onClick={handleOpen}\n        >\n          Add section\n        </Button>\n      )}\n\n      {open && (\n        <ClickAwayListener onClickAway={handleCreateColumn}>\n          <OutlinedInput\n            fullWidth\n            placeholder=\"New section\"\n            inputRef={nameRef}\n            value={name}\n            onChange={handleChangeName}\n            onKeyUp={handleKeyUp}\n            sx={{ typography: 'h6' }}\n          />\n        </ClickAwayListener>\n      )}\n    </Paper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}