{"ast":null,"code":"import{useEffect}from'react';// @mui\nimport{styled}from'@mui/material/styles';import{Box,Grid,Step,Stepper,Container,StepLabel,StepConnector}from'@mui/material';// redux\nimport{useDispatch,useSelector}from'../../redux/store';import{getCart,createBilling}from'../../redux/slices/product';// routes\nimport{PATH_DASHBOARD}from'../../routes/paths';// hooks\nimport useIsMountedRef from'../../hooks/useIsMountedRef';import useSettings from'../../hooks/useSettings';// components\nimport Page from'../../components/Page';import Iconify from'../../components/Iconify';import HeaderBreadcrumbs from'../../components/HeaderBreadcrumbs';// sections\nimport{CheckoutCart,CheckoutPayment,CheckoutOrderComplete,CheckoutBillingAddress}from'../../sections/@dashboard/e-commerce/checkout';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var STEPS=['Cart','Billing & address','Payment'];var QontoConnector=styled(StepConnector)(function(_ref){var theme=_ref.theme;return{top:10,left:'calc(-50% + 20px)',right:'calc(50% + 20px)','& .MuiStepConnector-line':{borderTopWidth:2,borderColor:theme.palette.divider},'&.Mui-active, &.Mui-completed':{'& .MuiStepConnector-line':{borderColor:theme.palette.primary.main}}};});function QontoStepIcon(_ref2){var active=_ref2.active,completed=_ref2.completed;return/*#__PURE__*/_jsx(Box,{sx:{zIndex:9,width:24,height:24,display:'flex',alignItems:'center',justifyContent:'center',color:active?'primary.main':'text.disabled'},children:completed?/*#__PURE__*/_jsx(Iconify,{icon:'eva:checkmark-fill',sx:{zIndex:1,width:20,height:20,color:'primary.main'}}):/*#__PURE__*/_jsx(Box,{sx:{width:8,height:8,borderRadius:'50%',backgroundColor:'currentColor'}})});}export default function EcommerceCheckout(){var _useSettings=useSettings(),themeStretch=_useSettings.themeStretch;var dispatch=useDispatch();var isMountedRef=useIsMountedRef();var _useSelector=useSelector(function(state){return state.product;}),checkout=_useSelector.checkout;var cart=checkout.cart,billing=checkout.billing,activeStep=checkout.activeStep;var isComplete=activeStep===STEPS.length;useEffect(function(){if(isMountedRef.current){dispatch(getCart(cart));}},[dispatch,isMountedRef,cart]);useEffect(function(){if(activeStep===1){dispatch(createBilling(null));}},[dispatch,activeStep]);return/*#__PURE__*/_jsx(Page,{title:\"Ecommerce: Checkout\",children:/*#__PURE__*/_jsxs(Container,{maxWidth:themeStretch?false:'lg',children:[/*#__PURE__*/_jsx(HeaderBreadcrumbs,{heading:\"Checkout\",links:[{name:'Dashboard',href:PATH_DASHBOARD.root},{name:'E-Commerce',href:PATH_DASHBOARD.classes.root},{name:'Checkout'}]}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:isComplete?'center':'flex-start',children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,sx:{mb:5},children:/*#__PURE__*/_jsx(Stepper,{alternativeLabel:true,activeStep:activeStep,connector:/*#__PURE__*/_jsx(QontoConnector,{}),children:STEPS.map(function(label){return/*#__PURE__*/_jsx(Step,{children:/*#__PURE__*/_jsx(StepLabel,{StepIconComponent:QontoStepIcon,sx:{'& .MuiStepLabel-label':{typography:'subtitle2',color:'text.disabled'}},children:label})},label);})})})}),!isComplete?/*#__PURE__*/_jsxs(_Fragment,{children:[activeStep===0&&/*#__PURE__*/_jsx(CheckoutCart,{}),activeStep===1&&/*#__PURE__*/_jsx(CheckoutBillingAddress,{}),activeStep===2&&billing&&/*#__PURE__*/_jsx(CheckoutPayment,{})]}):/*#__PURE__*/_jsx(CheckoutOrderComplete,{open:isComplete})]})});}","map":{"version":3,"sources":["D:/Projects/Cdss apps/Final version/admin/src/pages/dashboard/EcommerceCheckout.js"],"names":["useEffect","styled","Box","Grid","Step","Stepper","Container","StepLabel","StepConnector","useDispatch","useSelector","getCart","createBilling","PATH_DASHBOARD","useIsMountedRef","useSettings","Page","Iconify","HeaderBreadcrumbs","CheckoutCart","CheckoutPayment","CheckoutOrderComplete","CheckoutBillingAddress","STEPS","QontoConnector","theme","top","left","right","borderTopWidth","borderColor","palette","divider","primary","main","QontoStepIcon","active","completed","zIndex","width","height","display","alignItems","justifyContent","color","borderRadius","backgroundColor","EcommerceCheckout","themeStretch","dispatch","isMountedRef","state","product","checkout","cart","billing","activeStep","isComplete","length","current","name","href","root","classes","mb","map","label","typography"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Box, Grid, Step, Stepper, Container, StepLabel, StepConnector } from '@mui/material';\n// redux\nimport { useDispatch, useSelector } from '../../redux/store';\nimport { getCart, createBilling } from '../../redux/slices/product';\n// routes\nimport { PATH_DASHBOARD } from '../../routes/paths';\n// hooks\nimport useIsMountedRef from '../../hooks/useIsMountedRef';\nimport useSettings from '../../hooks/useSettings';\n// components\nimport Page from '../../components/Page';\nimport Iconify from '../../components/Iconify';\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\n// sections\nimport {\n  CheckoutCart,\n  CheckoutPayment,\n  CheckoutOrderComplete,\n  CheckoutBillingAddress,\n} from '../../sections/@dashboard/e-commerce/checkout';\n\n// ----------------------------------------------------------------------\n\nconst STEPS = ['Cart', 'Billing & address', 'Payment'];\n\nconst QontoConnector = styled(StepConnector)(({ theme }) => ({\n  top: 10,\n  left: 'calc(-50% + 20px)',\n  right: 'calc(50% + 20px)',\n  '& .MuiStepConnector-line': {\n    borderTopWidth: 2,\n    borderColor: theme.palette.divider,\n  },\n  '&.Mui-active, &.Mui-completed': {\n    '& .MuiStepConnector-line': {\n      borderColor: theme.palette.primary.main,\n    },\n  },\n}));\n\nQontoStepIcon.propTypes = {\n  active: PropTypes.bool,\n  completed: PropTypes.bool,\n};\n\nfunction QontoStepIcon({ active, completed }) {\n  return (\n    <Box\n      sx={{\n        zIndex: 9,\n        width: 24,\n        height: 24,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: active ? 'primary.main' : 'text.disabled',\n      }}\n    >\n      {completed ? (\n        <Iconify icon={'eva:checkmark-fill'} sx={{ zIndex: 1, width: 20, height: 20, color: 'primary.main' }} />\n      ) : (\n        <Box\n          sx={{\n            width: 8,\n            height: 8,\n            borderRadius: '50%',\n            backgroundColor: 'currentColor',\n          }}\n        />\n      )}\n    </Box>\n  );\n}\n\nexport default function EcommerceCheckout() {\n  const { themeStretch } = useSettings();\n  const dispatch = useDispatch();\n  const isMountedRef = useIsMountedRef();\n  const { checkout } = useSelector((state) => state.product);\n  const { cart, billing, activeStep } = checkout;\n  const isComplete = activeStep === STEPS.length;\n\n  useEffect(() => {\n    if (isMountedRef.current) {\n      dispatch(getCart(cart));\n    }\n  }, [dispatch, isMountedRef, cart]);\n\n  useEffect(() => {\n    if (activeStep === 1) {\n      dispatch(createBilling(null));\n    }\n  }, [dispatch, activeStep]);\n\n  return (\n    <Page title=\"Ecommerce: Checkout\">\n      <Container maxWidth={themeStretch ? false : 'lg'}>\n        <HeaderBreadcrumbs\n          heading=\"Checkout\"\n          links={[\n            { name: 'Dashboard', href: PATH_DASHBOARD.root },\n            {\n              name: 'E-Commerce',\n              href: PATH_DASHBOARD.classes.root,\n            },\n            { name: 'Checkout' },\n          ]}\n        />\n\n        <Grid container justifyContent={isComplete ? 'center' : 'flex-start'}>\n          <Grid item xs={12} md={8} sx={{ mb: 5 }}>\n            <Stepper alternativeLabel activeStep={activeStep} connector={<QontoConnector />}>\n              {STEPS.map((label) => (\n                <Step key={label}>\n                  <StepLabel\n                    StepIconComponent={QontoStepIcon}\n                    sx={{\n                      '& .MuiStepLabel-label': {\n                        typography: 'subtitle2',\n                        color: 'text.disabled',\n                      },\n                    }}\n                  >\n                    {label}\n                  </StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n          </Grid>\n        </Grid>\n\n        {!isComplete ? (\n          <>\n            {activeStep === 0 && <CheckoutCart />}\n            {activeStep === 1 && <CheckoutBillingAddress />}\n            {activeStep === 2 && billing && <CheckoutPayment />}\n          </>\n        ) : (\n          <CheckoutOrderComplete open={isComplete} />\n        )}\n      </Container>\n    </Page>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}